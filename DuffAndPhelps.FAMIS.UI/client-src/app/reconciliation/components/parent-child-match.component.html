<ng-template #content let-c="close" let-d="dismiss">
  <div *ngIf="isConfirmOpen">
      <confirm 
      (isConfirmed)="onConfirmed($event)" 
      [confirmationMessage]="confirmMessage" 
      [confirmHeading]="confirmHeader">
    </confirm>
  </div>
  <div *ngIf="!isConfirmOpen">

        <form (ngSubmit)="onSubmit(parentChildMatch)" #createMatchCodeForm="ngForm">
      
          <div class="modal-body">
            <div class="form-group">
              <ngb-alert type="danger" [dismissible]="false" *ngIf="showSelectParentAlert"> {{ i18n.reconciliation + 'You must select a parent' | dynamicTranslate}}.</ngb-alert>
              <ngb-alert type="danger" [dismissible]="false" *ngIf="showMatchedChildAssigned">{{ i18n.reconciliation + 'parentchildmatched' | dynamicTranslate }}</ngb-alert>
            </div>
            <div class="form-group">
              <div>{{i18n.reconciliation + 'Select parent item' | dynamicTranslate }}:
                <br> </div>
            </div>
            <div class="form-group">
              <kendo-grid [resizable]="true" [data]="assetsGridData" *ngIf="assetsGridData.length > 0" [height]="240" [selectable]="true" [kendoGridSelectBy]="'assetId'"
                [filter]="filter" #grid>
                <kendo-grid-column field="assetId" title="Asset" width="50" [hidden]="true">
                </kendo-grid-column>
                <kendo-grid-column field="isParent" title="Parent" width="40" class="parent-child-action-cell">
                  <ng-template kendoGridCellTemplate let-dataItem let-idx="rowIndex">
                    <input type="radio" name="selectedParent" [checked]="dataItem.isParent || parentAssetId === dataItem.assetId" (change)="selectParent(idx)" />
                  </ng-template>
                </kendo-grid-column>
                <kendo-grid-column field="assetTagNumber" title="{{i18n.reconciliation + 'Asset' | dynamicTranslate }}" width="75">
                </kendo-grid-column>
                <kendo-grid-column field="description" title="{{i18n.reconciliation + 'Description' | dynamicTranslate }}" width="200">
                </kendo-grid-column>
                <kendo-grid-column field="oldTagNumber" title="{{i18n.reconciliation + 'Tag' | dynamicTranslate }}" width="75">
                </kendo-grid-column>
                <kendo-grid-column field="historicalCost" title="{{i18n.reconciliation + 'Cost' | dynamicTranslate }}" width="75">
                </kendo-grid-column>
                <kendo-grid-column width="100" class="parent-child-action-cell">
                  <ng-template kendoGridCellTemplate let-idx="rowIndex">
                    <a class="nav-link" href="#" (click)="onUnrelateRow(idx, $event, grid)">{{ i18n.reconciliation + 'Unrelate' | dynamicTranslate}} </a>
                  </ng-template>
                </kendo-grid-column>
              </kendo-grid>
            </div>
      
            <div class="form-group" *ngIf="isEdit">
              <a class="nav-link" style="text-align: center;" href="#" (click)="onUnrelateAllItems($event)">{{ i18n.reconciliation + 'Unrelate All Items' | dynamicTranslate}} </a>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="cancel()">{{ i18n.reconciliation + 'Cancel' | dynamicTranslate}} </button>
            <button type="submit" class="btn btn-primary">{{ i18n.reconciliation + saveText | dynamicTranslate}}</button>
          </div>
        </form>
  </div>
</ng-template>