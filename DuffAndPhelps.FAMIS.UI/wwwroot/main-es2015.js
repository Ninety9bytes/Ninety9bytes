(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./client-src/$$_lazy_route_resource lazy recursive":
/*!*****************************************************************!*\
  !*** ./client-src/$$_lazy_route_resource lazy namespace object ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./client-src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./client-src/app/_api/_authorization/services/account-api.service.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/_api/_authorization/services/account-api.service.ts ***!
  \****************************************************************************/
/*! exports provided: AccountApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountApiService", function() { return AccountApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");





let AccountApiService = class AccountApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.authorizationApiEndpoint = this.configService.getSettings('authorizationApiEndpoint');
    }
    read() {
        return this.apiService.get(`${this.authorizationApiEndpoint}/api/Account`);
    }
};
AccountApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] }
];
AccountApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]])
], AccountApiService);



/***/ }),

/***/ "./client-src/app/_api/_authorization/services/authorization-api.service.ts":
/*!**********************************************************************************!*\
  !*** ./client-src/app/_api/_authorization/services/authorization-api.service.ts ***!
  \**********************************************************************************/
/*! exports provided: AuthorizationApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizationApiService", function() { return AuthorizationApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let AuthorizationApiService = class AuthorizationApiService {
    constructor(configService, apiService) {
        this.configService = configService;
        this.apiService = apiService;
        this.authorizationApiEndpoint = this.configService.getSettings('authorizationApiEndpoint');
    }
    read() {
        const result = this.apiService.get(`${this.authorizationApiEndpoint}/Authorization`);
        return result.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])((data) => {
            const authorization = {
                Roles: [],
                HasSubscription: false,
                SubscriptionId: null
            };
            for (const row of data) {
                if (row.indexOf('http://schemas.microsoft.com/ws/2008/06/identity/claims/role') > -1) {
                    authorization.Roles.push(row.split(' : ')[1]);
                }
                else if (row.indexOf('DuffAndPhelps.HasSubscription') > -1) {
                    authorization.HasSubscription = row.split(' : ')[1] === 'True';
                }
                else if (row.indexOf('DuffAndPhelps.Subscriptions') > -1) {
                    authorization.SubscriptionId = row.split(' : ')[1];
                }
            }
            return authorization;
        }));
    }
};
AuthorizationApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
AuthorizationApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], AuthorizationApiService);



/***/ }),

/***/ "./client-src/app/_api/_configuration/enums/filterSource.enum.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_api/_configuration/enums/filterSource.enum.ts ***!
  \***********************************************************************/
/*! exports provided: FilterSourceEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterSourceEnum", function() { return FilterSourceEnum; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var FilterSourceEnum;
(function (FilterSourceEnum) {
    FilterSourceEnum["QualityControlGrid"] = "QualityControlGrid";
})(FilterSourceEnum || (FilterSourceEnum = {}));


/***/ }),

/***/ "./client-src/app/_api/_configuration/services/countries-api.service.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/_api/_configuration/services/countries-api.service.ts ***!
  \******************************************************************************/
/*! exports provided: CountriesApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CountriesApiService", function() { return CountriesApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");





let CountriesApiService = class CountriesApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.configApiEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getCountryLanguage(countryCode) {
        return this.apiService.get(`${this.configApiEndpoint}/Countries/CountryLanguage?countryCode=${countryCode}`);
    }
};
CountriesApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] }
];
CountriesApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]])
], CountriesApiService);



/***/ }),

/***/ "./client-src/app/_api/_configuration/services/data-processing-api.service.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/_api/_configuration/services/data-processing-api.service.ts ***!
  \************************************************************************************/
/*! exports provided: DataProcessingApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataProcessingApiService", function() { return DataProcessingApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");







let DataProcessingApiService = class DataProcessingApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getTrending() {
        return this.apiService.get(`${this.runtimeEndpoint}/DataProcessing/trending`);
    }
    getTrendingById(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/DataProcessing/trending/${id}`);
    }
    searchTrending(query) {
        if (query === '') {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }
        return this.apiService.get(`${this.runtimeEndpoint}/DataProcessing/trending/search?query=${query}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response));
    }
};
DataProcessingApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"] }
];
DataProcessingApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"]])
], DataProcessingApiService);



/***/ }),

/***/ "./client-src/app/_api/_configuration/services/import-templates-api.service.ts":
/*!*************************************************************************************!*\
  !*** ./client-src/app/_api/_configuration/services/import-templates-api.service.ts ***!
  \*************************************************************************************/
/*! exports provided: ImportTemplatesApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportTemplatesApiService", function() { return ImportTemplatesApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let ImportTemplatesApiService = class ImportTemplatesApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.configEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    // TODO: Implement ot copy-over remaining service methods
    // GET /api/ImportTemplates/{id} // TODO Fix Any Type
    getImportTemplatesById(id) {
        return this.apiService.get(`${this.configEndpoint}/ImportTemplates/${id}`, null, true);
    }
};
ImportTemplatesApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
ImportTemplatesApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], ImportTemplatesApiService);



/***/ }),

/***/ "./client-src/app/_api/_configuration/services/modules-api.service.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/_api/_configuration/services/modules-api.service.ts ***!
  \****************************************************************************/
/*! exports provided: ModulesApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModulesApiService", function() { return ModulesApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let ModulesApiService = class ModulesApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.apiEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    // TODO: Implement ot copy-over remaining service methods
    // GET /api/Modules/{moduleId}
    // GET /api/Modules
    getAll() {
        return this.apiService.get(`${this.apiEndpoint}/Modules`);
    }
};
ModulesApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
ModulesApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], ModulesApiService);



/***/ }),

/***/ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/_api/_configuration/services/reference-data-api.service.ts ***!
  \***********************************************************************************/
/*! exports provided: ReferenceDataApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceDataApiService", function() { return ReferenceDataApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let ReferenceDataApiService = class ReferenceDataApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.configEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getDepreciationMethods(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/DepreciationMethod?onlyEnabled=${onlyEnabled}`);
    }
    getDepreciationConventions(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/DepreciationConvention?onlyEnabled=${onlyEnabled}`);
    }
    GetRoundingTypes(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/RoundingType?onlyEnabled=${onlyEnabled}`);
    }
    getActivityCodes(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/ActivityCode?onlyEnabled=${onlyEnabled}`, null, true);
    }
    getAttributeType(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/AttributeType?onlyEnabled=${onlyEnabled}`);
    }
    getAttributeCodes(attributeTypeId) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/AtrributeCode/${attributeTypeId}`);
    }
    getAttributeTypesAndCodes(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/AttributeTypesAndCodes?onlyEnabled=${onlyEnabled}`);
    }
    getContentCodes() {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/ContentCode`);
    }
    getBuildingValuationErrorTypes(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/BuildingValuationError?onlyEnabled=${onlyEnabled}`);
    }
    getFloodPlainValuationErrorTypes(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/FloodPlainValuationError?onlyEnabled=${onlyEnabled}`);
    }
    getBuildingConditions(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/BuildingCondition?onlyEnabled=${onlyEnabled}`);
    }
    getBuildingAdditionGroups(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/ReferenceBuildingAdditionGroup`);
    }
    getBuildingPerimeterAdjustmentMethod(onlyEnabled = true) {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/BuildingPerimeterAdjustmentMethod`);
    }
    getEntryAlarmOptions() {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/EntryAlarmOptions`);
    }
    getUnitsOfMeasure() {
        return this.apiService.get(`${this.configEndpoint}/ReferenceData/UnitsOfMeasure`);
    }
};
ReferenceDataApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
ReferenceDataApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], ReferenceDataApiService);



/***/ }),

/***/ "./client-src/app/_api/_configuration/services/templates-api.service.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/_api/_configuration/services/templates-api.service.ts ***!
  \******************************************************************************/
/*! exports provided: TemplatesApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplatesApiService", function() { return TemplatesApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");







let TemplatesApiService = class TemplatesApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.configEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    // GET /api/Templates/Group/{groupId}
    getTemplateById(templateId) {
        return this.apiService.get(`${this.configEndpoint}/Templates/${templateId}`);
    }
    // DELETE /api/Templates/{templateId}
    // GET /api/Templates/{templateId}
    GetTemplateForGroup(groupId) {
        return this.apiService.get(`${this.configEndpoint}/Templates/Group/${groupId}`);
    }
    //TODO: Implement ot copy-over remaining service methods
    // GET /api/Templates/MasterTemplates
    // POST /api/Templates/Group
    // PATCH /api/Templates/{templateId}/retire
    // GET /api/Templates/search
    searchTemplate(query) {
        if (query === '') {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }
        return this.apiService.get(`${this.configEndpoint}/Templates/search?query=${query}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response));
    }
};
TemplatesApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"] }
];
TemplatesApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"]])
], TemplatesApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/activity-code.ts":
/*!*************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/activity-code.ts ***!
  \*************************************************************/
/*! exports provided: ActivityCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityCode", function() { return ActivityCode; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ActivityCode;
(function (ActivityCode) {
    ActivityCode[ActivityCode["New"] = 0] = "New";
    ActivityCode[ActivityCode["Active"] = 1] = "Active";
    ActivityCode[ActivityCode["Deactivated"] = 2] = "Deactivated";
    ActivityCode[ActivityCode["Retired"] = 3] = "Retired";
})(ActivityCode || (ActivityCode = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/advanced-math-operator.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/advanced-math-operator.ts ***!
  \**********************************************************************/
/*! exports provided: AdvancedMathOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdvancedMathOperator", function() { return AdvancedMathOperator; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var AdvancedMathOperator;
(function (AdvancedMathOperator) {
    AdvancedMathOperator[AdvancedMathOperator["Multiply"] = 0] = "Multiply";
    AdvancedMathOperator[AdvancedMathOperator["Divide"] = 1] = "Divide";
    AdvancedMathOperator[AdvancedMathOperator["Subtract"] = 2] = "Subtract";
    AdvancedMathOperator[AdvancedMathOperator["Add"] = 3] = "Add";
    AdvancedMathOperator[AdvancedMathOperator["Noop"] = 4] = "Noop";
})(AdvancedMathOperator || (AdvancedMathOperator = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/advanced-math-type.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/advanced-math-type.ts ***!
  \******************************************************************/
/*! exports provided: AdvancedMathType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdvancedMathType", function() { return AdvancedMathType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var AdvancedMathType;
(function (AdvancedMathType) {
    AdvancedMathType[AdvancedMathType["Constant"] = 0] = "Constant";
    AdvancedMathType[AdvancedMathType["Field"] = 1] = "Field";
    AdvancedMathType[AdvancedMathType["Compound"] = 2] = "Compound";
})(AdvancedMathType || (AdvancedMathType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/building-condition.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/building-condition.ts ***!
  \******************************************************************/
/*! exports provided: BuildingCondition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingCondition", function() { return BuildingCondition; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var BuildingCondition;
(function (BuildingCondition) {
    BuildingCondition[BuildingCondition["Excellent"] = 1] = "Excellent";
    BuildingCondition[BuildingCondition["Good"] = 2] = "Good";
    BuildingCondition[BuildingCondition["Average"] = 3] = "Average";
    BuildingCondition[BuildingCondition["Fair"] = 4] = "Fair";
    BuildingCondition[BuildingCondition["Poor"] = 5] = "Poor";
    BuildingCondition[BuildingCondition["Dilapidated"] = 6] = "Dilapidated";
    BuildingCondition[BuildingCondition["NA"] = 7] = "NA";
})(BuildingCondition || (BuildingCondition = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/disposal-code.ts":
/*!*************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/disposal-code.ts ***!
  \*************************************************************/
/*! exports provided: DisposalCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DisposalCode", function() { return DisposalCode; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var DisposalCode;
(function (DisposalCode) {
    DisposalCode[DisposalCode["Scrapped"] = 0] = "Scrapped";
    DisposalCode[DisposalCode["Sold"] = 1] = "Sold";
    DisposalCode[DisposalCode["TradedIn"] = 2] = "TradedIn";
    DisposalCode[DisposalCode["PostAudit"] = 3] = "PostAudit";
})(DisposalCode || (DisposalCode = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/entry-alarm.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/entry-alarm.ts ***!
  \***********************************************************/
/*! exports provided: EntryAlarm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntryAlarm", function() { return EntryAlarm; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var EntryAlarm;
(function (EntryAlarm) {
    EntryAlarm[EntryAlarm["Yes"] = 1] = "Yes";
    EntryAlarm[EntryAlarm["No"] = 2] = "No";
    EntryAlarm[EntryAlarm["Partial"] = 3] = "Partial";
})(EntryAlarm || (EntryAlarm = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/field-type.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/field-type.ts ***!
  \**********************************************************/
/*! exports provided: FieldType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldType", function() { return FieldType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var FieldType;
(function (FieldType) {
    FieldType[FieldType["String"] = 0] = "String";
    FieldType[FieldType["Integer"] = 1] = "Integer";
    FieldType[FieldType["Double"] = 2] = "Double";
    FieldType[FieldType["Boolean"] = 3] = "Boolean";
    FieldType[FieldType["DateTime"] = 4] = "DateTime";
    FieldType[FieldType["Image"] = 5] = "Image";
    FieldType[FieldType["MultiValue"] = 6] = "MultiValue";
})(FieldType || (FieldType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/image-entity-type.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/image-entity-type.ts ***!
  \*****************************************************************/
/*! exports provided: ImageEntityType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageEntityType", function() { return ImageEntityType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ImageEntityType;
(function (ImageEntityType) {
    ImageEntityType[ImageEntityType["Asset"] = 0] = "Asset";
    ImageEntityType[ImageEntityType["Building"] = 1] = "Building";
})(ImageEntityType || (ImageEntityType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/perimeter-adjustment-method.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/perimeter-adjustment-method.ts ***!
  \***************************************************************************/
/*! exports provided: PerimeterAdjustmentMethod */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PerimeterAdjustmentMethod", function() { return PerimeterAdjustmentMethod; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var PerimeterAdjustmentMethod;
(function (PerimeterAdjustmentMethod) {
    PerimeterAdjustmentMethod[PerimeterAdjustmentMethod["None"] = 0] = "None";
    PerimeterAdjustmentMethod[PerimeterAdjustmentMethod["Calculated"] = 1] = "Calculated";
    PerimeterAdjustmentMethod[PerimeterAdjustmentMethod["IrregularShape"] = 2] = "IrregularShape";
    PerimeterAdjustmentMethod[PerimeterAdjustmentMethod["VeryIrregularShape"] = 3] = "VeryIrregularShape";
})(PerimeterAdjustmentMethod || (PerimeterAdjustmentMethod = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/recipient-deliverable.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/recipient-deliverable.ts ***!
  \*********************************************************************/
/*! exports provided: Deliverable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Deliverable", function() { return Deliverable; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var Deliverable;
(function (Deliverable) {
    Deliverable[Deliverable["Portal"] = 0] = "Portal";
    Deliverable[Deliverable["HardCopy"] = 1] = "HardCopy";
})(Deliverable || (Deliverable = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/record-type.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/record-type.ts ***!
  \***********************************************************/
/*! exports provided: RecordType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecordType", function() { return RecordType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var RecordType;
(function (RecordType) {
    RecordType[RecordType["Building"] = 0] = "Building";
    RecordType[RecordType["MinorBuilding"] = 1] = "MinorBuilding";
    RecordType[RecordType["LandImprovement"] = 2] = "LandImprovement";
})(RecordType || (RecordType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/report-type.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/report-type.ts ***!
  \***********************************************************/
/*! exports provided: ReportType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportType", function() { return ReportType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ReportType;
(function (ReportType) {
    ReportType[ReportType["PowerBi"] = 0] = "PowerBi";
    ReportType[ReportType["SSRS"] = 1] = "SSRS";
    ReportType[ReportType["PowerBiDashboard"] = 2] = "PowerBiDashboard";
})(ReportType || (ReportType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/transaction-applicability.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/transaction-applicability.ts ***!
  \*************************************************************************/
/*! exports provided: TransactionApplicability */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionApplicability", function() { return TransactionApplicability; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var TransactionApplicability;
(function (TransactionApplicability) {
    TransactionApplicability[TransactionApplicability["Full"] = 0] = "Full";
    TransactionApplicability[TransactionApplicability["Partial"] = 1] = "Partial";
})(TransactionApplicability || (TransactionApplicability = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/transaction-type.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/transaction-type.ts ***!
  \****************************************************************/
/*! exports provided: TransactionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionType", function() { return TransactionType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var TransactionType;
(function (TransactionType) {
    TransactionType[TransactionType["Transfer"] = 0] = "Transfer";
    TransactionType[TransactionType["Retirement"] = 1] = "Retirement";
    TransactionType[TransactionType["Adjustment"] = 2] = "Adjustment";
})(TransactionType || (TransactionType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/transaction-validation-status.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/transaction-validation-status.ts ***!
  \*****************************************************************************/
/*! exports provided: TransactionValidationStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionValidationStatus", function() { return TransactionValidationStatus; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var TransactionValidationStatus;
(function (TransactionValidationStatus) {
    TransactionValidationStatus[TransactionValidationStatus["NoErrors"] = 0] = "NoErrors";
    TransactionValidationStatus[TransactionValidationStatus["NegativeCostOrAccumulation"] = 1] = "NegativeCostOrAccumulation";
    TransactionValidationStatus[TransactionValidationStatus["DepGtCost"] = 2] = "DepGtCost";
    TransactionValidationStatus[TransactionValidationStatus["InvalidFiscalYearEnd"] = 3] = "InvalidFiscalYearEnd";
    TransactionValidationStatus[TransactionValidationStatus["HistCostOrAccumDeprCannotBeZero"] = 4] = "HistCostOrAccumDeprCannotBeZero";
})(TransactionValidationStatus || (TransactionValidationStatus = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/unit-of-measure.ts":
/*!***************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/unit-of-measure.ts ***!
  \***************************************************************/
/*! exports provided: UnitOfMeasure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnitOfMeasure", function() { return UnitOfMeasure; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var UnitOfMeasure;
(function (UnitOfMeasure) {
    UnitOfMeasure[UnitOfMeasure["Meters"] = 1] = "Meters";
    UnitOfMeasure[UnitOfMeasure["Feet"] = 2] = "Feet";
})(UnitOfMeasure || (UnitOfMeasure = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/enums/upload-type-enum.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_api/_runtime/enums/upload-type-enum.ts ***!
  \****************************************************************/
/*! exports provided: UploadFileType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadFileType", function() { return UploadFileType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var UploadFileType;
(function (UploadFileType) {
    UploadFileType[UploadFileType["ClientUpload"] = 0] = "ClientUpload";
    UploadFileType[UploadFileType["FinalizedDocument"] = 1] = "FinalizedDocument";
    UploadFileType[UploadFileType["ValuationReport"] = 2] = "ValuationReport";
    UploadFileType[UploadFileType["FloodPlainReport"] = 3] = "FloodPlainReport";
})(UploadFileType || (UploadFileType = {}));


/***/ }),

/***/ "./client-src/app/_api/_runtime/services/calculation-api.service.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/calculation-api.service.ts ***!
  \**************************************************************************/
/*! exports provided: CalculationApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculationApiService", function() { return CalculationApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let CalculationApiService = class CalculationApiService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    Calculate(leftTerm, rightTerm, operator) {
        return this.apiService.
            get(`${this.runtimeEndpoint}/QualityControl/Calculate?leftTerm=${leftTerm}&rightTerm=${rightTerm}&op=${operator}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response.result));
    }
    Prorate(leftNumerator, leftDenominator, rightNumerator) {
        return this.apiService.
            get(`${this.runtimeEndpoint}/QualityControl/Prorate?leftNumerator=${leftNumerator}&leftDenominator=${leftDenominator}` +
            `&rightNumerator=${rightNumerator}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response.result));
    }
    Allocate(value, numberOfItems) {
        return this.apiService.get(`${this.runtimeEndpoint}/QualityControl/Allocate?value=${value}&numberOfItems=${numberOfItems}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response.result));
    }
};
CalculationApiService.ctorParameters = () => [
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_3__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
CalculationApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_api_service__WEBPACK_IMPORTED_MODULE_3__["ApiService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], CalculationApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/client-api.service.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/client-api.service.ts ***!
  \*********************************************************************/
/*! exports provided: ClientApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientApiService", function() { return ClientApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");




let ClientApiService = class ClientApiService {
    constructor(configService, apiService) {
        this.configService = configService;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // GET /api/client
    getClients() {
        return this.apiService.get(`${this.runtimeEndpoint}/client`);
    }
    // GET /api/client/{clientId}/hierarchy
    getHierarchyByClient(clientId) {
        return this.apiService.get(`${this.runtimeEndpoint}/client/${clientId}/hierarchy`);
    }
};
ClientApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_3__["ApiService"] }
];
ClientApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _services_api_service__WEBPACK_IMPORTED_MODULE_3__["ApiService"]])
], ClientApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/client-files-api.service.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/client-files-api.service.ts ***!
  \***************************************************************************/
/*! exports provided: ClientFileApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientFileApiService", function() { return ClientFileApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");





let ClientFileApiService = class ClientFileApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.defaultSortTerms = [
            {
                termOrder: 0,
                sortDirection: 1,
                field: ''
            }
        ];
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    getGroupUplodFiles(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/ClientFiles/Group/${id}`);
    }
    searchGroupUplodFiles(id, searchRequest) {
        return this.apiService.post(`${this.runtimeEndpoint}/ClientFiles/Group/${id}/Search`, searchRequest);
    }
    getGroupFinalizedDocuments(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/ClientFiles/FinalizedDocuments/Group/${id}`);
    }
    getGroupMemberUploadFiles(id, memberId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ClientFiles/Group/${id}/Member/${memberId}`);
    }
    getClientFile(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/ClientFiles/${id}`);
    }
    uploadGroupFile(groupId, file, isInternal, memberId, userId) {
        let url = `${this.runtimeEndpoint}/ClientFiles/Group/${groupId}`;
        if (memberId) {
            url += `/Member/${memberId}`;
        }
        url += `?fileName=${file.name}&isFinalized=true&isInternal=${isInternal}`;
        if (userId) {
            url += `&userId=${userId}`;
        }
        return this.apiService.post(url, null, file);
    }
    deleteFile(id) {
        // This is because the API is not returning a boolean, it has an empty body which is breaking the API service.
        // TODO update API to return a boolean in the message body.
        return this.apiService.delete(`${this.runtimeEndpoint}/ClientFiles/${id}`);
    }
    updateGridData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const defaultFilter = [];
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : defaultFilter,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: take
        };
        return this.searchGroupUplodFiles(groupId, searchRequest);
    }
};
ClientFileApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] }
];
ClientFileApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]])
], ClientFileApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/contract-api.service.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/contract-api.service.ts ***!
  \***********************************************************************/
/*! exports provided: ContractApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContractApiService", function() { return ContractApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");






let ContractApiService = class ContractApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    logGroupandCheckOtherUser(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${id}/ActivityLog`);
    }
    // TODO: Implement ot copy-over remaining service methods
    // GET /api/contract
    // GET /api/contract/{id}
    // GET /api/contract/{contractId}/Groups
    getContractsGroups(id, includePortals = false) {
        return this.apiService.get(`${this.runtimeEndpoint}/contract/${id}/groups?includePortals=${includePortals}`);
    }
    // GET /api/contract/{contractId}/Groups/{groupId}
    getContracts(includePortal) {
        return this.apiService.get(`${this.runtimeEndpoint}/contract?isPortal=${includePortal}`);
    }
    searchContracts(query, excludePortals = false) {
        if (query === '') {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])([]);
        }
        return this.apiService.get(`${this.runtimeEndpoint}/contract/search?query=${query}&excludePortals=${excludePortals}`);
    }
    getContractMetadata() {
        return this.apiService.get(`${this.runtimeEndpoint}/contract/Search/metadata`);
    }
    searchContractGrid(searchDto) {
        return this.apiService.post(`${this.runtimeEndpoint}/contract/Search`, searchDto);
    }
    getContractGroup(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${id}/ContractGroup`);
    }
};
ContractApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"] }
];
ContractApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"]])
], ContractApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/group-api.service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/group-api.service.ts ***!
  \********************************************************************/
/*! exports provided: GroupApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupApiService", function() { return GroupApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");






let GroupApiService = class GroupApiService {
    constructor(configService, apiService) {
        this.configService = configService;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // GET /api/group/{id}/ContractGroup
    getContractGroup(id, includePortal) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${id}/ContractGroup?isPortal=${includePortal}`);
    }
    // GET /api/group
    getGroups() {
        return this.apiService.get(`${this.runtimeEndpoint}/group`);
    }
    // GET /api/group/{id}
    getGroup(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${id}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => res.result));
    }
    searchGroups(query, includeContractSearch) {
        if (query === '') {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])([]);
        }
        let path = `${this.runtimeEndpoint}/group/search`;
        if (includeContractSearch) {
            path += `/contract`;
        }
        const url = path + `?query=${query}`;
        return this.apiService.get(url);
    }
    // TODO: Implement ot copy-over remaining service methods
    // GET /api/group/RelatedToTemplates
    // GET /api/group/{id}/CostField
    // POST /api/group/{id}/CostField
    // GET /api/group/{id}/ContractGroups/InventoryFiles
    // GET /api/group/{id}/ContractGroupTemplate
    getContractGroupTemplate(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${groupId}/ContractGroupTemplates`);
    }
    // POST /api/group
    createGroup(request) {
        return this.apiService.post(`${this.runtimeEndpoint}/group/`, request, null, true);
    }
    // PATCH /api/group
    updateGroup(request) {
        return this.apiService.patch(`${this.runtimeEndpoint}/group/`, request);
    }
    // DELETE /api/group
    deleteGroup(groupId) {
        return this.apiService.delete(`${this.runtimeEndpoint}/group/${groupId}`);
    }
    copyGroups(request, localErrorHandling = false) {
        return this.apiService.post(`${this.runtimeEndpoint}/group/CopyGroups`, request, null, localErrorHandling);
    }
    getGroupSavePoints(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${groupId}/RollbackMilestones`);
    }
    setGroupSavePoint(groupId, description) {
        const url = `${this.runtimeEndpoint}/group/${groupId}/RollbackMilestones?description=${description}`;
        return this.apiService.post(url, null, null).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(results => results));
    }
    restoreToSavePoint(request, localErrorHandling) {
        return this.apiService.post(`${this.runtimeEndpoint}/group/RollbackToSavePoint`, request, null, localErrorHandling);
    }
};
GroupApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] }
];
GroupApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"], _services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]])
], GroupApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/image-api.service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/image-api.service.ts ***!
  \********************************************************************/
/*! exports provided: ImageApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageApiService", function() { return ImageApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let ImageApiService = class ImageApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // POST /api/image/asset/{assetId}
    createAssetImage(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/image/asset/${dto.id}?imageName=${dto.imageName}`, null, dto.file);
    }
    // POST /api/image/building/{buildingId}
    createBuildingImage(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/image/building/${dto.id}?imageName=${dto.imageName}`, null, dto.file);
    }
    // DELETE /api/image/{imageId}
    deleteImage(id) {
        return this.apiService.delete(`${this.runtimeEndpoint}/image/${id}`);
    }
    // GET /api/image/{imageId}
    getImage(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/image/${id}`);
    }
    // PUT /api/image/asset/{assetId}
    updateAssetImages(assetId, imageArr) {
        return this.apiService.put(`${this.runtimeEndpoint}/image/asset/${assetId}`, imageArr);
    }
    // PUT /api/image/building/{buildingId}
    updateBuildingImages(buildingId, imageArr) {
        return this.apiService.put(`${this.runtimeEndpoint}/image/building/${buildingId}`, imageArr);
    }
    // POST /api/image/group/{groupId}
    upsertPortalImage(portalId, imageName, file) {
        return this.apiService.post(`${this.runtimeEndpoint}/image/group/${portalId}?imageName=${imageName}`, null, file);
    }
    // GET /api/image/portal/{groupId}
    getPortalImage(portalId) {
        return this.apiService.get(`${this.runtimeEndpoint}/image/portal/${portalId}`, null, true);
    }
};
ImageApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
ImageApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], ImageApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/insurance-api.service.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/insurance-api.service.ts ***!
  \************************************************************************/
/*! exports provided: InsuranceApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InsuranceApiService", function() { return InsuranceApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");





let InsuranceApiService = class InsuranceApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // POST /api/insurance/groups/{groupId}/buildings
    searchBuildingsByGroup(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/groups/${groupId}/buildings`, searchFilter);
    }
    // POST /api/insurance/site/{siteId}/buildings
    searchBuildingsBySite(siteId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/site/${siteId}/buildings`, searchFilter);
    }
    // POST /api/insurance/building/{groupId}/CreateBuilding
    createBuilding(groupId, buildingDto, handleLocalError) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/building/${groupId}/CreateBuilding`, buildingDto, null, handleLocalError);
    }
    // PATCH /api/insurance/building/{buildingId}
    updateBuilding(id, buildingDto, handleLocalError) {
        return this.apiService.patch(`${this.runtimeEndpoint}/insurance/building/${id}`, buildingDto, handleLocalError);
    }
    // GET /api/insurance/{buildingId}
    getBuilding(buildingId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/${buildingId}`);
    }
    // GET /api/insurance/{groupId}/SearchMetaData
    getBuildingSearchMetadataByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/${groupId}/SearchMetadata`);
    }
    // GET /api/insurance/SearchMetadata
    getBuildingSearchMetadata() {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/SearchMetadata`);
    }
    // GET /api/insurance/group/{groupId}/sites
    getSitesByGroup(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/group/${groupId}/sites`);
    }
    // GET /api/insurance/group/{groupId}/sites
    getBuildingHierarchyByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/group/${groupId}/hierarchy`, null, true);
    }
    // GET /api/insurance/member/{memberId}/sites
    getSitesByMember(memberId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/member/${memberId}/sites`);
    }
    // POST /api/insurance/group/{groupId}/site
    createSiteByGroupId(groupId, request, handleLocalError) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/group/${groupId}/site`, request, null, handleLocalError);
    }
    // DELETE /api/insurance/site/{siteId}
    deleteSiteBySiteId(siteId, handleLocalError) {
        return this.apiService.delete(`${this.runtimeEndpoint}/insurance/site/${siteId}`, handleLocalError);
    }
    // PATCH /api/insurance/site/{siteId}
    updateSiteBySiteId(request, handleLocalError) {
        return this.apiService.patch(`${this.runtimeEndpoint}/insurance/site/${request.id}`, request, handleLocalError);
    }
    // GET /api/insurance/Members/SearchMetadata
    getMembersSearchMetadata() {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/Members/SearchMetadata`);
    }
    // GET /api/insurance/Sites/SearchMetadata
    getSiteSearchMetadata() {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/Sites/SearchMetadata`);
    }
    // POST /api/insurance/groups/{groupId}/members
    searchMemberssByGroup(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/groups/${groupId}/members`, searchFilter);
    }
    // GET /api/insurance/group/{groupId}/members
    getMembersByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/group/${groupId}/members`);
    }
    // POST /api/insurance/groups/{groupId}/sites
    searchSitesByGroup(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/groups/${groupId}/sites`, searchFilter);
    }
    // DELETE /api/insurance/member/{memberId}
    deleteMemberByMemberId(memberId, handleLocalError) {
        return this.apiService.delete(`${this.runtimeEndpoint}/insurance/member/${memberId}`, handleLocalError);
    }
    // PATCH /api/insurance/member/{memberId}
    updateMemberByMemberId(request, handleLocalError) {
        return this.apiService.patch(`${this.runtimeEndpoint}/insurance/member/${request.id}`, request, handleLocalError);
    }
    // POST /api/insurance/group/{groupId}/member
    createMemberByGroupId(groupId, request, handleLocalError) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/group/${groupId}/member`, request, null, handleLocalError);
    }
    // POST /api/insurance/transaction
    createTransaction(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/transaction`, dto, null, true);
    }
    // GET /api/insurance/transaction/{transactionId}/revertsummary
    getRevertSummary(transactionId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/transaction/${transactionId}/revertsummary`);
    }
    // POST /api/insurance/group/{groupId}/transactions
    searchTransactionsByGroupId(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/group/${groupId}/transactions`, searchFilter);
    }
    // POST /api/insurance/transaction/{transactionId}/revert
    revertTransaction(transactionId) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/transaction/${transactionId}/revert`, transactionId, null, true);
    }
    // GET /api/insurance/group/{groupId}/hierarchy
    getGroupHierarchy(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/insurance/group/${groupId}/hierarchy`);
    }
    // POST /api/Insurance/Building/ValuationSubmission
    submitBuildingValuation(buildingIds) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/building/valuationsubmission`, buildingIds);
    }
    // POST /api/Insurance/Building/FloodPlainSubmission
    submitFloodPlainValuation(buildingIds) {
        return this.apiService.post(`${this.runtimeEndpoint}/insurance/building/floodplainsubmission`, buildingIds);
    }
};
InsuranceApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] }
];
InsuranceApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"],
        _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]])
], InsuranceApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/inventory-api.service.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/inventory-api.service.ts ***!
  \************************************************************************/
/*! exports provided: InventoryApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventoryApiService", function() { return InventoryApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");






let InventoryApiService = class InventoryApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // GET /api/Inventory/{groupId}/SearchMetadata/{dataTarget}
    getSearchMetadataByGroupId(groupId, filetype) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${groupId}/SearchMetadata/${filetype}`, null, true);
    }
    search(groupId, searchFilter, file = null, localErrorHandling = true) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets`, searchFilter, file, localErrorHandling);
    }
    // GET /api/Inventory/ConsolidatedFile/Preview/Group/{groupId}
    getConsolidatedFilePreview(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Preview/Group/${groupId}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    getAssetRecord(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${id}`);
    }
    updateAssetRecord(recordId, recordDto) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Inventory/${recordId}`, recordDto);
    }
    // TODO: Implement ot copy-over remaining service methods
    // POST /api/Inventory/AssetFiles/Upload
    // POST /api/Inventory/AssetFiles/Preview
    // PATCH /api/Inventory/AssetFiles/Complete
    // POST /api/Inventory/AssetFiles/{assetFile//Id}/CreateAssetRecord
    // DELETE /api/Inventory/AssetFiles/{assetFi//leId}
    // DELETE /api/Inventory/{groupId}/Assets/{dataTarget}
    // GET /api/Inventory/{groupId}/Assets/{dataTarget}
    // PATCH /api/Inventory/{assetRecordId}
    // POST /api/Inventory/{groupId}/Assets/MassMatch
    // POST /api/Inventory/{groupId}/Assets*///////
    // GET /api/Inventory/SearchMetadata/{dataTarget////}
    // PATCH /api/Inventory/{sourceGroupId}/CopyGroupInventory/{targetGroupId}
    // POST /api/Inventory/AssetFiles/{assetFileId}/CustomColumns
    // GET /api///Inventory/ConsolidatedFile/Group/{groupId}/Mapping
    // PATCH ///api/Inventory/ConsolidatedFile/Group/{groupId}/Mapping
    // GET /api/Inventory/ConsolidatedFile/Group/{groupId}/MatchCodeColumnMap
    // POST /api/Inventory/ConsolidatedFile/Group/{groupId}/MatchCodeColumnMap
    // GET /api/Inventory/ConsolidatedFile/Preview/Group/{groupId}
    // PATCH /api/Inventory/ConsolidatedFile/Create/{groupId}
    // GET /api/Inventory/group/{groupId}/Accounts
    getAccountsByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/group/${groupId}/Accounts`, null, true);
    }
    // POST /api/Inventory/group/{groupId}/Account
    createAccountByGroupId(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/group/${groupId}/Account`, request);
    }
    // DELETE /api/Inventory/Account/{accountId}
    deleteAccountByAccountId(accountId, handleLocalError) {
        return this.apiService.delete(`${this.runtimeEndpoint}/Inventory/Account/${accountId}`, handleLocalError);
    }
    // PATCH /api/Inventory/Account/{accountId}
    updateAccountByAccountId(request) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Inventory/Account/${request.id}`, request);
    }
    // GET /api/Inventory/group/{groupId}/Departments
    getDepartmentsByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/group/${groupId}/Departments`, null, true);
    }
    // POST /api/Inventory/group/{groupId}/Department
    createDepartmentByGroupId(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/group/${groupId}/Department`, request);
    }
    // DELETE /api/Inventory/Department/{departmentId}
    deleteDepartmentByDepartmentId(departmentId, handleLocalError) {
        return this.apiService.delete(`${this.runtimeEndpoint}/Inventory/Department/${departmentId}`, handleLocalError);
    }
    // PATCH /api/Inventory/Department/{departmentId}
    updateDepartmentByDepartmentId(request) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Inventory/Department/${request.id}`, request);
    }
    // GET /api/Inventory/{groupId}/Assets/{dataTarget}/count
    getAssetCountByGroup(groupId, dataTarget, handleLocalError = false) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets/${dataTarget}/count`, null, handleLocalError);
    }
    // GET /api/Inventory/Accounts/SearchMetadata
    getAccountSearchMetadata() {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/Accounts/SearchMetadata`);
    }
    // POST /api/Inventory/groups/{groupId}/accounts
    searchAccountByGroup(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/groups/${groupId}/accounts`, searchFilter);
    }
    // GET /api/Inventory/Accounts/SearchMetadata
    getDepartmentSearchMetadata() {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/Departments/SearchMetadata`);
    }
    // POST /api/Inventory/groups/{groupId}/accounts
    searchDepartmentByGroup(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/groups/${groupId}/Departments`, searchFilter);
    }
    // GET /api/Inventory/{groupId}/Assets/{importTemplateId}/count
    getDataCountByGroup(groupId, importTemplateId, handleLocalError = false) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${groupId}/Data/${importTemplateId}/count`, null, handleLocalError);
    }
    // DELETE /api/Inventory/Account/{accountId}
    removeDeactivatedItems(groupId, type, datatarget) {
        const url = `${this.runtimeEndpoint}/Inventory/${groupId}/RemoveDeactivatedItems?type=${type}&datatarget=${datatarget}`;
        return this.apiService.delete(url, true);
    }
};
InventoryApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] }
];
InventoryApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]])
], InventoryApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/processing-api.service.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/processing-api.service.ts ***!
  \*************************************************************************/
/*! exports provided: ProcessingApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProcessingApiService", function() { return ProcessingApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let ProcessingApiService = class ProcessingApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    executeDepreciation(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/Processing/${groupId}/Depreciation/Execute`, request);
    }
    getDepreciationResults(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/Processing/${groupId}/Depreciation/Results`, request);
    }
    getProcessingStatus(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/Processing/${groupId}/Status`);
    }
    commitDepreciation(groupId) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Processing/${groupId}/Depreciation/Commit`);
    }
    // TODO: Implement ot copy-over remaining service methods
    // GET DepreciationDetail (GroupId, BookId), returns all fields fromAssetFileRecordDepreciations and a list of those in error. Should support Take and Skip and return total record count for each.
    // POST CommitDepreciation takes a GroupId and an BookId
    // GET /api/contract/{contractId}/Groups/{groupId}
    // POST ExecuteTrending: pass TrendingSubmissionRequestDto, called from setup page at run
    executeTrending(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/Processing/${groupId}/Trending/Execute`, request);
    }
    getTrendingResults(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/Processing/${groupId}/Trending/Results`, request);
    }
    commitTrending(groupId) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Processing/${groupId}/Trending/Commit`);
    }
};
ProcessingApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
ProcessingApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], ProcessingApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/quality-control-api.service.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/quality-control-api.service.ts ***!
  \******************************************************************************/
/*! exports provided: QualityControlApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlApiService", function() { return QualityControlApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");






let QualityControlApiService = class QualityControlApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    duplicateCheck(groupId, request, field = 'description') {
        return this.apiService.post(`${this.runtimeEndpoint}/QualityControl/${groupId}/Duplicates`, request).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(e => e.entity));
    }
    executeMassContentUpdate(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/QualityControl/${groupId}/MassUpdate`, request);
    }
    executeMassBuildingsUpdate(groupId, request) {
        return this.apiService.post(`${this.runtimeEndpoint}/QualityControl/${groupId}/BuildingMassUpdate`, request);
    }
    getStatus(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/QualityControl/${groupId}/Status`);
    }
    calculateContentCostReproductionNew(contentCode, contentQuality, floorArea, localErrorHandling = true) {
        return this.apiService.get(`${this.runtimeEndpoint}/QualityControl/ContentCRN?contentCode=${contentCode}&contentQuality=${contentQuality}&floorArea=${floorArea}`, null, localErrorHandling);
    }
    calculateBasementFloorArea(basementFinishedArea, basementUnfinishedArea) {
        return this.apiService.get(`${this.runtimeEndpoint}/QualityControl/BasementFloorArea?basementFinishedArea=${basementFinishedArea}&basementUnfinishedArea=${basementUnfinishedArea}`);
    }
};
QualityControlApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"] }
];
QualityControlApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"]])
], QualityControlApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/recipients-api.service.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/recipients-api.service.ts ***!
  \*************************************************************************/
/*! exports provided: RecipientsApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsApiService", function() { return RecipientsApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let RecipientsApiService = class RecipientsApiService {
    constructor(configService, apiService) {
        this.configService = configService;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // GET /api/recipient/group/{groupId}
    getRecipientsByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/recipient/group/${groupId}`);
    }
    // POST /api/recipient/group/{groupId}
    createRecipient(groupId, dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/recipient/group/${groupId}`, dto);
    }
    // PUT /api/recipient/{recipientId}/group/{groupId}
    updateRecipient(recipientId, groupId, dto) {
        return this.apiService.put(`${this.runtimeEndpoint}/recipient/${recipientId}/group/${groupId}`, dto);
    }
    // DELETE /api/recipient/{recipientId}
    deleteRecipient(recipientId) {
        return this.apiService.delete(`${this.runtimeEndpoint}/recipient/${recipientId}`);
    }
};
RecipientsApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] }
];
RecipientsApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"],
        _services_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]])
], RecipientsApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/reports-api.service.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/reports-api.service.ts ***!
  \**********************************************************************/
/*! exports provided: ReportsApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsApiService", function() { return ReportsApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _enums_report_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enums/report-type */ "./client-src/app/_api/_runtime/enums/report-type.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");






let ReportsApiService = class ReportsApiService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    // GET /api/Reports/AvailableDeliverables
    getAvailableReportsByGroupId(groupId, isPowerBi) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/reports/AvailableDeliverables?groupId=${groupId}&isPowerBi=${isPowerBi}&isPortal=false`);
    }
    // POST /api/Reports/AvailableDeliverables
    getAvailableReportsByGroupIdAndMetadata(groupId, isPowerBi, selectedMetadata) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/reports/AvailableDeliverables?groupId=${groupId}&isPowerBi=${isPowerBi}&isPortal=false`, selectedMetadata)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(c => c.result));
    }
    // GET /api/Reports/Metadata
    getReportMetadata(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/reports/Metadata?groupId=${groupId}&isPortal=false`)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(c => c.result));
    }
    // GET /api/Reports/Metadata
    getReportMetadataByGroupId(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/reports/MetadataByGroupId?groupId=${groupId}&isPortal=false`)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(c => c.result));
    }
    // GET /api/Reports/GroupMetadata
    getGropuMetadataByGroupId(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/reports/GroupMetadata?groupId=${groupId}&isPortal=false`)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(c => c.result));
    }
    // POST /api/Reports/GroupMetadata
    createGroupMetadata(groupId, metadata) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/reports/GroupMetadata?groupId=${groupId}&isPortal=false`, metadata);
    }
    // POST /api/Reports/GroupMetadata
    deleteGroupMetadata(groupId, metadata) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/reports/DeleteGroupMetadata?groupId=${groupId}&isPortal=false`, metadata);
    }
    // Get /api/Reports/Deliverables
    getRequestedDeliverablesByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reports/Deliverables?groupId=${groupId}`);
    }
    // Post /api/Reports/Deliverable
    requestDeliverable(groupId, reportId, details) {
        return this.apiService.post(`${this.runtimeEndpoint}/reports/Deliverable?groupId=${groupId}&reportId=${reportId}`, details);
    }
    getReportFilterMetadata(groupId, reportId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reports/filterOptions?groupId=${groupId}&isPortal=false&reportId=${reportId}`);
    }
    GetDefaultDashboard(groupId) {
        return this.getDashboardInfo(groupId, null);
    }
    GetReportOrDashboardInfo(groupId, reportId, type) {
        if (type === _enums_report_type__WEBPACK_IMPORTED_MODULE_4__["ReportType"].PowerBi) {
            return this.getReportInfo(groupId, reportId);
        }
        if (type === _enums_report_type__WEBPACK_IMPORTED_MODULE_4__["ReportType"].PowerBiDashboard) {
            return this.getDashboardInfo(groupId, reportId);
        }
    }
    // GET /api/Reports/Dashboard
    getDashboardInfo(groupId, reportId) {
        let params = `?portalId=${groupId}`;
        if (reportId) {
            params += `&reportId=${reportId}`;
        }
        return this.apiService.get(`${this.runtimeEndpoint}/reports/Dashboard${params}`);
    }
    // Get /api/Report/Report
    getReportInfo(groupId, reportId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reports/Report?portalId=${groupId}&reportId=${reportId}`);
    }
    deleteReport(groupId, reportId) {
        return this.apiService.delete(`${this.runtimeEndpoint}/reports/DeleteReport?groupOrPortalId=${groupId}&id=${reportId}`);
    }
};
ReportsApiService.ctorParameters = () => [
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] }
];
ReportsApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]])
], ReportsApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/settings-api.service.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/settings-api.service.ts ***!
  \***********************************************************************/
/*! exports provided: SettingsApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsApiService", function() { return SettingsApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let SettingsApiService = class SettingsApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    create(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/GroupSettings`, dto, null, true);
    }
    update(id, dto) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Settings/${id}`, dto, true);
    }
    delete(id) {
        return this.apiService.delete(`${this.runtimeEndpoint}/Settings/${id}`, true);
    }
    getSetting(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/group/${id}`, null, true);
    }
    getSettingsByGroupId(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/group/${groupId}`, null, true);
    }
    getSettingsByGroupIdSettingType(groupId, settingType) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/group/${groupId}/${settingType}`, null, true);
    }
    getSettingsByGroupIdUserId(groupId, userId) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/group/${groupId}/User/${userId}`, null, true);
    }
    getSettingsByGroupIdUserIdSettingType(groupId, userId, settingType) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/group/${groupId}/User/${userId}/${settingType}`, null, true);
    }
    getSettingsByUserId(userId) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/user/${userId}`, null, true);
    }
    getSettingsByUserIdSettingType(userId, settingType) {
        return this.apiService.get(`${this.runtimeEndpoint}/settings/user/${userId}/${settingType}`, null, true);
    }
};
SettingsApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
SettingsApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], SettingsApiService);



/***/ }),

/***/ "./client-src/app/_api/_runtime/services/view-models-api.service.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/_api/_runtime/services/view-models-api.service.ts ***!
  \**************************************************************************/
/*! exports provided: ViewModelsApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewModelsApiService", function() { return ViewModelsApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");





let ViewModelsApiService = class ViewModelsApiService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    getSubProfileForGroup(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ViewModels/SubProfile/${groupId}`);
    }
    getMainProfileForGroup(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ViewModels/MainProfile/${groupId}`);
    }
    getDepreciationForGroup(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ViewModels/Depreciation/${groupId}`);
    }
    getProcessingInstructionsForGroup(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ViewModels/ProcessingInstructions/${groupId}`);
    }
    getProcessingShippingInstructionsForGroup(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ViewModels/ShippingInstructions/${groupId}`);
    }
};
ViewModelsApiService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] }
];
ViewModelsApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"]])
], ViewModelsApiService);



/***/ }),

/***/ "./client-src/app/_api/dtos/asset-field.dto.ts":
/*!*****************************************************!*\
  !*** ./client-src/app/_api/dtos/asset-field.dto.ts ***!
  \*****************************************************/
/*! exports provided: AssetFieldDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetFieldDto", function() { return AssetFieldDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class AssetFieldDto {
    constructor(name, value) {
        this.name = name;
        this.value = value;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/assignWorkflowTask.dto.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_api/dtos/assignWorkflowTask.dto.ts ***!
  \************************************************************/
/*! exports provided: AssignWorkflowTaskDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignWorkflowTaskDto", function() { return AssignWorkflowTaskDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class AssignWorkflowTaskDto {
    constructor(workflowTaskId, assignedUserId, assignedTeamId, escalationDays, escalationUserId, escalationTeamId) {
        this.workflowTaskId = workflowTaskId;
        this.assignedUserId = assignedUserId;
        this.assignedTeamId = assignedTeamId;
        this.escalationDays = escalationDays;
        this.escalationUserId = escalationUserId;
        this.escalationTeamId = escalationTeamId;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/create-asset-file-custom-column.dto.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_api/dtos/create-asset-file-custom-column.dto.ts ***!
  \*************************************************************************/
/*! exports provided: CreateAssetFileCustomColumnDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateAssetFileCustomColumnDto", function() { return CreateAssetFileCustomColumnDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class CreateAssetFileCustomColumnDto {
    constructor(columnName, customFieldType) {
        this.columnName = columnName;
        this.dataType = customFieldType;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/excel-summary.dto.ts":
/*!*******************************************************!*\
  !*** ./client-src/app/_api/dtos/excel-summary.dto.ts ***!
  \*******************************************************/
/*! exports provided: ExcelSummaryDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExcelSummaryDto", function() { return ExcelSummaryDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ExcelSummaryDto {
    constructor(id, spreadsheetColumns, spreadsheetFileName, headerRow, dataTargetDescription, importErrors) {
        this.id = id;
        this.spreadsheetColumns = spreadsheetColumns;
        this.spreadsheetFileName = spreadsheetFileName;
        this.headerRow = headerRow;
        this.dataTargetDescription = dataTargetDescription;
        this.importErrors = importErrors;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/import-result.dto.ts":
/*!*******************************************************!*\
  !*** ./client-src/app/_api/dtos/import-result.dto.ts ***!
  \*******************************************************/
/*! exports provided: ImportResultDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportResultDto", function() { return ImportResultDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ImportResultDto {
    constructor(success, rowsAdded, rowsUpdated, errors, name) {
        this.success = success;
        this.rowsAdded = rowsAdded;
        this.rowsUpdated = rowsUpdated;
        this.errors = errors;
        this.name = name;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/import-spreadsheet.dto.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_api/dtos/import-spreadsheet.dto.ts ***!
  \************************************************************/
/*! exports provided: ImportSpreadsheetDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportSpreadsheetDto", function() { return ImportSpreadsheetDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ImportSpreadsheetDto {
    constructor(id, groupId, importTemplateId, rows, mapping) {
        this.id = id;
        this.groupId = groupId;
        this.importTemplateId = importTemplateId;
        this.rows = rows;
        this.mapping = mapping;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/reconcilation-mass-match.dto.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_api/dtos/reconcilation-mass-match.dto.ts ***!
  \******************************************************************/
/*! exports provided: ReconcilationMassMatchDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcilationMassMatchDto", function() { return ReconcilationMassMatchDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ReconcilationMassMatchDto {
    constructor(primaryAssetRecordId, secondaryAssetRecordId, isOneToOne, matchCodeId) {
        this.primaryAssetRecordId = primaryAssetRecordId;
        this.secondaryAssetRecordId = secondaryAssetRecordId;
        this.isOneToOne = isOneToOne;
        this.matchCodeId = matchCodeId;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/set-allocation-match.dto.ts":
/*!**************************************************************!*\
  !*** ./client-src/app/_api/dtos/set-allocation-match.dto.ts ***!
  \**************************************************************/
/*! exports provided: SetAllocationMatchCodeDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetAllocationMatchCodeDto", function() { return SetAllocationMatchCodeDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class SetAllocationMatchCodeDto {
    constructor(assetRecordId, matchCodeId, allocations) {
        this.assetRecordId = assetRecordId;
        this.matchCodeId = matchCodeId;
        this.allocations = allocations;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/set-parent-child-match.dto.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_api/dtos/set-parent-child-match.dto.ts ***!
  \****************************************************************/
/*! exports provided: SetParentChildMatchDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetParentChildMatchDto", function() { return SetParentChildMatchDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class SetParentChildMatchDto {
    constructor(parentAssetFileRecordId, assetFileRecordIds) {
        this.parentAssetFileRecordId = parentAssetFileRecordId;
        this.assetFileRecordIds = assetFileRecordIds;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/set-single-match-code.dto.ts":
/*!***************************************************************!*\
  !*** ./client-src/app/_api/dtos/set-single-match-code.dto.ts ***!
  \***************************************************************/
/*! exports provided: SetSingleMatchCodeDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetSingleMatchCodeDto", function() { return SetSingleMatchCodeDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class SetSingleMatchCodeDto {
    constructor(assetRecordId, matchCodeId) {
        this.assetRecordId = assetRecordId;
        this.matchCodeId = matchCodeId;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/spreadsheet-column.dto.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_api/dtos/spreadsheet-column.dto.ts ***!
  \************************************************************/
/*! exports provided: SpreadsheetColumnDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpreadsheetColumnDto", function() { return SpreadsheetColumnDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class SpreadsheetColumnDto {
    constructor(name, title, sampleData) {
        this.name = name;
        this.title = title;
        this.sampleData = sampleData;
    }
}


/***/ }),

/***/ "./client-src/app/_api/dtos/upload-spreadsheet.dto.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_api/dtos/upload-spreadsheet.dto.ts ***!
  \************************************************************/
/*! exports provided: UploadSpreadsheetDto */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadSpreadsheetDto", function() { return UploadSpreadsheetDto; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UploadSpreadsheetDto {
    constructor(groupId, dataTargetId, dataTargetName, projectid, localeId, file, fileName) {
        this.groupId = groupId;
        this.dataTargetId = dataTargetId;
        this.dataTargetName = dataTargetName;
        this.projectid = projectid;
        this.localeId = localeId;
        this.file = file;
        this.fileName = fileName;
    }
}


/***/ }),

/***/ "./client-src/app/_api/services/admin/template-repository.service.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/_api/services/admin/template-repository.service.ts ***!
  \***************************************************************************/
/*! exports provided: TemplateRepositoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateRepositoryService", function() { return TemplateRepositoryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let TemplateRepositoryService = class TemplateRepositoryService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getAll() {
        return this.apiService.get(`${this.configurationEndpoint}/templates`);
    }
    get(id) {
        return this.apiService.get(`${this.configurationEndpoint}/templates/${id}`);
    }
    delete(id) {
        return this.apiService.delete(`${this.configurationEndpoint}/templates/${id}`);
    }
    create(template) {
        return this.apiService.post(`${this.configurationEndpoint}/Templates`, template).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data));
    }
    update(template) {
        return this.apiService.put(`${this.configurationEndpoint}/Templates`, template).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data));
    }
    retire(templateId, isRetired) {
        // TODO: This isn't the correct path, nor payload. Validate when the method exists.
        return this.apiService.patch(`${this.configurationEndpoint}/Templates/${templateId}/retire?isRetired=${isRetired}`);
    }
};
TemplateRepositoryService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
TemplateRepositoryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], TemplateRepositoryService);



/***/ }),

/***/ "./client-src/app/_api/services/api.service.ts":
/*!*****************************************************!*\
  !*** ./client-src/app/_api/services/api.service.ts ***!
  \*****************************************************/
/*! exports provided: ApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiService", function() { return ApiService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/authentication/authentication.manager */ "./client-src/app/_core/authentication/authentication.manager.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");








// TODO: Update this to have Observables of type T rather than type any
let ApiService = class ApiService {
    constructor(http, authManager, alertService, router) {
        this.http = http;
        this.authManager = authManager;
        this.alertService = alertService;
        this.router = router;
        this._isBusy = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]([]);
        this.adalConfig = this.authManager.getAdalConfig();
        this.isBusy$ = this._isBusy.asObservable();
        this.defaultTimeoutValue = 15;
        sessionStorage.setItem('isTimerTriggered', 'false');
        sessionStorage.setItem('busyCounter', '0');
    }
    addIsBusy() {
        const current = this._isBusy.getValue();
        const counter = parseInt(sessionStorage.getItem('busyCounter')) + 1;
        sessionStorage.setItem('busyCounter', counter.toString());
        const id = counter;
        current.push(id);
        this._isBusy.next(current);
        return id;
    }
    removeIsBusy(id) {
        const current = this._isBusy.getValue();
        const index = current.findIndex(c => c === id);
        if (index !== -1) {
            current.splice(index, 1);
            this._isBusy.next(current);
        }
    }
    get(path, params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpParams"](), localErrorHandling = false) {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        const id = this.addIsBusy();
        this.setHeaders(false).subscribe((headers) => {
            this.http
                .get(path, { headers: headers, params: params })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(error => this.handleErrors(error, localErrorHandling, id)))
                .subscribe((data) => {
                this.removeIsBusy(id);
                // moving it here before the API result is broadcasted to the subscribers but, has been receieved from over the network.
                result.next(data);
            }, error => {
                result.error(error);
            }, () => {
                this.removeIsBusy(id);
                result.complete();
            });
        });
        return result;
    }
    put(path, body = {}, localErrorHandling = false) {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        const id = this.addIsBusy();
        this.setHeaders().subscribe((headers) => {
            this.http
                .put(path, JSON.stringify(body), { headers: headers })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(error => this.handleErrors(error, localErrorHandling, id)))
                .subscribe((data) => {
                this.removeIsBusy(id);
                result.next(data);
            }, error => {
                result.error(error);
            }, () => {
                this.removeIsBusy(id);
                result.complete();
            });
        });
        return result;
    }
    patch(path, body = {}, localErrorHandling = false) {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        const id = this.addIsBusy();
        this.setHeaders().subscribe((headers) => {
            this.http
                .patch(path, JSON.stringify(body), { headers: headers })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(error => this.handleErrors(error, localErrorHandling, id)))
                .subscribe((data) => {
                this.removeIsBusy(id);
                result.next(data);
            }, error => {
                result.error(error);
            }, () => {
                this.removeIsBusy(id);
                result.complete();
            });
        });
        return result;
    }
    post(path, body, file, localErrorHandling = false) {
        let dataToPost;
        let isFileUpload = false;
        const id = this.addIsBusy();
        if (file) {
            dataToPost = new FormData();
            dataToPost.append('file[]', file, file.name);
            isFileUpload = true;
        }
        else {
            dataToPost = JSON.stringify(body);
        }
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.setHeaders(isFileUpload).subscribe((headers) => {
            this.http
                .post(path, dataToPost, { headers: headers })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(error => this.handleErrors(error, localErrorHandling, id)))
                .subscribe((data) => {
                this.removeIsBusy(id);
                result.next(data);
            }, error => {
                result.error(error);
            }, () => {
                this.removeIsBusy(id);
                result.complete();
            });
        });
        return result;
    }
    delete(path, localErrorHandling = false) {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        const id = this.addIsBusy();
        this.setHeaders().subscribe((headers) => {
            this.http
                .delete(path, { headers: headers })
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(error => this.handleErrors(error, localErrorHandling, id)))
                .subscribe((data) => {
                this.removeIsBusy(id);
                result.next(data);
            }, error => {
                result.error(error);
            }, () => {
                this.removeIsBusy(id);
                result.complete();
            });
        });
        return result;
    }
    setHeaders(isFileUpload = false) {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        const headersConfig = {};
        if (!isFileUpload) {
            headersConfig['Content-Type'] = `application/json`;
            headersConfig['Accept'] = `application/json`;
        }
        else {
            headersConfig['Accept'] = `application/json`;
        }
        // TODO: Handle error case (once this.authService.acccessToken handles error case)
        this.authManager.getToken(false, null).subscribe((token) => {
            headersConfig['Authorization'] = `Bearer ${token}`;
            result.next(new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpHeaders"](headersConfig));
            result.complete();
        });
        return result.asObservable();
    }
    handleErrors(error, localErrorHandling, id) {
        this.removeIsBusy(id);
        if (!localErrorHandling || error.status === 403) {
            switch (error.status) {
                case 400:
                    window.location.href = '/error/400';
                    break;
                case 401:
                    this.authManager.forgetAdal();
                    window.location.href = '/error/401';
                    break;
                case 403:
                    this.authManager.handleAuthenticationError(error);
                    //window.location.href = '/error/403';
                    this.router.navigate(['/error/403']);
                    break;
                case 404:
                    window.location.href = '/error/404';
                    break;
                case 409:
                    window.location.href = '/error/409';
                    break;
                case 458:
                    this.databaseError(error);
                    break;
                default:
                    window.location.href = '/error/500';
                    break;
            }
        }
        if (error.status === 458) {
            this.databaseError(error);
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["throwError"])(error);
    }
    databaseError(error) {
        if (!!error.error) {
            const errorMsgs = error.error.split('.');
            errorMsgs.forEach(msg => {
                if (msg.length > 1) {
                    const result = msg.split(' ');
                    const fieldName = result[2];
                    const fieldLength = result[15];
                    this.alertService.error('{{name}} has exceeded it\'s maximum length of {{length}}', null, {
                        name: fieldName,
                        length: fieldLength
                    });
                }
            });
        }
    }
};
ApiService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
    { type: _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["AuthenticationManager"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] }
];
ApiService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
        _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["AuthenticationManager"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"]])
], ApiService);



/***/ }),

/***/ "./client-src/app/_api/services/country-repository.service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/_api/services/country-repository.service.ts ***!
  \********************************************************************/
/*! exports provided: CountryRepositoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CountryRepositoryService", function() { return CountryRepositoryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let CountryRepositoryService = class CountryRepositoryService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getAll() {
        return this.apiService
            .get(`${this.configurationEndpoint}/Countries`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => {
            data.sort((a, b) => {
                if (a.name < b.name) {
                    return -1;
                }
                if (a.name > b.name) {
                    return 1;
                }
                return 0;
            });
            return data;
        }));
    }
};
CountryRepositoryService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
CountryRepositoryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], CountryRepositoryService);



/***/ }),

/***/ "./client-src/app/_api/services/custom-data-types-repository.service.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/_api/services/custom-data-types-repository.service.ts ***!
  \******************************************************************************/
/*! exports provided: CustomDataTypesRepository */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomDataTypesRepository", function() { return CustomDataTypesRepository; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let CustomDataTypesRepository = class CustomDataTypesRepository {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getCustomColumnDataTypes() {
        return this.apiService
            .get(`${this.configurationEndpoint}/ImportTemplates/CustomColumns/DataTypes`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data));
    }
};
CustomDataTypesRepository.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
CustomDataTypesRepository = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], CustomDataTypesRepository);



/***/ }),

/***/ "./client-src/app/_api/services/dashboard/contract.service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/_api/services/dashboard/contract.service.ts ***!
  \********************************************************************/
/*! exports provided: ContractService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContractService", function() { return ContractService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);






let ContractService = class ContractService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.minDate = moment__WEBPACK_IMPORTED_MODULE_5__["utc"]('1900-01-02');
    }
    getContractGroupsByGroupId(contractId, groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/contract/${contractId}/groups/${groupId}`);
    }
    getContractsGroups(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/contract/${id}/groups`);
    }
    getContracts() {
        return this.apiService
            .get(`${this.runtimeEndpoint}/contract/`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result.map(dto => {
            const contract = {
                id: dto.id,
                client: dto.client,
                opportunityName: dto.opportunityName,
                office: dto.office,
                country: dto.country,
                industry: dto.industry,
                projectCode: dto.projectCode,
                service: dto.service,
                billingDirector: dto.billingDirector,
                performingMd: dto.performingMd,
                groupIds: dto.groupIds,
                createdFromSalesforce: this.formatDateTime(dto.createdFromSalesforce)
            };
            return contract;
        })))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(err => {
            return [];
        }));
    }
    formatDateTime(inputDate) {
        if (!moment__WEBPACK_IMPORTED_MODULE_5__(inputDate).isValid() || moment__WEBPACK_IMPORTED_MODULE_5__["utc"](inputDate).isBefore(this.minDate)) {
            return '';
        }
        return moment__WEBPACK_IMPORTED_MODULE_5__["utc"](inputDate).format('MM/DD/YYYY hh:mm');
    }
};
ContractService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
ContractService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], ContractService);



/***/ }),

/***/ "./client-src/app/_api/services/data-import/data-import-repository.service.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/_api/services/data-import/data-import-repository.service.ts ***!
  \************************************************************************************/
/*! exports provided: DataImportRepository */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportRepository", function() { return DataImportRepository; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _enums_import_mode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_enums/import-mode */ "./client-src/app/_enums/import-mode.ts");





let DataImportRepository = class DataImportRepository {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getReviewData(dto) {
        const spreadsheetMappings = new Array();
        dto.mapping.SpreadsheetMappings.forEach(item => {
            if (item.importTemplateColumnId) {
                spreadsheetMappings.push({
                    SpreadsheetColumn: item.spreadsheetColumn.name,
                    DataTargetField: item.dataTargetField,
                    ImportTemplateColumnId: item.importTemplateColumnId,
                    IsCustom: item.isCustom,
                    DataType: item.columnDataType
                });
            }
        });
        const spreadsheetMappingDto = {
            Mode: dto.mapping.Mode,
            SpreadsheetMappings: spreadsheetMappings,
            UniqueIdentifierColumn: null
        };
        if (dto.mapping.Mode === _enums_import_mode__WEBPACK_IMPORTED_MODULE_4__["ImportMode"].AddOrUpdate) {
            spreadsheetMappingDto.UniqueIdentifierColumn = {
                SpreadsheetColumn: dto.mapping.UniqueIdentifierColumn.spreadsheetColumn.name,
                DataTargetField: dto.mapping.UniqueIdentifierColumn.dataTargetField,
                ImportTemplateColumnId: dto.mapping.UniqueIdentifierColumn.importTemplateColumnId,
                IsCustom: dto.mapping.UniqueIdentifierColumn.isCustom,
                DataType: dto.mapping.UniqueIdentifierColumn.columnDataType
            };
        }
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/AssetFiles/Preview?id=${dto.id}&clientId=1&groupId=${dto.groupId}&importTemplateId=${dto.importTemplateId}&rows=${dto.rows}`, spreadsheetMappingDto, null, true);
    }
    getDataTargets() {
        return this.apiService.get(`${this.configurationEndpoint}/ImportTemplates/FAMIS`);
    }
    getDataTargetsForGroup(grougId) {
        return this.apiService.get(`${this.runtimeEndpoint}/ImportTemplates/${grougId}/GroupImportTemplates?isPortal=${false}`);
    }
    getCustomColumnDataTypes() {
        return this.apiService.get(`${this.configurationEndpoint}/ImportTemplates/CustomColumns/DataTypes`);
    }
    getCustomColumns(groupId, dataTargetName) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/Inventory/AssetFiles/ExistingCustomColumnMaps?groupId=${groupId}&dataTarget=${dataTargetName}`);
    }
    uploadSpreadsheet(dto, importTemplateId) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/AssetFiles/Upload?groupId=${dto.groupId}&importTemplateId=${importTemplateId}`, dto, dto.file, true);
    }
    importSpreadsheet(dto) {
        const spreadsheetMappings = new Array();
        dto.mapping.SpreadsheetMappings.forEach(item => {
            if (item.importTemplateColumnId) {
                spreadsheetMappings.push({
                    SpreadsheetColumn: item.spreadsheetColumn.name,
                    DataTargetField: item.dataTargetField,
                    ImportTemplateColumnId: item.importTemplateColumnId,
                    IsCustom: item.isCustom,
                    DataType: item.columnDataType
                });
            }
        });
        const spreadsheetMappingDto = {
            Mode: dto.mapping.Mode,
            SpreadsheetMappings: spreadsheetMappings,
            UniqueIdentifierColumn: null
        };
        if (dto.mapping.Mode === _enums_import_mode__WEBPACK_IMPORTED_MODULE_4__["ImportMode"].AddOrUpdate) {
            spreadsheetMappingDto.UniqueIdentifierColumn = {
                SpreadsheetColumn: dto.mapping.UniqueIdentifierColumn.spreadsheetColumn.name,
                DataTargetField: dto.mapping.UniqueIdentifierColumn.dataTargetField,
                ImportTemplateColumnId: dto.mapping.UniqueIdentifierColumn.importTemplateColumnId,
                IsCustom: dto.mapping.UniqueIdentifierColumn.isCustom,
                DataType: dto.mapping.UniqueIdentifierColumn.columnDataType
            };
        }
        return this.apiService.patch(`${this.runtimeEndpoint}/inventory/assetfiles/complete?id=${dto.id}&groupId=${dto.groupId}&importTemplateId=${dto.importTemplateId}&rows=${dto.rows}`, spreadsheetMappingDto);
    }
};
DataImportRepository.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] }
];
DataImportRepository = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]])
], DataImportRepository);



/***/ }),

/***/ "./client-src/app/_api/services/group-search.service.ts":
/*!**************************************************************!*\
  !*** ./client-src/app/_api/services/group-search.service.ts ***!
  \**************************************************************/
/*! exports provided: GroupSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupSearchService", function() { return GroupSearchService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./api.service */ "./client-src/app/_api/services/api.service.ts");







let GroupSearchService = class GroupSearchService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    getGroup(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${id}`);
    }
    getGroups() {
        const groupGetAllUrl = this.runtimeEndpoint + '/group';
        return this.http.get(groupGetAllUrl).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["tap"])(console.log)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response.json));
    }
    getContractGroup(id) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${id}/ContractGroup`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response));
    }
    searchGroups(query, includeContractSearch) {
        if (query === '') {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }
        let path = `${this.runtimeEndpoint}/group/search`;
        if (includeContractSearch) {
            path += `/contract`;
        }
        const url = path + `?query=${query}`;
        return this.apiService.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response));
    }
};
GroupSearchService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] },
    { type: _api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"] }
];
GroupSearchService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"],
        _api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"]])
], GroupSearchService);



/***/ }),

/***/ "./client-src/app/_api/services/inventory/inventory-search-repository.service.ts":
/*!***************************************************************************************!*\
  !*** ./client-src/app/_api/services/inventory/inventory-search-repository.service.ts ***!
  \***************************************************************************************/
/*! exports provided: InventorySearchRepository */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventorySearchRepository", function() { return InventorySearchRepository; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let InventorySearchRepository = class InventorySearchRepository {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    search(dataTarget, groupId, excludeNullProps) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${groupId}/SearchMetadata/${dataTarget}/${excludeNullProps}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.fields));
    }
    searchAssetsMassMatch(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets/MassMatch`, searchFilter, null, true);
    }
};
InventorySearchRepository.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
InventorySearchRepository = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], InventorySearchRepository);



/***/ }),

/***/ "./client-src/app/_api/services/module-repository.service.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_api/services/module-repository.service.ts ***!
  \*******************************************************************/
/*! exports provided: ModuleRepositoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModuleRepositoryService", function() { return ModuleRepositoryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");




let ModuleRepositoryService = class ModuleRepositoryService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getAll() {
        return this.apiService.get(`${this.configurationEndpoint}/Modules`);
    }
};
ModuleRepositoryService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] }
];
ModuleRepositoryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]])
], ModuleRepositoryService);



/***/ }),

/***/ "./client-src/app/_api/services/office-repository.service.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_api/services/office-repository.service.ts ***!
  \*******************************************************************/
/*! exports provided: OfficeRepositoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OfficeRepositoryService", function() { return OfficeRepositoryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let OfficeRepositoryService = class OfficeRepositoryService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getAll() {
        return this.apiService
            .get(`${this.configurationEndpoint}/Offices`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => {
            data.sort((a, b) => {
                if (a.name < b.name) {
                    return -1;
                }
                if (a.name > b.name) {
                    return 1;
                }
                return 0;
            });
            return data;
        }));
    }
};
OfficeRepositoryService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
OfficeRepositoryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], OfficeRepositoryService);



/***/ }),

/***/ "./client-src/app/_api/services/project-profile/project-profile-api.service.ts":
/*!*************************************************************************************!*\
  !*** ./client-src/app/_api/services/project-profile/project-profile-api.service.ts ***!
  \*************************************************************************************/
/*! exports provided: ProjectProfileAPIService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectProfileAPIService", function() { return ProjectProfileAPIService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");





let ProjectProfileAPIService = class ProjectProfileAPIService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        // Todo: Add form type to Module DTO returned from API i.e. TemplateBuilder form, Reconciliation, Task Builder etc...
        this.modules = [
            { id: 'MainProfile', name: 'Main Profile', form: 'Dynamic' },
            { id: 'SubProfile', name: 'Sub Profile', form: 'Dynamic' },
            { id: 'DataImport', name: 'Data Import', form: 'DataImport' },
            { id: 'Reconciliation', name: 'Reconciliation', form: 'Reconciliation' },
            { id: 'Trending', name: 'Trending', form: 'Trending' },
            { id: 'Depreciation', name: 'Depreciation', form: 'Depreciation' },
            { id: 'TaskManagement', name: 'Task Management', form: 'TaskManagement' },
            { id: 'QualityControl', name: 'Quality Control', form: 'QualityControl' },
            { id: 'Administration', name: 'Administration', form: 'Administration' },
            { id: 'HeaderManagement', name: 'Header Management', form: 'HeaderManagement' }
        ];
        this.runtimeEndpoint = configService.getSettings('runtimeApiEndpoint');
    }
    get(moduleName, groupid) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/ViewModels/${moduleName}/${groupid}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data));
    }
    update(moduleName, groupid, viewModel) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/ViewModels/${moduleName}/${groupid}`, viewModel).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data));
    }
};
ProjectProfileAPIService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] }
];
ProjectProfileAPIService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"]])
], ProjectProfileAPIService);



/***/ }),

/***/ "./client-src/app/_api/services/project-profile/project-profile-control.service.ts":
/*!*****************************************************************************************!*\
  !*** ./client-src/app/_api/services/project-profile/project-profile-control.service.ts ***!
  \*****************************************************************************************/
/*! exports provided: ProjectProfileControlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectProfileControlService", function() { return ProjectProfileControlService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");







let ProjectProfileControlService = class ProjectProfileControlService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    toFormGroup(fields) {
        const group = {};
        fields.forEach(field => {
            group[field.key] = field.required
                ? new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControl"](field.value || '', _angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required)
                : new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControl"](field.value || '');
        });
        return new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormGroup"](group);
    }
    searchEmployee(searchTerm) {
        if (searchTerm === '') {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])([]);
        }
        return this.apiService.get(`${this.runtimeEndpoint}/employees/search?query=${searchTerm}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response => response));
    }
};
ProjectProfileControlService.ctorParameters = () => [
    { type: _services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"] }
];
ProjectProfileControlService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"]])
], ProjectProfileControlService);



/***/ }),

/***/ "./client-src/app/_api/services/reconciliation/cost-fields.service.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/_api/services/reconciliation/cost-fields.service.ts ***!
  \****************************************************************************/
/*! exports provided: CostFieldsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CostFieldsService", function() { return CostFieldsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");






let CostFieldsService = class CostFieldsService {
    constructor(configService, apiService, http) {
        this.configService = configService;
        this.apiService = apiService;
        this.http = http;
        this.configurationEndpoint = this.configService.getSettings('configurationApiEndpoint');
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    getGroupCostField(groupId) {
        const url = `${this.runtimeEndpoint}/group/${groupId}/CostField`;
        return this.apiService.get(url);
    }
    getTemplates() {
        const url = `${this.configurationEndpoint}/ImportTemplates/FAMIS`;
        return this.apiService.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(results => results));
    }
    getCostFields(templateId) {
        const url = `${this
            .configurationEndpoint}/ImportTemplates/${templateId}`;
        return this.apiService.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(results => results));
    }
    saveCostField(groupId, assetFileField) {
        const url = `${this
            .runtimeEndpoint}/group/${groupId}/CostField?assetFileField=${assetFileField}`;
        return this.apiService.post(url, null, null).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(results => results));
    }
};
CostFieldsService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"] },
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] }
];
CostFieldsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_4__["ConfigService"],
        _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"]])
], CostFieldsService);



/***/ }),

/***/ "./client-src/app/_api/services/reconciliation/inventory.service.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/_api/services/reconciliation/inventory.service.ts ***!
  \**************************************************************************/
/*! exports provided: InventoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventoryService", function() { return InventoryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");






let InventoryService = class InventoryService {
    constructor(configService, http, apiService) {
        this.configService = configService;
        this.http = http;
        this.apiService = apiService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    copy(sourceGroupId, targetGroupId) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Inventory/${sourceGroupId}/CopyGroupInventory/${targetGroupId}`);
    }
    /*public read(groupId: string, type: number, skip: number = 0, take: number = 42): Observable<Asset[]> {
      return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets/${type}?skip=${skip}&count=${take}`);
    }*/
    /*public getInventory(groupId: string, dataTarget: number, filterDto: InventoryFilterDto): Observable<Asset[]> {
      return this.apiService.post(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets/${dataTarget}`, filterDto);
    }*/
    search(groupId, searchFilter) {
        return this.apiService.post(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets`, searchFilter, null, true);
    }
    getContractGroupsWithInventory(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/group/${groupId}/ContractGroups/InventoryFiles`);
    }
    getAssetFileSummary(groupId, filetype) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/Inventory/${groupId}/SearchMetadata/${filetype}`, null, true).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    getAssetFileSearchMetadata(filetype) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/SearchMetadata/${filetype}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    addAssetCustomColumns(fileId, columns) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/Inventory/AssetFiles/${fileId}/CustomColumns`, columns).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    createAssetRecord(fileId, recordDto) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/Inventory/AssetFiles/${fileId}/CreateAssetRecord`, recordDto).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    copyAssetRecord(recordId) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/Inventory/CopyAssetRecord/${recordId}`, null).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    getAssetRecord(recordId) {
        return this.apiService.get(`${this.runtimeEndpoint}/Inventory/${recordId}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    updateAssetRecord(recordId, recordDto) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Inventory/${recordId}`, recordDto, true).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    getConsolidatedColumnMappings(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Group/${groupId}/Mapping`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    updateConsolidatedColumnMappings(groupId, mappings) {
        return this.apiService
            .patch(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Group/${groupId}/Mapping`, mappings).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    getConsolidatedColumnAssignments(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Group/${groupId}/MatchCodeColumnMap`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    updateConsolidatedColumnAssignments(groupId, assignments) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Group/${groupId}/MatchCodeColumnMap`, assignments).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    deleteAssetFileById(assetFileId) {
        return this.apiService.delete(`${this.runtimeEndpoint}/Inventory/AssetFiles/${assetFileId}`);
    }
    deleteAssetFileForGroup(groupId, dataTarget) {
        return this.apiService.delete(`${this.runtimeEndpoint}/Inventory/${groupId}/Assets/${dataTarget}`);
    }
    getConsolidatedFilePreview(groupId, handleLocalError) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Preview/Group/${groupId}`, null, handleLocalError).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    createConsolidatedFile(groupId) {
        return this.apiService.patch(`${this.runtimeEndpoint}/Inventory/ConsolidatedFile/Create/${groupId}`);
    }
};
InventoryService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"] }
];
InventoryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], _api_service__WEBPACK_IMPORTED_MODULE_5__["ApiService"]])
], InventoryService);



/***/ }),

/***/ "./client-src/app/_api/services/reconciliation/match-codes.service.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/_api/services/reconciliation/match-codes.service.ts ***!
  \****************************************************************************/
/*! exports provided: MatchCodesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchCodesService", function() { return MatchCodesService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_match_code_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_models/match-code.model */ "./client-src/app/_models/match-code.model.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _models_match_code_category_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_models/match-code-category.model */ "./client-src/app/_models/match-code-category.model.ts");
/* harmony import */ var _models_group_match_code_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_models/group-match-code.model */ "./client-src/app/_models/group-match-code.model.ts");









let MatchCodesService = class MatchCodesService {
    constructor(configService, apiService, http) {
        this.configService = configService;
        this.apiService = apiService;
        this.http = http;
        this.runtimeApiEndpoint = this.configService.getSettings('runtimeApiEndpoint');
        this.configurationApiEndpoint = this.configService.getSettings('configurationApiEndpoint');
    }
    getMatchCodes() {
        const url = `${this.configurationApiEndpoint}/matchcodes`;
        // console.log("getmatchcodes", url);
        return this.apiService
            .get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(results => _models_match_code_model__WEBPACK_IMPORTED_MODULE_4__["MatchCode"].jsonArrayToObjects(results)));
    }
    getMatchCodeCategories() {
        return this.apiService
            .get(`${this.configurationApiEndpoint}/matchcodecategories`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(results => _models_match_code_category_model__WEBPACK_IMPORTED_MODULE_7__["MatchCodeCategory"].jsonArrayToObjects(results)));
    }
    saveGroupMatchCodesSelection(groupId, selectedMatchCodes) {
        if (selectedMatchCodes === []) {
            return;
        }
        const groupMatchCodes = new Array();
        selectedMatchCodes.forEach((code) => {
            groupMatchCodes.push(new _models_group_match_code_model__WEBPACK_IMPORTED_MODULE_8__["GroupMatchCode"](groupId, code.id, code.name, code.description, code.categoryId, code.isEnabled, true, false));
        });
        const url = `${this.runtimeApiEndpoint}/matchcodes/group/${groupId}`;
        const body = {
            groupId: groupId,
            matchCodes: groupMatchCodes
        };
        return this.apiService.post(url, body);
    }
    getGroupMatchCodesSelection(groupId) {
        const url = `${this.runtimeApiEndpoint}/matchcodes/group/${groupId}`;
        return this.apiService
            .get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (results) {
            const ids = new Array();
            results.forEach(code => {
                if (code.groupMatchCodeIsEnabled && code.matchCodeIsEnabled) {
                    ids.push(code.matchCodeId);
                }
            });
            return ids;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["tap"])(console.log));
    }
    getGroupMatchCodes(groupId) {
        const url = `${this.runtimeApiEndpoint}/matchcodes/group/${groupId}`;
        return this.apiService
            .get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (results) {
            const codes = new Array();
            results.forEach(code => {
                codes.push(code);
            });
            return codes;
        }));
    }
    createMatchCode(matchCode) {
        const newMatchCode = {
            name: matchCode.name,
            description: matchCode.description,
            categoryId: matchCode.categoryId,
            isEnabled: matchCode.isEnabled
        };
        return this.apiService
            .post(`${this.configurationApiEndpoint}/matchcodes`, newMatchCode).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(code => _models_match_code_model__WEBPACK_IMPORTED_MODULE_4__["MatchCode"].toObjectFromJson(code)));
    }
    updateMatchCode(matchCode) {
        return this.apiService
            .put(`${this.configurationApiEndpoint}/matchcodes/${matchCode.id}`, matchCode).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(code => _models_match_code_model__WEBPACK_IMPORTED_MODULE_4__["MatchCode"].toObjectFromJson(code)));
    }
    getMatchCodeById(id) {
        return this.apiService
            .get(`${this.configurationApiEndpoint}/matchcodes/${id}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => _models_match_code_model__WEBPACK_IMPORTED_MODULE_4__["MatchCode"].toObjectFromJson(res)));
    }
};
MatchCodesService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"] },
    { type: _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClient"] }
];
MatchCodesService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"],
        _api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClient"]])
], MatchCodesService);



/***/ }),

/***/ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts ***!
  \************************************************************************************/
/*! exports provided: ReconciliationMatchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationMatchService", function() { return ReconciliationMatchService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _dtos_set_single_match_code_dto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dtos/set-single-match-code.dto */ "./client-src/app/_api/dtos/set-single-match-code.dto.ts");
/* harmony import */ var _dtos_set_parent_child_match_dto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../dtos/set-parent-child-match.dto */ "./client-src/app/_api/dtos/set-parent-child-match.dto.ts");
/* harmony import */ var _enums_result_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_enums/result-type */ "./client-src/app/_enums/result-type.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");








let ReconciliationMatchService = class ReconciliationMatchService {
    constructor(apiService, configService) {
        this.apiService = apiService;
        this.configService = configService;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    setSingleMatch(recordId, matchId) {
        const dto = new _dtos_set_single_match_code_dto__WEBPACK_IMPORTED_MODULE_2__["SetSingleMatchCodeDto"](recordId, matchId);
        return this.apiService.post(`${this.runtimeEndpoint}/reconciliations/match/single/`, dto);
    }
    createOneToOneMatch(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/reconciliations/match/allocation/`, dto);
    }
    editMatch(dto) {
        return this.apiService.patch(`${this.runtimeEndpoint}/reconciliations/match/allocation/`, dto);
    }
    setMassMatch(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/reconciliations/match/massmatch/`, dto);
    }
    setAllocationMatch(dto) {
        return this.apiService.post(`${this.runtimeEndpoint}/reconciliations/match/allocation/`, dto);
    }
    updateAllocationMatch(dto) {
        return this.apiService.patch(`${this.runtimeEndpoint}/reconciliations/match/allocation/`, dto);
    }
    unmatchAssetRecords(inventoryRecordIds) {
        return this.apiService.patch(`${this.runtimeEndpoint}/reconciliations/Assets/MatchAndOrAllocations`, inventoryRecordIds)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(dto => {
            const serviceResult = {
                code: dto.code,
                result: dto.result,
                resultType: _enums_result_type__WEBPACK_IMPORTED_MODULE_4__["ResultType"].matchOrAllocationResult
            };
            return serviceResult;
        }));
    }
    getClientMatchRecords(assetFileId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reconciliationmatch/${assetFileId}`);
    }
    getInventoryMatchRecords(assetFileId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reconciliationmatch/${assetFileId}`);
    }
    getReconciliationMatches(groupId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reconciliations/group/${groupId}`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(err => {
            return [];
        }));
    }
    getReconciliationMatchSummary(groupId) {
        return this.apiService
            .get(`${this.runtimeEndpoint}/reconciliations/group/${groupId}/summary`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => res.result))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(err => {
            return [];
        }));
    }
    deleteGroupReconciliationData(groupId) {
        return this.apiService
            .delete(`${this.runtimeEndpoint}/reconciliations/ClearReconciliationDataForGroup/${groupId}`);
    }
    setParentChildMatch(parentAssetId, childAssetIds) {
        const dto = new _dtos_set_parent_child_match_dto__WEBPACK_IMPORTED_MODULE_3__["SetParentChildMatchDto"](parentAssetId, childAssetIds);
        return this.apiService.post(`${this.runtimeEndpoint}/reconciliations/match/parentchild/`, dto)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => {
            const serviceResult = {
                code: res.code,
                result: res.result,
                resultType: _enums_result_type__WEBPACK_IMPORTED_MODULE_4__["ResultType"].reconciliationSummaryResult
            };
            return serviceResult;
        }));
    }
    updateParentChildMatch(parentAssetId, childAssetIds) {
        const dto = new _dtos_set_parent_child_match_dto__WEBPACK_IMPORTED_MODULE_3__["SetParentChildMatchDto"](parentAssetId, childAssetIds);
        return this.apiService.patch(`${this.runtimeEndpoint}/reconciliations/match/parentchild/`, dto)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => {
            const serviceResult = {
                code: res.code,
                result: res.result,
                resultType: _enums_result_type__WEBPACK_IMPORTED_MODULE_4__["ResultType"].reconciliationSummaryResult
            };
            return serviceResult;
        }));
    }
    updateMatchCode(matchId, matchCodeId) {
        return this.apiService.patch(`${this.runtimeEndpoint}/reconciliations/match/${matchId}/matchcode/${matchCodeId}`)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(r => {
            const serviceResult = {
                matchId: r.result.matchId,
                matchCodeId: r.result.matchCodeId,
                assetFileRecordId: r.result.assetFileRecordId,
                parentAssetFileRecordId: r.result.parentAssetFileRecordId,
                allocations: r.result.allocations
            };
            return serviceResult;
        }));
    }
    getMatchRecordsForAsset(assetFileRecordId) {
        return this.apiService.get(`${this.runtimeEndpoint}/reconciliationmatch/asset/${assetFileRecordId}`)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(err => {
            return [];
        }));
    }
    getMatchSummaryForAssetIds(groupId, assetFileRecordIds) {
        return this.apiService
            .post(`${this.runtimeEndpoint}/reconciliations/group/${groupId}/summary`, assetFileRecordIds)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(err => {
            return [];
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    validateGroupReconciliation(groupId, includeDetail) {
        if (includeDetail) {
            return this.apiService.get(`${this.runtimeEndpoint}/reconciliations/group/${groupId}/validate?includeDetail=true`);
        }
        return this.apiService.get(`${this.runtimeEndpoint}/reconciliations/group/${groupId}/validate`);
    }
};
ReconciliationMatchService.ctorParameters = () => [
    { type: _api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_7__["ConfigService"] }
];
ReconciliationMatchService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_6__["ApiService"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_7__["ConfigService"]])
], ReconciliationMatchService);



/***/ }),

/***/ "./client-src/app/_core/animations/fade-in-out.animation.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_core/animations/fade-in-out.animation.ts ***!
  \******************************************************************/
/*! exports provided: fadeInOutAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fadeInOutAnimation", function() { return fadeInOutAnimation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm2015/animations.js");


const fadeInOutAnimation = Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('fadeInOutAnimation', [
    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':enter', [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }),
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('.8s ease-in', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 }))
    ]),
    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':leave', [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 }),
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('.2s ease-in', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }))
    ])
]);


/***/ }),

/***/ "./client-src/app/_core/animations/in-out-from-left-side.animation.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/_core/animations/in-out-from-left-side.animation.ts ***!
  \****************************************************************************/
/*! exports provided: inOutFromLeftSideAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inOutFromLeftSideAnimation", function() { return inOutFromLeftSideAnimation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm2015/animations.js");


const inOutFromLeftSideAnimation = Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('inOutFromLeftSideAnimation', [
    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':enter', [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: .75 }),
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('.5s ease-in', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1, left: '0px' }))
    ]),
    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':leave', [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 }),
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('1s ease-in', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0, left: '-400%' }))
    ])
]);


/***/ }),

/***/ "./client-src/app/_core/authentication/auth-guard.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/_core/authentication/auth-guard.ts ***!
  \***********************************************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _user_user_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _subscriber_entity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../subscriber-entity */ "./client-src/app/_core/subscriber-entity.ts");
/* harmony import */ var _authentication_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./authentication.manager */ "./client-src/app/_core/authentication/authentication.manager.ts");






let AuthGuard = class AuthGuard extends _subscriber_entity__WEBPACK_IMPORTED_MODULE_4__["SubscriberEntity"] {
    constructor(router, userStore, authenticationManager) {
        super();
        this.router = router;
        this.userStore = userStore;
        this.authenticationManager = authenticationManager;
    }
    canActivate(route, state) {
        return new Promise((resolve, reject) => {
            this.subscribeDefined(this.userStore.hasAnyAuth(), (hasAnyAuth) => {
                if (hasAnyAuth) {
                    resolve(true);
                }
                else {
                    this.userStore.loginUser();
                    resolve(false);
                }
            });
        });
    }
};
AuthGuard.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"] },
    { type: _authentication_manager__WEBPACK_IMPORTED_MODULE_5__["AuthenticationManager"] }
];
AuthGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"], _authentication_manager__WEBPACK_IMPORTED_MODULE_5__["AuthenticationManager"]])
], AuthGuard);



/***/ }),

/***/ "./client-src/app/_core/authentication/authentication.manager.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_core/authentication/authentication.manager.ts ***!
  \***********************************************************************/
/*! exports provided: LoginType, StorageKey, AuthenticationManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginType", function() { return LoginType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StorageKey", function() { return StorageKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationManager", function() { return AuthenticationManager; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./client-src/environments/environment.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var adal_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! adal-angular */ "./node_modules/adal-angular/lib/adal.js");
/* harmony import */ var adal_angular__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(adal_angular__WEBPACK_IMPORTED_MODULE_4__);





var LoginType;
(function (LoginType) {
    LoginType[LoginType["adal"] = 0] = "adal";
    LoginType[LoginType["msal"] = 1] = "msal";
})(LoginType || (LoginType = {}));
var StorageKey;
(function (StorageKey) {
    StorageKey[StorageKey["lastLoginType"] = 0] = "lastLoginType";
})(StorageKey || (StorageKey = {}));
const AdalAuthenticationContext = AuthenticationContext;
let AuthenticationManager = class AuthenticationManager {
    constructor() {
        this._hasAdalAuth = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this._hasMsalAuth = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this._hasAnyAuth = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this._error = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this._lastLoginType = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this._hasToken = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this.defaultAdditionalExpireOffsetSeconds = 600;
        this.adalConfig = {
            tenant: _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].adalTennant,
            clientId: _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].adalClientId,
            expireOffsetSeconds: _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].adalExpireOffsetSeconds,
            redirectUri: window.location.origin + '/',
            postLogoutRedirectUri: window.location.origin + '/',
            endpoints: _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].adalEndpoints,
            navigateToLoginRequestUrl: false
        };
        this.msalConfig = {
            authority: `https://login.microsoftonline.com/tfp/${_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].msalTenant}.onmicrosoft.com/` + `${_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].msalSigninSignupPolicy}`,
            clientId: _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].msalClient,
            scopes: [_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].msalScope]
        };
        this.adalContext = new AdalAuthenticationContext(this.adalConfig);
        this.hasAdalAuth = this._hasAdalAuth.asObservable();
        this.hasMsalAuth = this._hasMsalAuth.asObservable();
        this.hasAnyAuth = this._hasAnyAuth.asObservable();
        this.hasToken = this._hasToken.asObservable();
        this.error = this._error.asObservable();
        this.lastLoginType = this._lastLoginType.asObservable();
        this.hasAuthError = false;
    }
    getAdditionalOffsetFromConfig() {
        const retrievedTIme = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].additionalExpireOffsetSeconds;
        return retrievedTIme ? retrievedTIme : this.defaultAdditionalExpireOffsetSeconds;
    }
    getAdalConfig() {
        return this.adalConfig;
    }
    getAdalContext() {
        return this.adalContext;
    }
    processAdalToken() {
        this.adalContext.handleWindowCallback();
        this.findAdalAuth();
        const storedLoginType = sessionStorage.getItem(StorageKey[StorageKey.lastLoginType]);
        if (storedLoginType) {
            const lastLoginType = LoginType[storedLoginType];
            this._lastLoginType.next(lastLoginType);
        }
    }
    initMsal() {
        this.msalContext = new adal_angular__WEBPACK_IMPORTED_MODULE_4__["UserAgentApplication"](this.msalConfig.clientId, this.msalConfig.authority, (errorDesc, token, error, tokenType) => {
            if (error) {
                return;
            }
            if (sessionStorage.getItem('msal.idtoken')) {
                this._hasMsalAuth.next(true);
            }
        }, {
            redirectUri: window.location.origin,
            postLogoutRedirectUri: window.location.origin
        });
        this.findMsalAuth();
    }
    loginAdal() {
        this.adalContext.login();
    }
    loginMsal() {
        if (this.msalContext === undefined) {
            throw new Error('msal.js was never initiatlized');
        }
        this.msalContext.loginRedirect(this.msalConfig.scopes);
    }
    logoutAdal() {
        if (this._hasAdalAuth.getValue()) {
            this.adalContext.logOut();
        }
    }
    logoutMsal() {
        if (this.msalContext && this._hasMsalAuth.getValue()) {
            this.msalContext.logout();
        }
    }
    // TODO: Improve this
    forgetAdal() {
        sessionStorage.removeItem('adal.idtoken');
        sessionStorage.removeItem('adal.error');
        sessionStorage.removeItem('adal.error.description');
        sessionStorage.removeItem('adal.login.error');
        sessionStorage.removeItem('adal.login.request');
        sessionStorage.removeItem('adal.nonce.idtoken');
        sessionStorage.removeItem('adal.session.state');
        sessionStorage.removeItem('adal.state.login');
        sessionStorage.removeItem('adal.token.keys');
        this._hasAdalAuth.next(false);
    }
    // TODO: Improve this
    forgetMsal() {
        sessionStorage.removeItem('msal.idtoken');
        sessionStorage.removeItem('msal.client.info');
        sessionStorage.removeItem('msal.error');
        sessionStorage.removeItem('msal.error.description');
        sessionStorage.removeItem('msal.login.error');
        sessionStorage.removeItem('msal.login.request');
        sessionStorage.removeItem('msal.nonce.idtoken');
        sessionStorage.removeItem('msal.state.login');
        sessionStorage.removeItem('msal.idtoken');
        this._hasMsalAuth.next(false);
    }
    forgetLoginType() {
        sessionStorage.removeItem('lastLoginType');
    }
    getToken(forceRenewal = false, expirationEpoch) {
        if (forceRenewal === true) {
            // configurable additional buffer
            this.adalContext.config.expireOffsetSeconds +=
                expirationEpoch - (((new Date()).getTime() / 1000) + this.adalContext.config.expireOffsetSeconds) + 1;
        }
        if (this._hasMsalAuth.getValue() && sessionStorage.getItem('msal.idtoken')) {
            const msalResultToekn = this.getMsalToken();
            if (forceRenewal === true) {
                this.adalContext.config.expireOffsetSeconds = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].adalExpireOffsetSeconds;
            }
            this._hasToken.next(true);
            return msalResultToekn;
        }
        const result = this.getAdalToken();
        if (forceRenewal === true) {
            this.adalContext.config.expireOffsetSeconds = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].adalExpireOffsetSeconds;
        }
        this._hasToken.next(true);
        return result;
    }
    handleAuthenticationError(error) {
        this._error.next(error);
        setTimeout(() => {
            this.forgetAdal();
            this.forgetMsal();
            if (error && error.status == 403)
                this.hasAuthError = true;
        });
    }
    getAdalToken() {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        const tokenWeWillUse = sessionStorage.getItem('adal.idtoken');
        const tokenCallback = (message, token) => {
            setTimeout(() => {
                if (token) {
                    result.next(token);
                    result.complete();
                }
                else {
                    // console.log(`Token was supposedly null. Was it? Token: ${tokenWeWillUse}.`);
                    result.next(tokenWeWillUse || '');
                    result.complete();
                }
            });
        };
        this.adalContext.acquireToken(this.adalConfig.clientId, tokenCallback);
        return result.asObservable();
    }
    getMsalToken() {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        // The token returned by the various acquireToken methods is not quite the same
        //  as the token in session storage (one or two fields in the JWT token are different).
        if (this.msalContext === undefined) {
            throw new Error('msal.js was never initiatlized');
        }
        this.msalContext.acquireTokenSilent(this.msalConfig.scopes, undefined).then((token) => {
            //
            result.next(sessionStorage.getItem('msal.idtoken') || undefined);
            result.complete();
        });
        return result.asObservable();
    }
    findAdalAuth() {
        if (this._hasMsalAuth.getValue() === true) {
            return;
        }
        const token = this.adalContext.getCachedToken(this.adalConfig.clientId);
        if (token) {
            this.setHasAnyAuth();
            this._hasAdalAuth.next(true);
            sessionStorage.setItem(StorageKey[StorageKey.lastLoginType], LoginType[LoginType.adal]);
        }
        else {
            this._hasAdalAuth.next(false);
        }
        this.setHasAnyAuth();
    }
    findMsalAuth() {
        const token = sessionStorage.getItem('msal.idtoken');
        if (token) {
            this._hasMsalAuth.next(true);
            sessionStorage.setItem(StorageKey[StorageKey.lastLoginType], LoginType[LoginType.msal]);
        }
        else {
            this._hasMsalAuth.next(false);
        }
        this.setHasAnyAuth();
    }
    setHasAnyAuth() {
        if (this._hasAdalAuth.getValue() === true || this._hasMsalAuth.getValue() === true) {
            this._hasAnyAuth.next(true);
        }
        if (!this._hasAdalAuth.getValue() && !this._hasMsalAuth.getValue()) {
            this._hasAnyAuth.next(false);
        }
    }
};
AuthenticationManager = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], AuthenticationManager);



/***/ }),

/***/ "./client-src/app/_core/authentication/can-access.guard.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/_core/authentication/can-access.guard.ts ***!
  \*****************************************************************/
/*! exports provided: CanAccessGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanAccessGuard", function() { return CanAccessGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _user_user_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _subscriber_entity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../subscriber-entity */ "./client-src/app/_core/subscriber-entity.ts");





let CanAccessGuard = class CanAccessGuard extends _subscriber_entity__WEBPACK_IMPORTED_MODULE_4__["SubscriberEntity"] {
    constructor(router, userStore) {
        super();
        this.router = router;
        this.userStore = userStore;
    }
    canActivate(route, state) {
        let canAccess = false;
        const permissions = route.data['permissions'];
        return new Promise((resolve, reject) => {
            this.userStore.user.subscribe(currentUser => {
                if (currentUser) {
                    // Checking if user has access to system permission
                    permissions.forEach(permission => {
                        const grantedPermissionIndex = currentUser.permissions.permissionsGranted.findIndex(c => c === permission);
                        canAccess = grantedPermissionIndex > -1;
                    });
                }
            });
            if (canAccess) {
                resolve(true);
            }
            else {
                this.router.navigate(['error/403']);
                resolve(false);
            }
        });
    }
};
CanAccessGuard.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"] }
];
CanAccessGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"]])
], CanAccessGuard);



/***/ }),

/***/ "./client-src/app/_core/core.module.ts":
/*!*********************************************!*\
  !*** ./client-src/app/_core/core.module.ts ***!
  \*********************************************/
/*! exports provided: HttpLoaderFactory, CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpLoaderFactory", function() { return HttpLoaderFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_logging_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/logging.service */ "./client-src/app/_core/services/logging.service.ts");
/* harmony import */ var _services_error_handler_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/error-handler.service */ "./client-src/app/_core/services/error-handler.service.ts");
/* harmony import */ var _services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_helper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _guards_rules_guard_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./guards/rules-guard.service */ "./client-src/app/_core/guards/rules-guard.service.ts");
/* harmony import */ var _services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _services_building_info_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _services_famis_grid_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_google_maps_config_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/google-maps-config.service */ "./client-src/app/_core/services/google-maps-config.service.ts");
/* harmony import */ var _services_left_nav_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./services/left-nav-service */ "./client-src/app/_core/services/left-nav-service.ts");
/* harmony import */ var _services_transactions_info_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/transactions-info-service */ "./client-src/app/_core/services/transactions-info-service.ts");
/* harmony import */ var _services_recipients_info_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/recipients-info-service */ "./client-src/app/_core/services/recipients-info-service.ts");
/* harmony import */ var _guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./guards/can-deactivate-guard.service */ "./client-src/app/_core/guards/can-deactivate-guard.service.ts");
/* harmony import */ var _guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _authentication_auth_guard__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./authentication/auth-guard */ "./client-src/app/_core/authentication/auth-guard.ts");
/* harmony import */ var _user_user_store__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./authentication/authentication.manager */ "./client-src/app/_core/authentication/authentication.manager.ts");
/* harmony import */ var _api_authorization_services_authorization_api_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../_api/_authorization/services/authorization-api.service */ "./client-src/app/_api/_authorization/services/authorization-api.service.ts");
/* harmony import */ var _directives_show_if_can_access__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./directives/show-if-can-access */ "./client-src/app/_core/directives/show-if-can-access.ts");
/* harmony import */ var _authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./authentication/can-access.guard */ "./client-src/app/_core/authentication/can-access.guard.ts");
/* harmony import */ var _node_modules_ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../node_modules/@ngx-translate/http-loader */ "./node_modules/@ngx-translate/http-loader/index.js");
/* harmony import */ var _node_modules_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../node_modules/@ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _services_image_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./services/image.service */ "./client-src/app/_core/services/image.service.ts");
/* harmony import */ var _services_user_grid_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _services_window_manager_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @progress/kendo-angular-dialog */ "./node_modules/@progress/kendo-angular-dialog/dist/fesm2015/index.js");
/* harmony import */ var _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../_api/_configuration/services/countries-api.service */ "./client-src/app/_api/_configuration/services/countries-api.service.ts");
/* harmony import */ var _api_authorization_services_account_api_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../_api/_authorization/services/account-api.service */ "./client-src/app/_api/_authorization/services/account-api.service.ts");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
var CoreModule_1;


































function HttpLoaderFactory(http) {
    return new _node_modules_ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_21__["TranslateHttpLoader"](http);
}
let CoreModule = CoreModule_1 = class CoreModule {
    constructor(parentModule) {
        if (parentModule) {
            throw new Error('CoreModule is already loaded. Import it in the AppModule only.');
        }
    }
    static forRoot() {
        return {
            ngModule: CoreModule_1
        };
    }
};
CoreModule.ctorParameters = () => [
    { type: CoreModule, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_28__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_28__["SkipSelf"] }] }
];
CoreModule = CoreModule_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_28__["NgModule"])({
        imports: [_angular_common__WEBPACK_IMPORTED_MODULE_32__["CommonModule"], _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_33__["BrowserAnimationsModule"]
        ],
        declarations: [_directives_show_if_can_access__WEBPACK_IMPORTED_MODULE_19__["ShowIfCanAccessDirective"]],
        exports: [_angular_common__WEBPACK_IMPORTED_MODULE_32__["CommonModule"], _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_33__["BrowserAnimationsModule"], _directives_show_if_can_access__WEBPACK_IMPORTED_MODULE_19__["ShowIfCanAccessDirective"], _node_modules_ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__["TranslateModule"]],
        providers: [
            _authentication_auth_guard__WEBPACK_IMPORTED_MODULE_15__["AuthGuard"],
            _authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_20__["CanAccessGuard"],
            _user_user_store__WEBPACK_IMPORTED_MODULE_16__["UserStore"],
            _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_17__["AuthenticationManager"],
            _services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
            _services_logging_service__WEBPACK_IMPORTED_MODULE_1__["LoggingService"],
            _services_famis_grid_service__WEBPACK_IMPORTED_MODULE_8__["FamisGridService"],
            _services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"],
            _services_image_service__WEBPACK_IMPORTED_MODULE_23__["ImageService"],
            _guards_rules_guard_service__WEBPACK_IMPORTED_MODULE_5__["RulesGuard"],
            _guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_13__["CanDeactivateGuard"],
            { provide: _angular_core__WEBPACK_IMPORTED_MODULE_28__["ErrorHandler"], useClass: _services_error_handler_service__WEBPACK_IMPORTED_MODULE_2__["ErrorHandlerService"] },
            _services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"],
            _services_building_info_service__WEBPACK_IMPORTED_MODULE_7__["BuildingInfoService"],
            { provide: _agm_core__WEBPACK_IMPORTED_MODULE_31__["LAZY_MAPS_API_CONFIG"], useClass: _services_google_maps_config_service__WEBPACK_IMPORTED_MODULE_9__["GoogleMapsService"] },
            _services_transactions_info_service__WEBPACK_IMPORTED_MODULE_11__["TransactionsInfoService"],
            _services_recipients_info_service__WEBPACK_IMPORTED_MODULE_12__["RecipientsInfoService"],
            _guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_14__["CanDeactivateService"],
            _api_authorization_services_account_api_service__WEBPACK_IMPORTED_MODULE_30__["AccountApiService"],
            _api_authorization_services_authorization_api_service__WEBPACK_IMPORTED_MODULE_18__["AuthorizationApiService"],
            _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_29__["CountriesApiService"],
            _services_user_grid_service__WEBPACK_IMPORTED_MODULE_24__["UserGridService"],
            _services_window_manager_service__WEBPACK_IMPORTED_MODULE_25__["WindowManager"],
            _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_26__["WindowService"],
            _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_27__["TranslationManager"],
            _services_left_nav_service__WEBPACK_IMPORTED_MODULE_10__["LeftNavService"]
        ]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_28__["Optional"])()),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_28__["SkipSelf"])()),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [CoreModule])
], CoreModule);



/***/ }),

/***/ "./client-src/app/_core/directives/show-if-can-access.ts":
/*!***************************************************************!*\
  !*** ./client-src/app/_core/directives/show-if-can-access.ts ***!
  \***************************************************************/
/*! exports provided: ShowIfCanAccessDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowIfCanAccessDirective", function() { return ShowIfCanAccessDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _user_user_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _user_permissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user/permissions */ "./client-src/app/_core/user/permissions.ts");




let ShowIfCanAccessDirective = class ShowIfCanAccessDirective {
    constructor(el, renderer, userStore) {
        this.el = el;
        this.renderer = renderer;
        this.userStore = userStore;
    }
    ngOnInit() {
        let canAccess = false;
        this.userStore.user.subscribe(currentUser => {
            if (currentUser) {
                // Checking if user has access to system permission
                const grantedPermissionIndex = currentUser.permissions.permissionsGranted.findIndex(c => c === this.showIfCanAccess);
                canAccess = grantedPermissionIndex > -1;
            }
        });
        if (!canAccess) {
            this.renderer.setStyle(this.el.nativeElement, 'display', 'none');
        }
    }
};
ShowIfCanAccessDirective.ctorParameters = () => [
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"] },
    { type: _user_user_store__WEBPACK_IMPORTED_MODULE_2__["UserStore"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], ShowIfCanAccessDirective.prototype, "showIfCanAccess", void 0);
ShowIfCanAccessDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
        selector: '[showIfCanAccess]'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"], _user_user_store__WEBPACK_IMPORTED_MODULE_2__["UserStore"]])
], ShowIfCanAccessDirective);



/***/ }),

/***/ "./client-src/app/_core/guards/can-deactivate-guard.service.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/_core/guards/can-deactivate-guard.service.ts ***!
  \*********************************************************************/
/*! exports provided: CanDeactivateGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanDeactivateGuard", function() { return CanDeactivateGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


// TODO implement interface for canDeactivate for each component that utilizes this service
let CanDeactivateGuard = class CanDeactivateGuard {
    canDeactivate(component, route, state) {
        return component.canDeactivate ? component.canDeactivate() : true;
    }
};
CanDeactivateGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], CanDeactivateGuard);



/***/ }),

/***/ "./client-src/app/_core/guards/can-deactivate.service.ts":
/*!***************************************************************!*\
  !*** ./client-src/app/_core/guards/can-deactivate.service.ts ***!
  \***************************************************************/
/*! exports provided: CanDeactivateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanDeactivateService", function() { return CanDeactivateService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let CanDeactivateService = class CanDeactivateService {
    constructor() {
        this.confirmDialogText = 'Are you sure? You\'ll lose your changes.';
    }
    canDeactivateForm(currentForm, dirty) {
        // TODO: The confirm window should show if form is submitted and has validation errors
        if (dirty || currentForm && currentForm.dirty && currentForm.submitted === false) {
            return confirm(this.confirmDialogText);
        }
        return true;
    }
    canDeactivateComponent(dirty) {
        if (dirty) {
            return confirm(this.confirmDialogText);
        }
        return true;
    }
    canDeactivateFormAndComponent(currentForm, dirty) {
        if (dirty || (currentForm && currentForm.dirty && currentForm.submitted === false)) {
            return confirm(this.confirmDialogText);
        }
        return true;
    }
};
CanDeactivateService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], CanDeactivateService);



/***/ }),

/***/ "./client-src/app/_core/guards/component-can-deactivate.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/_core/guards/component-can-deactivate.ts ***!
  \*****************************************************************/
/*! exports provided: ComponentCanDeactivate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentCanDeactivate", function() { return ComponentCanDeactivate; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


class ComponentCanDeactivate {
    unloadNotification($event) {
        if (!this.canDeactivate()) {
            $event.returnValue = true;
        }
    }
}
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('window:beforeunload', ['$event']),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object]),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], ComponentCanDeactivate.prototype, "unloadNotification", null);


/***/ }),

/***/ "./client-src/app/_core/guards/rules-guard.service.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_core/guards/rules-guard.service.ts ***!
  \************************************************************/
/*! exports provided: RulesGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RulesGuard", function() { return RulesGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");




let RulesGuard = class RulesGuard {
    constructor(router, alertService) {
        this.router = router;
        this.alertService = alertService;
    }
    canDeactivate(target, currentRoute, currentState, nextState) {
        const segments = this.router.parseUrl(nextState.url).root.children.primary.segments;
        if ((!target.selectedCostField || target.selectedCostField === 'undefined') && segments[2] && segments[2].path === 'Reconciliation') {
            this.alertService.error('Please select an Allocation Field to continue.');
            return false;
        }
        else {
            return true;
        }
    }
};
RulesGuard.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
    { type: _services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] }
];
RulesGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], _services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"]])
], RulesGuard);



/***/ }),

/***/ "./client-src/app/_core/i18n/translation-base-keys.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_core/i18n/translation-base-keys.ts ***!
  \************************************************************/
/*! exports provided: TranslationBaseKeys */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TranslationBaseKeys", function() { return TranslationBaseKeys; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class TranslationBaseKeys {
    static generatei18n(baseKey) {
        return baseKey + '_';
    }
}
TranslationBaseKeys.home = TranslationBaseKeys.generatei18n('home');
TranslationBaseKeys.common = TranslationBaseKeys.generatei18n('common');
TranslationBaseKeys.reconciliation = TranslationBaseKeys.generatei18n('reconciliation');
TranslationBaseKeys.dataImport = TranslationBaseKeys.generatei18n('data-import');
TranslationBaseKeys.building = TranslationBaseKeys.generatei18n('building');
TranslationBaseKeys.asset = TranslationBaseKeys.generatei18n('asset');
TranslationBaseKeys.dashboard = TranslationBaseKeys.generatei18n('dashboard');
TranslationBaseKeys.kendo = TranslationBaseKeys.generatei18n('kendo');
TranslationBaseKeys.projectProfile = TranslationBaseKeys.generatei18n('project-profile');
TranslationBaseKeys.matchCodes = TranslationBaseKeys.generatei18n('match-codes');
TranslationBaseKeys.templateManagement = TranslationBaseKeys.generatei18n('template-management');
TranslationBaseKeys.trending = TranslationBaseKeys.generatei18n('trending');
TranslationBaseKeys.depreciation = TranslationBaseKeys.generatei18n('depreciation');
TranslationBaseKeys.qualityControl = TranslationBaseKeys.generatei18n('quality-control');
TranslationBaseKeys.cascading = TranslationBaseKeys.generatei18n('cascading');
TranslationBaseKeys.reports = TranslationBaseKeys.generatei18n('reports');
TranslationBaseKeys.alert = TranslationBaseKeys.generatei18n('alert');
TranslationBaseKeys.groupManagement = TranslationBaseKeys.generatei18n('group-management');
TranslationBaseKeys.groupSave = TranslationBaseKeys.generatei18n('group-save');
TranslationBaseKeys.admin = TranslationBaseKeys.generatei18n('admin');
TranslationBaseKeys.headerManagement = TranslationBaseKeys.generatei18n('header-management');
TranslationBaseKeys.recipients = TranslationBaseKeys.generatei18n('recipients');
TranslationBaseKeys.fileUpload = TranslationBaseKeys.generatei18n('file-upload');
TranslationBaseKeys.processing = TranslationBaseKeys.generatei18n('processing');
TranslationBaseKeys.transactions = TranslationBaseKeys.generatei18n('transactions');
TranslationBaseKeys.userFactors = TranslationBaseKeys.generatei18n('user-factors');
TranslationBaseKeys.customAdditions = TranslationBaseKeys.generatei18n('custom-additions');
TranslationBaseKeys.customField = 'customField';
TranslationBaseKeys.noTranslate = TranslationBaseKeys.generatei18n('no-translate');
TranslationBaseKeys.auth = TranslationBaseKeys.generatei18n('auth');
TranslationBaseKeys.support = TranslationBaseKeys.generatei18n('support');


/***/ }),

/***/ "./client-src/app/_core/i18n/translation-manager.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/_core/i18n/translation-manager.ts ***!
  \**********************************************************/
/*! exports provided: TranslationManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TranslationManager", function() { return TranslationManager; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");



let TranslationManager = class TranslationManager {
    constructor(translateService) {
        this.translateService = translateService;
        this.missingTranslations = {};
    }
    instant(key, params) {
        if (key.indexOf('no-translate_') !== -1) {
            return this.translateService.instant(key.split('_')[1], params);
        }
        const formattedBaseKey = key.toLowerCase().replace(/\s/g, '');
        let label = '';
        const keys = key.split('_');
        if (keys.length > 0) {
            label = keys[keys.length - 1];
        }
        const value = this.translateService.instant(formattedBaseKey, params);
        if (value.split('_').length > 1) {
            // String w/ '_' so its a missing translation
            this.missingTranslations[formattedBaseKey] = `${label}`;
            console.log(JSON.stringify(this.missingTranslations), 'Missing translations');
        }
        return value;
    }
};
TranslationManager.ctorParameters = () => [
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"] }
];
TranslationManager = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"]])
], TranslationManager);



/***/ }),

/***/ "./client-src/app/_core/services/alert.service.ts":
/*!********************************************************!*\
  !*** ./client-src/app/_core/services/alert.service.ts ***!
  \********************************************************/
/*! exports provided: AlertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertService", function() { return AlertService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_alert_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_enums/alert-type */ "./client-src/app/_enums/alert-type.ts");







let AlertService = class AlertService {
    constructor(router, translationManager) {
        this.router = router;
        this.translationManager = translationManager;
        this.subject = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.keepAfterRouteChange = false;
        this.i18n = _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        // clear alert messages on route change unless 'keepAfterRouteChange' flag is true
        router.events.subscribe(event => {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_5__["NavigationStart"]) {
                if (this.keepAfterRouteChange) {
                    // only keep for a single route change
                    this.keepAfterRouteChange = false;
                }
                else {
                    // clear alert messages
                    this.clear();
                }
            }
        });
    }
    getAlert() {
        return this.subject.asObservable();
    }
    success(message, keepAfterRouteChange = false, params) {
        this.alert(_enums_alert_type__WEBPACK_IMPORTED_MODULE_6__["AlertType"].Success, message, keepAfterRouteChange, params);
    }
    error(message, keepAfterRouteChange = false, params) {
        this.alert(_enums_alert_type__WEBPACK_IMPORTED_MODULE_6__["AlertType"].Error, message, keepAfterRouteChange, params);
    }
    info(message, keepAfterRouteChange = false, params) {
        this.alert(_enums_alert_type__WEBPACK_IMPORTED_MODULE_6__["AlertType"].Info, message, keepAfterRouteChange, params);
    }
    warn(message, keepAfterRouteChange = false, params) {
        this.alert(_enums_alert_type__WEBPACK_IMPORTED_MODULE_6__["AlertType"].Warning, message, keepAfterRouteChange, params);
    }
    alert(type, message, keepAfterRouteChange = false, params) {
        this.keepAfterRouteChange = keepAfterRouteChange;
        this.subject.next({ type: type, message: this.translateMessage(this.i18n.alert + message, params) });
    }
    clear() {
        // clear alerts
        this.subject.next();
    }
    translateMessage(message, params) {
        return this.translationManager.instant(message, params);
    }
};
AlertService.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] },
    { type: _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"] }
];
AlertService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"], _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"]])
], AlertService);



/***/ }),

/***/ "./client-src/app/_core/services/asset-file-info-service.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_core/services/asset-file-info-service.ts ***!
  \******************************************************************/
/*! exports provided: AssetFileInfoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetFileInfoService", function() { return AssetFileInfoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/_runtime/services/settings-api.service */ "./client-src/app/_api/_runtime/services/settings-api.service.ts");
/* harmony import */ var _enums_setting_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_enums/setting-type */ "./client-src/app/_enums/setting-type.ts");







let AssetFileInfoService = class AssetFileInfoService {
    constructor(translateService, settingsApiService) {
        this.translateService = translateService;
        this.settingsApiService = settingsApiService;
        this.i18n = _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.referenceData = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.userSettingdto = new Array();
        this.hiddenColumns = [
            'assetId',
            'isMatched',
            'isParent',
            'isChild',
            'parentChildMatches',
            'matchTypes',
            'matches',
            'matchCodeId',
            'parentId',
            'matchId',
            'allocatedValue',
            'allocationId',
            'id',
            'updatedTimeStamp',
            'assetFileId',
            'sourceRecordId',
            'groupId',
            'inventoryImageUrl2',
            'inventoryImageUrl3',
            'inventoryImageUrl4',
            'inventoryImageUrl5',
            'inventoryImageUrl6',
            'inventoryImageUrl7',
            'buildingId',
        ];
        // Read only fields
        this.readOnlyFields = [
            'depreciationAsOfDate'
        ];
        this.defaultColumns = [
            'displayId',
            'assetTagNumber',
            'activityCode',
            'siteNumber',
            'buildingNumber',
            'accountNumber',
            'classCode',
            'description',
            'manufacturer',
            'modelNumber',
            'serialNumber',
            'acquisitionDate',
            'historicalCost',
            'costReplacementNew'
        ];
        this.defaultColumnsMassUpdate = [
            'displayId',
            'serialNumber',
            'assetTagNumber',
            'description',
            'manufacturer',
            'building'
        ];
        this.defaultColumnsDuplicateCheck = [
            'displayId',
            'manufacturer',
            'modelNumber',
            'serialNumber'
        ];
        this.hiddenFields = [
            'siteName',
            'buildingName',
        ];
        this.nonTranslatedFields = [
            'accountId',
            'departmentId'
        ];
        this.accountFieldNames = [
            'accountNumber',
            'accountDescription'
        ];
        this.departmentFieldNames = [
            'departmentName',
            'departmentNumber'
        ];
    }
    GetAccountColumns() {
        return this.accountFieldNames;
    }
    GetDepartmentColumns() {
        return this.departmentFieldNames;
    }
    GetInternalColumns() {
        return this.hiddenColumns;
    }
    GetDefaultColumns() {
        return this.defaultColumns;
    }
    GetDefaultMassUpdateColumns() {
        return this.defaultColumnsMassUpdate;
    }
    GetDefaultDuplicateCheckColumns() {
        return this.defaultColumnsDuplicateCheck;
    }
    GetHiddenFields() {
        return this.hiddenFields;
    }
    GetInternalAndHiddenFields() {
        return this.hiddenColumns.concat(this.hiddenFields);
    }
    GetNonTranslatedFields() {
        return this.nonTranslatedFields.concat(this.nonTranslatedFields);
    }
    mapEnums(assetDtos, uiAssets, searchRecordDtos) {
        let assets = new Array();
        const s = this;
        if (assetDtos) {
            assets = assetDtos;
        }
        else if (uiAssets) {
            assets = uiAssets;
        }
        else {
            assets = searchRecordDtos;
        }
        const referenceData = this.referenceData.getValue();
        assets.forEach(asset => {
            const activityCode = referenceData['ActivityCodes'].find(c => c.value === asset['activityCode']);
            asset['activityCode'] = activityCode ? this.translateService.instant(this.i18n.asset + activityCode.displayName) : 'n/a';
            if (referenceData['DepreciationConventions']) {
                const depreciationConvention = referenceData['DepreciationConventions'].find(c => c.value === asset['depreciationConvention']);
                asset['depreciationConvention'] = depreciationConvention ?
                    this.translateService.instant(this.i18n.asset + depreciationConvention.displayName) : '';
            }
            if (referenceData['DepreciationMethods']) {
                const depreciationMethod = referenceData['DepreciationMethods'].find(c => c.value === asset['depreciationMethod']);
                asset['depreciationMethod'] = depreciationMethod ?
                    this.translateService.instant(this.i18n.asset + depreciationMethod.displayName) : '';
            }
        });
        return assets;
    }
    mapEnumResult(enumResultArr) {
        return enumResultArr.map((obj) => {
            return { key: obj.value, displayName: obj.displayName };
        });
    }
    updateReferenceData(data, key) {
        const current = this.referenceData.getValue();
        current[key] = data;
        this.referenceData.next(current);
    }
    getSettingName(groupId, name = '') {
        return `${groupId}/${name}`;
    }
    getImportMappedColumns(groupId) {
        const s = this;
        s.settingName = s.getSettingName(groupId, 'importMappedColumns');
        return s.settingsApiService.getSettingsByGroupIdSettingType(groupId, _enums_setting_type__WEBPACK_IMPORTED_MODULE_6__["SettingType"].importMappedColumns);
    }
};
AssetFileInfoService.ctorParameters = () => [
    { type: _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"] },
    { type: _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_5__["SettingsApiService"] }
];
AssetFileInfoService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"], _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_5__["SettingsApiService"]])
], AssetFileInfoService);



/***/ }),

/***/ "./client-src/app/_core/services/building-info-service.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_core/services/building-info-service.ts ***!
  \****************************************************************/
/*! exports provided: BuildingInfoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingInfoService", function() { return BuildingInfoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _helper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/_runtime/enums/record-type */ "./client-src/app/_api/_runtime/enums/record-type.ts");
/* harmony import */ var _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/_runtime/enums/activity-code */ "./client-src/app/_api/_runtime/enums/activity-code.ts");
/* harmony import */ var _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_api/_runtime/enums/entry-alarm */ "./client-src/app/_api/_runtime/enums/entry-alarm.ts");
/* harmony import */ var _api_runtime_enums_unit_of_measure__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_api/_runtime/enums/unit-of-measure */ "./client-src/app/_api/_runtime/enums/unit-of-measure.ts");
/* harmony import */ var _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_api/_runtime/enums/building-condition */ "./client-src/app/_api/_runtime/enums/building-condition.ts");














let BuildingInfoService = class BuildingInfoService {
    constructor(insuranceApiService, referenceDataApiService, translateService, helperService) {
        this.insuranceApiService = insuranceApiService;
        this.referenceDataApiService = referenceDataApiService;
        this.translateService = translateService;
        this.helperService = helperService;
        this.i18n = _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.buildingAttributeCodesSource = new rxjs__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"](undefined);
        this.buildingAttributeCodes$ = this.buildingAttributeCodesSource.asObservable();
        this.cascadedSelectedOption = new rxjs__WEBPACK_IMPORTED_MODULE_8__["BehaviorSubject"](new Array());
        this.cascadedTree$ = this.cascadedSelectedOption.asObservable();
        this.hiddenColumns = [
            'id',
            'siteId',
            'iRISRowID',
            'buildingId',
            'childAdditionCriterionId',
            'referenceBuildingAdditionCriterionId',
            'updatedUserId'
        ];
        this.occupancyCodeAttributeTypeCode = '101';
        /* Columns To display as default (from Jason S):
      1.	Activity Code
      2.	Building Type
      3.	Date Of Inspection
      4.	Member
      5.	Building description
      6.	Unit of Measure
      7.	Site
      8.	Building Name
      */
        this.defaultColumns = [
            'activityCode',
            'memberNumber',
            'siteNumber',
            'buildingNumber',
            'buildingName',
            'costReproductionNew',
            'valuationCreatedDate',
            'floorArea',
            'basementFloorArea',
            'inspectionDate',
            'valuationNumber',
            'displayId'
        ];
        this.readonlyColumns = [
            'displayId',
            'id',
            'valuationId',
            'valuationNumber',
            'valuationLastUpdateMultiplier',
            'valuationEffectiveDate',
            'valuationExpirationDate',
            'valuationCreatedDate',
            'valuationActualCashValue',
            'valuationErrorCode',
            'valuationErrorDescription',
            'iRISRowID',
            'siteId',
            'memberName',
            'memberNumber',
            'siteNumber',
            'siteName',
            'updatedUserId',
            'basementFloorArea',
            'floodPlainStatus',
            'floodPlainStatusName',
            'floodPlainStatusCode',
            'floodPlainDescription',
            'floodPlainNFIPCommunityFirmDate',
            'floodPlainNFIPCommunityIdentifier',
            'floodPlainNFIPCommunityName',
            'floodPlainNFIPCommunityParticipationStartDate',
            'floodPlainNFIPCounty',
            'floodPlainNFIPState',
            'floodPlainFloodDepth',
            'floodPlainFloodZoneboundary1Identifier',
            'floodPlainFloodZoneboundary1Distance',
            'floodPlainFloodZoneboundary2Identifier',
            'floodPlainFloodZoneboundary2Distance',
            'floodPlainFloodZoneIdentifier',
            'floodPlainMapIdentifier',
            'floodPlainMapIndicator',
            'floodPlainMapPanelDate',
            'floodPlainMapPanelIdentifier',
            'floodPlainMapPanelSuffixIdentifier',
            'floodPlainSpecialFloodHazardAreaDistanceFeetCount',
            'floodPlainPartialIndicator',
            'floodPlainSpecialFloodHazardAreaIndicator'
        ];
        this.siteAttributeColumns = [
            'soilCondition',
            'degreeSlope',
            'siteAccessibility',
            'sitePosition'
        ];
        this.mapSitePosition = new Map();
        this.mapSiteAccessibility = new Map();
        this.mapSoilCondition = new Map();
        this.mapDegreeSlope = new Map();
    }
    GetReadonlyAndHiddenFields() {
        return this.readonlyColumns.concat(this.hiddenColumns);
    }
    GetInternalColumns() {
        return this.hiddenColumns;
    }
    GetDefaultColumns() {
        return this.defaultColumns;
    }
    GetSiteAttributeFields() {
        return this.siteAttributeColumns;
    }
    mapGridColumns(buildings) {
        buildings.forEach(building => {
            building.imageCollection = building.buildingImages;
            building.activityCode = this.mapActivityCode(parseInt(building.activityCode, 10));
            building.type = this.mapRecordType(parseInt(building.type, 10));
            building.entryAlarm = this.mapEntryAlarmType(parseInt(building.entryAlarm, 10));
            building.unitOfMeasure = this.mapUnitOfMeasure(parseInt(building.unitOfMeasure, 10));
            building.buildingCondition = this.mapBuildingCondition(parseInt(building.buildingCondition, 10));
            building.sitePosition = this.mapSitePositionValue(building.sitePosition);
            building.siteAccessibility = this.mapSiteAccessibilityValue(building.siteAccessibility);
            building.soilCondition = this.mapSoilConditionValue(building.soilCondition);
            building.degreeSlope = this.mapDegreeSlopeValue(building.degreeSlope);
        });
        return buildings;
    }
    convertStringsToEnum(building) {
        building.activityCode = this.parseActivityCode(building.activityCode).toString();
        building.type = this.parseRecordType(building.type);
        building.entryAlarm = this.parseEntryAlarmType(building.entryAlarm);
        building.unitOfMeasure = this.parseUnitOfMeasure(building.unitOfMeasure);
        building.buildingCondition = this.parseBuildingCondition(building.buildingCondition);
        return building;
    }
    updateBuildingAttributeCodes(attributeTypesAndCodesResult) {
        this.buildingAttributeCodesSource.next(attributeTypesAndCodesResult);
    }
    getBuildingHierarchyByGroupId(groupId) {
        return this.insuranceApiService.getBuildingHierarchyByGroupId(groupId);
    }
    getSitesByGroupId(groupId) {
        return this.insuranceApiService.getSitesByGroup(groupId);
    }
    mapAttributeCodeToSelectOptions(dto) {
        const options = new Array();
        if (dto) {
            dto.forEach(option => {
                options.push({
                    key: option.buildingAttributeCodeId,
                    displayName: option.description,
                    options: new Array()
                });
            });
        }
        return options;
    }
    mapAttributeCodeToFieldOptions(dto) {
        const options = new Array();
        if (dto) {
            dto.forEach(option => {
                options.push({
                    key: option.buildingAttributeCodeId,
                    displayName: option.description
                });
            });
        }
        return options;
    }
    mapContentCodeToFieldOptions(dto) {
        const options = new Array();
        if (dto) {
            dto.forEach(option => {
                options.push({
                    key: option.description,
                    displayName: option.description
                });
            });
        }
        return options;
    }
    mapEnumDtoToSelectOptions(dto) {
        const options = new Array();
        if (dto && dto.enumOptions) {
            dto.enumOptions.forEach(option => {
                options.push({
                    key: option.value.toString(),
                    displayName: this.translateService.instant(this.i18n.building + option.displayName),
                    options: new Array()
                });
            });
        }
        return options;
    }
    mapSitesToSelectOptions(dto) {
        const options = new Array();
        if (dto.buildings.length > 0) {
            options.push({
                key: 'blankMember',
                displayName: '-',
                options: [{ key: 'blankSite', displayName: '-', options: this.mapBuildings(dto.buildings) }]
            });
        }
        dto.members.forEach(member => {
            if (options.findIndex(c => c.key === member.id) === -1) {
                options.push({
                    key: member.id,
                    displayName: member.name,
                    options: this.mapSites(member)
                });
            }
        });
        return this.helperService.sortCollection(options, 'displayName');
    }
    mapBuildingSelection(selectedKey, options) {
        let selectedValue = '';
        if (options) {
            options.forEach(member => {
                member.options.forEach(site => {
                    if (site.options.findIndex(building => building.key === selectedKey) >= 0) {
                        selectedValue = `${member.key},${site.key},${selectedKey}`;
                    }
                });
            });
        }
        return selectedValue ? selectedValue : `blankMember,blankSite`;
    }
    mapMemberSiteSelection(selectedKey, options) {
        let selectedValue = '';
        options.forEach(member => {
            member.options.forEach(site => {
                if (site.key === selectedKey) {
                    selectedValue = `${member.key},${selectedKey}`;
                }
            });
        });
        return selectedValue;
    }
    getAttributes() {
        return this.referenceDataApiService.getAttributeType().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    getAttributeCodes(attributeTypeId) {
        return this.referenceDataApiService.getAttributeCodes(attributeTypeId);
    }
    getAttributeTypesAndCodes() {
        return this.referenceDataApiService.getAttributeTypesAndCodes().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    getContentCodes() {
        return this.referenceDataApiService.getContentCodes().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    getBuildingConditions() {
        return this.referenceDataApiService.getBuildingConditions().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    getBuildingPerimeterAdjustmentMethod() {
        return this.referenceDataApiService.getBuildingPerimeterAdjustmentMethod().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    getEntryAlarmOptions() {
        return this.referenceDataApiService.getEntryAlarmOptions().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    getUnitsOfMEasure() {
        return this.referenceDataApiService.getUnitsOfMeasure().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    mapSites(member) {
        const sites = new Array();
        member.sites.forEach(site => {
            if (sites.findIndex(c => c.key === site.id) === -1) {
                sites.push({
                    key: site.id,
                    displayName: site.name,
                    options: this.mapBuildings(site.buildings)
                });
            }
        });
        return this.helperService.sortCollection(sites, 'displayName');
    }
    mapBuildings(buildings) {
        const options = new Array();
        buildings.forEach(building => {
            options.push({
                key: building.id,
                displayName: building.name
            });
        });
        return this.helperService.sortCollection(options, 'displayName');
    }
    mapRecordType(recordType) {
        switch (recordType) {
            case _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__["RecordType"].Building:
                return 'Building';
            case _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__["RecordType"].LandImprovement:
                return 'Land Improvement';
            case _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__["RecordType"].MinorBuilding:
                return 'Minor Building';
            default:
                return 'Unknown Record Type';
        }
    }
    parseRecordType(recordType) {
        if (recordType) {
            if (recordType === 'Building') {
                return _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__["RecordType"].Building.toString();
            }
            if (recordType === 'Land Improvement') {
                return _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__["RecordType"].LandImprovement.toString();
            }
            if (recordType === 'Minor Building') {
                return _api_runtime_enums_record_type__WEBPACK_IMPORTED_MODULE_9__["RecordType"].MinorBuilding.toString();
            }
        }
        return undefined;
    }
    mapActivityCode(activityCode) {
        switch (activityCode) {
            case _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].Active:
                return 'Active';
            case _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].Deactivated:
                return 'Deactivated';
            case _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].New:
                return 'New';
            case _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].Retired:
                return 'Retired';
            default:
                return 'Unknown Activity Code';
        }
    }
    mapBuildingCondition(buildingCondition) {
        switch (buildingCondition) {
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Excellent:
                return 'Excellent';
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Good:
                return 'Good';
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Average:
                return 'Average';
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Fair:
                return 'Fair';
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Poor:
                return 'Poor';
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Dilapidated:
                return 'Dilapidated';
            case _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].NA:
                return 'NA';
            default:
                return '';
        }
    }
    parseActivityCode(activityCode) {
        if (!activityCode) {
            return undefined;
        }
        if (activityCode === 'Active') {
            return _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].Active.toString();
        }
        if (activityCode === 'Deactivated') {
            return _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].Deactivated.toString();
        }
        if (activityCode === 'New') {
            return _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].New.toString();
        }
        if (activityCode === 'Retired') {
            return _api_runtime_enums_activity_code__WEBPACK_IMPORTED_MODULE_10__["ActivityCode"].Retired.toString();
        }
        return undefined;
    }
    parseBuildingCondition(buildingCondition) {
        if (!buildingCondition) {
            return undefined;
        }
        if (buildingCondition === 'Excellent') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Excellent.toString();
        }
        if (buildingCondition === 'Good') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Good.toString();
        }
        if (buildingCondition === 'Average') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Average.toString();
        }
        if (buildingCondition === 'Fair') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Fair.toString();
        }
        if (buildingCondition === 'Poor') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Poor.toString();
        }
        if (buildingCondition === 'Dilapidated') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].Dilapidated.toString();
        }
        if (buildingCondition === 'NA') {
            return _api_runtime_enums_building_condition__WEBPACK_IMPORTED_MODULE_13__["BuildingCondition"].NA.toString();
        }
        return undefined;
    }
    mapEntryAlarmType(entryAlarm) {
        switch (entryAlarm) {
            case _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__["EntryAlarm"].No:
                return 'No';
            case _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__["EntryAlarm"].Yes:
                return 'Yes';
            case _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__["EntryAlarm"].Partial:
                return 'Partial';
        }
    }
    parseEntryAlarmType(entryAlarm) {
        if (!entryAlarm) {
            return undefined;
        }
        if (entryAlarm === 'No') {
            return _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__["EntryAlarm"].No.toString();
        }
        if (entryAlarm === 'Yes') {
            return _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__["EntryAlarm"].Yes.toString();
        }
        if (entryAlarm === 'Partial') {
            return _api_runtime_enums_entry_alarm__WEBPACK_IMPORTED_MODULE_11__["EntryAlarm"].Partial.toString();
        }
        return undefined;
    }
    mapUnitOfMeasure(unitOfMeasure) {
        switch (unitOfMeasure) {
            case _api_runtime_enums_unit_of_measure__WEBPACK_IMPORTED_MODULE_12__["UnitOfMeasure"].Feet:
                return 'Feet';
            case _api_runtime_enums_unit_of_measure__WEBPACK_IMPORTED_MODULE_12__["UnitOfMeasure"].Meters:
                return 'Meters';
        }
    }
    parseUnitOfMeasure(unitOfMeasure) {
        if (!unitOfMeasure) {
            return undefined;
        }
        if (unitOfMeasure === 'Feet') {
            return _api_runtime_enums_unit_of_measure__WEBPACK_IMPORTED_MODULE_12__["UnitOfMeasure"].Feet.toString();
        }
        if (unitOfMeasure === 'Meters') {
            return _api_runtime_enums_unit_of_measure__WEBPACK_IMPORTED_MODULE_12__["UnitOfMeasure"].Meters.toString();
        }
        return undefined;
    }
    mapSitePositionValue(sitePosition) {
        this.mapSitePosition.set("db24628b-f40d-400c-bb8d-aff6f9c60bfa", "Unknown");
        this.mapSitePosition.set("266ab478-01c8-4c46-8c93-02ddfb57198b", "Downhill");
        this.mapSitePosition.set("53fe322f-485c-46f7-ad9d-8db0b0ab32f4", "Uphill");
        return this.mapSitePosition.get(sitePosition);
    }
    mapSiteAccessibilityValue(siteAccessibility) {
        this.mapSiteAccessibility.set("630c3d59-7ddc-42b2-8af6-0582688eaf0b", "Excellent");
        this.mapSiteAccessibility.set("0b71e4ef-639c-4d75-91f4-5dd677e11468", "Good");
        this.mapSiteAccessibility.set("8817bcc8-2099-4173-a5be-f85ff77ca774", "Fair");
        this.mapSiteAccessibility.set("a1d639de-85d1-400d-9b83-3bc3449fa5db", "Poor");
        return this.mapSiteAccessibility.get(siteAccessibility);
        ;
    }
    mapSoilConditionValue(soilCondition) {
        this.mapSoilCondition.set("42bd3ad8-52ba-48d2-b730-f904dedee28a", "Excellent");
        this.mapSoilCondition.set("8f8454ab-0392-4707-b662-2c5aab4ddb74", "Good");
        this.mapSoilCondition.set("b0c1e52c-7b26-44ea-a0f2-f08631f76b39", "Fair");
        this.mapSoilCondition.set("65ac8f8c-498d-47d1-8511-a649e0f2fd7a", "Poor");
        return this.mapSoilCondition.get(soilCondition);
        ;
    }
    mapDegreeSlopeValue(degreeSlope) {
        this.mapDegreeSlope.set("c1d4b048-3d48-40d4-9b8f-35b2c7f01534", "Level");
        this.mapDegreeSlope.set("4d1d699e-7c3d-4274-bb1f-9b2dcca2db59", "15%");
        this.mapDegreeSlope.set("fadc42f9-293b-401c-a3df-2081cf86b859", "30%");
        this.mapDegreeSlope.set("76eea7c1-3122-430d-b742-6e69064f50e1", "45%");
        return this.mapSitePosition.get(degreeSlope);
    }
};
BuildingInfoService.ctorParameters = () => [
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_6__["InsuranceApiService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_7__["ReferenceDataApiService"] },
    { type: _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__["TranslationManager"] },
    { type: _helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"] }
];
BuildingInfoService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_6__["InsuranceApiService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_7__["ReferenceDataApiService"],
        _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__["TranslationManager"],
        _helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"]])
], BuildingInfoService);



/***/ }),

/***/ "./client-src/app/_core/services/dynamic-form-control.service.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_core/services/dynamic-form-control.service.ts ***!
  \***********************************************************************/
/*! exports provided: DynamicFormControlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicFormControlService", function() { return DynamicFormControlService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");



let DynamicFormControlService = class DynamicFormControlService {
    constructor() {
        this.optionSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.options$ = this.optionSource.asObservable();
    }
    updateOptions(id, options) {
        const current = this.optionSource.getValue();
        current[id] = options;
        this.optionSource.next(current);
    }
};
DynamicFormControlService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], DynamicFormControlService);



/***/ }),

/***/ "./client-src/app/_core/services/error-handler.service.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_core/services/error-handler.service.ts ***!
  \****************************************************************/
/*! exports provided: ErrorHandlerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorHandlerService", function() { return ErrorHandlerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _logging_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logging.service */ "./client-src/app/_core/services/logging.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");





let ErrorHandlerService = class ErrorHandlerService {
    constructor(injector) {
        this.injector = injector;
    }
    handleError(error) {
        const loggingService = this.injector.get(_logging_service__WEBPACK_IMPORTED_MODULE_1__["LoggingService"]);
        const router = this.injector.get(_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]);
        if (!(error instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpErrorResponse"])) {
            loggingService.logError(error);
            router.navigate(['error/500'], { skipLocationChange: true, replaceUrl: true });
        }
    }
};
ErrorHandlerService.ctorParameters = () => [
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injector"] }
];
ErrorHandlerService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injector"]])
], ErrorHandlerService);



/***/ }),

/***/ "./client-src/app/_core/services/famis-grid.service.ts":
/*!*************************************************************!*\
  !*** ./client-src/app/_core/services/famis-grid.service.ts ***!
  \*************************************************************/
/*! exports provided: FamisGridService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamisGridService", function() { return FamisGridService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _filter_operations_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _user_user_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _user_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _api_services_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");











let FamisGridService = class FamisGridService {
    constructor(filterOperationsService, intl, apiService, configService, userStore, userGridService) {
        this.filterOperationsService = filterOperationsService;
        this.intl = intl;
        this.apiService = apiService;
        this.configService = configService;
        this.userStore = userStore;
        this.userGridService = userGridService;
        // Usage of Any type is by design as Grid can present a collection of any datatype
        this.cachedRecordsSource = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](new Array());
        this.cachedRecords$ = this.cachedRecordsSource.asObservable();
        this.editedRecordsSource = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](new Array());
        this.editedRecords$ = this.editedRecordsSource.asObservable();
        this.editedRecordsWithErrorsSource = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](new Array());
        this.editedRecordsWithErrors$ = this.editedRecordsWithErrorsSource.asObservable();
        this.windowSize = 250;
        this.cacheSize = 250;
        this.defaultSkip = 0;
        this.defaultTake = 250;
        this.totalRecordCounts = new Array();
        this.currentSort = new Array();
        this.filterTerms = new Array();
        this.lastCachedIndexSource = new Array();
    }
    setUserId() {
        this.userStore.user.subscribe(user => {
            this.userId = user.profile.IdentityId.toString();
        });
    }
    setUserGridFilterSettings(dataSource, routeUrl, gridName, gridSelectedHeaders) {
        this.setUserGridSettingName(dataSource ? dataSource.toString() : null, routeUrl, gridName);
        this.userGridSettingsName = this.userId + this.userGridSettingsName;
        return this.userGridService.getSettings(this.userId, this.userGridSettingsName, gridSelectedHeaders);
    }
    setUserGridSettingName(dataSource, routeUrl, gridName) {
        this.userGridSettingsName = this.userGridService.createUserGridId(dataSource, routeUrl, gridName);
    }
    update(gridId, skip, take, totalRecordCount, sortTerms, clearCache = false) {
        const s = this;
        return rxjs__WEBPACK_IMPORTED_MODULE_5__["Observable"].create(function (observer) {
            const result = {
                gridId: gridId,
                updateCache: true,
                cachedData: null,
                filters: s.filterTerms.length > 0 ? s.filterTerms[gridId] : null,
                sortTerms: s.currentSort.length > 0 ? s.currentSort[gridId] : null,
                cacheWindow: s.calculateCacheRecords(gridId, skip, totalRecordCount)
            };
            observer.next(result);
            observer.complete();
        });
    }
    clearEditedRecords() {
        this.editedRecordsSource.next(new Array());
        this.editedRecordsWithErrorsSource.next(new Array());
    }
    addEditedRecord(itemId, dataItem) {
        let current = this.editedRecordsSource.getValue();
        if (!Array.isArray(current)) {
            current = new Array();
        }
        current.push({ itemId: itemId, dataItem: dataItem });
        console.log(current, 'Add edited record');
        this.editedRecordsSource.next(current);
    }
    addRecordsWithErrors(itemId, dataItem) {
        let current = this.editedRecordsWithErrorsSource.getValue();
        if (!Array.isArray(current)) {
            current = new Array();
        }
        const index = current.findIndex(c => c.itemId === itemId);
        if (index === -1) {
            current.push({ itemId: itemId, dataItem: dataItem });
        }
        this.editedRecordsWithErrorsSource.next(current);
    }
    removeEditedRecord(itemId) {
        let current = this.editedRecordsSource.getValue();
        if (!Array.isArray(current)) {
            current = new Array();
        }
        const index = current.findIndex(c => c.itemId === itemId);
        current.splice(index, 1);
        this.editedRecordsSource.next(current);
    }
    removeRecordWithErrors(itemId) {
        let current = this.editedRecordsWithErrorsSource.getValue();
        if (!Array.isArray(current)) {
            current = new Array();
        }
        const index = current.findIndex(c => c.itemId === itemId);
        if (index !== -1) {
            current.splice(index, 1);
        }
        this.editedRecordsWithErrorsSource.next(current);
    }
    createGrid() {
        const current = this.cachedRecordsSource.getValue();
        // Usage of Any type is by design as Grid can present a collection of any datatype
        current.push(new Array());
        this.cachedRecordsSource.next(current);
        return current.length - 1;
    }
    // Usage of Any type is by design as Grid can present a collection of any datatype
    setCacheRecords(gridData, gridId, skip, totalRecordCount, take) {
        const current = this.cachedRecordsSource.getValue();
        current[gridId] = gridData;
        this.cachedRecordsSource.next(current);
        this.lastCachedIndexSource[gridId] = skip + take;
        this.totalRecordCounts[gridId] = totalRecordCount;
    }
    mapFilterTerms(kendoFilters, gridId, dataTarget) {
        const s = this;
        s.resetFilters();
        let success = false;
        if (kendoFilters) {
            const filters = kendoFilters.filters;
            [].concat.apply([], filters.map(c => c.filters || c)).forEach(filter => {
                if (Array.isArray(filter.value)) {
                    this.filterTerms[gridId] = [...this.filterTerms[gridId], ...this.consturctAssetFilterTermArray(filter.value, dataTarget)];
                }
                else if (typeof filter.value === 'string') {
                    this.filterTerms[gridId] = [...this.filterTerms[gridId], this.constructContractFilterTerm(filter)];
                }
                success = true;
            });
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])(success);
    }
    consturctAssetFilterTermArray(filterTerms, dataTarget) {
        let assetFilterTermArray = Array();
        filterTerms.forEach(term => {
            assetFilterTermArray = [
                ...assetFilterTermArray,
                {
                    term: {
                        dataTarget: dataTarget,
                        field: term.field.toString(),
                        value: term.value
                    },
                    operation: term.operator.toString()
                }
            ];
        });
        return assetFilterTermArray;
    }
    constructContractFilterTerm(filterTerm) {
        return {
            operation: filterTerm.operator,
            term: {
                field: filterTerm.field,
                value: filterTerm.value
            }
        };
    }
    mapBuildingFilterTerms(kendoFilters, gridId) {
        const s = this;
        s.resetFilters();
        const tempFilter = this.filterTerms[gridId];
        let success = false;
        if (kendoFilters) {
            kendoFilters.filters.forEach(d => {
                const filterDescriptor = d;
                filterDescriptor.filters.forEach(f => {
                    const kendoFilter = f;
                    const filterOperation = this.filterOperationsService.mapKendoFilterOperation(kendoFilter.operator.toString());
                    if (filterOperation !== 'notsupported') {
                        const buildingFilterTerm = {
                            term: {
                                field: kendoFilter.field.toString(),
                                value: kendoFilter.value
                            },
                            operation: filterOperation
                        };
                        this.filterTerms[gridId].push(buildingFilterTerm);
                        success = true;
                    }
                });
            });
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])(success);
    }
    mapToTypedValues(dataItem, headers) {
        const props = Object.keys(dataItem);
        const dateHeaders = headers.filter(c => c.fieldType === 'date' || c.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Date
            || c.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].DateTime);
        const numericHeaders = headers.filter(c => c.fieldType === 'numeric' ||
            c.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Double || c.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Integer || c.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Percent);
        props.forEach(property => {
            if (dateHeaders.findIndex(c => c.name === property) !== -1) {
                const date = this.intl.parseDate(dataItem[property]);
                dataItem[property] = this.intl.toString(date, 'MM/dd/yyyy');
            }
            if (numericHeaders.findIndex(c => c.name === property) !== -1) {
                dataItem[property] = this.intl.parseNumber(dataItem[property], 'n', 'en');
            }
        });
        return dataItem;
    }
    resetFilters() {
        const current = this.cachedRecordsSource.getValue();
        this.filterTerms = new Array();
        current.forEach(cachedRecord => {
            this.filterTerms.push(new Array());
        });
    }
    resetCache() {
        let current = this.cachedRecordsSource.getValue();
        // Usage of Any type is by design as Grid can present a collection of any datatype
        current = new Array();
        this.cachedRecordsSource.next(current);
    }
    calculateCacheRecords(gridId, skip, recordCount) {
        let take = this.cacheSize;
        if (recordCount <= this.cacheSize) {
            take = recordCount;
        }
        if (recordCount > this.cacheSize && skip === 0) {
            take = this.cacheSize;
        }
        if (recordCount > this.cacheSize && skip > this.cacheSize) {
            take = this.cacheSize;
        }
        return { skip: skip, take: !take ? this.defaultTake : take };
    }
    AddAssetCustomColumns(fileId, columns) {
        return this.apiService
            .post(`${this.configService.getSettings('runtimeApiEndpoint')}/Inventory/AssetFiles/${fileId}/CustomColumns`, columns).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    AddBuildingCustomColumns(groupId, columns) {
        return this.apiService
            .post(`${this.configService.getSettings('runtimeApiEndpoint')}/Insurance/group/${groupId}/CustomColumns`, columns).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result));
    }
    DeleteAssetCustomColumn(fileId, customColumnName) {
        return this.apiService
            .delete(`${this.configService.getSettings('runtimeApiEndpoint')}/Inventory/AssetFiles/${fileId}/CustomColumn/${customColumnName}`);
    }
    DeleteBuildingCustomColumn(groupId, customColumnName) {
        return this.apiService
            .delete(`${this.configService.getSettings('runtimeApiEndpoint')}/Insurance/group/${groupId}/CustomColumn/${customColumnName}`);
    }
    IsBuildingCustomColumnEmpty(groupId, customColumnName) {
        return this.apiService
            .get(`${this.configService.getSettings('runtimeApiEndpoint')}/Insurance/group/${groupId}/CustomColumn/${customColumnName}`);
    }
    IsAssetCustomColumnEmpty(fileId, customColumnName) {
        return this.apiService
            .get(`${this.configService.getSettings('runtimeApiEndpoint')}/Inventory/AssetFiles/${fileId}/CustomColumn/${customColumnName}`);
    }
};
FamisGridService.ctorParameters = () => [
    { type: _filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"] },
    { type: _api_services_api_service__WEBPACK_IMPORTED_MODULE_8__["ApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_9__["ConfigService"] },
    { type: _user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"] },
    { type: _user_grid_service__WEBPACK_IMPORTED_MODULE_4__["UserGridService"] }
];
FamisGridService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"],
        _api_services_api_service__WEBPACK_IMPORTED_MODULE_8__["ApiService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_9__["ConfigService"],
        _user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"],
        _user_grid_service__WEBPACK_IMPORTED_MODULE_4__["UserGridService"]])
], FamisGridService);



/***/ }),

/***/ "./client-src/app/_core/services/filter-operations.service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/_core/services/filter-operations.service.ts ***!
  \********************************************************************/
/*! exports provided: FilterOperationsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterOperationsService", function() { return FilterOperationsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");



let FilterOperationsService = class FilterOperationsService {
    constructor() {
        // Setting filter operations for each data type
        this.integerOperations = ['eq', 'gt', 'lt', 'ge', 'le', 'ne', 'in', 'nin'];
        this.doubleOperations = ['eq', 'gt', 'lt', 'ge', 'le', 'ne', 'in', 'nin'];
        this.stringOperations = ['eq', 'ne', 'sw', 'ctns', 'nctns', 'in', 'nin'];
        this.booleanOperations = ['eq', 'in', 'nin'];
        this.dateTimeOperations = ['eq', 'gt', 'lt', 'ge', 'le', 'ne', 'in', 'nin'];
        this.dropdownOperations = ['eq', 'ne'];
        this.dropdownNullOperations = ['eq', 'ne', 'in', 'nin'];
        this.reportStringOpertations = ['eq'];
        this.operations = [
            { name: 'eq', displayName: 'Equals' },
            { name: 'gt', displayName: 'Is Greater Than' },
            { name: 'lt', displayName: 'Is Less Than' },
            { name: 'ge', displayName: 'Is Greater Than or Equal To' },
            { name: 'le', displayName: 'Is Less Than or Equal To' },
            { name: 'ne', displayName: 'Is Not Equal To' },
            { name: 'ctns', displayName: 'Contains' },
            { name: 'nctns', displayName: 'Not Contains' },
            { name: 'in', displayName: 'Is Null' },
            { name: 'nin', displayName: 'Is Not Null' },
            { name: 'sw', displayName: 'Starts With' },
        ];
    }
    // Gets filter operations for the given data type (int, double, string etc...)
    getOperationsForFieldType(fieldType, isNullable = false) {
        let operationsForType = new Array();
        const s = this;
        switch (fieldType) {
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].Integer: {
                operationsForType = this.operations.filter(function (x) {
                    return s.integerOperations.find(c => c === x.name);
                });
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].Double: {
                operationsForType = this.operations.filter(function (x) {
                    return s.doubleOperations.find(c => c === x.name);
                });
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].String: {
                operationsForType = this.operations.filter(function (x) {
                    return s.stringOperations.find(c => c === x.name);
                });
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].Boolean: {
                operationsForType = this.operations.filter(function (x) {
                    return s.booleanOperations.find(c => c === x.name);
                });
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].DateTime: {
                operationsForType = this.operations.filter(function (x) {
                    return s.dateTimeOperations.find(c => c === x.name);
                });
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].Date: {
                operationsForType = this.operations.filter(function (x) {
                    return s.dateTimeOperations.find(c => c === x.name);
                });
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].DropDown: {
                if (isNullable) {
                    operationsForType = this.operations.filter(function (x) {
                        return s.dropdownNullOperations.find(c => c === x.name);
                    });
                }
                else {
                    operationsForType = this.operations.filter(function (x) {
                        return s.dropdownOperations.find(c => c === x.name);
                    });
                }
                break;
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].Image: {
                operationsForType = this.operations.filter(function (x) {
                    return s.reportStringOpertations.find(c => c === x.name);
                });
                break;
            }
            default: {
                break;
            }
        }
        return operationsForType;
    }
    mapKendoFilterOperation(kendoFilterOperation) {
        switch (kendoFilterOperation) {
            case 'lt':
                return 'lt';
            case 'lte':
                return 'le';
            case 'eq':
                return 'eq';
            case 'neq':
                return 'ne';
            case 'isnull':
                return 'in';
            case 'isnotnull':
                return 'nin';
            case 'contains':
                return 'ctns';
            case 'doesnotcontain':
                return 'nctns';
            case 'startswith':
                return 'sw';
            case 'gt':
                return 'gt';
            case 'gte':
                return 'ge';
            default:
                return 'notsupported';
        }
    }
    updateFilter(filterModified, currentFilters) {
        const index = currentFilters.findIndex(d => d.id === filterModified.id);
        if (index === -1) {
            currentFilters.push(filterModified);
        }
        else if (index >= 0) {
            currentFilters[index] = filterModified;
        }
        return currentFilters;
    }
    removeFilter(id, currentFilters) {
        const index = currentFilters.findIndex(d => d.id === id);
        if (index >= 0) {
            currentFilters.splice(index, 1);
        }
        return currentFilters;
    }
};
FilterOperationsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], FilterOperationsService);



/***/ }),

/***/ "./client-src/app/_core/services/google-maps-config.service.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/_core/services/google-maps-config.service.ts ***!
  \*********************************************************************/
/*! exports provided: GoogleMapsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GoogleMapsService", function() { return GoogleMapsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");



let GoogleMapsService = class GoogleMapsService {
    constructor(configService) {
        this.configService = configService;
        this.apiKey = this.configService.getSettings('googleMapAPIKey');
    }
};
GoogleMapsService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] }
];
GoogleMapsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]])
], GoogleMapsService);



/***/ }),

/***/ "./client-src/app/_core/services/helper.service.ts":
/*!*********************************************************!*\
  !*** ./client-src/app/_core/services/helper.service.ts ***!
  \*********************************************************/
/*! exports provided: HelperService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelperService", function() { return HelperService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _api_runtime_enums_advanced_math_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_runtime/enums/advanced-math-type */ "./client-src/app/_api/_runtime/enums/advanced-math-type.ts");
/* harmony import */ var _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/_runtime/enums/advanced-math-operator */ "./client-src/app/_api/_runtime/enums/advanced-math-operator.ts");








let HelperService = class HelperService {
    constructor(intl, translateService) {
        this.intl = intl;
        this.translateService = translateService;
    }
    generateGuid() {
        let d = new Date().getTime();
        const guid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            const r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);
        });
        return guid;
    }
    getHeaders(obj, hiddenColumns = new Array()) {
        const headers = new Array();
        if (obj) {
            const keys = Object.keys(obj).map(key => {
                return { key: key };
            });
            keys.forEach(k => {
                if (hiddenColumns && !hiddenColumns.includes(k.key)) {
                    headers.push({ name: k.key });
                }
            });
            return headers;
        }
    }
    lowerCasePropertyName(name) {
        if (name == null) {
            return null;
        }
        if (name.length >= 1) {
            return name.charAt(0).toLowerCase() + name.slice(1, name.length);
        }
        else {
            return name.charAt(0).toLowerCase();
        }
    }
    upperCasePropertyName(name) {
        if (name == null) {
            return null;
        }
        if (name.length >= 1) {
            return name.charAt(0).toUpperCase() + name.slice(1, name.length);
        }
        else {
            return name.charAt(0).toUpperCase();
        }
    }
    initDate(date) {
        return date > new Date('1/1/1') ? date : null;
    }
    mapHeaders(fields, hiddenColumns, defaultColumns = new Array(), enumDtos) {
        const s = this;
        const columnHeadings = new Array();
        defaultColumns.forEach(column => {
            fields.find(c => c.name === column.name).order = column.order;
        });
        let orderCount = 1;
        fields.forEach(field => {
            let enumDto = enumDtos ? enumDtos.find(e => e.enumName.toLowerCase() == field.name.toLowerCase()) : undefined;
            const columnHeading = {
                name: field.name,
                displayName: field.displayName,
                isSearchable: field.isSearchable,
                isFilterable: field.isFacetable,
                isSortable: field.isSortable,
                isFacetable: field.isFacetable,
                isKey: field.isKey,
                isCustom: field.isCustom,
                isEditable: field.inGridEditable,
                // fieldType: this.mapKendoFilterType(field.fieldType),
                fieldType: field.fieldType,
                format: s.mapHeaderFormat(field),
                order: field.order ? field.order : defaultColumns.length + orderCount,
                enumOptions: enumDto ? enumDto.enumOptions : undefined,
                isNullable: field.isNullable
            };
            columnHeadings.push(columnHeading);
            orderCount++;
        });
        return columnHeadings.filter(function (x) {
            return hiddenColumns.findIndex(c => c === x.name) === -1;
        });
    }
    toFormGroup(fields) {
        const controls = {};
        fields.forEach(field => {
            controls[field.id] = field.required ? new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](field.value, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required) : new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](field.value);
        });
        return new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroup"](controls);
    }
    move(arr, old_index, new_index) {
        while (old_index < 0) {
            old_index += arr.length;
        }
        while (new_index < 0) {
            new_index += arr.length;
        }
        if (new_index >= arr.length) {
            let k = new_index - arr.length;
            while (k-- + 1) {
                arr.push(undefined);
            }
        }
        arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);
        return arr;
    }
    mapKendoFilterType(fieldType) {
        switch (fieldType) {
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].String:
                return 'text';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].DateTime:
                return 'date';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].Double:
                return 'numeric';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].Integer:
                return 'numeric';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].Image:
                return 'image';
            default:
                return 'numeric';
        }
    }
    mapHeaderFormat(header) {
        switch (header.fieldType) {
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].Integer: {
                return '0';
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].Double: {
                return 'n';
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].DateTime: {
                return 'd';
            }
            default: {
                return '0';
            }
        }
    }
    mapDates(dataItem, fields) {
        const props = Object.keys(dataItem);
        const dateFields = fields.filter(c => c.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"].DateTime);
        props.forEach(property => {
            if (dateFields.findIndex(c => c.name === property) !== -1) {
                const date = this.intl.parseDate(dataItem[property]);
                dataItem[property] = date;
            }
        });
        return dataItem;
    }
    sortCollection(collection, sortField, direction) {
        if (collection.length === 0) {
            return collection;
        }
        if (isNaN(collection[0][sortField])) {
            // Sort by string value
            collection.sort((a, b) => {
                if (a[sortField] < b[sortField]) {
                    return !direction || direction.toLowerCase() === 'asc' ? -1 : 1;
                }
                else if (a[sortField] > b[sortField]) {
                    return !direction || direction.toLowerCase() === 'asc' ? 1 : -1;
                }
                else {
                    return 0;
                }
            });
        }
        if (!isNaN(collection[0][sortField])) {
            // Sort by numeric value
            collection.sort((a, b) => {
                if (Number.parseFloat(a[sortField]) < Number.parseFloat(b[sortField])) {
                    return !direction || direction.toLowerCase() === 'asc' ? -1 : 1;
                }
                else if (Number.parseFloat(a[sortField]) > Number.parseFloat(b[sortField])) {
                    return !direction || direction.toLowerCase() === 'asc' ? 1 : -1;
                }
                else {
                    return 0;
                }
            });
        }
        if (Array.isArray(collection[0][sortField])) {
            collection.sort((a, b) => {
                // Sort by multi value
                if (a[sortField].length < b[sortField].length) {
                    return !direction || direction.toLowerCase() === 'asc' ? -1 : 1;
                }
                else if (a[sortField].length > b[sortField].length) {
                    return !direction || direction.toLowerCase() === 'asc' ? 1 : -1;
                }
                else {
                    return 0;
                }
            });
        }
        return collection;
    }
    getColumnTitle(translationKeyBase, column) {
        if (!column.isCustom) {
            return this.translateService.instant(translationKeyBase + column.displayName);
        }
        return column.displayName;
    }
    convertMathTree(tree) {
        const mathTree = {};
        if (tree.isConstantNode) {
            mathTree.type = _api_runtime_enums_advanced_math_type__WEBPACK_IMPORTED_MODULE_6__["AdvancedMathType"].Constant;
            mathTree.operator = _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__["AdvancedMathOperator"].Noop;
            mathTree.value = tree.value;
            mathTree.leftTerm = null;
            mathTree.rightTerm = null;
        }
        if (tree.isSymbolNode) {
            mathTree.type = _api_runtime_enums_advanced_math_type__WEBPACK_IMPORTED_MODULE_6__["AdvancedMathType"].Field;
            mathTree.operator = _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__["AdvancedMathOperator"].Noop;
            mathTree.value = tree.name;
            mathTree.leftTerm = null;
            mathTree.rightTerm = null;
        }
        if (tree.isOperatorNode) {
            mathTree.type = _api_runtime_enums_advanced_math_type__WEBPACK_IMPORTED_MODULE_6__["AdvancedMathType"].Compound;
            mathTree.value = null;
            mathTree.operator = this.getOperator(tree.fn);
            mathTree.leftTerm = this.convertMathTree(tree.args[0]);
            mathTree.rightTerm = this.convertMathTree(tree.args[1]);
        }
        if (!tree.isConstantNode && !tree.isOperatorNode && !tree.isSymbolNode) {
            mathTree.type = _api_runtime_enums_advanced_math_type__WEBPACK_IMPORTED_MODULE_6__["AdvancedMathType"].Compound;
            mathTree.value = null;
            mathTree.operator = this.getOperator(tree['content'].fn);
            mathTree.leftTerm = this.convertMathTree(tree['content'].args[0]);
            mathTree.rightTerm = this.convertMathTree(tree['content'].args[1]);
        }
        return mathTree;
    }
    groupBy(values, key) {
        const s = this;
        const groupedResult = values.reduce(function (reducedValue, x) {
            (reducedValue[x[key]] = reducedValue[x[key]] || []).push(x);
            return reducedValue;
            // s.categoryCriteria.push(reducedValue);
        }, {});
        return Object.keys(groupedResult)
            .sort()
            .map(function (k) {
            return groupedResult[k];
        });
    }
    getOperator(operator) {
        switch (operator) {
            case 'add':
                return _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__["AdvancedMathOperator"].Add;
            case 'multiply':
                return _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__["AdvancedMathOperator"].Multiply;
            case 'divide':
                return _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__["AdvancedMathOperator"].Divide;
            case 'subtract':
                return _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_7__["AdvancedMathOperator"].Subtract;
        }
    }
};
HelperService.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] },
    { type: _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"] }
];
HelperService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"], _i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"]])
], HelperService);



/***/ }),

/***/ "./client-src/app/_core/services/idle-timeout.service.ts":
/*!***************************************************************!*\
  !*** ./client-src/app/_core/services/idle-timeout.service.ts ***!
  \***************************************************************/
/*! exports provided: IdleTimeoutService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IdleTimeoutService", function() { return IdleTimeoutService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/authentication/authentication.manager */ "./client-src/app/_core/authentication/authentication.manager.ts");
/* harmony import */ var _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");





let IdleTimeoutService = class IdleTimeoutService {
    constructor(authManager) {
        this.authManager = authManager;
        this.i18n = _i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.timeoutExpired = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.adalContext = this.authManager.getAdalContext();
        this.defaultTimeoutValue = 15;
        this.promptTime = 300; // 5 mins prior to session expiration.
        this.elapsed = 0;
        this.PromptUserSessionEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    initialise() {
        this.startTimer();
        this.authManager.hasAnyAuth.subscribe(hasAuth => {
            if (hasAuth) {
                this.resetTimer();
            }
        });
        this.authManager.hasToken.subscribe(hasToken => {
            if (hasToken) {
                this.resetTimer();
            }
        });
        this.expireTimeout = this.adalContext.config ? this.adalContext.config.expireOffsetSeconds : this.defaultTimeoutValue;
    }
    HandleExtendResult(isExtended) {
        if (isExtended) {
            this.authManager.getToken(true);
        }
        else {
            this.stopTimer();
            this.isDialogOpen = false;
            this.authManager.logoutAdal();
            this.authManager.logoutMsal();
        }
        this.isDialogOpen = false;
    }
    stopTimer() {
        if (this.timerId) {
            clearInterval(this.timerId);
        }
    }
    startTimer() {
        this.timerId = setInterval(() => { this.timerTick(); }, 1000);
    }
    resetTimer() {
        this.stopTimer();
        this.startTimer();
        this.elapsed = 0;
    }
    timerTick() {
        ++this.elapsed;
        this.evaluateSessionTimeout();
    }
    evaluateSessionTimeout() {
        if (this.isDialogOpen) {
            return;
        }
        if (this.elapsed < (this.expireTimeout - this.promptTime)) {
            return;
        }
        this.isDialogOpen = true;
        const mins = this.promptTime / 60;
        this.PromptUserSessionEvent.emit(Math.round(mins));
    }
    GetSessionTimeouModalOptions(mins) {
        const options = {
            heading: {
                key: 'Your Session is About to Expire'
            },
            body: {
                key: 'Your current session will expire in {{expireMinutes}} minutes, would you like to extend your current session?',
                params: { expireMinutes: mins.toString() }
            },
            dismissText: {
                key: 'Log Out'
            },
            translateBaseKey: this.i18n.auth,
            successText: {
                key: 'Stay Logged in'
            }
        };
        return options;
    }
};
IdleTimeoutService.ctorParameters = () => [
    { type: _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_3__["AuthenticationManager"] }
];
IdleTimeoutService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_3__["AuthenticationManager"]])
], IdleTimeoutService);



/***/ }),

/***/ "./client-src/app/_core/services/image.service.ts":
/*!********************************************************!*\
  !*** ./client-src/app/_core/services/image.service.ts ***!
  \********************************************************/
/*! exports provided: ImageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageService", function() { return ImageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ImageService = class ImageService {
    constructor() {
        this.imageCollection = new Array();
    }
    compareImageIndexes(firstValue, nextValue) {
        if (firstValue.index < nextValue.index) {
            return -1;
        }
        if (firstValue.index > nextValue.index) {
            return 1;
        }
        return 0;
    }
};
ImageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], ImageService);



/***/ }),

/***/ "./client-src/app/_core/services/left-nav-service.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/_core/services/left-nav-service.ts ***!
  \***********************************************************/
/*! exports provided: LeftNavService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LeftNavService", function() { return LeftNavService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");



let LeftNavService = class LeftNavService {
    constructor() {
        this.navCollapsedSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.navCollapsed$ = this.navCollapsedSource.asObservable();
    }
    toggleCollapsed(isCollapsed) {
        this.navCollapsedSource.next(isCollapsed);
    }
};
LeftNavService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], LeftNavService);



/***/ }),

/***/ "./client-src/app/_core/services/logging.service.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/_core/services/logging.service.ts ***!
  \**********************************************************/
/*! exports provided: LoggingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoggingService", function() { return LoggingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _microsoft_applicationinsights_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/applicationinsights-web */ "./node_modules/@microsoft/applicationinsights-web/dist-esm/applicationinsights-web.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");




let LoggingService = class LoggingService {
    constructor(configService) {
        this.configService = configService;
        this.appInsights = new _microsoft_applicationinsights_web__WEBPACK_IMPORTED_MODULE_2__["ApplicationInsights"]({
            config: {
                instrumentationKey: this.configService.getSettings('aiInstrumentationKey')
            },
        });
    }
    logError(error) {
        this.logToConsole(error);
        this.appInsights.trackException(error);
    }
    logToConsole(error) {
        console.group(error.message);
        console.error(error.stack);
        console.groupEnd();
    }
};
LoggingService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] }
];
LoggingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"]])
], LoggingService);



/***/ }),

/***/ "./client-src/app/_core/services/recipients-info-service.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_core/services/recipients-info-service.ts ***!
  \******************************************************************/
/*! exports provided: RecipientsInfoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsInfoService", function() { return RecipientsInfoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let RecipientsInfoService = class RecipientsInfoService {
    constructor() {
        this.hiddenColumns = [
            'id'
        ];
        this.defaultColumns = [
            'recipientName',
            'address',
            'address2',
            'city',
            'state',
            'zip',
            'email',
            'phoneNumber',
            'deliverables',
        ];
    }
    GetInternalColumns() {
        return this.hiddenColumns;
    }
    GetDefaultColumns() {
        return this.defaultColumns;
    }
};
RecipientsInfoService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], RecipientsInfoService);



/***/ }),

/***/ "./client-src/app/_core/services/title.service.ts":
/*!********************************************************!*\
  !*** ./client-src/app/_core/services/title.service.ts ***!
  \********************************************************/
/*! exports provided: TitleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TitleService", function() { return TitleService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");





const APP_TITLE = 'FAMIS -';
let TitleService = class TitleService {
    constructor(router, activatedRoute, titleService) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.titleService = titleService;
    }
    init() {
        this.router.events
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((event) => event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_3__["NavigationEnd"]))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(() => {
            let route = this.activatedRoute;
            while (route.firstChild) {
                route = route.firstChild;
            }
            return route;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])((route) => route.outlet === 'primary'))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["mergeMap"])((route) => route.data))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((data) => {
            if (data.title) {
                // If a route has a title set (e.g. data: {title: "Foo"}) then we use it
                return data.title;
            }
            else {
                return this.router.url.split('/').reduce((acc, frag) => {
                    return this.fixTitle(frag);
                });
            }
        }))
            .subscribe((pathString) => this.titleService.setTitle(`${APP_TITLE} ${pathString}`));
    }
    fixTitle(title) {
        if (!title) {
            return title;
        }
        if (/(-)/.test(title)) {
            const splitTitle = title.split('-');
            let newTitle = '';
            splitTitle.forEach(word => {
                newTitle += word.charAt(0).toUpperCase() + word.slice(1) + ' ';
            });
            return newTitle;
        }
        else if (title.match(/[A-Z][a-z]+/g)) {
            const splitTitle = title.split(/(?=[A-Z])/);
            let newTitle = '';
            splitTitle.forEach(word => {
                newTitle += word.charAt(0).toUpperCase() + word.slice(1) + ' ';
            });
            return newTitle;
        }
        return title.charAt(0).toUpperCase() + title.slice(1);
    }
};
TitleService.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] },
    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["Title"] }
];
TitleService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
        _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["Title"]])
], TitleService);



/***/ }),

/***/ "./client-src/app/_core/services/transactions-info-service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/_core/services/transactions-info-service.ts ***!
  \********************************************************************/
/*! exports provided: TransactionsInfoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsInfoService", function() { return TransactionsInfoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let TransactionsInfoService = class TransactionsInfoService {
    constructor() {
        this.hiddenColumns = ['transactionId'];
        this.defaultColumns = [
            'displayId',
            'assetTagNumber',
            'activity',
            'fieldName',
            'oldValue',
            'newValue',
            'transactionDate',
            'user',
        ];
    }
    GetInternalColumns() {
        return this.hiddenColumns;
    }
    GetDefaultColumns() {
        return this.defaultColumns;
    }
};
TransactionsInfoService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])()
], TransactionsInfoService);



/***/ }),

/***/ "./client-src/app/_core/services/user-grid.service.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_core/services/user-grid.service.ts ***!
  \************************************************************/
/*! exports provided: UserGridService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserGridService", function() { return UserGridService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _user_user_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/settings-api.service */ "./client-src/app/_api/_runtime/services/settings-api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _enums_setting_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_enums/setting-type */ "./client-src/app/_enums/setting-type.ts");






let UserGridService = class UserGridService {
    constructor(settingsApiService, userStore) {
        this.settingsApiService = settingsApiService;
        this.userStore = userStore;
        this.userGrids = new Array();
    }
    createUserGridId(id, routePath, name = '') {
        return `${id}${routePath}${name}`;
    }
    getSettings(userId, name, defaultHeaders) {
        const s = this;
        return rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"].create(function (observer) {
            s.settingsApiService.getSettingsByUserId(userId).subscribe(result => {
                s.userGrids = result;
                const index = s.userGrids.findIndex(c => c.name === name);
                if (index !== -1 && s.userGrids[index].settingJson) {
                    observer.next(s.userGrids[index].settingJson);
                }
                else {
                    observer.next({ headers: defaultHeaders });
                }
            }, error => {
                observer.next({ headers: defaultHeaders });
            });
        });
    }
    updateUserSettingsCache(userSetting) {
        const index = this.userGrids.findIndex(c => c.name === name);
        if (index !== -1 && this.userGrids[index].settingJson) {
            this.userGrids[index] = userSetting;
        }
        else {
            this.userGrids.push(userSetting);
        }
    }
    saveSettings(id, headers, groupId, userId, kendoGridState, gridFilters, columnSizes, gridSort) {
        const index = this.userGrids.findIndex(c => c.name === id);
        const gridSetting = {
            headers: headers,
            kendoGridState: kendoGridState ? kendoGridState : null,
            filters: gridFilters ? gridFilters : null,
            columnSizes: columnSizes ? columnSizes : null,
            gridSort: gridSort ? gridSort : null
        };
        if (index !== -1) {
            const dto = this.userGrids[index];
            dto.settingJson = gridSetting;
            return this.settingsApiService.update(dto.id, dto);
        }
        else {
            return this.settingsApiService.create({
                groupId: groupId,
                userId: userId,
                name: id,
                settingType: _enums_setting_type__WEBPACK_IMPORTED_MODULE_5__["SettingType"].gridSetting,
                settingJson: gridSetting
            });
        }
    }
    saveSelectedHeaders(gridSettingsName, headers) {
        const userSetting = this.getUserGridSetting(gridSettingsName);
        userSetting.settingJson.headers = headers;
        return this.settingsApiService.update(userSetting.id, userSetting);
    }
    saveColumnSizes(gridSettingsName, columnSizes) {
        const userSetting = this.getUserGridSetting(gridSettingsName);
        userSetting.settingJson.columnSizes = columnSizes;
        return this.settingsApiService.update(userSetting.id, userSetting);
    }
    saveActiveFilters(gridSettingsName, kendoGridState, gridFilters) {
        const userSetting = this.getUserGridSetting(gridSettingsName);
        userSetting.settingJson.kendoGridState = kendoGridState;
        userSetting.settingJson.filters = gridFilters;
        return this.settingsApiService.update(userSetting.id, userSetting);
    }
    saveActiveSorts(gridSettingsName, kendoGridState, gridSorts) {
        const userSetting = this.getUserGridSetting(gridSettingsName);
        userSetting.settingJson.kendoGridState = kendoGridState;
        userSetting.settingJson.gridSort = gridSorts;
        return this.settingsApiService.update(userSetting.id, userSetting);
    }
    getUserGridSetting(gridSettingsName) {
        const index = this.userGrids.findIndex(c => c.name === gridSettingsName);
        if (index !== -1) {
            return this.userGrids[index];
        }
        return {};
    }
};
UserGridService.ctorParameters = () => [
    { type: _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_3__["SettingsApiService"] },
    { type: _user_user_store__WEBPACK_IMPORTED_MODULE_1__["UserStore"] }
];
UserGridService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_3__["SettingsApiService"], _user_user_store__WEBPACK_IMPORTED_MODULE_1__["UserStore"]])
], UserGridService);



/***/ }),

/***/ "./client-src/app/_core/services/window-manager.service.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/_core/services/window-manager.service.ts ***!
  \*****************************************************************/
/*! exports provided: WindowManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowManager", function() { return WindowManager; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_window_default_title_bar_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/window/default-title-bar.component */ "./client-src/app/_shared/components/window/default-title-bar.component.ts");
/* harmony import */ var _shared_components_window_modal_backdrop_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_shared/components/window/modal-backdrop.component */ "./client-src/app/_shared/components/window/modal-backdrop.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @progress/kendo-angular-dialog */ "./node_modules/@progress/kendo-angular-dialog/dist/fesm2015/index.js");





let WindowManager = class WindowManager {
    constructor(windowService, componentResolver) {
        this.windowService = windowService;
        this.componentResolver = componentResolver;
        this.window = new _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_4__["WindowRef"]();
        this.scrollPosition = 0;
        this.opened = false;
    }
    open(content, title = '', options) {
        let backdrop;
        const titleBarComponent = this.componentResolver.resolveComponentFactory(_shared_components_window_default_title_bar_component__WEBPACK_IMPORTED_MODULE_1__["DefaultTitleBarComponent"]);
        const defaultTitleBar = this.viewContainerRef.createComponent(titleBarComponent);
        defaultTitleBar.instance.title = title;
        defaultTitleBar.instance.translationkey = options ? options.translationKey : null;
        if (!this.opened && defaultTitleBar) {
            if (options && options.isModal) {
                const backdropComponent = this.componentResolver.resolveComponentFactory(_shared_components_window_modal_backdrop_component__WEBPACK_IMPORTED_MODULE_2__["ModalBackdropComponent"]);
                backdrop = this.viewContainerRef.createComponent(backdropComponent);
            }
            this.window = this.windowService.open({
                title: title,
                content: content,
                width: options && options.width ? options.width : 600,
                top: this.scrollPosition > 0 ? this.scrollPosition + 50 : 50,
                resizable: true,
                titleBarContent: defaultTitleBar.instance.windowTitleBar,
                appendTo: this.viewContainerRef,
                draggable: true,
            });
            this.window.result.subscribe(windowCloseResult => {
                this.opened = false;
                if (options && options.isModal) {
                    backdrop.destroy();
                }
            });
            this.opened = true;
        }
        return this.window;
    }
    isOpened() {
        return this.opened;
    }
    close() {
        this.window.close();
    }
};
WindowManager.ctorParameters = () => [
    { type: _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_4__["WindowService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["ComponentFactoryResolver"] }
];
WindowManager = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_4__["WindowService"], _angular_core__WEBPACK_IMPORTED_MODULE_3__["ComponentFactoryResolver"]])
], WindowManager);



/***/ }),

/***/ "./client-src/app/_core/subscriber-entity.ts":
/*!***************************************************!*\
  !*** ./client-src/app/_core/subscriber-entity.ts ***!
  \***************************************************/
/*! exports provided: Subscriber, SubscriberEntity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subscriber", function() { return Subscriber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriberEntity", function() { return SubscriberEntity; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");



class Subscriber {
    subscribe(observable, work) {
        const result = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        observable.subscribe((input) => {
            setTimeout(() => {
                const output = work(input);
                if (output instanceof rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"]) {
                    output.subscribe((outputValue) => {
                        result.next(outputValue);
                        result.complete();
                    });
                }
                else {
                    if (output) {
                        result.next(output);
                        result.complete();
                    }
                    else {
                        result.next();
                        result.complete();
                    }
                }
            });
        });
        return result;
    }
    subscribeDefined(observable, work) {
        const defined = this.getDefined(observable);
        return this.subscribe(defined, work);
    }
    subscribeDefinedOnce(observable, work) {
        const firstDefined = this.getDefined(observable).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["first"])());
        return this.subscribe(firstDefined, work);
    }
    getDefined(observable) {
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["filter"])((item) => item !== undefined));
    }
}
class SubscriberEntity extends Subscriber {
    constructor() {
        super(...arguments);
        this.destroyed = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    ngOnDestroy() {
        this.destroyed.next();
    }
    subscribe(observable, work) {
        const untilDestroyed = observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.destroyed));
        return super.subscribe(untilDestroyed, work);
    }
    subscribeDefined(observable, work) {
        const definedUntilDestroyed = this.getDefined(observable).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.destroyed));
        return this.subscribe(definedUntilDestroyed, work);
    }
    subscribeDefinedOnce(observable, work) {
        const firstDefinedUntilDestroyed = this.getDefined(observable).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["takeUntil"])(this.destroyed)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["first"])());
        return this.subscribe(firstDefinedUntilDestroyed, work);
    }
}


/***/ }),

/***/ "./client-src/app/_core/user/permissions.ts":
/*!**************************************************!*\
  !*** ./client-src/app/_core/user/permissions.ts ***!
  \**************************************************/
/*! exports provided: SystemPermissionsEnum, Permissions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SystemPermissionsEnum", function() { return SystemPermissionsEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Permissions", function() { return Permissions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var SystemPermissionsEnum;
(function (SystemPermissionsEnum) {
    SystemPermissionsEnum[SystemPermissionsEnum["canReadData"] = 0] = "canReadData";
    SystemPermissionsEnum[SystemPermissionsEnum["canWriteData"] = 1] = "canWriteData";
    SystemPermissionsEnum[SystemPermissionsEnum["canAdminProjects"] = 2] = "canAdminProjects";
    SystemPermissionsEnum[SystemPermissionsEnum["canImportData"] = 3] = "canImportData";
    SystemPermissionsEnum[SystemPermissionsEnum["canReconcileData"] = 4] = "canReconcileData";
    SystemPermissionsEnum[SystemPermissionsEnum["canManageHeaders"] = 5] = "canManageHeaders";
    SystemPermissionsEnum[SystemPermissionsEnum["canManageTemplates"] = 6] = "canManageTemplates";
    SystemPermissionsEnum[SystemPermissionsEnum["canManagePortal"] = 7] = "canManagePortal";
})(SystemPermissionsEnum || (SystemPermissionsEnum = {}));
class Permissions {
    constructor(authorization) {
        this.permissionsGranted = new Array();
        if (authorization === undefined) {
            return;
        }
        // All users can read data
        this.permissionsGranted.push(SystemPermissionsEnum.canReadData);
        if (authorization.Roles.indexOf('Famis.GlobalAdmin') !== -1) {
            this.permissionsGranted.push(SystemPermissionsEnum.canWriteData, SystemPermissionsEnum.canAdminProjects, SystemPermissionsEnum.canImportData, SystemPermissionsEnum.canReconcileData, SystemPermissionsEnum.canManageHeaders, SystemPermissionsEnum.canManageTemplates, SystemPermissionsEnum.canManagePortal);
        }
        if (authorization.Roles.indexOf('Famis.ProjectWriteAccess') !== -1 || authorization.Roles.indexOf('Famis.GlobalWrite') !== -1) {
            this.permissionsGranted.push(SystemPermissionsEnum.canWriteData, SystemPermissionsEnum.canAdminProjects, SystemPermissionsEnum.canImportData, SystemPermissionsEnum.canReconcileData, SystemPermissionsEnum.canManageHeaders);
        }
    }
}


/***/ }),

/***/ "./client-src/app/_core/user/user.store.ts":
/*!*************************************************!*\
  !*** ./client-src/app/_core/user/user.store.ts ***!
  \*************************************************/
/*! exports provided: UserStore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserStore", function() { return UserStore; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user */ "./client-src/app/_core/user/user.ts");
/* harmony import */ var _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../authentication/authentication.manager */ "./client-src/app/_core/authentication/authentication.manager.ts");
/* harmony import */ var _subscriber_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../subscriber-entity */ "./client-src/app/_core/subscriber-entity.ts");
/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_authorization_services_account_api_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/_authorization/services/account-api.service */ "./client-src/app/_api/_authorization/services/account-api.service.ts");
/* harmony import */ var _api_authorization_services_authorization_api_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/_authorization/services/authorization-api.service */ "./client-src/app/_api/_authorization/services/authorization-api.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_api/_configuration/services/countries-api.service */ "./client-src/app/_api/_configuration/services/countries-api.service.ts");














let UserStore = class UserStore extends _subscriber_entity__WEBPACK_IMPORTED_MODULE_3__["Subscriber"] {
    constructor(authenticationManager, accountService, authorizationService, referenceDataService, translate, intlService, countryService) {
        super();
        this.authenticationManager = authenticationManager;
        this.accountService = accountService;
        this.authorizationService = authorizationService;
        this.referenceDataService = referenceDataService;
        this.translate = translate;
        this.intlService = intlService;
        this.countryService = countryService;
        this._lastLoginType = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](undefined);
        this._user = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](undefined);
        this.user = this._user.asObservable();
        this.lastLoginType = this._lastLoginType.asObservable();
    }
    hasAnyAuth() {
        return this.authenticationManager.hasAnyAuth;
    }
    initializeAuthentication() {
        this.subscribeDefined(this.authenticationManager.hasAnyAuth, hasAnyAuth => {
            this.subscribe(this.authenticationManager.lastLoginType, lastLoginType => {
                this.findUser(lastLoginType, hasAnyAuth);
                if (lastLoginType === _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["LoginType"].adal) {
                    this._lastLoginType.next(_user__WEBPACK_IMPORTED_MODULE_1__["UserType"].Employee);
                }
                else if (lastLoginType === _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["LoginType"].msal) {
                    this._lastLoginType.next(_user__WEBPACK_IMPORTED_MODULE_1__["UserType"].Consumer);
                }
            });
        });
    }
    findUser(lastLoginType, hasAnyAuth) {
        const userType = lastLoginType === _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["LoginType"].adal ? _user__WEBPACK_IMPORTED_MODULE_1__["UserType"].Employee : _user__WEBPACK_IMPORTED_MODULE_1__["UserType"].Consumer;
        if (hasAnyAuth === false) {
            this._user.next(new _user__WEBPACK_IMPORTED_MODULE_1__["User"](userType));
        }
        if (hasAnyAuth === true) {
            const request = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["zip"])(this.accountService.read(), this.authorizationService.read());
            this.subscribe(request, data => {
                const profile = data[0];
                const authorization = data[1];
                this.countryService.getCountryLanguage(profile.CountryCode).subscribe(countryLanguage => {
                    if (countryLanguage) {
                        this.translate.use(countryLanguage.languageId);
                        this.intlService.localeId = countryLanguage.locale;
                        moment__WEBPACK_IMPORTED_MODULE_5__["locale"](countryLanguage.locale);
                        this._user.next(new _user__WEBPACK_IMPORTED_MODULE_1__["User"](userType, profile, new _permissions__WEBPACK_IMPORTED_MODULE_4__["Permissions"](authorization), countryLanguage.languageId, countryLanguage.locale, profile.IsActive));
                    }
                });
            });
        }
    }
    loginUser() {
        sessionStorage.setItem('user-current-url', window.location.pathname);
        this.authenticationManager.loginAdal();
    }
    logoutUser() {
        this.authenticationManager.forgetLoginType();
        this.subscribeDefined(this.authenticationManager.hasAdalAuth, () => {
            this.authenticationManager.forgetAdal();
            window.location.href = '/';
        });
    }
};
UserStore.ctorParameters = () => [
    { type: _authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["AuthenticationManager"] },
    { type: _api_authorization_services_account_api_service__WEBPACK_IMPORTED_MODULE_9__["AccountApiService"] },
    { type: _api_authorization_services_authorization_api_service__WEBPACK_IMPORTED_MODULE_10__["AuthorizationApiService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_11__["ReferenceDataApiService"] },
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__["TranslateService"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_6__["IntlService"] },
    { type: _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_13__["CountriesApiService"] }
];
UserStore = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["AuthenticationManager"],
        _api_authorization_services_account_api_service__WEBPACK_IMPORTED_MODULE_9__["AccountApiService"],
        _api_authorization_services_authorization_api_service__WEBPACK_IMPORTED_MODULE_10__["AuthorizationApiService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_11__["ReferenceDataApiService"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__["TranslateService"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_6__["IntlService"],
        _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_13__["CountriesApiService"]])
], UserStore);



/***/ }),

/***/ "./client-src/app/_core/user/user.ts":
/*!*******************************************!*\
  !*** ./client-src/app/_core/user/user.ts ***!
  \*******************************************/
/*! exports provided: UserType, User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserType", function() { return UserType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./permissions */ "./client-src/app/_core/user/permissions.ts");


var UserType;
(function (UserType) {
    UserType[UserType["Consumer"] = 0] = "Consumer";
    UserType[UserType["Employee"] = 1] = "Employee";
})(UserType || (UserType = {}));
class User {
    constructor(userType, profile, permissions = new _permissions__WEBPACK_IMPORTED_MODULE_1__["Permissions"](), countryCode, locale, isActive) {
        this.userType = userType;
        this.profile = profile;
        this.permissions = permissions;
        this.countryCode = countryCode;
        this.locale = locale;
        this.isActive = isActive;
        this.hiddenUserNames = ['NULL'];
    }
    getName() {
        let userName = '';
        // console.log(this.profile.FirstName);
        if (this.profile &&
            this.hiddenUserNames.findIndex(c => c === this.profile.FirstName.toUpperCase()) === -1 &&
            this.hiddenUserNames.findIndex(c => c === this.profile.LastName.toUpperCase()) === -1) {
            userName = `${this.profile.FirstName} ${this.profile.LastName}`;
        }
        return userName;
    }
}


/***/ }),

/***/ "./client-src/app/_enums/alert-type.ts":
/*!*********************************************!*\
  !*** ./client-src/app/_enums/alert-type.ts ***!
  \*********************************************/
/*! exports provided: AlertType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertType", function() { return AlertType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var AlertType;
(function (AlertType) {
    AlertType[AlertType["Success"] = 0] = "Success";
    AlertType[AlertType["Error"] = 1] = "Error";
    AlertType[AlertType["Info"] = 2] = "Info";
    AlertType[AlertType["Warning"] = 3] = "Warning";
})(AlertType || (AlertType = {}));


/***/ }),

/***/ "./client-src/app/_enums/data-target-name.ts":
/*!***************************************************!*\
  !*** ./client-src/app/_enums/data-target-name.ts ***!
  \***************************************************/
/*! exports provided: DataTargetName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTargetName", function() { return DataTargetName; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var DataTargetName;
(function (DataTargetName) {
    DataTargetName[DataTargetName["client"] = 0] = "client";
    DataTargetName[DataTargetName["inventory"] = 1] = "inventory";
    DataTargetName[DataTargetName["consolidated"] = 2] = "consolidated";
    DataTargetName[DataTargetName["building"] = 3] = "building";
})(DataTargetName || (DataTargetName = {}));


/***/ }),

/***/ "./client-src/app/_enums/field-category.ts":
/*!*************************************************!*\
  !*** ./client-src/app/_enums/field-category.ts ***!
  \*************************************************/
/*! exports provided: FieldCategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldCategory", function() { return FieldCategory; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var FieldCategory;
(function (FieldCategory) {
    FieldCategory[FieldCategory["General"] = 0] = "General";
    FieldCategory[FieldCategory["CustomFields"] = 1] = "CustomFields";
})(FieldCategory || (FieldCategory = {}));


/***/ }),

/***/ "./client-src/app/_enums/field-type.ts":
/*!*********************************************!*\
  !*** ./client-src/app/_enums/field-type.ts ***!
  \*********************************************/
/*! exports provided: FieldType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldType", function() { return FieldType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var FieldType;
(function (FieldType) {
    FieldType[FieldType["String"] = 0] = "String";
    FieldType[FieldType["Integer"] = 1] = "Integer";
    FieldType[FieldType["Double"] = 2] = "Double";
    FieldType[FieldType["Boolean"] = 3] = "Boolean";
    FieldType[FieldType["DateTime"] = 4] = "DateTime";
    FieldType[FieldType["DropDown"] = 5] = "DropDown";
    FieldType[FieldType["Image"] = 6] = "Image";
    FieldType[FieldType["CascadingDropDown"] = 7] = "CascadingDropDown";
    FieldType[FieldType["CascadingComboBox"] = 8] = "CascadingComboBox";
    FieldType[FieldType["MultiValue"] = 9] = "MultiValue";
    FieldType[FieldType["ReadOnly"] = 10] = "ReadOnly";
    FieldType[FieldType["Hidden"] = 11] = "Hidden";
    FieldType[FieldType["Date"] = 12] = "Date";
    FieldType[FieldType["EmptySpace"] = 13] = "EmptySpace";
    FieldType[FieldType["Percent"] = 14] = "Percent";
    FieldType[FieldType["DateWithTimeStamp"] = 15] = "DateWithTimeStamp";
})(FieldType || (FieldType = {}));


/***/ }),

/***/ "./client-src/app/_enums/form-action.ts":
/*!**********************************************!*\
  !*** ./client-src/app/_enums/form-action.ts ***!
  \**********************************************/
/*! exports provided: FormAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormAction", function() { return FormAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var FormAction;
(function (FormAction) {
    FormAction[FormAction["Save"] = 0] = "Save";
    FormAction[FormAction["Edit"] = 1] = "Edit";
    FormAction[FormAction["Remove"] = 2] = "Remove";
    FormAction[FormAction["Cancel"] = 3] = "Cancel";
    FormAction[FormAction["ValueChange"] = 4] = "ValueChange";
    FormAction[FormAction["KeepOpen"] = 5] = "KeepOpen";
})(FormAction || (FormAction = {}));


/***/ }),

/***/ "./client-src/app/_enums/import-mode.ts":
/*!**********************************************!*\
  !*** ./client-src/app/_enums/import-mode.ts ***!
  \**********************************************/
/*! exports provided: ImportMode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportMode", function() { return ImportMode; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ImportMode;
(function (ImportMode) {
    ImportMode[ImportMode["ClearAndReplace"] = 0] = "ClearAndReplace";
    ImportMode[ImportMode["AddOrUpdate"] = 1] = "AddOrUpdate";
})(ImportMode || (ImportMode = {}));


/***/ }),

/***/ "./client-src/app/_enums/modal-form-event.ts":
/*!***************************************************!*\
  !*** ./client-src/app/_enums/modal-form-event.ts ***!
  \***************************************************/
/*! exports provided: ModalFormEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalFormEvent", function() { return ModalFormEvent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ModalFormEvent;
(function (ModalFormEvent) {
    ModalFormEvent[ModalFormEvent["Dismiss"] = 0] = "Dismiss";
    ModalFormEvent[ModalFormEvent["Save"] = 1] = "Save";
    ModalFormEvent[ModalFormEvent["Failed"] = 2] = "Failed";
    ModalFormEvent[ModalFormEvent["Success"] = 3] = "Success";
})(ModalFormEvent || (ModalFormEvent = {}));


/***/ }),

/***/ "./client-src/app/_enums/portal-setup-mode.ts":
/*!****************************************************!*\
  !*** ./client-src/app/_enums/portal-setup-mode.ts ***!
  \****************************************************/
/*! exports provided: PortalSetupMode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortalSetupMode", function() { return PortalSetupMode; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var PortalSetupMode;
(function (PortalSetupMode) {
    PortalSetupMode[PortalSetupMode["SetupAccess"] = 0] = "SetupAccess";
    PortalSetupMode[PortalSetupMode["SetupData"] = 1] = "SetupData";
    PortalSetupMode[PortalSetupMode["SetupImage"] = 2] = "SetupImage";
    PortalSetupMode[PortalSetupMode["SetupMetadata"] = 3] = "SetupMetadata";
})(PortalSetupMode || (PortalSetupMode = {}));


/***/ }),

/***/ "./client-src/app/_enums/reconciliation-match-type.ts":
/*!************************************************************!*\
  !*** ./client-src/app/_enums/reconciliation-match-type.ts ***!
  \************************************************************/
/*! exports provided: ReconciliationMatchType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationMatchType", function() { return ReconciliationMatchType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ReconciliationMatchType;
(function (ReconciliationMatchType) {
    ReconciliationMatchType[ReconciliationMatchType["parentChildMatch"] = 0] = "parentChildMatch";
    ReconciliationMatchType[ReconciliationMatchType["allocationMatch"] = 1] = "allocationMatch";
    ReconciliationMatchType[ReconciliationMatchType["oneToOneMatch"] = 2] = "oneToOneMatch";
    ReconciliationMatchType[ReconciliationMatchType["singleMatch"] = 3] = "singleMatch";
    ReconciliationMatchType[ReconciliationMatchType["unMatch"] = 4] = "unMatch";
})(ReconciliationMatchType || (ReconciliationMatchType = {}));


/***/ }),

/***/ "./client-src/app/_enums/reconciliationStatus.ts":
/*!*******************************************************!*\
  !*** ./client-src/app/_enums/reconciliationStatus.ts ***!
  \*******************************************************/
/*! exports provided: ReconciliationStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationStatus", function() { return ReconciliationStatus; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ReconciliationStatus;
(function (ReconciliationStatus) {
    ReconciliationStatus[ReconciliationStatus["Success"] = 0] = "Success";
    ReconciliationStatus[ReconciliationStatus["IdNotFound"] = 1] = "IdNotFound";
    ReconciliationStatus[ReconciliationStatus["AssetIdNotFound"] = 2] = "AssetIdNotFound";
    ReconciliationStatus[ReconciliationStatus["InventoryAssetIdNotFound"] = 3] = "InventoryAssetIdNotFound";
    ReconciliationStatus[ReconciliationStatus["ParentAssetIdNotFound"] = 4] = "ParentAssetIdNotFound";
    ReconciliationStatus[ReconciliationStatus["MatchCodeIdNotFound"] = 5] = "MatchCodeIdNotFound";
    ReconciliationStatus[ReconciliationStatus["UnknownError"] = 6] = "UnknownError";
    ReconciliationStatus[ReconciliationStatus["InvalidData"] = 7] = "InvalidData";
    ReconciliationStatus[ReconciliationStatus["DuplicateMatch"] = 8] = "DuplicateMatch";
})(ReconciliationStatus || (ReconciliationStatus = {}));


/***/ }),

/***/ "./client-src/app/_enums/replace-field-modes.ts":
/*!******************************************************!*\
  !*** ./client-src/app/_enums/replace-field-modes.ts ***!
  \******************************************************/
/*! exports provided: ReplaceFieldModes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReplaceFieldModes", function() { return ReplaceFieldModes; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ReplaceFieldModes;
(function (ReplaceFieldModes) {
    ReplaceFieldModes[ReplaceFieldModes["Text"] = 0] = "Text";
    ReplaceFieldModes[ReplaceFieldModes["Advanced"] = 1] = "Advanced";
})(ReplaceFieldModes || (ReplaceFieldModes = {}));


/***/ }),

/***/ "./client-src/app/_enums/result-type.ts":
/*!**********************************************!*\
  !*** ./client-src/app/_enums/result-type.ts ***!
  \**********************************************/
/*! exports provided: ResultType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultType", function() { return ResultType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ResultType;
(function (ResultType) {
    ResultType[ResultType["reconciliationSummaryResult"] = 0] = "reconciliationSummaryResult";
    ResultType[ResultType["matchOrAllocationResult"] = 1] = "matchOrAllocationResult";
})(ResultType || (ResultType = {}));


/***/ }),

/***/ "./client-src/app/_enums/setting-type.ts":
/*!***********************************************!*\
  !*** ./client-src/app/_enums/setting-type.ts ***!
  \***********************************************/
/*! exports provided: SettingType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingType", function() { return SettingType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var SettingType;
(function (SettingType) {
    SettingType[SettingType["buildingFilter"] = 0] = "buildingFilter";
    SettingType[SettingType["assetFilter"] = 1] = "assetFilter";
    SettingType[SettingType["excelExport"] = 2] = "excelExport";
    SettingType[SettingType["assetDisplayColumns"] = 3] = "assetDisplayColumns";
    SettingType[SettingType["buildingDisplayColumns"] = 4] = "buildingDisplayColumns";
    SettingType[SettingType["gridSetting"] = 5] = "gridSetting";
    SettingType[SettingType["acceptTerms"] = 6] = "acceptTerms";
    SettingType[SettingType["importMappedColumns"] = 7] = "importMappedColumns";
})(SettingType || (SettingType = {}));


/***/ }),

/***/ "./client-src/app/_models/data-import.model.ts":
/*!*****************************************************!*\
  !*** ./client-src/app/_models/data-import.model.ts ***!
  \*****************************************************/
/*! exports provided: DataImport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImport", function() { return DataImport; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class DataImport {
    constructor(spreadsheetUpload, excelSummary, mapping = new Array()) {
        this.spreadsheetUpload = spreadsheetUpload;
        this.excelSummary = excelSummary;
        this.mapping = mapping;
    }
}


/***/ }),

/***/ "./client-src/app/_models/data-type.ts":
/*!*********************************************!*\
  !*** ./client-src/app/_models/data-type.ts ***!
  \*********************************************/
/*! exports provided: DataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataType", function() { return DataType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class DataType {
}
DataType.building = 'building';
DataType.asset = 'asset';


/***/ }),

/***/ "./client-src/app/_models/field-types/base-field.model.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_models/field-types/base-field.model.ts ***!
  \****************************************************************/
/*! exports provided: BaseField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseField", function() { return BaseField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class BaseField {
    constructor(options = {}) {
        this.value = options.value;
        this.key = options.templateFieldId;
        this.label = options.label || '';
        this.required = !!options.required;
        this.order = options.order === undefined ? 1 : options.order;
        this.controlType = options.controlType || '';
        this.fieldName = options.fieldName || '';
        this.isCustomField = options.isCustomField || false;
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/boolean-field.model.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_models/field-types/boolean-field.model.ts ***!
  \*******************************************************************/
/*! exports provided: BooleanField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BooleanField", function() { return BooleanField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class BooleanField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'boolean';
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/date-field.model.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_models/field-types/date-field.model.ts ***!
  \****************************************************************/
/*! exports provided: DateField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateField", function() { return DateField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class DateField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'date';
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/decimal-field.model.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_models/field-types/decimal-field.model.ts ***!
  \*******************************************************************/
/*! exports provided: DecimalField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DecimalField", function() { return DecimalField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class DecimalField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'decimalnumber';
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/drop-down-field.model.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/_models/field-types/drop-down-field.model.ts ***!
  \*********************************************************************/
/*! exports provided: DropDownField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropDownField", function() { return DropDownField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class DropDownField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'dropdown';
        this.dropDownOptions = [];
        this.dropDownOptions = options['dropDownOptions'] || [];
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/multi-line-text-field.model.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/_models/field-types/multi-line-text-field.model.ts ***!
  \***************************************************************************/
/*! exports provided: MultiLineTextField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiLineTextField", function() { return MultiLineTextField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class MultiLineTextField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'textarea';
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/people-picker-field.model.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_models/field-types/people-picker-field.model.ts ***!
  \*************************************************************************/
/*! exports provided: PeoplePickerField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PeoplePickerField", function() { return PeoplePickerField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class PeoplePickerField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'peoplePicker';
        this.displayValue = options['displayValue'] || undefined;
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/text-field.model.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_models/field-types/text-field.model.ts ***!
  \****************************************************************/
/*! exports provided: TextField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextField", function() { return TextField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class TextField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'text';
    }
}


/***/ }),

/***/ "./client-src/app/_models/field-types/whole-number-field.model.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/_models/field-types/whole-number-field.model.ts ***!
  \************************************************************************/
/*! exports provided: WholeNumberField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WholeNumberField", function() { return WholeNumberField; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _base_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");


class WholeNumberField extends _base_field_model__WEBPACK_IMPORTED_MODULE_1__["BaseField"] {
    constructor(options = {}) {
        super(options);
        this.controlType = 'wholenumber';
    }
}


/***/ }),

/***/ "./client-src/app/_models/group-match-code.model.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/_models/group-match-code.model.ts ***!
  \**********************************************************/
/*! exports provided: GroupMatchCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupMatchCode", function() { return GroupMatchCode; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class GroupMatchCode {
    constructor(groupId, matchCodeId, matchCodeName, matchCodeDescription, matchCodeCategoryId, matchCodeIsEnabled, groupMatchCodeIsEnabled, matchCodeIsUsed) {
        this.groupId = groupId;
        this.matchCodeId = matchCodeId;
        this.matchCodeName = matchCodeName;
        this.matchCodeDescription = matchCodeDescription;
        this.matchCodeCategoryId = matchCodeCategoryId;
        this.matchCodeIsEnabled = matchCodeIsEnabled;
        this.groupMatchCodeIsEnabled = groupMatchCodeIsEnabled;
        this.matchCodeIsUsed = matchCodeIsUsed;
    }
}


/***/ }),

/***/ "./client-src/app/_models/header-row.model.ts":
/*!****************************************************!*\
  !*** ./client-src/app/_models/header-row.model.ts ***!
  \****************************************************/
/*! exports provided: HeaderRow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderRow", function() { return HeaderRow; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class HeaderRow {
    constructor(isCalculated, confidence, row, columnMapping) {
        this.isCalculated = isCalculated;
        this.confidence = confidence;
        this.row = row;
        this.columnMapping = columnMapping;
    }
}


/***/ }),

/***/ "./client-src/app/_models/locale.model.ts":
/*!************************************************!*\
  !*** ./client-src/app/_models/locale.model.ts ***!
  \************************************************/
/*! exports provided: Locale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Locale", function() { return Locale; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Locale {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
}


/***/ }),

/***/ "./client-src/app/_models/match-code-category.model.ts":
/*!*************************************************************!*\
  !*** ./client-src/app/_models/match-code-category.model.ts ***!
  \*************************************************************/
/*! exports provided: MatchCodeCategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchCodeCategory", function() { return MatchCodeCategory; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class MatchCodeCategory {
    constructor(id, name) {
        this.id = id;
        this.name = name;
    }
    static jsonArrayToObjects(array) {
        return array.map(MatchCodeCategory.toObjectFromJson);
    }
    static toObjectFromJson({ id, name }) {
        return new MatchCodeCategory(id, name);
    }
}


/***/ }),

/***/ "./client-src/app/_models/match-code.model.ts":
/*!****************************************************!*\
  !*** ./client-src/app/_models/match-code.model.ts ***!
  \****************************************************/
/*! exports provided: MatchCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchCode", function() { return MatchCode; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class MatchCode {
    constructor(id, name, description, categoryName, categoryId, isEnabled) {
        this.id = id;
        this.name = name;
        this.description = description;
        this.categoryName = categoryName;
        this.categoryId = categoryId;
        this.isEnabled = isEnabled;
    }
    static jsonArrayToObjects(array) {
        return array.map(MatchCode.toObjectFromJson);
    }
    static toObjectFromJson({ id, name, description, categoryName, categoryId, isEnabled }) {
        return new MatchCode(id, name, description, categoryName, categoryId, isEnabled);
    }
}


/***/ }),

/***/ "./client-src/app/_models/shared/famis-grid-state.model.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/_models/shared/famis-grid-state.model.ts ***!
  \*****************************************************************/
/*! exports provided: FamisGridFeature */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamisGridFeature", function() { return FamisGridFeature; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var FamisGridFeature;
(function (FamisGridFeature) {
    FamisGridFeature[FamisGridFeature["Sort"] = 0] = "Sort";
    FamisGridFeature[FamisGridFeature["Filter"] = 1] = "Filter";
    FamisGridFeature[FamisGridFeature["ColumnSelection"] = 2] = "ColumnSelection";
    FamisGridFeature[FamisGridFeature["SingleSelectable"] = 3] = "SingleSelectable";
    FamisGridFeature[FamisGridFeature["MultiSelectable"] = 4] = "MultiSelectable";
    FamisGridFeature[FamisGridFeature["InGridEditable"] = 5] = "InGridEditable";
    FamisGridFeature[FamisGridFeature["HideTableCounts"] = 6] = "HideTableCounts";
    FamisGridFeature[FamisGridFeature["DashboardGroupSubGrid"] = 7] = "DashboardGroupSubGrid";
})(FamisGridFeature || (FamisGridFeature = {}));


/***/ }),

/***/ "./client-src/app/_models/task.model.ts":
/*!**********************************************!*\
  !*** ./client-src/app/_models/task.model.ts ***!
  \**********************************************/
/*! exports provided: Task */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Task", function() { return Task; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Task {
    constructor(id, WorkflowId, taskType, description, status, lastExecutionTime, isActive, assignedUserId, assignedTeamId, assignedToName, escalationDays, escalationuserId, escalationTeamId, escalationToName, preceedingTasks, SubsequentTasks) {
        this.id = id;
        this.WorkflowId = WorkflowId;
        this.taskType = taskType;
        this.description = description;
        this.status = status;
        this.lastExecutionTime = lastExecutionTime;
        this.isActive = isActive;
        this.assignedUserId = assignedUserId;
        this.assignedTeamId = assignedTeamId;
        this.assignedToName = assignedToName;
        this.escalationDays = escalationDays;
        this.escalationuserId = escalationuserId;
        this.escalationTeamId = escalationTeamId;
        this.escalationToName = escalationToName;
        this.preceedingTasks = preceedingTasks;
        this.SubsequentTasks = SubsequentTasks;
    }
}


/***/ }),

/***/ "./client-src/app/_models/team.model.ts":
/*!**********************************************!*\
  !*** ./client-src/app/_models/team.model.ts ***!
  \**********************************************/
/*! exports provided: Team */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Team", function() { return Team; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Team {
}


/***/ }),

/***/ "./client-src/app/_models/user.model.ts":
/*!**********************************************!*\
  !*** ./client-src/app/_models/user.model.ts ***!
  \**********************************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class User {
}


/***/ }),

/***/ "./client-src/app/_shared/components/add-asset-column-component.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_shared/components/add-asset-column-component.ts ***!
  \*************************************************************************/
/*! exports provided: AddAssetColumnComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddAssetColumnComponent", function() { return AddAssetColumnComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_custom_data_types_repository_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/services/custom-data-types-repository.service */ "./client-src/app/_api/services/custom-data-types-repository.service.ts");
/* harmony import */ var _api_dtos_create_asset_file_custom_column_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/dtos/create-asset-file-custom-column.dto */ "./client-src/app/_api/dtos/create-asset-file-custom-column.dto.ts");





let AddAssetColumnComponent = class AddAssetColumnComponent {
    constructor(customDataTypesService) {
        this.customDataTypesService = customDataTypesService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.isAddColumn = false;
        this.isNameValid = true;
        this.isDataTypeValid = true;
        this.onColumnAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.onFormOpen = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
    }
    ngOnInit() {
        // console.log(this.dataType, 'AddAssetColumnComponent');
        this.customDataTypesService.getCustomColumnDataTypes().subscribe(res => {
            this.dataTypes = res;
        });
    }
    showForm() {
        this.isAddColumn = true;
        this.name = '';
        this.dataType = -1;
        this.isNameValid = true;
        this.isDataTypeValid = true;
    }
    submit() {
        let isValid = true;
        if (this.name === '') {
            isValid = false;
            this.isNameValid = false;
            this.nameFieldError = 'Field name is required.';
        }
        if (isValid) {
            if (!this.name.match('^[a-zA-Z_$][a-zA-Z_$0-9]*$')) {
                isValid = false;
                this.isNameValid = false;
                this.nameFieldError = 'Custom columns cannot contain spaces or special characters.';
            }
        }
        if (isValid) {
            for (let i = 0; i < this.knownColumnNames.length; i++) {
                if (this.knownColumnNames[i].toLowerCase() === this.name.toLowerCase()) {
                    this.isNameValid = false;
                    isValid = false;
                    this.nameFieldError = 'Field name must be unique.';
                    break;
                }
            }
        }
        if (this.dataType === -1) {
            isValid = false;
            this.isDataTypeValid = false;
        }
        if (isValid) {
            this.isAddColumn = false;
            this.onColumnAdded.emit(new _api_dtos_create_asset_file_custom_column_dto__WEBPACK_IMPORTED_MODULE_4__["CreateAssetFileCustomColumnDto"](this.name, this.dataType));
        }
    }
};
AddAssetColumnComponent.ctorParameters = () => [
    { type: _api_services_custom_data_types_repository_service__WEBPACK_IMPORTED_MODULE_3__["CustomDataTypesRepository"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AddAssetColumnComponent.prototype, "onColumnAdded", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AddAssetColumnComponent.prototype, "onFormOpen", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], AddAssetColumnComponent.prototype, "knownColumnNames", void 0);
AddAssetColumnComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'add-asset-column-component',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./add-asset-column-component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/add-asset-column-component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_custom_data_types_repository_service__WEBPACK_IMPORTED_MODULE_3__["CustomDataTypesRepository"]])
], AddAssetColumnComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/alert.component.ts":
/*!**************************************************************!*\
  !*** ./client-src/app/_shared/components/alert.component.ts ***!
  \**************************************************************/
/*! exports provided: AlertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertComponent", function() { return AlertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm2015/ngx-toastr.js");
/* harmony import */ var _enums_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_enums/alert-type */ "./client-src/app/_enums/alert-type.ts");





let AlertComponent = class AlertComponent {
    constructor(alertService, toastrService) {
        this.alertService = alertService;
        this.toastrService = toastrService;
        this.alerts = [];
    }
    ngOnInit() {
        this.alertService.getAlert().subscribe((alert) => {
            if (alert) {
                switch (alert.type) {
                    case _enums_alert_type__WEBPACK_IMPORTED_MODULE_4__["AlertType"].Success:
                        this.toastrService.success(alert.message);
                        break;
                    case _enums_alert_type__WEBPACK_IMPORTED_MODULE_4__["AlertType"].Error:
                        this.toastrService.error(alert.message);
                        break;
                    case _enums_alert_type__WEBPACK_IMPORTED_MODULE_4__["AlertType"].Info:
                        this.toastrService.info(alert.message);
                        break;
                    case _enums_alert_type__WEBPACK_IMPORTED_MODULE_4__["AlertType"].Warning:
                        this.toastrService.warning(alert.message);
                        break;
                    default:
                        this.toastrService.error(alert.message);
                        break;
                }
            }
        });
    }
};
AlertComponent.ctorParameters = () => [
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"] }
];
AlertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'alert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./alert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/alert.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"]])
], AlertComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/bing-map.component.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/_shared/components/bing-map.component.ts ***!
  \*****************************************************************/
/*! exports provided: BingMapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BingMapComponent", function() { return BingMapComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var bingmaps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bingmaps */ "./node_modules/bingmaps/index.js");
/* harmony import */ var bingmaps__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bingmaps__WEBPACK_IMPORTED_MODULE_3__);




let BingMapComponent = class BingMapComponent {
    constructor(configService) {
        this.configService = configService;
        this.apiKey = this.configService.getSettings('bingMapAPIKey');
        this.defaultMapZoom = 15;
    }
    ngAfterViewInit() {
        this.initMap();
    }
    initMap() {
        const map = new Microsoft.Maps.Map(this.bingMap.nativeElement, {
            credentials: this.apiKey,
            disableBirdseye: true
        });
        const location = new Microsoft.Maps.Location(this.latitude, this.longitude);
        //Add a pushpin at the user's location.
        const options = {};
        if (this.buildingName) {
            options['title'] = this.buildingName;
        }
        const pin = new Microsoft.Maps.Pushpin(location, options);
        map.entities.push(pin);
        //Center the map on the user's location.
        map.setView({ center: location, zoom: this.mapZoom && this.mapZoom > 0 ? this.mapZoom : this.defaultMapZoom });
    }
};
BingMapComponent.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], BingMapComponent.prototype, "longitude", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], BingMapComponent.prototype, "latitude", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], BingMapComponent.prototype, "buildingName", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], BingMapComponent.prototype, "mapZoom", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('bingMap', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BingMapComponent.prototype, "bingMap", void 0);
BingMapComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'bing-map',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./bing-map.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/bing-map.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]])
], BingMapComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/carousel-modal.component.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_shared/components/carousel-modal.component.ts ***!
  \***********************************************************************/
/*! exports provided: CarouselModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CarouselModalComponent", function() { return CarouselModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");




let CarouselModalComponent = class CarouselModalComponent {
    constructor(windowManager) {
        this.windowManager = windowManager;
    }
    ngOnInit() {
    }
    handleModalEvent(modalEvent) {
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_3__["ModalFormEvent"].Dismiss) {
            this.windowManager.close();
        }
    }
};
CarouselModalComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_1__["WindowManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], CarouselModalComponent.prototype, "imageUrlCollection", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], CarouselModalComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], CarouselModalComponent.prototype, "hideSubmit", void 0);
CarouselModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'carousel-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./carousel-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/carousel-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_1__["WindowManager"]])
], CarouselModalComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/confirm-modal.component.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/_shared/components/confirm-modal.component.ts ***!
  \**********************************************************************/
/*! exports provided: ConfirmModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmModalComponent", function() { return ConfirmModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let ConfirmModalComponent = class ConfirmModalComponent {
    constructor(activeModal, translateService) {
        this.activeModal = activeModal;
        this.translateService = translateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
        this.options.heading.key = this.translateMessage(this.options.heading.key, this.options.heading.params);
        this.options.body.key = this.translateMessage(this.options.body.key, this.options.body.params);
        if (this.options.successText) {
            this.options.successText.key = this.translateMessage(this.options.successText.key, this.options.successText.params);
        }
        if (this.options.dismissText) {
            this.options.dismissText.key = this.translateMessage(this.options.dismissText.key, this.options.dismissText.params);
        }
    }
    translateMessage(message, params) {
        return this.translateService.instant(this.options.translateBaseKey + message, params);
    }
};
ConfirmModalComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__["TranslationManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ConfirmModalComponent.prototype, "options", void 0);
ConfirmModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'confirm-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./confirm-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/confirm-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__["TranslationManager"]])
], ConfirmModalComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/confirm.component.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_shared/components/confirm.component.ts ***!
  \****************************************************************/
/*! exports provided: ConfirmComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmComponent", function() { return ConfirmComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");



let ConfirmComponent = 
// TODO add translations to confirm for delete action
class ConfirmComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.isConfirmed = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
    }
    onConfirmed() {
        this.isConfirmed.emit(true);
    }
    onCancel() {
        this.isConfirmed.emit(false);
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ConfirmComponent.prototype, "confirmHeading", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ConfirmComponent.prototype, "confirmationMessage", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ConfirmComponent.prototype, "isConfirmed", void 0);
ConfirmComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'confirm',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./confirm.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/confirm.component.html")).default
    })
    // TODO add translations to confirm for delete action
    ,
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], ConfirmComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.ts":
/*!*******************************************************************************************!*\
  !*** ./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: CopyAssetRecordComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopyAssetRecordComponent", function() { return CopyAssetRecordComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let CopyAssetRecordComponent = class CopyAssetRecordComponent {
    constructor(windowManager) {
        this.windowManager = windowManager;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.copyAssetRequested = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
    }
    open(content) {
        this.windowRef = this.windowManager.open(content, 'Duplicate Record', {
            isModal: true
        });
        this.windowRef.result.subscribe(result => { });
    }
    close() {
        if (this.windowRef) {
            this.windowRef.close();
        }
    }
    createCopy() {
        this.copyAssetRequested.emit();
        this.close();
    }
};
CopyAssetRecordComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__["WindowManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CopyAssetRecordComponent.prototype, "copyAssetRequested", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], CopyAssetRecordComponent.prototype, "disabled", void 0);
CopyAssetRecordComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'copy-asset-record-component',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./copy-asset-record.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__["WindowManager"]])
], CopyAssetRecordComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/dashboard-groups.component.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/_shared/components/dashboard-groups.component.ts ***!
  \*************************************************************************/
/*! exports provided: DashboardGroupsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardGroupsComponent", function() { return DashboardGroupsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/dashboard/contract.service */ "./client-src/app/_api/services/dashboard/contract.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");







let DashboardGroupsComponent = class DashboardGroupsComponent {
    constructor(contractRepositoryService, router) {
        this.contractRepositoryService = contractRepositoryService;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.groups = new Array();
        this.groupsGridBusy = true;
        this.rowHeight = 80;
        this.state = {
            skip: 0,
            take: 15,
            // Initial filter descriptor
            filter: {
                logic: 'and',
                filters: []
            }
        };
    }
    ngOnInit() {
        if (this.id) {
            this.contractRepositoryService.getContractsGroups(this.id).subscribe(result => {
                this.groups = result;
                this.loadGroups();
                this.groupsGridBusy = false;
            }, error => { }, () => (this.groupsGridBusy = false));
        }
    }
    dataStateChange(state) {
        this.state = state;
        this.loadGroups();
    }
    getTypeName(type) {
        if (type === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client) {
            return 'Client';
        }
        if (type === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory) {
            return 'Inventory';
        }
        if (type === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].consolidated) {
            return 'Consolidated';
        }
        if (type === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].building) {
            return 'Buildings';
        }
        return 'Unknown Source';
    }
    navigateToProject(id, event) {
        event.preventDefault();
        this.router.navigate([`/project-profile/${id}/MainProfile`]);
    }
    loadGroups() {
        this.gridViewData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_2__["process"])(this.groups, this.state);
        this.height = this.calculateDynamicHeight(this.groups.length);
    }
    calculateDynamicHeight(totalGroups) {
        const c = this;
        const baseHeight = (2 * c.rowHeight);
        if (totalGroups >= this.state.take) {
            return baseHeight * (this.state.take / 2);
        }
        else {
            return baseHeight * totalGroups;
        }
    }
};
DashboardGroupsComponent.ctorParameters = () => [
    { type: _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_4__["ContractService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DashboardGroupsComponent.prototype, "id", void 0);
DashboardGroupsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'dashboard-groups',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./dashboard-groups.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dashboard-groups.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_4__["ContractService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
], DashboardGroupsComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/dynamic-form/asset-form.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/_shared/components/dynamic-form/asset-form.component.ts ***!
  \********************************************************************************/
/*! exports provided: AssetFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetFormComponent", function() { return AssetFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _default_asset_fields__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./default-asset-fields */ "./client-src/app/_shared/components/dynamic-form/default-asset-fields.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");












let AssetFormComponent = class AssetFormComponent {
    constructor(helperService, buildingInfoService, intl, alertService) {
        this.helperService = helperService;
        this.buildingInfoService = buildingInfoService;
        this.intl = intl;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.assetDto = { id: '' };
        this.fieldMetaData = new Array();
        this.isModal = false;
        this.formActionEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_6__["EventEmitter"]();
        this.isReadOnly = false;
        this.depreciationFieldMetadata = new Array();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.generalFormFields = new Array();
        this.customFormFields = new Array();
        this.depreciationFields = new Array();
        this.fields = new Array();
        this.editedCustomFields = [];
    }
    ngOnInit() {
        console.log(this.fieldMetaData, 'fieldMetaData asset-form');
        this.fieldMetaData.forEach(field => {
            if (field.name === 'assetImages') {
                field.fieldType = _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Image;
            }
            const defaultField = _default_asset_fields__WEBPACK_IMPORTED_MODULE_2__["DefaultAssetFields"].find(c => c.id === field.name);
            if (field.name === 'matchCodeName') {
                field.fieldType = _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].ReadOnly;
            }
            if (field.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].DropDown) {
                if (field.options && field.options.length > 0) {
                    field.options = this.helperService.sortCollection(field.options, 'displayName');
                }
            }
            if (defaultField) {
                this.defaultFormFields.push(this.mapMetaDataToField(field, defaultField.order));
            }
            if (!defaultField && !field.isCustom && this.depreciationFieldMetadata.findIndex(df => df.name === field.name) === -1) {
                this.generalFormFields.push(this.mapMetaDataToField(field));
            }
            if (!defaultField && field.isCustom) {
                this.customFormFields.push(this.mapMetaDataToField(field));
            }
        });
        if (this.depreciationFieldMetadata && this.depreciationFieldMetadata.length > 0) {
            this.depreciationFields = this.depreciationFieldMetadata.map(f => this.mapMetaDataToField(f));
        }
        const depreciationAsOfDate = this.depreciationFields.find(c => c.id === 'depreciationAsOfDate');
        if (depreciationAsOfDate) {
            depreciationAsOfDate.isReadOnly = true;
        }
        this.formGroup = this.helperService
            .toFormGroup(this.generalFormFields
            .concat(this.defaultFormFields)
            .concat(this.customFormFields)
            .concat(this.depreciationFields));
    }
    save(formAction) {
        this.isSaving = true;
        const assetDto = this.formGroup.value;
        if (assetDto.buildingId && assetDto.buildingId.indexOf(',') > 0) {
            [, assetDto.siteId, assetDto.buildingId] = assetDto.buildingId.split(',');
            if (assetDto.siteId.indexOf('blank') !== -1) {
                assetDto.siteId = '';
            }
        }
        if (this.validAssetDto(assetDto)) {
            assetDto.customColumns = this.editedCustomFields;
            this.formActionEvent.emit({ action: formAction, formGroup: this.formGroup, form: this.assetForm, dto: assetDto });
        }
        else {
            this.alertService.error('Missing required fields');
            this.isSaving = false;
        }
    }
    validAssetDto(assetDto) {
        if (!assetDto.buildingId) {
            return false;
        }
        return true;
    }
    getTranslationKey(fieldKey) {
        return this.translationKey ? this.translationKey : fieldKey;
    }
    cancel() {
        this.formActionEvent.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].Cancel });
    }
    keepFormOpen() {
        this.save(_enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].KeepOpen);
        this.isSaving = false;
    }
    saveAndClose() {
        this.save(_enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].Save);
    }
    mapMetaDataToField(field, defaultOrder) {
        return {
            id: field.name,
            type: field.fieldType,
            value: this.assetDto ? this.mapValue(field, this.assetDto[field.name]) : '',
            displayName: field.displayName,
            name: field.name,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder,
            required: field.required,
            translationKey: field.translationKey
        };
    }
    mapValue(field, value) {
        if (field.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].DateTime) {
            return this.intl.parseDate(value);
        }
        if (field.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Double) {
            return this.intl.parseNumber(value, 'n2', 'en');
        }
        if (field.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_10__["FieldType"].Integer) {
            return this.intl.parseNumber(value, 'n', 'en');
        }
        return field.name === 'buildingId' ? this.buildingInfoService.mapBuildingSelection(value, field.cascadedValueOptions) : value;
    }
    handleCustomFieldLabelChange(field) {
        const existingCustomField = this.editedCustomFields.find(f => f.name === field.name);
        if (existingCustomField) {
            existingCustomField.displayName = field.displayName;
        }
        else {
            this.editedCustomFields.push(field);
        }
    }
};
AssetFormComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_3__["BuildingInfoService"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_9__["IntlService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetFormComponent.prototype, "assetDto", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetFormComponent.prototype, "fieldMetaData", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetFormComponent.prototype, "isModal", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], AssetFormComponent.prototype, "imageEntityType", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetFormComponent.prototype, "formActionEvent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetFormComponent.prototype, "isReadOnly", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], AssetFormComponent.prototype, "savingForm", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], AssetFormComponent.prototype, "translationKey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetFormComponent.prototype, "depreciationFieldMetadata", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('assetForm', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_8__["NgForm"])
], AssetFormComponent.prototype, "assetForm", void 0);
AssetFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'asset-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./asset-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/asset-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_3__["BuildingInfoService"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_9__["IntlService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]])
], AssetFormComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/dynamic-form/controls/cascading-combo-box.component.ts":
/*!**************************************************************************************************!*\
  !*** ./client-src/app/_shared/components/dynamic-form/controls/cascading-combo-box.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: CascadingComboBoxComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CascadingComboBoxComponent", function() { return CascadingComboBoxComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
var CascadingComboBoxComponent_1;




let CascadingComboBoxComponent = CascadingComboBoxComponent_1 = class CascadingComboBoxComponent {
    constructor(renderer) {
        this.renderer = renderer;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.options = new Array();
        this.valuesToSelect = new Array();
        this.required = false;
        this.OnSelectedItemsChange = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.selectedItems = [];
        this.depth = [];
        // Angular Forms API Interface Members
        // The Angular Forms API calls this method to write form control value
        this.onChange = (value) => { };
        this.propagateChange = (_) => { };
    }
    ngOnInit() {
        this.selectedItems = [];
    }
    onComboboxChange(index, event) {
        let selectedValue = '';
        if (event === undefined) {
            this.selectedItems[index] = null;
        }
        else {
            selectedValue = this.selectedItems.map(c => !!c && c.key).toString();
        }
        // Clear selected items after index
        for (let i = 0; i < this.selectedItems.length; i++) {
            if (i > index) {
                this.selectedItems[i] = null;
            }
        }
        // console.log(selectedValue);
        this.writeValue(selectedValue);
    }
    setRemainingOptions(field, depth) {
        if (field && field.options) {
            const current = field.options.find(c => !!c && c.key === this.selectedIds[depth]);
            if (current) {
                this.selectedItems.push(current);
            }
            this.setRemainingOptions(current, depth + 1);
        }
    }
    writeValue(value) {
        this.onChange(value);
        if (this.selectedIds === undefined) {
            this.initialize(value);
        }
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        // Required by ControlValueAccessor - DO NOT Remove
    }
    setDisabledState(isDisabled) { }
    initialize(value) {
        this.selectedIds = new Array();
        if (value && value.indexOf(',') !== -1) {
            this.selectedIds = value.split(',');
        }
        // Setting the first set of options
        if (this.options) {
            const firstSelectOption = this.options.find(f => f && f.key === this.selectedIds[0]);
            if (firstSelectOption) {
                this.selectedItems.push(firstSelectOption);
                // Recursively set the remaining options
                this.setRemainingOptions(firstSelectOption, 1);
            }
        }
    }
};
CascadingComboBoxComponent.ctorParameters = () => [
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Renderer2"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CascadingComboBoxComponent.prototype, "options", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CascadingComboBoxComponent.prototype, "valuesToSelect", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CascadingComboBoxComponent.prototype, "required", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"])
], CascadingComboBoxComponent.prototype, "OnSelectedItemsChange", void 0);
CascadingComboBoxComponent = CascadingComboBoxComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'cascading-combo-box',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./cascading-combo-box.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/cascading-combo-box.component.html")).default,
        providers: [
            {
                provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
                useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["forwardRef"])(() => CascadingComboBoxComponent_1),
                multi: true
            }
        ]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_2__["Renderer2"]])
], CascadingComboBoxComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/dynamic-form/controls/dynamic-field.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/_shared/components/dynamic-form/controls/dynamic-field.component.ts ***!
  \********************************************************************************************/
/*! exports provided: DynamicFieldComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicFieldComponent", function() { return DynamicFieldComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");






let DynamicFieldComponent = class DynamicFieldComponent {
    constructor(intl) {
        this.intl = intl;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_3__["FieldType"];
        this.sourceTranslationKey = '';
        this.customFieldLabelChange = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.hasMinProperty = false;
    }
    ngOnInit() {
        if (this.field.type === this.fieldTypes.Date ||
            this.field.type === this.fieldTypes.DateTime) {
            this.dateValue = this.field.value;
        }
        if (this.field.type === this.fieldTypes.Double) {
            this.field.decimalLength = this.field.decimalLength ? this.field.decimalLength : 2;
            this.field.format = this.field.format ? this.field.format : 'n2';
        }
        if (this.field.type === this.fieldTypes.Percent) {
            this.field.decimalLength = this.field.decimalLength ? this.field.decimalLength : 2;
            this.field.format = this.field.format ? this.field.format : '#\\%';
        }
    }
    ngAfterViewInit() {
        if (this.dateValue) {
            if (this.isTimePresent(this.dateValue)) {
                this.dateValue = new Date(this.removeTimeZoneOffsetFromDate(this.dateValue));
            }
            else {
                this.dateValue.setTime(this.removeTimeZoneOffsetFromDate(this.dateValue));
            }
        }
    }
    ngOnChanges() {
        this.hasMinProperty = this.field && typeof this.field.min === 'number' ? true : false;
    }
    onChange(value) {
        if (value) {
            value.setHours(0, 0, 0, 0);
            this.dateValue.setTime(this.removeTimeZoneOffsetFromDate(value));
        }
    }
    get isValid() {
        return this.form.controls[this.field.id] ? this.form.controls[this.field.id].valid : false;
    }
    remove() {
        this.ref.destroy();
    }
    removeTimeZoneOffsetFromDate(date) {
        const timeOffsetInMS = date.getTimezoneOffset() * 60000;
        return (date.getTime() - timeOffsetInMS);
    }
    isTimePresent(inputDate) {
        if (inputDate.getHours() === 0
            && inputDate.getMinutes() === 0
            && inputDate.getSeconds() === 0
            && inputDate.getMilliseconds() === 0) {
            return false;
        }
        return true;
    }
    customLabelChange($event, field) {
        const newDisplayName = $event.target.innerText.trim();
        if (!!newDisplayName && newDisplayName !== field.displayName) {
            this.customFieldLabelChange.emit({
                displayName: newDisplayName,
                name: field.name,
                isCustom: true
            });
        }
        else {
            $event.target.innerText = field.displayName;
        }
    }
};
DynamicFieldComponent.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_5__["IntlService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], DynamicFieldComponent.prototype, "canRemove", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DynamicFieldComponent.prototype, "field", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroup"])
], DynamicFieldComponent.prototype, "form", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DynamicFieldComponent.prototype, "key", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DynamicFieldComponent.prototype, "value", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DynamicFieldComponent.prototype, "entityId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], DynamicFieldComponent.prototype, "imageEntityType", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DynamicFieldComponent.prototype, "sourceTranslationKey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"])
], DynamicFieldComponent.prototype, "customFieldLabelChange", void 0);
DynamicFieldComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'dynamic-field',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./dynamic-field.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/dynamic-field.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_5__["IntlService"]])
], DynamicFieldComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/dynamic-form/controls/image-upload-field.component.ts":
/*!*************************************************************************************************!*\
  !*** ./client-src/app/_shared/components/dynamic-form/controls/image-upload-field.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: ImageUploadFieldComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageUploadFieldComponent", function() { return ImageUploadFieldComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _carousel_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../carousel-modal.component */ "./client-src/app/_shared/components/carousel-modal.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_image_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/services/image.service */ "./client-src/app/_core/services/image.service.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_api/_runtime/services/image-api.service */ "./client-src/app/_api/_runtime/services/image-api.service.ts");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");










let ImageUploadFieldComponent = class ImageUploadFieldComponent {
    constructor(imageApiService, InventoryApiService, insuranceApiService, windowManager, container, imageService) {
        this.imageApiService = imageApiService;
        this.InventoryApiService = InventoryApiService;
        this.insuranceApiService = insuranceApiService;
        this.windowManager = windowManager;
        this.container = container;
        this.imageService = imageService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.uploadImageDto = { file: null, imageName: '' };
        this.images = new Array();
    }
    ngOnInit() {
        if (this.entityId) {
            this.uploadImageDto.id = this.entityId;
            this.updateImages();
        }
        else {
            this.disabled = true;
        }
    }
    fileChange(event) {
        const fileList = event.target.files;
        if (fileList.length > 0) {
            this.uploadImageDto.file = fileList[0];
            this.uploadImageDto.imageName = fileList[0].name;
        }
    }
    upload() {
        this.uploadImageDto.index = this.images.length;
        if (this.imageEntityType === 0) {
            this.imageApiService.createAssetImage(this.uploadImageDto).subscribe(() => {
                this.updateImages();
            });
        }
        else {
            this.imageApiService.createBuildingImage(this.uploadImageDto).subscribe(() => {
                this.updateImages();
            });
        }
    }
    updateImages() {
        if (this.imageEntityType === 0) {
            this.InventoryApiService.getAssetRecord(this.entityId).subscribe(dto => {
                if (dto.assetImages) {
                    this.images = dto.assetImages.sort(this.imageService.compareImageIndexes);
                    this.imageService.imageCollection = this.images;
                }
            });
        }
        else {
            this.insuranceApiService.getBuilding(this.entityId).subscribe(dto => {
                if (dto.buildingImages) {
                    this.images = dto.buildingImages.sort(this.imageService.compareImageIndexes);
                    this.imageService.imageCollection = this.images;
                }
            });
        }
    }
    delete(image) {
        this.imageApiService.deleteImage(image.id).subscribe(() => {
            this.images = this.images.filter((img) => {
                return img.index !== image.index;
            });
            this.imageService.imageCollection = this.images;
        });
    }
    onInputBlur(event, imageIndex) {
        const inputValue = Number(event.target.value);
        if (inputValue !== this.images[imageIndex].index) {
            const editedImageIndex = this.images[imageIndex].index;
            for (let i = 0; i < this.images.length; i++) {
                if (this.images[i].index === inputValue) {
                    this.images[i].index = this.images[imageIndex].index;
                    this.images[imageIndex].index = this.images[i].index;
                    break;
                }
            }
            if (this.images[imageIndex].index === editedImageIndex) {
                this.images[imageIndex].index = inputValue;
            }
            this.images.sort(this.imageService.compareImageIndexes);
            this.imageService.imageCollection = this.images;
        }
    }
    showImageCarouselOnClick(imageUrl) {
        let imageUrlCollection = new Array();
        this.images.forEach((image) => {
            imageUrlCollection.push(image.url);
        });
        imageUrlCollection = imageUrlCollection.filter((url) => {
            return url !== imageUrl;
        });
        imageUrlCollection.unshift(imageUrl);
        const modal = this.windowManager.open(_carousel_modal_component__WEBPACK_IMPORTED_MODULE_1__["CarouselModalComponent"], 'Images', {
            isModal: true
        });
        modal.content.instance.hideSubmit = true;
        modal.content.instance.imageUrlCollection = imageUrlCollection;
    }
};
ImageUploadFieldComponent.ctorParameters = () => [
    { type: _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_7__["ImageApiService"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_9__["InventoryApiService"] },
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_8__["InsuranceApiService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_5__["ViewContainerRef"] },
    { type: _core_services_image_service__WEBPACK_IMPORTED_MODULE_3__["ImageService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ImageUploadFieldComponent.prototype, "entityId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], ImageUploadFieldComponent.prototype, "imageEntityType", void 0);
ImageUploadFieldComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Component"])({
        selector: 'image-upload-field',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./image-upload-field.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/image-upload-field.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_7__["ImageApiService"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_9__["InventoryApiService"],
        _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_8__["InsuranceApiService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ViewContainerRef"],
        _core_services_image_service__WEBPACK_IMPORTED_MODULE_3__["ImageService"]])
], ImageUploadFieldComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/dynamic-form/default-asset-fields.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/_shared/components/dynamic-form/default-asset-fields.ts ***!
  \********************************************************************************/
/*! exports provided: DefaultAssetFields */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultAssetFields", function() { return DefaultAssetFields; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const DefaultAssetFields = [
    { id: 'buildingId', order: 0 },
    { id: 'assetImages', order: 1 },
    { id: 'floor', order: 2 },
    { id: 'room', order: 3 },
    { id: 'department', order: 4 },
    { id: 'assetTagNumber', order: 5 },
    { id: 'description', order: 6 },
    { id: 'manufacturer', order: 7 },
    { id: 'modelNumber', order: 8 },
    { id: 'serialNumber', order: 9 },
    { id: 'quantity', order: 10 },
    { id: 'acquisitionDate', order: 11 },
    { id: 'historicalCost', order: 12 },
    { id: 'assetClass', order: 13 },
    { id: 'costReplacementNew', order: 14 }
];


/***/ }),

/***/ "./client-src/app/_shared/components/famis-grid.component.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_shared/components/famis-grid.component.ts ***!
  \*******************************************************************/
/*! exports provided: FamisGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamisGridComponent", function() { return FamisGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @progress/kendo-data-query */ "./node_modules/@progress/kendo-data-query/dist/es2015/main.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");















let FamisGridComponent = class FamisGridComponent {
    constructor(famisGridService, alertService, helperService, userGridService, router, userStore) {
        this.famisGridService = famisGridService;
        this.alertService = alertService;
        this.helperService = helperService;
        this.userGridService = userGridService;
        this.router = router;
        this.userStore = userStore;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.showAddCustomColumn = false;
        this.InGridEditableNonNegativeColumns = Array();
        this.isPersistentGrid = true; // defaulted to true. Pass in "false" where you don't need the grid to be persistent
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_8__["Subject"]();
        this.selectedRows = [];
        this.canSelect = false;
        this.canSort = false;
        this.canFilter = 'menu';
        this.canSelectColumns = false;
        this.editedRecords = new Array();
        this.editedRecordsWithErrors = new Array();
        this.updateCacheEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.actionEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.selectionChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.filterChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.sortChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.dataStateChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.cellValueChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.dataLoading = false;
        this.selectedHeaders = new Array();
        this.unsortableFields = ['inventoryImageUrl1'];
        this.gridSettingsLoaded = undefined;
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"];
        this.hideTableCounts = false;
        this.showDashboarGroupSubGrid = false;
        this.fixedColumnLength = 0;
        this.rowCallback = (context) => {
            const id = context.dataItem.id;
            if (this.editedRecordsWithErrors && this.editedRecordsWithErrors.findIndex(c => c.itemId === id) !== -1) {
                return 'edited-row with-errors';
            }
            else if (this.editedRecords && this.editedRecords.findIndex(c => c.itemId === id) !== -1) {
                return 'edited-row';
            }
        };
    }
    ngOnInit() {
        const s = this;
        s.dataLoading = true;
        this.gridSettingsName = this.userGridService.createUserGridId(this.famisGrid.dataSource ? this.famisGrid.dataSource.toString() : null, this.router.url.toString().split('?')[0], this.famisGrid.name);
        this.famisGrid.columnToSelectBy = !!this.famisGrid.columnToSelectBy ? this.famisGrid.columnToSelectBy : 'id';
        this.state = {
            skip: 0,
            take: this.famisGridService.windowSize
        };
        this.famisGrid.height = !!this.famisGrid.height ? this.famisGrid.height : 330;
        this.famisGrid.scrollingMode = !!this.famisGrid.scrollingMode ? this.famisGrid.scrollingMode : 'virtual';
        this.filterRoot = { logic: 'and', filters: [] };
        this.userStore.user.subscribe(user => {
            this.userId = user.profile.IdentityId.toString();
            this.userGridService.getSettings(this.userId, this.gridSettingsName, this.famisGrid.selectedHeaders).subscribe(savedSetting => {
                const defaultSort = this.famisGrid.defaultSort ? this.famisGrid.defaultSort : null;
                if (!savedSetting.gridSort) {
                    savedSetting.gridSort = defaultSort;
                }
                this.applySavedSettings(savedSetting);
                if (this.isPersistentGrid) {
                    this.userGridService.saveSettings(this.gridSettingsName, savedSetting.headers, null, this.userId, savedSetting.kendoGridState ? savedSetting.kendoGridState : null, savedSetting.filters ? savedSetting.filters : null, savedSetting.columnSizes ? savedSetting.columnSizes : null, savedSetting.gridSort ? savedSetting.gridSort : defaultSort).subscribe(updatedSetting => {
                        this.userGridService.updateUserSettingsCache(updatedSetting);
                    });
                }
            });
        });
        let order = 0;
        this.famisGrid.columnHeaders.forEach(header => {
            header.order = order++;
            if (header.width === undefined) {
                header.width = '255';
            }
        });
        this.editedRecords = new Array();
        this.famisGridService.editedRecords$.subscribe(editedRecords => {
            this.editedRecords = editedRecords;
        });
        this.editedRecordsWithErrors = new Array();
        this.famisGridService.editedRecordsWithErrors$.subscribe(editedRecordsWithErrors => {
            this.editedRecordsWithErrors = editedRecordsWithErrors;
        });
        if (this.famisGrid.supportedOperators) {
            this.hideTableCounts = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].HideTableCounts);
            this.canSelect = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].SingleSelectable)
                ? `{checkboxOnly:true, 'single'}`
                : false;
            this.canSelect = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].MultiSelectable)
                ? `{checkboxOnly:true, 'multiple'}`
                : false;
            this.showDashboarGroupSubGrid = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].DashboardGroupSubGrid);
            this.canSort = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort)
                ? `{allowUnsort: false,mode: 'single'}`
                : false;
            this.canFilter = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Filter) ? 'menu' : false;
            this.canSelectColumns = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].ColumnSelection);
            this.canInGridEditCells = this.famisGrid.supportedOperators.some(x => x === _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].InGridEditable);
            this.fixedColumnLength = this.canSelect ? 1 : 0;
            this.fixedColumnLength = !!this.famisGrid.actions && this.famisGrid.actions.length > 0
                ? this.fixedColumnLength + 1
                : this.fixedColumnLength;
        }
        this.famisGridService.cachedRecords$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(cachedRecords => {
            s.dataLoading = true;
            if (cachedRecords[this.famisGrid.gridId]) {
                s.updateView(cachedRecords[this.famisGrid.gridId]);
            }
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    inGridSave() {
        const enumColumns = this.famisGrid.columnHeaders.filter(header => header.enumOptions && header.enumOptions.length > 0);
        if (enumColumns && enumColumns.length > 0) {
            this.editedRecords.forEach(record => {
                const enumKeys = Object.keys(record.dataItem).filter(key => enumColumns.map(enumColumn => enumColumn.name).includes(key));
                enumKeys.forEach(enumKey => {
                    const enumColumn = enumColumns.find(col => col.name === enumKey);
                    if (enumColumn) {
                        const enumOption = enumColumn.enumOptions.find(option => option.displayName === record.dataItem[enumKey]);
                        if (enumOption) {
                            record.dataItem[enumKey] = enumOption.name;
                        }
                    }
                });
            });
        }
        this.cellValueChanged.emit(this.editedRecords);
    }
    dataStateChange(state) {
        const s = this;
        s.dataLoading = true;
        // Emit change right away to let consuming component handle
        s.dataStateChanged.emit(state);
        this.state = state;
        this.famisGridService
            .update(s.famisGrid.gridId, s.state.skip, s.state.take, s.famisGrid.totalRecordCount, s.famisGridService.currentSort[s.famisGrid.gridId])
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            if (result.updateCache) {
                s.updateCacheEvent.emit(result);
            }
            else if (result.gridId === s.famisGrid.gridId && result.cachedData.length) {
                s.updateView(result.cachedData);
            }
        });
    }
    onColumnSelection(selectedEvent) {
        if (selectedEvent.RemoveCustomColumns && selectedEvent.RemoveCustomColumns.length > 0) {
            const removeCustomColumns = selectedEvent.RemoveCustomColumns;
            if (this.famisGrid.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_14__["DataTargetName"].building) {
                selectedEvent.RemoveCustomColumns.forEach(customColumn => {
                    // Delete custom column from Building
                    this.famisGridService.DeleteBuildingCustomColumn(this.famisGrid.groupId, customColumn.displayName).subscribe(result => {
                        if (result) {
                            removeCustomColumns.pop();
                            this.handleDeletedColumnResult(selectedEvent, removeCustomColumns, customColumn);
                        }
                    });
                });
            }
            else {
                selectedEvent.RemoveCustomColumns.forEach(customColumn => {
                    // Delete custom column from Asset
                    this.famisGridService.DeleteAssetCustomColumn(this.famisGrid.fileId, customColumn.displayName).subscribe(result => {
                        if (result) {
                            removeCustomColumns.pop();
                            this.handleDeletedColumnResult(selectedEvent, removeCustomColumns, customColumn);
                        }
                    });
                });
            }
        }
        else {
            this.createCustomColumns(selectedEvent);
        }
    }
    createCustomColumns(selectedEvent) {
        if (selectedEvent.PendingCustomColumns && selectedEvent.PendingCustomColumns.length > 0) {
            // Create Custom Columns
            if (this.famisGrid.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_14__["DataTargetName"].building) {
                this.famisGridService.AddBuildingCustomColumns(this.famisGrid.groupId, selectedEvent.PendingCustomColumns).subscribe(createdBuildingColumnsResult => {
                    this.handleCreatedColumnsResult(selectedEvent, createdBuildingColumnsResult);
                });
            }
            else {
                this.famisGridService.AddAssetCustomColumns(this.famisGrid.fileId, selectedEvent.PendingCustomColumns).subscribe(createdColumnsResult => {
                    this.handleCreatedColumnsResult(selectedEvent, createdColumnsResult.result);
                });
            }
        }
        else {
            // Set Selected Headers
            this.setSelectedHeaders(selectedEvent.SelectedHeaders);
        }
    }
    handleCreatedColumnsResult(selectedEvent, createdColumnsResult) {
        this.alertService.success('Columns added to successfully.');
        createdColumnsResult.forEach(column => {
            const newHeader = {
                displayName: column.columnName,
                name: column.columnName,
                fieldType: column.dataType,
                isCustom: true,
                isSearchable: true,
                isSortable: true,
                isFilterable: true,
                width: '255'
            };
            if (this.famisGrid.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_14__["DataTargetName"].building) {
                newHeader.isEditable = true;
            }
            this.famisGrid.columnHeaders.push(newHeader);
            // Set Selected Headers
            selectedEvent.SelectedHeaders.push(newHeader.name);
        });
        this.setSelectedHeaders(selectedEvent.SelectedHeaders);
    }
    handleDeletedColumnResult(selectedEvent, removeCustomColumns, column) {
        this.alertService.success('Column removed successfully.');
        // Remove column from grid column headers
        let index = this.famisGrid.columnHeaders.findIndex(header => header.name === column.name);
        if (index !== -1) {
            this.famisGrid.columnHeaders.splice(index, 1);
        }
        // Remove column from selected headers
        index = selectedEvent.SelectedHeaders.findIndex(headerName => headerName === column.name);
        if (index !== -1) {
            selectedEvent.SelectedHeaders.splice(index, 1);
        }
        this.setSelectedHeaders(selectedEvent.SelectedHeaders);
        this.gridData.forEach(record => {
            if (Object.keys(record).includes(column.name)) {
                delete record[column.name];
            }
        });
        if (removeCustomColumns.length === 0) {
            this.createCustomColumns(selectedEvent);
        }
    }
    setSelectedHeaders(columnsSelected) {
        this.selectedHeaders = new Array();
        columnsSelected.forEach(name => {
            const index = this.famisGrid.columnHeaders.findIndex(c => !!c && c.name === name);
            if (index !== -1) {
                this.selectedHeaders.push(this.famisGrid.columnHeaders[index]);
            }
        });
        this.userGridService.saveSettings(this.gridSettingsName, this.selectedHeaders.map(c => c.name), null, this.userId)
            .subscribe(saveResult => {
            this.userGridService.updateUserSettingsCache(saveResult);
            this.updateHeaders(this.selectedHeaders.map(c => c.name));
        });
    }
    updateCurrentView() {
        const s = this;
        this.famisGridService
            .update(s.famisGrid.gridId, s.state.skip, s.state.take, s.famisGrid.totalRecordCount, s.famisGridService.currentSort[s.famisGrid.gridId])
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            if (result.cachedData.length > 0 && result.gridId === this.famisGrid.gridId) {
                s.updateView(result.cachedData);
            }
        });
    }
    applySavedFilter(filter) {
        this.state.filter = filter;
        let filterCleared = false;
        if (this.state.filter.filters && this.state.filter.filters.length === 0) {
            filterCleared = true;
        }
    }
    filterChange(filter) {
        const s = this;
        this.applySavedFilter(filter);
        this.famisGridService.mapFilterTerms(filter, s.famisGrid.gridId, s.famisGrid.dataSource).subscribe(result => {
            s.famisGridService
                .update(s.famisGrid.gridId, s.state.skip, s.state.take, s.famisGridService.windowSize, s.famisGridService.currentSort[s.famisGrid.gridId], true)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(s.destroyed$))
                .subscribe(res => {
                // send out a filter save http post request to the api
                this.userGridService.saveActiveFilters(this.gridSettingsName, s.state, filter).subscribe(gridFilterSettingResult => {
                    this.userGridService.updateUserSettingsCache(gridFilterSettingResult);
                    s.updateCacheEvent.emit(res);
                });
            });
        });
    }
    cellClick({ sender, rowIndex, columnIndex, dataItem, isEdited, column }) {
        if (this.canInGridEditCells) {
            this.editCell({ sender, rowIndex, columnIndex, dataItem, isEdited, column });
        }
    }
    viewInGridSaveErrors() {
        this.editedRecordsWithErrors.forEach(error => {
            console.log(`In grid errors ${error.value}`);
        });
    }
    editCell({ sender, rowIndex, columnIndex, dataItem, isEdited, column }) {
        if (!isEdited && column.editable === 'true') {
            const fields = new Array();
            this.famisGrid.columnHeaders.forEach(columnHeader => {
                fields.push({
                    id: columnHeader.name,
                    displayName: columnHeader.displayName,
                    type: columnHeader.fieldType
                });
            });
            this.formGroup = this.helperService.toFormGroup(fields);
            this.formGroup.patchValue(this.famisGridService.mapToTypedValues(dataItem, this.famisGrid.columnHeaders));
            sender.editCell(rowIndex, columnIndex, this.formGroup);
        }
    }
    onColumnReorder(event) {
        if (event.newIndex <= this.fixedColumnLength - 1) {
            event.preventDefault();
        }
        else {
            const headerNames = this.selectedHeaders.map(c => c.name);
            const reorderedColumns = this.move(headerNames, event.oldIndex - this.fixedColumnLength, event.newIndex - this.fixedColumnLength);
            this.userGridService.saveSelectedHeaders(this.gridSettingsName, reorderedColumns).subscribe(saveResult => {
                this.userGridService.updateUserSettingsCache(saveResult);
                this.applySavedSettings(saveResult.settingJson);
            });
        }
    }
    onColumnResize(event) {
        const sizes = new Array();
        const resizedColumn = (event[0].column.field);
        this.selectedHeaders.forEach(h => {
            let width = h.width ? +h.width : +this.defaultHeaderWidth;
            if (h.name === resizedColumn) {
                width = event[0].newWidth;
            }
            sizes.push({
                fieldName: h.name,
                width: width
            });
        });
        this.userGridService.saveColumnSizes(this.gridSettingsName, sizes).subscribe(saveRes => {
            this.userGridService.updateUserSettingsCache(saveRes);
        });
    }
    cellClose(args) {
        const { dataItem, column } = args;
        if (!this.formGroup.valid) {
            // prevent closing the edited cell if there are invalid values.
            args.preventDefault();
        }
        else if (this.formGroup.dirty) {
            const columnFieldIsNonNegative = this.InGridEditableNonNegativeColumns.some(negativeColumn => negativeColumn === column.field);
            dataItem[column.field] = columnFieldIsNonNegative && this.formGroup.value[column.field] < 0
                ? Math.abs(this.formGroup.value[column.field])
                : this.formGroup.value[column.field];
            this.famisGridService.addEditedRecord(dataItem.id, dataItem);
        }
    }
    gridSelectionChange(event) {
        if (this.canSelect || this.famisGrid.name === 'Duplicates') {
            const selectionChangeEvent = {
                itemsAdded: event.selectedRows,
                itemsRemoved: event.deselectedRows
            };
            this.selectionChanged.emit(selectionChangeEvent);
        }
    }
    applySavedSettings(savedSetting) {
        const s = this;
        const cacheUpdate = {
            cacheWindow: {
                skip: 0,
                take: this.famisGridService.windowSize
            }
        };
        if (savedSetting.kendoGridState) {
            s.state = savedSetting.kendoGridState;
        }
        if (savedSetting.gridSort) {
            s.sort = savedSetting.gridSort;
            s.state.sort = savedSetting.gridSort;
            s.famisGridService.currentSort[s.famisGrid.gridId] = s.mapSortDto(savedSetting.gridSort);
            cacheUpdate.sortTerms = s.famisGridService.currentSort[s.famisGrid.gridId];
        }
        s.state.skip = cacheUpdate.cacheWindow.skip;
        s.state.take = cacheUpdate.cacheWindow.take;
        this.updateHeaders(savedSetting.headers);
        // update filters with the ones fetched from the database
        if (savedSetting.filters && savedSetting.filters.filters) {
            s.state.filter = savedSetting.filters;
            s.applySavedFilter(savedSetting.filters);
        }
        if (savedSetting.columnSizes) {
            this.famisGrid.columnHeaders.forEach(header => {
                const index = savedSetting.columnSizes.findIndex(c => c.fieldName === header.name);
                if (index !== -1) {
                    header.width = savedSetting.columnSizes[index].width.toString();
                }
            });
        }
        if (savedSetting.filters) {
            this.filterChange(savedSetting.filters);
        }
        else {
            s.updateCacheEvent.emit(cacheUpdate);
        }
    }
    updateHeaders(headers) {
        const s = this;
        this.selectedHeaders = new Array();
        this.famisGrid.selectedHeaders = new Array();
        headers.forEach(name => {
            s.gridSettingsLoaded = true;
            const index = this.famisGrid.columnHeaders.findIndex(c => !!c && c.name === name);
            if (index !== -1) {
                s.selectedHeaders.push(s.famisGrid.columnHeaders[index]);
                this.famisGrid.selectedHeaders.push(name);
            }
        });
    }
    move(arr, old_index, new_index) {
        while (old_index < 0) {
            old_index += arr.length;
        }
        while (new_index < 0) {
            new_index += arr.length;
        }
        if (new_index >= arr.length) {
            let k = new_index - arr.length;
            while (k-- + 1) {
                arr.push(undefined);
            }
        }
        arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);
        return arr;
    }
    mapGridDataResult() {
        if (this.gridData && this.gridData.length > 0) {
            const gridDataResult = {
                data: Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_11__["filterBy"])(this.gridData, this.filterRoot),
                total: this.famisGrid.totalRecordCount
            };
            this.dataLoading = false;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["of"])(gridDataResult);
        }
        else {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["of"])({
                data: new Array(),
                total: 0
            });
        }
    }
    sortChange(sort) {
        if (this.unsortableFields.indexOf(sort[0].field) < 0) {
            const s = this;
            // Emit change right away to let consuming component handle
            s.sortChanged.emit(sort);
            this.sort = sort;
            const sortTerms = s.mapSortDto(sort);
            this.famisGridService.currentSort[this.famisGrid.gridId] = sortTerms;
            s.famisGridService
                .update(s.famisGrid.gridId, s.state.skip, s.state.take, s.famisGrid.totalRecordCount, s.famisGridService.currentSort[s.famisGrid.gridId], true)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(s.destroyed$))
                .subscribe(result => {
                s.updateCacheEvent.emit(result);
            });
            s.userGridService.saveActiveSorts(this.gridSettingsName, s.state, sort)
                .subscribe(savedSetting => {
                s.userGridService.updateUserSettingsCache(savedSetting);
            });
        }
    }
    mapSortDto(sort) {
        const sortTerms = new Array();
        const orderCount = 0;
        sort.forEach(c => {
            const sortTerm = {
                termOrder: orderCount,
                sortDirection: c.dir === 'asc' ? 0 : 1,
                field: c.field
            };
            sortTerms.push(sortTerm);
        });
        return sortTerms;
    }
    updateView(data) {
        if (this.gridData && this.gridData.length === 0 && data.length === 0) {
            this.dataLoading = false;
            return;
        }
        this.gridData = data;
        this.view = this.mapGridDataResult();
    }
    // ** Any type is intentional as the grid row can differ based on implementation
    actionClicked(rowIndex, dataItem, action) {
        this.actionEvent.emit({ rowIndex: rowIndex, item: dataItem, action: action });
    }
    getColumnTitle(column) {
        return this.helperService.getColumnTitle(this.famisGrid.translationBaseKey, column);
    }
    pageChange(state) {
        console.log('Page Change Event: Current S: ' + this.state.skip + ' T: ' + this.state.take + ' Event S: ' + state.skip + ' T: ' + state.take);
        this.dataStateChange(state);
    }
};
FamisGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] },
    { type: _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__["UserGridService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_6__["UserStore"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "famisGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "showAddCustomColumn", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "InGridEditableNonNegativeColumns", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "isPersistentGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "updateCacheEvent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "actionEvent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "selectionChanged", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "filterChanged", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "sortChanged", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "dataStateChanged", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisGridComponent.prototype, "cellValueChanged", void 0);
FamisGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'famis-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./famis-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/famis-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"],
        _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__["UserGridService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_6__["UserStore"]])
], FamisGridComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/famis-sub-grid.component.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_shared/components/famis-sub-grid.component.ts ***!
  \***********************************************************************/
/*! exports provided: FamisSubGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamisSubGridComponent", function() { return FamisSubGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @progress/kendo-data-query */ "./node_modules/@progress/kendo-data-query/dist/es2015/main.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let FamisSubGridComponent = class FamisSubGridComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.state = {
            skip: 0,
            take: 8,
            filter: {
                logic: 'and',
                filters: []
            }
        };
    }
    ngOnInit() {
        this.subGridSortedData = this.data.subGridData.filter((dataObj) => {
            for (const prop in dataObj) {
                if (dataObj[prop] === this.dataItem.id) {
                    return dataObj;
                }
            }
        });
        this.columns = this.data.subGridHeaders;
        this.loadItems();
    }
    dataStateChange(state) {
        this.state = state;
        this.loadItems();
    }
    loadItems() {
        this.gridDataResult = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_1__["process"])(this.subGridSortedData, this.state);
    }
    getColumnTitle(column) {
        return this.helperService.getColumnTitle(this.translationBaseKey, column);
    }
};
FamisSubGridComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisSubGridComponent.prototype, "data", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FamisSubGridComponent.prototype, "dataItem", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], FamisSubGridComponent.prototype, "translationBaseKey", void 0);
FamisSubGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'famis-sub-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./famis-sub-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/famis-sub-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"]])
], FamisSubGridComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/file-upload-control/file-upload-control.component.ts":
/*!************************************************************************************************!*\
  !*** ./client-src/app/_shared/components/file-upload-control/file-upload-control.component.ts ***!
  \************************************************************************************************/
/*! exports provided: FileUploadControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadControlComponent", function() { return FileUploadControlComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");



let FileUploadControlComponent = class FileUploadControlComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.onFileUploadRequested = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.fileInputLabel = 'Add File';
    }
    ngOnInit() {
        this.isAddingFile = false;
    }
    AddFileClicked(event) {
        event.preventDefault();
        this.isAddingFile = true;
    }
    CancelUpload(event) {
        event.preventDefault();
        this.resetControl();
    }
    updateFile(event) {
        const fileList = event.target.files;
        this.isInvalidFileType = false;
        if (fileList.length > 0) {
            if (this.isValidType(fileList[0].name)) {
                this.file = fileList[0];
                this.isFileSelected = true;
            }
            else {
                this.isInvalidFileType = true;
            }
        }
        else {
            this.file = null;
            this.isFileSelected = false;
        }
    }
    RequestFileUpload() {
        this.onFileUploadRequested.emit(this.file);
        this.resetControl();
    }
    isValidType(fileName) {
        const fileType = fileName.substring(fileName.lastIndexOf('.'), fileName.length).toLocaleLowerCase();
        for (let i = 0; i < this.supportedFileTypes.length; i++) {
            if (this.supportedFileTypes[i].toLocaleLowerCase() === fileType) {
                return true;
            }
        }
        return false;
    }
    resetControl() {
        this.isAddingFile = false;
        this.isFileSelected = false;
        this.isInvalidFileType = false;
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], FileUploadControlComponent.prototype, "fileInputLabel", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], FileUploadControlComponent.prototype, "supportedFileTypes", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FileUploadControlComponent.prototype, "onFileUploadRequested", void 0);
FileUploadControlComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'file-upload-control',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./file-upload-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/file-upload-control/file-upload-control.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], FileUploadControlComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/filter-criteria-builder.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/_shared/components/filter-criteria-builder.component.ts ***!
  \********************************************************************************/
/*! exports provided: FilterCriteriaBuilderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterCriteriaBuilderComponent", function() { return FilterCriteriaBuilderComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");








let FilterCriteriaBuilderComponent = class FilterCriteriaBuilderComponent {
    constructor(helperService, filterOperationService, datePipe) {
        this.helperService = helperService;
        this.filterOperationService = filterOperationService;
        this.datePipe = datePipe;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.filterMetadata = new Array();
        this.criteriaChangedEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_5__["EventEmitter"]();
        this.filterRemovedEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_5__["EventEmitter"]();
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_7__["FieldType"];
        this.dataTargetNames = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"];
        this.selectedSource = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client;
        this.operationsForSelectedTerm = new Array();
        // Setting unique form field names
        this.formFieldNames = {
            sourceClientFile: 'selectedSourceClientFile' + this.helperService.generateGuid(),
            sourceInventoryFile: 'selectedSourceInventoryFile' + this.helperService.generateGuid(),
            selectedField: 'selectedField' + this.helperService.generateGuid(),
            selectedFilterType: 'selectedFilterType' + this.helperService.generateGuid(),
            value: 'value' + this.helperService.generateGuid()
        };
    }
    ngOnInit() {
        if (!this.filter) {
            this.filter = { term: {} };
            this.filter.id = this.helperService.generateGuid();
            this.filter.term.dataTarget = this.dataTarget ? this.dataTarget : _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client;
        }
        else {
            this.selectedField = this.filterMetadata.find(c => c.name === this.filter.term.field);
            if (this.selectedField) {
                this.operationsForSelectedTerm = this.filterOperationService.getOperationsForFieldType(this.selectedField.fieldType);
            }
        }
    }
    initOperationAndValue() {
        this.filter.term.value = null;
        this.filter.operation = null;
        this.filter.term.field = this.selectedField.name;
        this.operationsForSelectedTerm = this.filterOperationService.getOperationsForFieldType(this.selectedField.fieldType);
    }
    filterOperationChange() {
        this.criteriaChangedEvent.emit(this.filter);
    }
    criteriaChange() {
        // If field is date, change format to match DB
        if (this.selectedField.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_7__["FieldType"].DateTime) {
            this.filter.term.value.setTime(this.removeTimeZoneOffsetFromDate(this.filter.term.value));
        }
        this.criteriaChangedEvent.emit(this.filter);
    }
    removeTimeZoneOffsetFromDate(date) {
        const timeOffsetInMS = date.getTimezoneOffset() * 60000;
        return (date.getTime() - timeOffsetInMS);
    }
    remove() {
        this.ref.destroy();
        this.filterRemovedEvent.emit(this.filter);
    }
};
FilterCriteriaBuilderComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] },
    { type: _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"] },
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FilterCriteriaBuilderComponent.prototype, "filterMetadata", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], FilterCriteriaBuilderComponent.prototype, "dataTarget", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], FilterCriteriaBuilderComponent.prototype, "translationKeyBase", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FilterCriteriaBuilderComponent.prototype, "criteriaChangedEvent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FilterCriteriaBuilderComponent.prototype, "filterRemovedEvent", void 0);
FilterCriteriaBuilderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Component"])({
        selector: 'filter-criteria-builder',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./filter-criteria-builder.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/filter-criteria-builder.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"], _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"]])
], FilterCriteriaBuilderComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/google-map.component.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_shared/components/google-map.component.ts ***!
  \*******************************************************************/
/*! exports provided: GoogleMapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GoogleMapComponent", function() { return GoogleMapComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let GoogleMapComponent = class GoogleMapComponent {
    constructor() {
        this.mapMarkers = new Array();
        this.mapStyles = [
            {
                elementType: 'labels',
                stylers: [
                    {
                        visibility: 'off'
                    }
                ]
            },
            {
                featureType: 'administrative.neighborhood',
                stylers: [
                    {
                        visibility: 'off'
                    }
                ]
            }
        ];
    }
    ngOnInit() {
        this.initMap();
    }
    initMap() {
        this.mapMarkers.push({ lat: this.latitude, lng: this.longitude, label: this.buildingName, draggable: false });
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], GoogleMapComponent.prototype, "longitude", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], GoogleMapComponent.prototype, "latitude", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], GoogleMapComponent.prototype, "buildingName", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], GoogleMapComponent.prototype, "googleMapZoom", void 0);
GoogleMapComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'google-map',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./google-map.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/google-map.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], GoogleMapComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-actions/revert.component.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-actions/revert.component.ts ***!
  \****************************************************************************/
/*! exports provided: RevertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RevertComponent", function() { return RevertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _transactions_services_transactions_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../transactions/services/transactions.service */ "./client-src/app/transactions/services/transactions.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");










let RevertComponent = class RevertComponent {
    constructor(activeModal, transactionsService, alertService, windowManager, router) {
        this.activeModal = activeModal;
        this.transactionsService = transactionsService;
        this.alertService = alertService;
        this.windowManager = windowManager;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.submitSuccess = new _angular_core__WEBPACK_IMPORTED_MODULE_8__["EventEmitter"]();
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_9__["Subject"]();
        this.headers = Array();
        this.currentTransaction = Array();
        this.previousTransaction = Array();
        this.minColWidth = 150;
    }
    ngOnInit() {
        this.isLoading = this.transactionsService.getRevertSummary(this.transactionId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe((revertSummary) => {
            this.transactionType = revertSummary.transactionType;
            revertSummary.headers.forEach(header => this.createMappingForKendoGrid(header));
            this.currentTransaction = revertSummary.current;
            this.previousTransaction.push(revertSummary.previous);
        });
    }
    createMappingForKendoGrid(header) {
        header.name = header.name.toLowerCase().charAt(0) + header.name.slice(1);
        header.source = header.source !== null
            ? header.source.toLowerCase().charAt(0) + header.source.slice(1)
            : header.name;
        this.headers.push(header);
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    onSubmit() {
        this.transactionsService.revertTransaction(this.transactionId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(() => {
            this.alertService.success('Transaction successfully Reverted.');
            this.submitSuccess.emit(true);
            this.closeModalEvent();
        }, error => {
            this.alertService.error('An error has occurred reverting the transaction.');
            this.closeModalEvent();
            this.router.navigate([`error/409`]);
        }, () => { });
    }
    closeModalEvent() {
        this.windowManager.close();
    }
};
RevertComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"] },
    { type: _transactions_services_transactions_service__WEBPACK_IMPORTED_MODULE_2__["TransactionsService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], RevertComponent.prototype, "submitSuccess", void 0);
RevertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'revert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./revert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/revert.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"],
        _transactions_services_transactions_service__WEBPACK_IMPORTED_MODULE_2__["TransactionsService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
], RevertComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-actions/view-image.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-actions/view-image.component.ts ***!
  \********************************************************************************/
/*! exports provided: ViewImageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewImageComponent", function() { return ViewImageComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _carousel_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../carousel-modal.component */ "./client-src/app/_shared/components/carousel-modal.component.ts");
/* harmony import */ var _core_services_image_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/image.service */ "./client-src/app/_core/services/image.service.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let ViewImageComponent = class ViewImageComponent {
    constructor(windowManager, container, imageService) {
        this.windowManager = windowManager;
        this.container = container;
        this.imageService = imageService;
        this.imageCollection = new Array();
    }
    ngOnInit() {
        this.imageCollection.sort(this.imageService.compareImageIndexes);
    }
    showImageCarouselOnClick() {
        const imageUrlCollection = new Array();
        this.imageCollection.forEach(image => {
            imageUrlCollection.push(image.url);
        });
        const modal = this.windowManager.open(_carousel_modal_component__WEBPACK_IMPORTED_MODULE_1__["CarouselModalComponent"], 'Images', {
            isModal: true
        });
        modal.content.instance.hideSubmit = true;
        modal.content.instance.imageUrlCollection = imageUrlCollection;
    }
};
ViewImageComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] },
    { type: _core_services_image_service__WEBPACK_IMPORTED_MODULE_2__["ImageService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ViewImageComponent.prototype, "imageCollection", void 0);
ViewImageComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'view-image',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./view-image.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/view-image.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"], _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"], _core_services_image_service__WEBPACK_IMPORTED_MODULE_2__["ImageService"]])
], ViewImageComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-actions/view-map.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-actions/view-map.component.ts ***!
  \******************************************************************************/
/*! exports provided: ViewMapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewMapComponent", function() { return ViewMapComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let ViewMapComponent = class ViewMapComponent {
    constructor(windowManager) {
        this.windowManager = windowManager;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
    }
    ngOnInit() { }
    closeModalEvent() {
        this.windowManager.close();
    }
};
ViewMapComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__["WindowManager"] }
];
ViewMapComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'view-map',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./view-map.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/view-map.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__["WindowManager"]])
], ViewMapComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-column-selector/grid-column-selector-modal.component.ts":
/*!********************************************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-column-selector/grid-column-selector-modal.component.ts ***!
  \********************************************************************************************************/
/*! exports provided: GridColumnSelectorModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridColumnSelectorModalComponent", function() { return GridColumnSelectorModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _confirm_modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");









let GridColumnSelectorModalComponent = class GridColumnSelectorModalComponent {
    constructor(windowManager, container, assetFileInfoService, famisGridService, modalService) {
        this.windowManager = windowManager;
        this.container = container;
        this.assetFileInfoService = assetFileInfoService;
        this.famisGridService = famisGridService;
        this.modalService = modalService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.headersAvailable = new Array();
        this.selectedColumns = new Array();
        this.sourceTranslationKey = '';
        this.showAddCustomColumn = false;
        this.groupId = '';
        this.assetFileId = '';
        this.columnSelection = new Array();
        this.knownColumns = new Array();
        this.pendingCustomColumns = new Array();
        this.removeCustomColumns = new Array();
        this.customColumns = new Array();
        this.columnSelectionEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() {
        this.headersAvailable.forEach(header => {
            this.knownColumns.push(header.name);
        });
        this.assetFileInfoService.GetInternalColumns().forEach(col => {
            this.knownColumns.push(col);
        });
        this.columnSelection = Object.assign([], this.selectedColumns);
        this.customColumns = this.headersAvailable.filter(header => header.isCustom);
    }
    open(content) {
        this.customColumns = this.customColumns.sort((a, b) => {
            return a.displayName.localeCompare(b.displayName);
        });
        this.windowRef = this.windowManager.open(content, 'Select Columns to Display', {
            isModal: true
        });
        this.windowRef.result.subscribe(result => { this.close(); });
    }
    close() {
        if (this.removeCustomColumns.length > 0) {
            this.removeCustomColumns.forEach(column => {
                this.customColumns.push(column);
                this.knownColumns.push(column.displayName);
            });
            this.removeCustomColumns = [];
        }
        if (this.pendingCustomColumns.length > 0) {
            this.pendingCustomColumns.forEach(column => {
                const index = this.knownColumns.findIndex(i => i.toLowerCase() === column.columnName.toLowerCase());
                if (index !== -1) {
                    this.knownColumns.splice(index, 1);
                }
            });
            this.pendingCustomColumns = [];
        }
        if (this.windowRef) {
            this.windowRef.close();
        }
    }
    saveChanges() {
        // TODO Save Custom Column
        this.columnSelectionEvent.emit({
            SelectedHeaders: this.columnSelection,
            PendingCustomColumns: this.pendingCustomColumns,
            RemoveCustomColumns: this.removeCustomColumns
        });
        if (this.pendingCustomColumns.length > 0) {
            this.pendingCustomColumns.forEach(column => {
                const newHeader = {
                    displayName: column.columnName,
                    name: column.columnName,
                    fieldType: column.dataType,
                    isCustom: true,
                    isSearchable: true,
                    isSortable: true,
                    isFilterable: true,
                    width: '255'
                };
                this.customColumns.push(newHeader);
            });
            this.pendingCustomColumns = [];
        }
        this.removeCustomColumns = [];
        this.windowRef.close();
    }
    onColumnAdded(col) {
        this.pendingCustomColumns.push(col);
        this.knownColumns.push(col.columnName);
    }
    removePendingColumn(col) {
        let index = this.pendingCustomColumns.findIndex(i => i.columnName.toLowerCase() === col.columnName.toLowerCase());
        if (index !== -1) {
            this.pendingCustomColumns.splice(index, 1);
        }
        index = this.knownColumns.findIndex(i => i.toLowerCase() === col.columnName.toLowerCase());
        if (index !== -1) {
            this.knownColumns.splice(index, 1);
        }
    }
    removeCustomCol(header) {
        if (this.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_8__["DataTargetName"].building) {
            this.famisGridService.IsBuildingCustomColumnEmpty(this.groupId, header.displayName).subscribe(result => {
                if (result && !result.entity) {
                    this.confirmRemoveModal(header);
                }
                else {
                    this.removeCustomHeader(header);
                }
            });
        }
        else {
            this.famisGridService.IsAssetCustomColumnEmpty(this.assetFileId, header.displayName).subscribe(result => {
                if (result && !result.result) {
                    this.confirmRemoveModal(header);
                }
                else {
                    this.removeCustomHeader(header);
                }
            });
        }
    }
    removeCustomHeader(header) {
        let index = this.customColumns.findIndex(i => i === header);
        if (index !== -1) {
            this.customColumns.splice(index, 1);
        }
        index = this.knownColumns.findIndex(i => i.toLowerCase() === header.displayName.toLowerCase());
        if (index !== -1) {
            this.knownColumns.splice(index, 1);
        }
        this.removeCustomColumns.push(header);
    }
    confirmRemoveModal(header) {
        const modalOptions = {
            heading: {
                key: 'Remove custom column'
            },
            body: {
                key: 'Column you are about to remove contains data'
            },
            dismissText: {
                key: 'Cancel'
            },
            successText: {
                key: 'Confirm'
            },
            translateBaseKey: this.i18n.common
        };
        const modal = this.modalService.open(_confirm_modal_component__WEBPACK_IMPORTED_MODULE_6__["ConfirmModalComponent"], { windowClass: 'modal-over-window', backdropClass: 'modal-over-window' });
        modal.componentInstance.options = modalOptions;
        modal.result.then(() => {
            this.removeCustomHeader(header);
        }).catch(err => { });
    }
};
GridColumnSelectorModalComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_5__["FamisGridService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbModal"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "headersAvailable", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "selectedColumns", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "sourceTranslationKey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "showAddCustomColumn", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "groupId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "assetFileId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], GridColumnSelectorModalComponent.prototype, "dataSource", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorModalComponent.prototype, "columnSelectionEvent", void 0);
GridColumnSelectorModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'grid-column-selector-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid-column-selector-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-column-selector/grid-column-selector-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_2__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_5__["FamisGridService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbModal"]])
], GridColumnSelectorModalComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-column-selector/grid-column-selector.component.ts":
/*!**************************************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-column-selector/grid-column-selector.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: GridColumnSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridColumnSelectorComponent", function() { return GridColumnSelectorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-data-query */ "./node_modules/@progress/kendo-data-query/dist/es2015/main.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _reconciliation_services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../reconciliation/services/reconcile-data-grid.service */ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts");





let GridColumnSelectorComponent = class GridColumnSelectorComponent {
    constructor(reconcileDataGridService) {
        this.reconcileDataGridService = reconcileDataGridService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.headersAvailable = new Array();
        this.selectedColumns = new Array();
        this.sourceTranslationKey = '';
        this.onColumnSelectionChange = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.sort = [
            {
                field: 'displayName',
                dir: 'asc'
            }
        ];
    }
    ngOnInit() {
        this.reconcileDataGridService.clearAvailableColumns();
        this.subscription = this.reconcileDataGridService.availableColumns$.subscribe(headers => {
            if (headers && headers.length > 0) {
                this.headersAvailable = headers;
                this.loadHeaders();
            }
        });
        this.loadHeaders();
    }
    // TODO: Handle sorting of i18n/translated strings
    sortChange(sort) {
        this.sort = sort;
        this.loadHeaders();
    }
    loadHeaders() {
        this.gridView = {
            data: Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_2__["orderBy"])(this.headersAvailable, this.sort),
            total: this.headersAvailable.length
        };
    }
    ngOnDestroy() {
        // unsubscribe to ensure no memory leaks
        this.subscription.unsubscribe();
    }
};
GridColumnSelectorComponent.ctorParameters = () => [
    { type: _reconciliation_services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataGridService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorComponent.prototype, "headersAvailable", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorComponent.prototype, "selectedColumns", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorComponent.prototype, "sourceTranslationKey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridColumnSelectorComponent.prototype, "onColumnSelectionChange", void 0);
GridColumnSelectorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'grid-column-selector',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid-column-selector.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-column-selector/grid-column-selector.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_reconciliation_services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataGridService"]])
], GridColumnSelectorComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-column-selector/grid-context-menu.component.ts":
/*!***********************************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-column-selector/grid-context-menu.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: GridContextMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridContextMenuComponent", function() { return GridContextMenuComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");



let GridContextMenuComponent = class GridContextMenuComponent {
    constructor(renderer) {
        this.renderer = renderer;
        this.menuItems = [];
        this.select = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.onCellClick = this.onCellClick.bind(this);
        this.documentClickSubscription = this.renderer.listen('document', 'click', () => {
            this.show = false;
        });
    }
    set for(grid) {
        this.unsubscribe();
        this.cellClickSubscription = grid.cellClick.subscribe(this.onCellClick);
    }
    ngOnDestroy() {
        this.unsubscribe();
        this.documentClickSubscription();
    }
    menuItemSelected(item) {
        this.select.emit({ item: item, dataItem: this.dataItem });
    }
    onCellClick({ dataItem, type, originalEvent }) {
        if (type === 'contextmenu') {
            originalEvent.preventDefault();
            this.dataItem = dataItem;
            this.show = true;
            this.offset = { left: originalEvent.pageX, top: originalEvent.pageY };
        }
    }
    unsubscribe() {
        if (this.cellClickSubscription) {
            this.cellClickSubscription.unsubscribe();
            this.cellClickSubscription = null;
        }
    }
};
GridContextMenuComponent.ctorParameters = () => [
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ContentChild"])(_angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"])
], GridContextMenuComponent.prototype, "menuItemTemplate", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], GridContextMenuComponent.prototype, "menuItems", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])
], GridContextMenuComponent.prototype, "select", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["GridComponent"]),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["GridComponent"]])
], GridContextMenuComponent.prototype, "for", null);
GridContextMenuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'grid-context-menu',
        template: `
        <kendo-popup *ngIf="show" [offset]="offset">
            <ul class="menu">
              <li *ngFor="let item of menuItems" (click)="menuItemSelected(item)">
                <ng-template *ngIf="menuItemTemplate" [ngTemplateOutlet]="menuItemTemplate"
                    [ngTemplateOutletContext]="{ item: item, dataItem: dataItem }">
                </ng-template>
                <ng-container *ngIf="!menuItemTemplate">
                    {{ item }}
                </ng-container>
              </li>
            </ul>
        </kendo-popup>
    `,
        styles: ["\n     .menu {\n        list-style:none;\n        margin: 0;\n        padding: 0;\n        cursor: pointer;\n      }\n\n      .menu li {\n        border-bottom: 1px solid rgba(0,0,0,.08);\n        padding: 8px 12px;\n        transition: background .2s, color .2s;\n      }\n\n      .menu li:last-child {\n        border-bottom: 0;\n      }\n\n      .menu li:hover {\n        background: #e8e8e8;\n      }\n\n      .menu li:active {\n        background: #ff6358;\n        color: #fff;\n      }\n    "]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"]])
], GridContextMenuComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/grid-filter/grid-filter.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/_shared/components/grid-filter/grid-filter.component.ts ***!
  \********************************************************************************/
/*! exports provided: GridFilterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridFilterComponent", function() { return GridFilterComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");








const closest = (node, predicate) => {
    while (node && !predicate(node)) {
        node = node.parentNode;
    }
    return node;
};
let GridFilterComponent = class GridFilterComponent extends _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["BaseFilterCellComponent"] {
    constructor(filterService, helperService, filterOperationService, popupService) {
        super(filterService);
        this.helperService = helperService;
        this.filterOperationService = filterOperationService;
        this.popupService = popupService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_6__["FieldType"];
        this.filterChangeEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.operationsForSelectedTerm = new Array();
        this.formFieldNames = {
            sourceClientFile: 'selectedSourceClientFile' + this.helperService.generateGuid(),
            sourceInventoryFile: 'selectedSourceInventoryFile' + this.helperService.generateGuid(),
            selectedField: 'selectedField' + this.helperService.generateGuid(),
            selectedFilterType: 'selectedFilterType' + this.helperService.generateGuid(),
            value: 'value' + this.helperService.generateGuid()
        };
        this.filters = [
            {
                field: '',
                operator: '',
                value: ''
            }
        ];
    }
    get selectedValue() {
        const filter = this.filterByField(this.valueField);
        return filter ? filter.value : null;
    }
    get defaultItem() {
        return {
            [this.textField]: 'Select item...',
            [this.valueField]: null
        };
    }
    ngOnInit() {
        this.operationsForSelectedTerm = this.filterOperationService.getOperationsForFieldType(this.fieldType, this.isNullable);
        if (this.filter.filters.length > 0) {
            const f = this.filter.filters.find(c => c['field'] === this.valueField);
            const filter = f;
            if (this.fieldType === this.fieldTypes.Date ||
                this.fieldType === this.fieldTypes.DateTime ||
                this.fieldType === this.fieldTypes.DateWithTimeStamp) {
                if (Array.isArray(filter.value)) {
                    filter.value.forEach(value => {
                        if (!isNaN(Date.parse(value.value))) {
                            const dateValue = new Date(value.value);
                            if (dateValue.getHours() !== 0 ||
                                dateValue.getMinutes() !== 0 ||
                                dateValue.getSeconds() !== 0 ||
                                dateValue.getMilliseconds() !== 0) {
                                dateValue.setTime(this.addTimeZoneOffsetToDate(dateValue));
                            }
                            value.value = dateValue;
                        }
                    });
                }
            }
            this.filters = Array.isArray(filter.value) ? filter.value : [filter];
        }
        this.popupSubscription = this.popupService.onClose.subscribe((e) => {
            if (e.originalEvent.path.findIndex(c => c.tagName === 'KENDO-POPUP') >= 0) {
                e.preventDefault();
            }
        });
        console.log(this.filter.filters.filter(c => c['field'] === this.valueField), 'Current Filter');
    }
    onChange(event) {
        const selectedFilters = [];
        this.removeFilter(this.valueField);
        this.filters.forEach(f => {
            const filter = f;
            if (filter.operator) {
                if (filter.operator === 'in' || filter.operator === 'nin') {
                    filter.value = null;
                }
                if (event instanceof Date) {
                    event.setHours(0, 0, 0, 0);
                    filter.value.setTime(this.removeTimeZoneOffsetFromDate(event));
                }
                filter.field = this.valueField;
                if (this.fieldType != _enums_field_type__WEBPACK_IMPORTED_MODULE_6__["FieldType"].DropDown ||
                    (this.fieldType == _enums_field_type__WEBPACK_IMPORTED_MODULE_6__["FieldType"].DropDown && (filter.value ||
                        (filter.operator === 'in' || filter.operator === 'nin'))))
                    selectedFilters.push(filter);
            }
        });
        if (selectedFilters.length > 0) {
            this.applyFilter(this.updateFilter({
                field: this.valueField,
                operator: '0',
                value: selectedFilters
            }));
        }
    }
    addFilter(event) {
        event.preventDefault();
        this.filters.push({
            field: '',
            operator: '',
            value: ''
        });
    }
    closeFilter() {
        this.filterIsClosed = true;
    }
    remove(event, index) {
        event.preventDefault();
        if (this.filters.length > 1) {
            this.filters.splice(index, 1);
            this.onChange();
        }
    }
    removeTimeZoneOffsetFromDate(date) {
        const timeOffsetInMS = date.getTimezoneOffset() * 60000;
        return (date.getTime() - timeOffsetInMS);
    }
    addTimeZoneOffsetToDate(date) {
        const timeOffsetInMS = date.getTimezoneOffset() * 60000;
        return (date.getTime() + timeOffsetInMS);
    }
};
GridFilterComponent.ctorParameters = () => [
    { type: _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["FilterService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"] },
    { type: _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_5__["FilterOperationsService"] },
    { type: _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["SinglePopupService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('filterList', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
], GridFilterComponent.prototype, "filterListERef", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridFilterComponent.prototype, "filterChangeEvent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GridFilterComponent.prototype, "filter", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], GridFilterComponent.prototype, "textField", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], GridFilterComponent.prototype, "valueField", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], GridFilterComponent.prototype, "fieldType", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["FilterService"])
], GridFilterComponent.prototype, "filterService", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], GridFilterComponent.prototype, "enumOptions", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], GridFilterComponent.prototype, "isNullable", void 0);
GridFilterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'grid-filter',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid-filter.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-filter/grid-filter.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["FilterService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"],
        _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_5__["FilterOperationsService"],
        _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["SinglePopupService"]])
], GridFilterComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/group-search.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/_shared/components/group-search.component.ts ***!
  \*********************************************************************/
/*! exports provided: GroupSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupSearchComponent", function() { return GroupSearchComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/group-search.service */ "./client-src/app/_api/services/group-search.service.ts");





let GroupSearchComponent = class GroupSearchComponent {
    constructor(groupSearchService) {
        this.groupSearchService = groupSearchService;
        this.selectGroup = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.searching = false;
        this.searchFailed = false;
        this.hideSearchingWhenUnsubscribed = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](() => () => (this.searching = false));
        this.search = (text$) => text$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["debounceTime"])(300))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["distinctUntilChanged"])())
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["tap"])(() => (this.searching = true)))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["switchMap"])(term => this.groupSearchService
            .searchGroups(term, this.includeContractSearch)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["tap"])(() => {
            this.searchFailed = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(() => {
            this.searchFailed = true;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }))))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["tap"])(() => {
            this.searching = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["merge"])(this.hideSearchingWhenUnsubscribed));
    }
    ngOnInit() {
        if (this.includeContractSearch) {
            this.includeContractSearch = this.includeContractSearch;
        }
        if (this.selectedGroup) {
            this.groupSearchService.getGroup(this.selectedGroup).subscribe(group => {
                this.model = group;
            });
        }
    }
    onSelectItem(event) {
        const group = event.item;
        this.selectGroup.emit(group);
    }
    getResultFormatter(result) {
        return result.groupName + ' (' + result.contractName + ')';
    }
    getInputFormatter(result) {
        return result.groupName + ' (' + result.contractName + ')';
    }
};
GroupSearchComponent.ctorParameters = () => [
    { type: _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_4__["GroupSearchService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GroupSearchComponent.prototype, "selectedGroup", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], GroupSearchComponent.prototype, "includeContractSearch", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GroupSearchComponent.prototype, "selectGroup", void 0);
GroupSearchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'group-search',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./group-search.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/group-search.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_group_search_service__WEBPACK_IMPORTED_MODULE_4__["GroupSearchService"]])
], GroupSearchComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/kendo-grid-translation.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/_shared/components/kendo-grid-translation.component.ts ***!
  \*******************************************************************************/
/*! exports provided: KendoGridTranslationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KendoGridTranslationComponent", function() { return KendoGridTranslationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");



let KendoGridTranslationComponent = class KendoGridTranslationComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
    }
};
KendoGridTranslationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'kendo-grid-translation',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./kendo-grid-translation.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/kendo-grid-translation.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], KendoGridTranslationComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/modal-form.component.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/_shared/components/modal-form.component.ts ***!
  \*******************************************************************/
/*! exports provided: ModalFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalFormComponent", function() { return ModalFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");



let ModalFormComponent = class ModalFormComponent {
    constructor() {
        this.hideSubmit = false;
        this.modalTitle = null;
        this.modalEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.submitButtonName = 'Save';
    }
    dismiss() {
        this.modalEvent.emit(_enums_modal_form_event__WEBPACK_IMPORTED_MODULE_2__["ModalFormEvent"].Dismiss);
    }
    save() {
        this.modalEvent.emit(_enums_modal_form_event__WEBPACK_IMPORTED_MODULE_2__["ModalFormEvent"].Save);
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ModalFormComponent.prototype, "hideSubmit", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ModalFormComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ModalFormComponent.prototype, "modalEvent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ModalFormComponent.prototype, "submitButtonName", void 0);
ModalFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'modal-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./modal-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/modal-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], ModalFormComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/power-bi/power-bi.component.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/_shared/components/power-bi/power-bi.component.ts ***!
  \**************************************************************************/
/*! exports provided: PowerBIComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PowerBIComponent", function() { return PowerBIComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var powerbi_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! powerbi-client */ "./node_modules/powerbi-client/dist/powerbi.js");
/* harmony import */ var powerbi_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(powerbi_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_api/_runtime/services/reports-api.service */ "./client-src/app/_api/_runtime/services/reports-api.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_enums_report_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/_runtime/enums/report-type */ "./client-src/app/_api/_runtime/enums/report-type.ts");






let PowerBIComponent = class PowerBIComponent {
    constructor(reportService, route) {
        this.reportService = reportService;
        this.route = route;
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.filters = this.getPowerBiFilters();
        this.displaySelectedReport();
    }
    displaySelectedReport() {
        if (this.isDefaultDashboard) {
            this.isLoading = true;
            this.reportService.GetDefaultDashboard(this.groupId).subscribe(res => {
                const reportType = this.GetEmbededReportType(_api_runtime_enums_report_type__WEBPACK_IMPORTED_MODULE_5__["ReportType"].PowerBiDashboard);
                this.showReport(res, reportType);
            });
        }
        if (this.report) {
            this.isLoading = true;
            this.reportService.GetReportOrDashboardInfo(this.groupId, this.report.id, this.report.type).subscribe(res => {
                this.showReport(res, this.GetEmbededReportType(this.report.type));
            });
        }
    }
    showReport(reportInfo, reportType) {
        const config = {
            type: reportType,
            tokenType: powerbi_client__WEBPACK_IMPORTED_MODULE_2__["models"].TokenType.Embed,
            accessToken: reportInfo.reportToken,
            embedUrl: reportInfo.reportUrl,
            id: reportInfo.reportId,
            pageView: 'fitToWidth',
            filters: this.filters,
            settings: {
                filterPaneEnabled: this.filterPaneEnabled
            }
        };
        const reportContainer = document.getElementById('reportContainer');
        const powerbi = new powerbi_client__WEBPACK_IMPORTED_MODULE_2__["service"].Service(powerbi_client__WEBPACK_IMPORTED_MODULE_2__["factories"].hpmFactory, powerbi_client__WEBPACK_IMPORTED_MODULE_2__["factories"].wpmpFactory, powerbi_client__WEBPACK_IMPORTED_MODULE_2__["factories"].routerFactory);
        powerbi.reset(reportContainer);
        const rpt = powerbi.embed(reportContainer, config);
        rpt.off('loaded');
        rpt.on('loaded', () => {
            this.isLoading = false;
            // Add styling to the iFrame that gets added by the power bi library so it
            // displays at a resonable height instead of being ~100 px tall
            const reportIframe = reportContainer.getElementsByTagName('iframe').item(0);
            reportIframe.setAttribute('style', 'min-height:850px; width:100%');
            // console.log('Loaded');
        });
    }
    GetEmbededReportType(type) {
        if (type === _api_runtime_enums_report_type__WEBPACK_IMPORTED_MODULE_5__["ReportType"].PowerBiDashboard) {
            return 'dashboard';
        }
        else if (type === _api_runtime_enums_report_type__WEBPACK_IMPORTED_MODULE_5__["ReportType"].PowerBi) {
            return 'report';
        }
        return 'Unknown';
    }
    getPowerBiFilters() {
        return [this.createGroupFilter()];
    }
    createGroupFilter() {
        return {
            $schema: 'http://powerbi.com/product/schema#basic',
            operator: 'In',
            values: [this.groupId],
            target: {
                table: 'VW_Group',
                column: 'GroupId'
            },
            filterType: powerbi_client__WEBPACK_IMPORTED_MODULE_2__["models"].FilterType.Basic
        };
    }
};
PowerBIComponent.ctorParameters = () => [
    { type: _api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_3__["ReportsApiService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], PowerBIComponent.prototype, "report", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], PowerBIComponent.prototype, "isDefaultDashboard", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], PowerBIComponent.prototype, "filterPaneEnabled", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], PowerBIComponent.prototype, "filters", void 0);
PowerBIComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-power-bi',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./power-bi.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/power-bi/power-bi.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_3__["ReportsApiService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"]])
], PowerBIComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/replace-field.component.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/_shared/components/replace-field.component.ts ***!
  \**********************************************************************/
/*! exports provided: ReplaceFieldComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReplaceFieldComponent", function() { return ReplaceFieldComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_replace_field_modes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/replace-field-modes */ "./client-src/app/_enums/replace-field-modes.ts");
/* harmony import */ var mathjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mathjs */ "./node_modules/mathjs/index.js");
/* harmony import */ var mathjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mathjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _api_runtime_enums_field_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/enums/field-type */ "./client-src/app/_api/_runtime/enums/field-type.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");








let ReplaceFieldComponent = class ReplaceFieldComponent {
    constructor(helperSerivce) {
        this.helperSerivce = helperSerivce;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.replaceFieldModes = _enums_replace_field_modes__WEBPACK_IMPORTED_MODULE_1__["ReplaceFieldModes"];
        this.mode = _enums_replace_field_modes__WEBPACK_IMPORTED_MODULE_1__["ReplaceFieldModes"].Text;
        this.fieldTypes = _api_runtime_enums_field_type__WEBPACK_IMPORTED_MODULE_3__["FieldType"];
        this.state = {
            isAdvanced: false,
            replacementField: '',
            replacementValue: null,
            advancedReplacementValue: {},
            advancedReplacementHtml: '',
        };
        this.supportsAdvancedReplace = false;
        this.isAdvanced = false;
        this.modelChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_6__["EventEmitter"]();
    }
    ngOnInit() {
        this.mode = this.isAdvanced ? _enums_replace_field_modes__WEBPACK_IMPORTED_MODULE_1__["ReplaceFieldModes"].Advanced : this.replaceFieldModes.Text;
        this.state.isAdvanced = this.isAdvanced;
        if (!this.state.replacementValue) {
            this.state.replacementValue = null;
        }
        this.updateModel();
    }
    ngAfterViewInit() {
        if (this.replaceValue) {
            this.replaceValue.nativeElement.innerHTML = this.state.advancedReplacementHtml;
        }
    }
    updateModel() {
        if (!this.state.replacementValue) {
            if (this.mode === this.replaceFieldModes.Advanced) {
                this.state.replacementValue = null;
                this.state.advancedReplacementHtml = null;
            }
            else if (this.mode === this.replaceFieldModes.Text) {
                this.state.replacementValue = null;
                this.state.advancedReplacementHtml = null;
                this.state.advancedReplacementValue = null;
            }
        }
        this.modelChanged.emit(this.state);
    }
    updateAdvancedModel() {
        this.state.replacementValue = this.replaceValue.nativeElement.innerText;
        this.state.advancedReplacementHtml = this.replaceValue.nativeElement.innerHTML;
        this.state.advancedReplacementValue = this.helperSerivce.convertMathTree(mathjs__WEBPACK_IMPORTED_MODULE_2__["parse"](this.state.replacementValue.replace(new RegExp(String.fromCharCode(160), 'g'), ' ')));
        this.updateModel();
    }
    validateAdvancedReplacement(event) {
        if (this.mode === this.replaceFieldModes.Advanced) {
            const pattern = /[0-9()+\-*/. ]/;
            const keys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Home', 'End'];
            if (!pattern.test(event.key) && keys.indexOf(event.key) < 0) {
                event.preventDefault();
            }
        }
    }
    insertAdvancedField(field) {
        this.replaceValue.nativeElement.innerHTML
            += '<span contenteditable=\'false\' style=\'background-color:lightgray; display: inline-block;\'>' + field + '</span>&nbsp;';
        this.updateAdvancedModel();
    }
    toggleAdvancedMode(mode) {
        this.mode = mode;
        this.state.isAdvanced = this.mode === this.replaceFieldModes.Advanced ? true : false;
        this.state.replacementValue = null;
        this.state.replacementField = '';
        this.state.advancedReplacementValue = null;
        if (this.replaceValue) {
            this.replaceValue.nativeElement.innerText = '';
        }
        if (!this.loadedCollection) {
            this.loadedCollection = this.state.collection;
        }
        if (mode === this.replaceFieldModes.Advanced) {
            this.state.collection = this.loadedCollection.filter(x => x.fieldType === this.fieldTypes.Double || x.fieldType === this.fieldTypes.Integer);
        }
        else {
            this.state.collection = this.loadedCollection;
        }
        this.updateModel();
    }
    checkFieldIsDate(field) {
        if (this.state.collection) {
            return this.state.collection.find(c => c.name === field).fieldType === _api_runtime_enums_field_type__WEBPACK_IMPORTED_MODULE_3__["FieldType"].DateTime;
        }
        else {
            return false;
        }
    }
    checkFieldIsSelection(field) {
        if (this.state.collection && this.selectionFieldInfo) {
            const infoSet = this.selectionFieldInfo.find(c => c.fieldNames.indexOf(field) !== -1);
            if (infoSet) {
                this.currentSelectionOptions = infoSet.values;
                return true;
            }
        }
        else {
            return false;
        }
    }
};
ReplaceFieldComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('replaceValue', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ElementRef"])
], ReplaceFieldComponent.prototype, "replaceValue", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReplaceFieldComponent.prototype, "state", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgForm"])
], ReplaceFieldComponent.prototype, "form", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReplaceFieldComponent.prototype, "supportsAdvancedReplace", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReplaceFieldComponent.prototype, "isAdvanced", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ReplaceFieldComponent.prototype, "translatedBaseKey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], ReplaceFieldComponent.prototype, "selectionFieldInfo", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReplaceFieldComponent.prototype, "modelChanged", void 0);
ReplaceFieldComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'replace-field',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./replace-field.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/replace-field.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"]])
], ReplaceFieldComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/typeahead.component.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/_shared/components/typeahead.component.ts ***!
  \******************************************************************/
/*! exports provided: TypeaheadComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TypeaheadComponent", function() { return TypeaheadComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let TypeaheadComponent = class TypeaheadComponent {
    constructor() {
        this.searching = false;
        this.selectItem = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    onSelectItem(event) {
        this.selectItem.emit(event);
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], TypeaheadComponent.prototype, "searching", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TypeaheadComponent.prototype, "model", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TypeaheadComponent.prototype, "search", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TypeaheadComponent.prototype, "resultFormatter", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TypeaheadComponent.prototype, "inputFormatter", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TypeaheadComponent.prototype, "selectItem", void 0);
TypeaheadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'type-ahead',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./typeahead.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/typeahead.component.html")).default
    })
], TypeaheadComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/window/default-title-bar.component.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/_shared/components/window/default-title-bar.component.ts ***!
  \*********************************************************************************/
/*! exports provided: DefaultTitleBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultTitleBarComponent", function() { return DefaultTitleBarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");



let DefaultTitleBarComponent = class DefaultTitleBarComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.translationkey = undefined;
        this.title = '';
    }
    ngOnInit() {
        if (this.translationkey === undefined) {
            this.translationkey = this.i18n.common;
        }
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DefaultTitleBarComponent.prototype, "translationkey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DefaultTitleBarComponent.prototype, "title", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('windowTitleBar', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"])
], DefaultTitleBarComponent.prototype, "windowTitleBar", void 0);
DefaultTitleBarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'default-title-bar',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./default-title-bar.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/window/default-title-bar.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], DefaultTitleBarComponent);



/***/ }),

/***/ "./client-src/app/_shared/components/window/modal-backdrop.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/_shared/components/window/modal-backdrop.component.ts ***!
  \******************************************************************************/
/*! exports provided: ModalBackdropComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalBackdropComponent", function() { return ModalBackdropComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ModalBackdropComponent = class ModalBackdropComponent {
    constructor() { }
    ngOnInit() {
    }
};
ModalBackdropComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'modal-backdrop',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./modal-backdrop.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/window/modal-backdrop.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], ModalBackdropComponent);



/***/ }),

/***/ "./client-src/app/_shared/pipes/dynamic-data-translation.pipe.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/_shared/pipes/dynamic-data-translation.pipe.ts ***!
  \***********************************************************************/
/*! exports provided: DynamicDataTranslation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicDataTranslation", function() { return DynamicDataTranslation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");



let DynamicDataTranslation = class DynamicDataTranslation {
    constructor(translateService) {
        this.translateService = translateService;
    }
    transform(value) {
        if (value) {
            const translationKeys = value.split('_');
            const translatedValue = this.translateService.instant(value);
            if (translationKeys.length > 1 && value.toLowerCase() === translatedValue) {
                return translationKeys[1];
            }
            return translatedValue;
        }
    }
};
DynamicDataTranslation.ctorParameters = () => [
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_1__["TranslationManager"] }
];
DynamicDataTranslation = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Pipe"])({
        name: 'dynamicTranslate'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_1__["TranslationManager"]])
], DynamicDataTranslation);



/***/ }),

/***/ "./client-src/app/_shared/pipes/evenodd.pipe.ts":
/*!******************************************************!*\
  !*** ./client-src/app/_shared/pipes/evenodd.pipe.ts ***!
  \******************************************************/
/*! exports provided: EvenoddPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvenoddPipe", function() { return EvenoddPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let EvenoddPipe = class EvenoddPipe {
    transform(value, filter) {
        if (!value || (filter !== 'even' && filter !== 'odd')) {
            return value;
        }
        return value.filter(i => (filter === 'odd' ? i.order % 2 === 1 : i.order % 2 === 0));
    }
};
EvenoddPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'evenodd'
    })
], EvenoddPipe);



/***/ }),

/***/ "./client-src/app/_shared/pipes/is-matched.pipe.ts":
/*!*********************************************************!*\
  !*** ./client-src/app/_shared/pipes/is-matched.pipe.ts ***!
  \*********************************************************/
/*! exports provided: IsMatchedPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IsMatchedPipe", function() { return IsMatchedPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let IsMatchedPipe = class IsMatchedPipe {
    transform(id, matchedValues) {
        return matchedValues.find(c => c === id);
    }
};
IsMatchedPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'is-matched'
    })
], IsMatchedPipe);



/***/ }),

/***/ "./client-src/app/_shared/pipes/local-time.pipe.ts":
/*!*********************************************************!*\
  !*** ./client-src/app/_shared/pipes/local-time.pipe.ts ***!
  \*********************************************************/
/*! exports provided: LocalTimePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalTimePipe", function() { return LocalTimePipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment-timezone */ "./node_modules/moment-timezone/index.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_2__);


// import * as moment from 'moment';

let LocalTimePipe = class LocalTimePipe {
    constructor() {
        this.userTimeZone = moment_timezone__WEBPACK_IMPORTED_MODULE_2__["tz"].guess(true); // true - replaces cached value w/ the newly computed one
        this.minDate = moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"]('1900-01-02');
    }
    transform(dateString) {
        if (!moment_timezone__WEBPACK_IMPORTED_MODULE_2__(dateString).isValid() || moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"](dateString).isBefore(this.minDate)) {
            return '';
        }
        return moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"](dateString)
            .tz(this.userTimeZone)
            .format('LLL');
    }
};
LocalTimePipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'localTime'
    })
], LocalTimePipe);



/***/ }),

/***/ "./client-src/app/_shared/pipes/localized-date.pipe.ts":
/*!*************************************************************!*\
  !*** ./client-src/app/_shared/pipes/localized-date.pipe.ts ***!
  \*************************************************************/
/*! exports provided: LocalizedDatePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalizedDatePipe", function() { return LocalizedDatePipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment-timezone */ "./node_modules/moment-timezone/index.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");


// import * as moment from 'moment';


let LocalizedDatePipe = class LocalizedDatePipe {
    constructor(intlService) {
        this.intlService = intlService;
        this.minDate = moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"]('1500-01-01');
    }
    transform(dateString) {
        if (!moment_timezone__WEBPACK_IMPORTED_MODULE_2__(dateString).isValid() || moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"](dateString).isBefore(this.minDate)) {
            return '';
        }
        return this.intlService.formatDate(this.intlService.parseDate(dateString), 'd');
    }
};
LocalizedDatePipe.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_3__["IntlService"] }
];
LocalizedDatePipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'localizedDate'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_3__["IntlService"]])
], LocalizedDatePipe);



/***/ }),

/***/ "./client-src/app/_shared/pipes/localized-number.pipe.ts":
/*!***************************************************************!*\
  !*** ./client-src/app/_shared/pipes/localized-number.pipe.ts ***!
  \***************************************************************/
/*! exports provided: LocalizedNumberPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalizedNumberPipe", function() { return LocalizedNumberPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");



let LocalizedNumberPipe = class LocalizedNumberPipe {
    constructor(intlService) {
        this.intlService = intlService;
    }
    transform(numberString) {
        return this.intlService.formatNumber(this.intlService.parseNumber(numberString), 'n');
    }
};
LocalizedNumberPipe.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"] }
];
LocalizedNumberPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'localizedNumber'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"]])
], LocalizedNumberPipe);



/***/ }),

/***/ "./client-src/app/_shared/pipes/localized-percent.pipe.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/_shared/pipes/localized-percent.pipe.ts ***!
  \****************************************************************/
/*! exports provided: LocalizedPercentPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalizedPercentPipe", function() { return LocalizedPercentPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let LocalizedPercentPipe = class LocalizedPercentPipe {
    transform(numberString) {
        return numberString ? `${Math.round(parseFloat(numberString))}%` : numberString;
    }
};
LocalizedPercentPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'localizedPercent'
    })
], LocalizedPercentPipe);



/***/ }),

/***/ "./client-src/app/_shared/shared.module.ts":
/*!*************************************************!*\
  !*** ./client-src/app/_shared/shared.module.ts ***!
  \*************************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _components_group_search_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/group-search.component */ "./client-src/app/_shared/components/group-search.component.ts");
/* harmony import */ var _components_alert_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/alert.component */ "./client-src/app/_shared/components/alert.component.ts");
/* harmony import */ var _components_add_asset_column_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/add-asset-column-component */ "./client-src/app/_shared/components/add-asset-column-component.ts");
/* harmony import */ var _components_grid_column_selector_grid_column_selector_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/grid-column-selector/grid-column-selector.component */ "./client-src/app/_shared/components/grid-column-selector/grid-column-selector.component.ts");
/* harmony import */ var _components_grid_column_selector_grid_column_selector_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/grid-column-selector/grid-column-selector-modal.component */ "./client-src/app/_shared/components/grid-column-selector/grid-column-selector-modal.component.ts");
/* harmony import */ var _components_confirm_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/confirm.component */ "./client-src/app/_shared/components/confirm.component.ts");
/* harmony import */ var _components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _components_grid_column_selector_grid_context_menu_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/grid-column-selector/grid-context-menu.component */ "./client-src/app/_shared/components/grid-column-selector/grid-context-menu.component.ts");
/* harmony import */ var _components_typeahead_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/typeahead.component */ "./client-src/app/_shared/components/typeahead.component.ts");
/* harmony import */ var _progress_kendo_angular_popup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @progress/kendo-angular-popup */ "./node_modules/@progress/kendo-angular-popup/dist/fesm2015/index.js");
/* harmony import */ var _components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/filter-criteria-builder.component */ "./client-src/app/_shared/components/filter-criteria-builder.component.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _components_famis_grid_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _components_modal_form_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/modal-form.component */ "./client-src/app/_shared/components/modal-form.component.ts");
/* harmony import */ var _components_replace_field_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/replace-field.component */ "./client-src/app/_shared/components/replace-field.component.ts");
/* harmony import */ var _components_carousel_modal_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/carousel-modal.component */ "./client-src/app/_shared/components/carousel-modal.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _components_grid_actions_view_map_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/grid-actions/view-map.component */ "./client-src/app/_shared/components/grid-actions/view-map.component.ts");
/* harmony import */ var _components_google_map_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/google-map.component */ "./client-src/app/_shared/components/google-map.component.ts");
/* harmony import */ var _components_bing_map_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/bing-map.component */ "./client-src/app/_shared/components/bing-map.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _core_services_google_maps_config_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../_core/services/google-maps-config.service */ "./client-src/app/_core/services/google-maps-config.service.ts");
/* harmony import */ var _core_services_dynamic_form_control_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../_core/services/dynamic-form-control.service */ "./client-src/app/_core/services/dynamic-form-control.service.ts");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/index.js");
/* harmony import */ var _components_dynamic_form_controls_dynamic_field_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/dynamic-form/controls/dynamic-field.component */ "./client-src/app/_shared/components/dynamic-form/controls/dynamic-field.component.ts");
/* harmony import */ var _components_dynamic_form_controls_cascading_combo_box_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/dynamic-form/controls/cascading-combo-box.component */ "./client-src/app/_shared/components/dynamic-form/controls/cascading-combo-box.component.ts");
/* harmony import */ var _components_dynamic_form_controls_image_upload_field_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/dynamic-form/controls/image-upload-field.component */ "./client-src/app/_shared/components/dynamic-form/controls/image-upload-field.component.ts");
/* harmony import */ var _components_dynamic_form_asset_form_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/dynamic-form/asset-form.component */ "./client-src/app/_shared/components/dynamic-form/asset-form.component.ts");
/* harmony import */ var _components_grid_actions_revert_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/grid-actions/revert.component */ "./client-src/app/_shared/components/grid-actions/revert.component.ts");
/* harmony import */ var _components_grid_actions_view_image_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/grid-actions/view-image.component */ "./client-src/app/_shared/components/grid-actions/view-image.component.ts");
/* harmony import */ var _components_kendo_grid_translation_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/kendo-grid-translation.component */ "./client-src/app/_shared/components/kendo-grid-translation.component.ts");
/* harmony import */ var _components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/power-bi/power-bi.component */ "./client-src/app/_shared/components/power-bi/power-bi.component.ts");
/* harmony import */ var _pipes_local_time_pipe__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pipes/local-time.pipe */ "./client-src/app/_shared/pipes/local-time.pipe.ts");
/* harmony import */ var _components_famis_sub_grid_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/famis-sub-grid.component */ "./client-src/app/_shared/components/famis-sub-grid.component.ts");
/* harmony import */ var _pipes_localized_date_pipe__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./pipes/localized-date.pipe */ "./client-src/app/_shared/pipes/localized-date.pipe.ts");
/* harmony import */ var _pipes_localized_number_pipe__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./pipes/localized-number.pipe */ "./client-src/app/_shared/pipes/localized-number.pipe.ts");
/* harmony import */ var _pipes_localized_percent_pipe__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./pipes/localized-percent.pipe */ "./client-src/app/_shared/pipes/localized-percent.pipe.ts");
/* harmony import */ var _progress_kendo_angular_inputs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @progress/kendo-angular-inputs */ "./node_modules/@progress/kendo-angular-inputs/dist/fesm2015/index.js");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _components_grid_filter_grid_filter_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/grid-filter/grid-filter.component */ "./client-src/app/_shared/components/grid-filter/grid-filter.component.ts");
/* harmony import */ var _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @progress/kendo-angular-dialog */ "./node_modules/@progress/kendo-angular-dialog/dist/fesm2015/index.js");
/* harmony import */ var _components_window_default_title_bar_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/window/default-title-bar.component */ "./client-src/app/_shared/components/window/default-title-bar.component.ts");
/* harmony import */ var _components_window_modal_backdrop_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/window/modal-backdrop.component */ "./client-src/app/_shared/components/window/modal-backdrop.component.ts");
/* harmony import */ var _components_copy_asset_modal_copy_asset_record_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/copy-asset-modal/copy-asset-record.component */ "./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.ts");
/* harmony import */ var _components_file_upload_control_file_upload_control_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/file-upload-control/file-upload-control.component */ "./client-src/app/_shared/components/file-upload-control/file-upload-control.component.ts");
/* harmony import */ var _components_dashboard_groups_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./components/dashboard-groups.component */ "./client-src/app/_shared/components/dashboard-groups.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @progress/kendo-angular-dropdowns */ "./node_modules/@progress/kendo-angular-dropdowns/dist/fesm2015/index.js");
/* harmony import */ var _pipes_evenodd_pipe__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./pipes/evenodd.pipe */ "./client-src/app/_shared/pipes/evenodd.pipe.ts");
/* harmony import */ var _pipes_dynamic_data_translation_pipe__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./pipes/dynamic-data-translation.pipe */ "./client-src/app/_shared/pipes/dynamic-data-translation.pipe.ts");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../_api/services/group-search.service */ "./client-src/app/_api/services/group-search.service.ts");
/* harmony import */ var _api_services_custom_data_types_repository_service__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../_api/services/custom-data-types-repository.service */ "./client-src/app/_api/services/custom-data-types-repository.service.ts");
/* harmony import */ var _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../_api/_runtime/services/image-api.service */ "./client-src/app/_api/_runtime/services/image-api.service.ts");





























































let SharedModule = class SharedModule {
};
SharedModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_48__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_17__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_49__["FormsModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_50__["NgbModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_40__["GridModule"],
            _progress_kendo_angular_popup__WEBPACK_IMPORTED_MODULE_10__["PopupModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_21__["CoreModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_51__["OrderModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_52__["DateInputsModule"],
            _progress_kendo_angular_inputs__WEBPACK_IMPORTED_MODULE_38__["InputsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_49__["ReactiveFormsModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_53__["LaddaModule"],
            _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_54__["DropDownsModule"],
            _agm_core__WEBPACK_IMPORTED_MODULE_24__["AgmCoreModule"].forRoot(),
            _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_42__["WindowModule"]
        ],
        declarations: [
            _pipes_evenodd_pipe__WEBPACK_IMPORTED_MODULE_55__["EvenoddPipe"],
            _pipes_dynamic_data_translation_pipe__WEBPACK_IMPORTED_MODULE_56__["DynamicDataTranslation"],
            _components_group_search_component__WEBPACK_IMPORTED_MODULE_1__["GroupSearchComponent"],
            _components_alert_component__WEBPACK_IMPORTED_MODULE_2__["AlertComponent"],
            _components_add_asset_column_component__WEBPACK_IMPORTED_MODULE_3__["AddAssetColumnComponent"],
            _components_grid_column_selector_grid_column_selector_component__WEBPACK_IMPORTED_MODULE_4__["GridColumnSelectorComponent"],
            _components_grid_column_selector_grid_column_selector_modal_component__WEBPACK_IMPORTED_MODULE_5__["GridColumnSelectorModalComponent"],
            _components_confirm_component__WEBPACK_IMPORTED_MODULE_6__["ConfirmComponent"],
            _components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmModalComponent"],
            _components_grid_column_selector_grid_context_menu_component__WEBPACK_IMPORTED_MODULE_8__["GridContextMenuComponent"],
            _components_typeahead_component__WEBPACK_IMPORTED_MODULE_9__["TypeaheadComponent"],
            _components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_11__["FilterCriteriaBuilderComponent"],
            _components_famis_grid_component__WEBPACK_IMPORTED_MODULE_13__["FamisGridComponent"],
            _components_famis_sub_grid_component__WEBPACK_IMPORTED_MODULE_34__["FamisSubGridComponent"],
            _components_modal_form_component__WEBPACK_IMPORTED_MODULE_14__["ModalFormComponent"],
            _components_dynamic_form_asset_form_component__WEBPACK_IMPORTED_MODULE_28__["AssetFormComponent"],
            _components_dynamic_form_controls_dynamic_field_component__WEBPACK_IMPORTED_MODULE_25__["DynamicFieldComponent"],
            _components_replace_field_component__WEBPACK_IMPORTED_MODULE_15__["ReplaceFieldComponent"],
            _components_dynamic_form_controls_cascading_combo_box_component__WEBPACK_IMPORTED_MODULE_26__["CascadingComboBoxComponent"],
            _components_replace_field_component__WEBPACK_IMPORTED_MODULE_15__["ReplaceFieldComponent"],
            _components_carousel_modal_component__WEBPACK_IMPORTED_MODULE_16__["CarouselModalComponent"],
            _components_dynamic_form_controls_image_upload_field_component__WEBPACK_IMPORTED_MODULE_27__["ImageUploadFieldComponent"],
            _components_grid_actions_view_map_component__WEBPACK_IMPORTED_MODULE_18__["ViewMapComponent"],
            _components_grid_actions_view_image_component__WEBPACK_IMPORTED_MODULE_30__["ViewImageComponent"],
            _components_google_map_component__WEBPACK_IMPORTED_MODULE_19__["GoogleMapComponent"],
            _components_bing_map_component__WEBPACK_IMPORTED_MODULE_20__["BingMapComponent"],
            _components_grid_actions_revert_component__WEBPACK_IMPORTED_MODULE_29__["RevertComponent"],
            _components_kendo_grid_translation_component__WEBPACK_IMPORTED_MODULE_31__["KendoGridTranslationComponent"],
            _components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_32__["PowerBIComponent"],
            _pipes_local_time_pipe__WEBPACK_IMPORTED_MODULE_33__["LocalTimePipe"],
            _pipes_localized_date_pipe__WEBPACK_IMPORTED_MODULE_35__["LocalizedDatePipe"],
            _pipes_localized_number_pipe__WEBPACK_IMPORTED_MODULE_36__["LocalizedNumberPipe"],
            _pipes_localized_percent_pipe__WEBPACK_IMPORTED_MODULE_37__["LocalizedPercentPipe"],
            _components_grid_filter_grid_filter_component__WEBPACK_IMPORTED_MODULE_41__["GridFilterComponent"],
            _components_window_default_title_bar_component__WEBPACK_IMPORTED_MODULE_43__["DefaultTitleBarComponent"],
            _components_window_modal_backdrop_component__WEBPACK_IMPORTED_MODULE_44__["ModalBackdropComponent"],
            _components_copy_asset_modal_copy_asset_record_component__WEBPACK_IMPORTED_MODULE_45__["CopyAssetRecordComponent"],
            _components_file_upload_control_file_upload_control_component__WEBPACK_IMPORTED_MODULE_46__["FileUploadControlComponent"],
            _components_dashboard_groups_component__WEBPACK_IMPORTED_MODULE_47__["DashboardGroupsComponent"]
        ],
        exports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_17__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_49__["FormsModule"],
            _pipes_evenodd_pipe__WEBPACK_IMPORTED_MODULE_55__["EvenoddPipe"],
            _pipes_dynamic_data_translation_pipe__WEBPACK_IMPORTED_MODULE_56__["DynamicDataTranslation"],
            _components_group_search_component__WEBPACK_IMPORTED_MODULE_1__["GroupSearchComponent"],
            _components_alert_component__WEBPACK_IMPORTED_MODULE_2__["AlertComponent"],
            _components_add_asset_column_component__WEBPACK_IMPORTED_MODULE_3__["AddAssetColumnComponent"],
            _components_grid_column_selector_grid_column_selector_component__WEBPACK_IMPORTED_MODULE_4__["GridColumnSelectorComponent"],
            _components_grid_column_selector_grid_column_selector_modal_component__WEBPACK_IMPORTED_MODULE_5__["GridColumnSelectorModalComponent"],
            _components_confirm_component__WEBPACK_IMPORTED_MODULE_6__["ConfirmComponent"],
            _components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmModalComponent"],
            _components_typeahead_component__WEBPACK_IMPORTED_MODULE_9__["TypeaheadComponent"],
            _components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_11__["FilterCriteriaBuilderComponent"],
            _components_famis_grid_component__WEBPACK_IMPORTED_MODULE_13__["FamisGridComponent"],
            _components_famis_sub_grid_component__WEBPACK_IMPORTED_MODULE_34__["FamisSubGridComponent"],
            _components_modal_form_component__WEBPACK_IMPORTED_MODULE_14__["ModalFormComponent"],
            _components_dynamic_form_asset_form_component__WEBPACK_IMPORTED_MODULE_28__["AssetFormComponent"],
            _components_replace_field_component__WEBPACK_IMPORTED_MODULE_15__["ReplaceFieldComponent"],
            _components_dynamic_form_controls_cascading_combo_box_component__WEBPACK_IMPORTED_MODULE_26__["CascadingComboBoxComponent"],
            _components_carousel_modal_component__WEBPACK_IMPORTED_MODULE_16__["CarouselModalComponent"],
            _components_grid_actions_view_map_component__WEBPACK_IMPORTED_MODULE_18__["ViewMapComponent"],
            _components_grid_actions_view_image_component__WEBPACK_IMPORTED_MODULE_30__["ViewImageComponent"],
            _components_grid_actions_revert_component__WEBPACK_IMPORTED_MODULE_29__["RevertComponent"],
            _components_dynamic_form_controls_dynamic_field_component__WEBPACK_IMPORTED_MODULE_25__["DynamicFieldComponent"],
            _components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_32__["PowerBIComponent"],
            _components_kendo_grid_translation_component__WEBPACK_IMPORTED_MODULE_31__["KendoGridTranslationComponent"],
            _pipes_local_time_pipe__WEBPACK_IMPORTED_MODULE_33__["LocalTimePipe"],
            _pipes_localized_date_pipe__WEBPACK_IMPORTED_MODULE_35__["LocalizedDatePipe"],
            _pipes_localized_number_pipe__WEBPACK_IMPORTED_MODULE_36__["LocalizedNumberPipe"],
            _components_dynamic_form_controls_image_upload_field_component__WEBPACK_IMPORTED_MODULE_27__["ImageUploadFieldComponent"],
            _components_grid_filter_grid_filter_component__WEBPACK_IMPORTED_MODULE_41__["GridFilterComponent"],
            _components_copy_asset_modal_copy_asset_record_component__WEBPACK_IMPORTED_MODULE_45__["CopyAssetRecordComponent"],
            _components_file_upload_control_file_upload_control_component__WEBPACK_IMPORTED_MODULE_46__["FileUploadControlComponent"],
            _components_google_map_component__WEBPACK_IMPORTED_MODULE_19__["GoogleMapComponent"],
            _components_bing_map_component__WEBPACK_IMPORTED_MODULE_20__["BingMapComponent"],
            _components_dashboard_groups_component__WEBPACK_IMPORTED_MODULE_47__["DashboardGroupsComponent"]
        ],
        providers: [
            _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_57__["WizardService"],
            _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_58__["GroupSearchService"],
            _api_services_custom_data_types_repository_service__WEBPACK_IMPORTED_MODULE_59__["CustomDataTypesRepository"],
            _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_60__["ImageApiService"],
            _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_12__["FilterOperationsService"],
            _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_39__["UserGridService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_17__["DatePipe"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_40__["FilterService"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_40__["SinglePopupService"],
            _core_services_dynamic_form_control_service__WEBPACK_IMPORTED_MODULE_23__["DynamicFormControlService"],
            _progress_kendo_angular_dialog__WEBPACK_IMPORTED_MODULE_42__["WindowRef"],
            { provide: _agm_core__WEBPACK_IMPORTED_MODULE_24__["LAZY_MAPS_API_CONFIG"],
                useClass: _core_services_google_maps_config_service__WEBPACK_IMPORTED_MODULE_22__["GoogleMapsService"] }
        ],
        entryComponents: [
            _components_dynamic_form_controls_dynamic_field_component__WEBPACK_IMPORTED_MODULE_25__["DynamicFieldComponent"],
            _components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmModalComponent"],
            _components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_11__["FilterCriteriaBuilderComponent"],
            _components_carousel_modal_component__WEBPACK_IMPORTED_MODULE_16__["CarouselModalComponent"],
            _components_dynamic_form_asset_form_component__WEBPACK_IMPORTED_MODULE_28__["AssetFormComponent"],
            _components_grid_actions_view_map_component__WEBPACK_IMPORTED_MODULE_18__["ViewMapComponent"],
            _components_grid_actions_view_image_component__WEBPACK_IMPORTED_MODULE_30__["ViewImageComponent"],
            _components_grid_actions_revert_component__WEBPACK_IMPORTED_MODULE_29__["RevertComponent"],
            _components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_32__["PowerBIComponent"],
            _components_dynamic_form_controls_image_upload_field_component__WEBPACK_IMPORTED_MODULE_27__["ImageUploadFieldComponent"],
            _components_window_default_title_bar_component__WEBPACK_IMPORTED_MODULE_43__["DefaultTitleBarComponent"],
            _components_window_modal_backdrop_component__WEBPACK_IMPORTED_MODULE_44__["ModalBackdropComponent"]
        ]
    })
], SharedModule);



/***/ }),

/***/ "./client-src/app/_ui/services/wizard.service.ts":
/*!*******************************************************!*\
  !*** ./client-src/app/_ui/services/wizard.service.ts ***!
  \*******************************************************/
/*! exports provided: WizardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WizardService", function() { return WizardService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");



let WizardService = class WizardService {
    constructor() {
        // Observable string sources
        this.activeTabSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('');
        // Observable string streams
        this.activeTab$ = this.activeTabSource.asObservable();
        this.activeTabs = new Array();
    }
    clearActiveTab() {
        let current = this.activeTabSource.getValue();
        current = '';
        this.activeTabSource.next(current);
    }
    setActiveTab(activeTab) {
        const current = this.activeTabSource.getValue();
        this.previousTab = current;
        this.activeTabSource.next(activeTab);
        this.activeTabs.push(activeTab);
    }
};
WizardService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], WizardService);



/***/ }),

/***/ "./client-src/app/admin/admin.module.ts":
/*!**********************************************!*\
  !*** ./client-src/app/admin/admin.module.ts ***!
  \**********************************************/
/*! exports provided: AdminModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminModule", function() { return AdminModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _components_admin_home_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/admin-home.component */ "./client-src/app/admin/components/admin-home.component.ts");
/* harmony import */ var _components_user_user_home_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/user/user-home.component */ "./client-src/app/admin/components/user/user-home.component.ts");
/* harmony import */ var _components_user_user_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/user/user-list.component */ "./client-src/app/admin/components/user/user-list.component.ts");
/* harmony import */ var _components_user_user_edit_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/user/user-edit.component */ "./client-src/app/admin/components/user/user-edit.component.ts");
/* harmony import */ var _components_team_team_edit_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/team/team-edit.component */ "./client-src/app/admin/components/team/team-edit.component.ts");
/* harmony import */ var _components_team_team_home_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/team/team-home.component */ "./client-src/app/admin/components/team/team-home.component.ts");
/* harmony import */ var _components_team_team_list_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/team/team-list.component */ "./client-src/app/admin/components/team/team-list.component.ts");
/* harmony import */ var _components_template_template_management_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/template/template-management.component */ "./client-src/app/admin/components/template/template-management.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/template/wizard/template-builder-wizard.component */ "./client-src/app/admin/components/template/wizard/template-builder-wizard.component.ts");
/* harmony import */ var _components_template_wizard_template_builder_step1_template_builder_step1_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/template/wizard/template-builder-step1/template-builder-step1.component */ "./client-src/app/admin/components/template/wizard/template-builder-step1/template-builder-step1.component.ts");
/* harmony import */ var _components_template_wizard_template_builder_step2_template_builder_step2_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/template/wizard/template-builder-step2/template-builder-step2.component */ "./client-src/app/admin/components/template/wizard/template-builder-step2/template-builder-step2.component.ts");
/* harmony import */ var _components_template_wizard_template_builder_step3_template_builder_step3_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/template/wizard/template-builder-step3/template-builder-step3.component */ "./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.ts");
/* harmony import */ var _components_template_wizard_template_builder_step4_template_builder_step4_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/template/wizard/template-builder-step4/template-builder-step4.component */ "./client-src/app/admin/components/template/wizard/template-builder-step4/template-builder-step4.component.ts");
/* harmony import */ var _components_template_wizard_custom_field_custom_field_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/template/wizard/custom-field/custom-field.component */ "./client-src/app/admin/components/template/wizard/custom-field/custom-field.component.ts");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _services_group_save_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./services/group-save-service */ "./client-src/app/admin/services/group-save-service.ts");
/* harmony import */ var _components_group_saves_group_save_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/group-saves/group-save.component */ "./client-src/app/admin/components/group-saves/group-save.component.ts");
/* harmony import */ var _components_group_saves_restore_modal_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/group-saves/restore-modal.component */ "./client-src/app/admin/components/group-saves/restore-modal.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ng2_dragula__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ng2-dragula */ "./node_modules/ng2-dragula/dist/fesm2015/ng2-dragula.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _api_services_admin_template_repository_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../_api/services/admin/template-repository.service */ "./client-src/app/_api/services/admin/template-repository.service.ts");
/* harmony import */ var _api_services_module_repository_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../_api/services/module-repository.service */ "./client-src/app/_api/services/module-repository.service.ts");
/* harmony import */ var _api_services_country_repository_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../_api/services/country-repository.service */ "./client-src/app/_api/services/country-repository.service.ts");
/* harmony import */ var _api_services_office_repository_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../_api/services/office-repository.service */ "./client-src/app/_api/services/office-repository.service.ts");
/* harmony import */ var _components_remove_deactivated_remove_deactivated_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/remove-deactivated/remove-deactivated.component */ "./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.ts");
/* harmony import */ var _services_remove_deactivated_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./services/remove-deactivated.service */ "./client-src/app/admin/services/remove-deactivated.service.ts");




































let AdminModule = class AdminModule {
};
AdminModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_21__["NgModule"])({
        imports: [
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__["GridModule"],
            _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_23__["IntlModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_25__["RouterModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_24__["CommonModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__["GridModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_26__["NgbModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_27__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_27__["ReactiveFormsModule"],
            ng2_dragula__WEBPACK_IMPORTED_MODULE_28__["DragulaModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_20__["CoreModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_9__["SharedModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_29__["OrderModule"],
        ],
        declarations: [
            _components_admin_home_component__WEBPACK_IMPORTED_MODULE_1__["AdminHomeComponent"],
            _components_user_user_home_component__WEBPACK_IMPORTED_MODULE_2__["UserHomeComponent"],
            _components_user_user_list_component__WEBPACK_IMPORTED_MODULE_3__["UserListComponent"],
            _components_user_user_edit_component__WEBPACK_IMPORTED_MODULE_4__["UserEditComponent"],
            _components_team_team_home_component__WEBPACK_IMPORTED_MODULE_6__["TeamHomeComponent"],
            _components_team_team_list_component__WEBPACK_IMPORTED_MODULE_7__["TeamListComponent"],
            _components_team_team_edit_component__WEBPACK_IMPORTED_MODULE_5__["TeamEditComponent"],
            _components_template_template_management_component__WEBPACK_IMPORTED_MODULE_8__["TemplateManagementComponent"],
            _components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_10__["TemplateBuilderWizardComponent"],
            _components_template_wizard_template_builder_step1_template_builder_step1_component__WEBPACK_IMPORTED_MODULE_11__["TemplateBuilderStep1Component"],
            _components_template_wizard_template_builder_step2_template_builder_step2_component__WEBPACK_IMPORTED_MODULE_12__["TemplateBuilderStep2Component"],
            _components_template_wizard_template_builder_step3_template_builder_step3_component__WEBPACK_IMPORTED_MODULE_13__["TemplateBuilderStep3Component"],
            _components_template_wizard_template_builder_step4_template_builder_step4_component__WEBPACK_IMPORTED_MODULE_14__["TemplateBuilderStep4Component"],
            _components_template_wizard_custom_field_custom_field_component__WEBPACK_IMPORTED_MODULE_15__["CustomFieldComponent"],
            _components_group_saves_group_save_component__WEBPACK_IMPORTED_MODULE_18__["GroupSaveComponent"],
            _components_group_saves_restore_modal_component__WEBPACK_IMPORTED_MODULE_19__["RestoreModalComponent"],
            _components_remove_deactivated_remove_deactivated_component__WEBPACK_IMPORTED_MODULE_34__["RemoveDeactivatedComponent"]
        ],
        entryComponents: [
            _components_group_saves_restore_modal_component__WEBPACK_IMPORTED_MODULE_19__["RestoreModalComponent"]
        ],
        exports: [
            _components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_10__["TemplateBuilderWizardComponent"],
            _components_template_wizard_template_builder_step1_template_builder_step1_component__WEBPACK_IMPORTED_MODULE_11__["TemplateBuilderStep1Component"],
            _components_template_wizard_template_builder_step2_template_builder_step2_component__WEBPACK_IMPORTED_MODULE_12__["TemplateBuilderStep2Component"],
            _components_template_wizard_template_builder_step3_template_builder_step3_component__WEBPACK_IMPORTED_MODULE_13__["TemplateBuilderStep3Component"],
            _components_template_wizard_template_builder_step4_template_builder_step4_component__WEBPACK_IMPORTED_MODULE_14__["TemplateBuilderStep4Component"]
        ],
        providers: [
            _services_template_service__WEBPACK_IMPORTED_MODULE_16__["TemplateService"],
            _services_group_save_service__WEBPACK_IMPORTED_MODULE_17__["GroupSaveService"],
            _api_services_admin_template_repository_service__WEBPACK_IMPORTED_MODULE_30__["TemplateRepositoryService"],
            _api_services_module_repository_service__WEBPACK_IMPORTED_MODULE_31__["ModuleRepositoryService"],
            _api_services_country_repository_service__WEBPACK_IMPORTED_MODULE_32__["CountryRepositoryService"],
            _api_services_office_repository_service__WEBPACK_IMPORTED_MODULE_33__["OfficeRepositoryService"],
            ng2_dragula__WEBPACK_IMPORTED_MODULE_28__["DragulaService"],
            _services_remove_deactivated_service__WEBPACK_IMPORTED_MODULE_35__["RemoveDeactivatedService"]
        ]
    })
], AdminModule);



/***/ }),

/***/ "./client-src/app/admin/components/admin-home.component.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/admin/components/admin-home.component.ts ***!
  \*****************************************************************/
/*! exports provided: AdminHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminHomeComponent", function() { return AdminHomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");




let AdminHomeComponent = class AdminHomeComponent {
    constructor(router) {
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
    }
    ngOnInit() {
        this.router.navigate(['/admin/users']);
    }
};
AdminHomeComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }
];
AdminHomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'admin-home',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./admin-home.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/admin-home.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
], AdminHomeComponent);



/***/ }),

/***/ "./client-src/app/admin/components/default-values/default-header.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/admin/components/default-values/default-header.ts ***!
  \**************************************************************************/
/*! exports provided: groupSaveHeaders, defaultGroupSaveHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupSaveHeaders", function() { return groupSaveHeaders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultGroupSaveHeaders", function() { return defaultGroupSaveHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const groupSaveHeaders = [
    {
        name: 'id',
        displayName: 'Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false
    },
    {
        name: 'groupId',
        displayName: 'Group Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false
    },
    {
        name: 'updatedUserName',
        displayName: 'Created by',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false
    },
    {
        name: 'createdTime',
        displayName: 'Date & Time',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateWithTimeStamp,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false
    },
    {
        name: 'description',
        displayName: 'Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: false,
        isFacetable: false,
        isKey: true,
        isCustom: false
    },
];
const defaultGroupSaveHeaders = [
    'description',
    'createdTime',
    'updatedUserName'
];


/***/ }),

/***/ "./client-src/app/admin/components/group-saves/group-save.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/admin/components/group-saves/group-save.component.ts ***!
  \*****************************************************************************/
/*! exports provided: GroupSaveComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupSaveComponent", function() { return GroupSaveComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_group_save_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/group-save-service */ "./client-src/app/admin/services/group-save-service.ts");
/* harmony import */ var _default_values_default_header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../default-values/default-header */ "./client-src/app/admin/components/default-values/default-header.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _restore_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./restore-modal.component */ "./client-src/app/admin/components/group-saves/restore-modal.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");










let GroupSaveComponent = class GroupSaveComponent {
    constructor(famisGridService, groupSaveService, alertService, route) {
        this.famisGridService = famisGridService;
        this.groupSaveService = groupSaveService;
        this.alertService = alertService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_8__["Subject"]();
        this.windowSize = 500;
        this.initWindowSize = 84;
        this.defaultSkip = 0;
        this.isDuplicateName = false;
        this.saveClicked = false;
    }
    ngOnInit() {
        this.famisGridService.resetCache();
        this.groupSaveService.clearGroupSave();
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.groupSaveService.groupId = this.groupId;
        this.savePointGrid = {
            gridData: this.groupSaveService.savePointGridData$,
            gridId: this.famisGridService.createGrid(),
            columnHeaders: _default_values_default_header__WEBPACK_IMPORTED_MODULE_3__["groupSaveHeaders"],
            selectedHeaders: _default_values_default_header__WEBPACK_IMPORTED_MODULE_3__["defaultGroupSaveHeaders"],
            windowSize: this.windowSize,
            name: '',
            totalRecordCount: 0,
            height: 350,
            dataSource: this.groupSaveService.dataTarget,
            supportedOperators: [],
            actions: ['Restore'],
            translationBaseKey: this.i18n.admin
        };
        const getSuccessfulRecords = this.groupSaveService.updateGroupSaveData(this.groupId, this.defaultSkip, this.initWindowSize);
        const loading = getSuccessfulRecords.subscribe(successfulRecords => {
            if (successfulRecords) {
                this.savePointGrid.totalRecordCount = successfulRecords.length;
                this.groupSaveService.setSavePointGridDataSource(successfulRecords);
                if (successfulRecords.length > 0) {
                    this.famisGridService.setCacheRecords(successfulRecords, this.savePointGrid.gridId, 0, successfulRecords.length, this.initWindowSize);
                }
            }
        });
        this.savePointGrid.loading = loading;
    }
    updateCache() {
        const getSuccessfulRecords = this.groupSaveService.updateGroupSaveData(this.groupId, this.defaultSkip, this.initWindowSize);
        const loading = getSuccessfulRecords.subscribe(successfulRecords => {
            if (successfulRecords) {
                this.savePointGrid.totalRecordCount = successfulRecords.length;
                this.groupSaveService.setSavePointGridDataSource(successfulRecords);
                if (successfulRecords.length > 0) {
                    this.famisGridService.setCacheRecords(successfulRecords, this.savePointGrid.gridId, 0, successfulRecords.length, this.initWindowSize);
                }
            }
        });
        this.savePointGrid.loading = loading;
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    onSubmit(form) {
        this.saveClicked = true;
        if (this.savePointName) {
            this.groupSaveService.setGroupSavePoints(this.groupSaveService.groupId, this.savePointName).subscribe(result => {
                if (result) {
                    if (result.code === 0) {
                        this.savePointName = '';
                        this.updateCache();
                        this.isDuplicateName = false;
                    }
                    else if (result.code === 2) {
                        this.isDuplicateName = true;
                    }
                }
            });
        }
        this.saveClicked = false;
    }
    handleAddOrUpdate(responseFromModal) {
        // console.log(responseFromModal);
    }
    handleAction(responseFromModal) {
        this.updateCache();
        if (responseFromModal) {
            this.alertService.success('Save/Restore successfully completed');
        }
    }
    handleActionEvent(actionEvent) {
        if (actionEvent.action === 'Restore') {
            const modall = this.restoreModalComponent.open(actionEvent.item);
        }
    }
    mapRequestDto(item) {
        const request = {
            description: item.description,
            createdTime: item.createdTime,
            groupId: item.groupId,
            updatedUserId: item.updatedUserId,
            id: item.id
        };
        return request;
    }
};
GroupSaveComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"] },
    { type: _services_group_save_service__WEBPACK_IMPORTED_MODULE_2__["GroupSaveService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])(_restore_modal_component__WEBPACK_IMPORTED_MODULE_5__["RestoreModalComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _restore_modal_component__WEBPACK_IMPORTED_MODULE_5__["RestoreModalComponent"])
], GroupSaveComponent.prototype, "restoreModalComponent", void 0);
GroupSaveComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'group-save-component',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./group-save.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/group-saves/group-save.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"],
        _services_group_save_service__WEBPACK_IMPORTED_MODULE_2__["GroupSaveService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"]])
], GroupSaveComponent);



/***/ }),

/***/ "./client-src/app/admin/components/group-saves/restore-modal.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/admin/components/group-saves/restore-modal.component.ts ***!
  \********************************************************************************/
/*! exports provided: RestoreModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RestoreModalComponent", function() { return RestoreModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_group_save_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/group-save-service */ "./client-src/app/admin/services/group-save-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");







let RestoreModalComponent = class RestoreModalComponent {
    constructor(modalService, groupSaveService, alertService, windowManager, container) {
        this.modalService = modalService;
        this.groupSaveService = groupSaveService;
        this.alertService = alertService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.restoreComplete = false;
        this.restoreInitiated = false;
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_6__["EventEmitter"]();
        this.onAddOrUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_6__["EventEmitter"]();
    }
    ngOnInit() { }
    ngOnDestroy() { }
    restore() {
        const requestDto = this.mapRequestDto(this.restoreGroupSave);
        // tslint:disable-next-line:max-line-length
        this.alertService.info('Your restore request has been successfully initiated. Please refrain access to this group until the restoration is complete!');
        // internally includes inserting a new entry into the rollback milestones table
        this.restoreInitiated = true;
        this.groupSaveService.restoreToSavePoint(requestDto).subscribe(response => {
            // console.log(response);
            if (response) {
                this.restoreComplete = true;
                this.restoreInitiated = false;
                this.modalRef.dismiss();
                this.onAction.emit(this.restoreGroupSave);
            }
        });
        this.restoreComplete = false;
    }
    cancel() {
        this.modalRef.dismiss();
    }
    open(item) {
        this.restoreGroupSave = item;
        this.modalRef = this.modalService.open(this.content, {
            backdrop: 'static', size: 'lg',
            keyboard: false,
            windowClass: 'mediumModal'
        });
    }
    mapRequestDto(item) {
        const request = {
            description: item.description,
            createdTime: item.createdTime,
            groupId: item.groupId,
            updatedUserId: item.updatedUserId,
            id: item.id
        };
        return request;
    }
};
RestoreModalComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbModal"] },
    { type: _services_group_save_service__WEBPACK_IMPORTED_MODULE_3__["GroupSaveService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], RestoreModalComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], RestoreModalComponent.prototype, "onAction", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], RestoreModalComponent.prototype, "onAddOrUpdate", void 0);
RestoreModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'restore-milestone',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./restore-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/group-saves/restore-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbModal"],
        _services_group_save_service__WEBPACK_IMPORTED_MODULE_3__["GroupSaveService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"], _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"]])
], RestoreModalComponent);



/***/ }),

/***/ "./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.ts ***!
  \********************************************************************************************/
/*! exports provided: RemoveDeactivatedComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveDeactivatedComponent", function() { return RemoveDeactivatedComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_group_save_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/group-save-service */ "./client-src/app/admin/services/group-save-service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _services_remove_deactivated_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/remove-deactivated.service */ "./client-src/app/admin/services/remove-deactivated.service.ts");








let RemoveDeactivatedComponent = class RemoveDeactivatedComponent {
    constructor(groupSaveService, removeDeactivatedService, alertService, route) {
        this.groupSaveService = groupSaveService;
        this.removeDeactivatedService = removeDeactivatedService;
        this.alertService = alertService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.defaultSkip = 0;
        this.saveClicked = false;
        this.breadCrumbs = [
            { name: 'Administration', routerLink: '../' },
            { name: 'Remove Deactivated', routerLink: 'RemoveDeactivated', isDisabled: true }
        ];
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    onSubmit(form) {
        if (form.valid) {
            this.saveClicked = true;
            this.selectedDatatarget = this.selectedDatatarget === '' || this.selectedDatatarget === undefined ? '-1' : this.selectedDatatarget;
            // WIP
            // call the api method to execute the procedure
            this.removeDeactivatedService.RemoveDeactivatedItems(this.groupId, this.selectedType, this.selectedDatatarget).subscribe(result => {
                this.alertService.success('Deactivated items removed successfully');
                // this.alertService.error('Error removing deactivated items, please try again.');
            }, error => {
                this.alertService.error('Error removing deactivated items, please try again');
                this.resetForm(form);
            });
            this.saveClicked = false;
        }
    }
    resetForm(form) {
        this.selectedDatatarget = '';
        this.selectedType = '';
        form.resetForm();
    }
};
RemoveDeactivatedComponent.ctorParameters = () => [
    { type: _services_group_save_service__WEBPACK_IMPORTED_MODULE_1__["GroupSaveService"] },
    { type: _services_remove_deactivated_service__WEBPACK_IMPORTED_MODULE_7__["RemoveDeactivatedService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"] }
];
RemoveDeactivatedComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'remove-deactivated',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./remove-deactivated.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_group_save_service__WEBPACK_IMPORTED_MODULE_1__["GroupSaveService"],
        _services_remove_deactivated_service__WEBPACK_IMPORTED_MODULE_7__["RemoveDeactivatedService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"]])
], RemoveDeactivatedComponent);



/***/ }),

/***/ "./client-src/app/admin/components/team/team-edit.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/components/team/team-edit.component.ts ***!
  \*********************************************************************/
/*! exports provided: TeamEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamEditComponent", function() { return TeamEditComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_team_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_models/team.model */ "./client-src/app/_models/team.model.ts");



let TeamEditComponent = class TeamEditComponent {
    constructor() { }
    ngOnInit() {
        this.team = new _models_team_model__WEBPACK_IMPORTED_MODULE_2__["Team"]();
        this.team.Name = 'FAMIS';
        this.team.Active = true;
    }
};
TeamEditComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'team-edit',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./team-edit.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-edit.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], TeamEditComponent);



/***/ }),

/***/ "./client-src/app/admin/components/team/team-home.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/components/team/team-home.component.ts ***!
  \*********************************************************************/
/*! exports provided: TeamHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamHomeComponent", function() { return TeamHomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let TeamHomeComponent = class TeamHomeComponent {
    constructor() { }
    ngOnInit() {
    }
};
TeamHomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'team-home',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./team-home.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-home.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], TeamHomeComponent);



/***/ }),

/***/ "./client-src/app/admin/components/team/team-list.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/components/team/team-list.component.ts ***!
  \*********************************************************************/
/*! exports provided: TeamListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamListComponent", function() { return TeamListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _teams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./teams */ "./client-src/app/admin/components/team/teams.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let TeamListComponent = class TeamListComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.teams = _teams__WEBPACK_IMPORTED_MODULE_1__["testTeams"];
        this.selectedTeam = this.teams[0];
        this.isRowSelected = (e) => e.index === this.selectedRow;
    }
    ngOnInit() {
        this.selectedRow = 0;
    }
    selectRow(event) {
        this.selectedRow = 0;
        this.selectedTeam = event.selectedRows[0].dataItem;
    }
};
TeamListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'team-list',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./team-list.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-list.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], TeamListComponent);



/***/ }),

/***/ "./client-src/app/admin/components/team/teams.ts":
/*!*******************************************************!*\
  !*** ./client-src/app/admin/components/team/teams.ts ***!
  \*******************************************************/
/*! exports provided: testTeams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testTeams", function() { return testTeams; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const testTeams = [
    {
        'Name': 'FAAs',
        'Active': true,
    },
    {
        'Name': 'Admin',
        'Active': true
    },
    {
        'Name': 'IT',
        'Active': false,
    },
    {
        'Name': 'Field',
        'Active': true
    },
    {
        'Name': 'Project Management',
        'Active': true
    }
];


/***/ }),

/***/ "./client-src/app/admin/components/template/template-management.component.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/admin/components/template/template-management.component.ts ***!
  \***********************************************************************************/
/*! exports provided: TemplateManagementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateManagementComponent", function() { return TemplateManagementComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @progress/kendo-data-query */ "./node_modules/@progress/kendo-data-query/dist/es2015/main.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");









let TemplateManagementComponent = class TemplateManagementComponent {
    constructor(templateService, alertService, famisGridService, userGridService, router) {
        this.templateService = templateService;
        this.alertService = alertService;
        this.famisGridService = famisGridService;
        this.userGridService = userGridService;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.templatesGridBusy = true;
        this.templates = new Array();
        this.offices = new Array();
        this.state = {
            skip: 0,
            take: 50
        };
        this.userGridSettingName = this.userGridService.createUserGridId(null, this.router.url.toString().split('?')[0], 'Template Management Grid');
        this.filterRoot = { logic: 'and', filters: [] };
        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_7__["process"])(this.templates, this.state);
    }
    ngOnInit() {
        this.templateService
            .getAll()
            .subscribe(templates => {
            this.userGridService.getSettings(this.famisGridService.userId, this.userGridSettingName, null)
                .subscribe(gridSettings => {
                if (gridSettings.filters && gridSettings.filters.filters && gridSettings.filters.filters.length > 0) {
                    this.filterRoot = gridSettings.filters;
                    this.state.filter = this.filterRoot;
                    this.loadTemplates(templates);
                }
                else {
                    this.loadTemplates(templates);
                }
            });
        }, error => { }, () => (this.templatesGridBusy = false));
        this.famisGridService.setUserId();
    }
    loadTemplates(templates) {
        this.templates = templates;
        this.refreshGridData();
    }
    handleCopy(sourceId, $event) {
        const errors = new Array();
        event.preventDefault();
        const sourceTemplate = this.templates.find(c => c.id === sourceId);
        if (sourceTemplate) {
            this.templateService.clone(sourceTemplate).subscribe(result => {
                if (result === null) {
                    errors.push('An error occurred while copying the template.');
                }
                else {
                    this.templates.push(result);
                    this.refreshGridData();
                    this.alertService.success('Template copied successfully!');
                }
            });
        }
        else {
            errors.push('An error occurred while copying the template.');
        }
        errors.forEach(error => {
            this.alertService.error(error);
        });
    }
    toggleIsRetired(id, $event) {
        event.preventDefault();
        const templateIndex = this.templates.findIndex(t => t.id === id);
        if (templateIndex === -1) {
            return;
        }
        if (this.templates[templateIndex].isMasterTemplate) {
            this.alertService.error('Cannot retire a master template.');
        }
        if (this.templates) {
            this.templateService.setIsRetired(id, !this.templates[templateIndex].isRetired).subscribe(data => this.setIsRetiredState(data), error => {
                this.alertService.error('This isn\'t working yet, remove this message after the route exists.');
                this.templates[0].isRetired = !this.templates[0].isRetired;
            });
        }
    }
    setIsRetiredState(dto) {
        if (dto == null) {
            return;
        }
        const templateIndex = this.templates.findIndex(t => t.id === dto.templateId);
        if (templateIndex === -1) {
            return;
        }
        this.templates[templateIndex].isRetired = dto.isRetired;
    }
    isDisabled(context) {
        return context.dataItem.isRetired ? 'disabled-row' : 'enabled-row';
    }
    dataStateChange(state) {
        this.state = state;
        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_7__["process"])(this.templates, this.state);
    }
    refreshGridData() {
        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_7__["process"])(this.templates, this.state);
    }
    handleFilterChange(filter) {
        // save the filter
        this.filterRoot = filter;
        this.userGridService.saveSettings(this.userGridSettingName, null, null, this.famisGridService.userId, null, this.filterRoot).subscribe();
    }
};
TemplateManagementComponent.ctorParameters = () => [
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__["UserGridService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"] }
];
TemplateManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'template-management',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-management.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/template-management.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__["UserGridService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"]])
], TemplateManagementComponent);



/***/ }),

/***/ "./client-src/app/admin/components/template/wizard/custom-field/custom-field.component.ts":
/*!************************************************************************************************!*\
  !*** ./client-src/app/admin/components/template/wizard/custom-field/custom-field.component.ts ***!
  \************************************************************************************************/
/*! exports provided: CustomFieldComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomFieldComponent", function() { return CustomFieldComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");





let CustomFieldComponent = class CustomFieldComponent {
    constructor(formBuilder, templateService) {
        this.formBuilder = formBuilder;
        this.templateService = templateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.customFieldFormArray = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormArray"]([new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControl"]()]);
        this.customFields = new Array();
        this.customFieldAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.customFieldRemoved = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
    }
    ngOnInit() {
        this.formArray = this.formBuilder.array([]);
        this.form = this.formBuilder.group({
            customFields: this.formArray
        });
        this.customFields.forEach(field => {
            if (field.moduleId === this.moduleId) {
                const control = this.form.controls['customFields'];
                control.push(this.initCustomFields(field));
            }
        });
        this.form.valueChanges.subscribe(val => {
            const customField = val;
            this.customFieldAdded.emit(val.customFields);
            // console.log(val);
        });
    }
    initCustomFields(field) {
        return this.formBuilder.group({
            id: [field ? field.id : this.generateUUID()],
            isCustomField: [true],
            moduleId: this.moduleId,
            name: [field ? field.name : '', _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            fieldType: [field ? field.fieldType : '', _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            order: [field && field.order > 0 ? field.order : 0]
        });
    }
    addNewRow() {
        const control = this.form.controls['customFields'];
        control.push(this.initCustomFields());
    }
    // Todo: Check if this is still needed
    generateUUID() {
        let d = new Date().getTime();
        const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            // tslint:disable-next-line: no-bitwise
            const r = ((d + Math.random() * 16) % 16) | 0;
            d = Math.floor(d / 16);
            // tslint:disable-next-line: no-bitwise
            return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);
        });
        return uuid;
    }
    isSelectFieldDirty(c) {
        const fieldId = c.value.id;
        return this.invalidFieldTypeIndexes.find(item => item === fieldId) != null;
    }
    isNameFieldDirty(c) {
        const fieldId = c.value.id;
        return this.invalidFieldNameIndexes.find(item => item[0] === fieldId) != null;
    }
    GetNameFieldErrors(c) {
        let res = '';
        const fieldId = c.value.id;
        const errorTuple = this.invalidFieldNameIndexes.find(x => x[0] === fieldId);
        if (errorTuple != null) {
            res += errorTuple[1];
        }
        return res;
    }
    deleteRow(c) {
        const fieldId = c.value.id;
        const index = this.customFields.findIndex(f => f.id === fieldId);
        if (index !== -1) {
            this.customFields.splice(index, 1);
            const controlIndex = this.formArray.controls.findIndex(f => f.value.id === fieldId);
            this.formArray.controls.splice(controlIndex, 1);
        }
        this.customFieldRemoved.emit(fieldId);
    }
};
CustomFieldComponent.ctorParameters = () => [
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"] },
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], CustomFieldComponent.prototype, "customFields", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], CustomFieldComponent.prototype, "moduleId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], CustomFieldComponent.prototype, "invalidFieldTypeIndexes", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], CustomFieldComponent.prototype, "invalidFieldNameIndexes", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CustomFieldComponent.prototype, "customFieldAdded", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CustomFieldComponent.prototype, "customFieldRemoved", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], CustomFieldComponent.prototype, "isEditTemplate", void 0);
CustomFieldComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-custom-field',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./custom-field.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/custom-field/custom-field.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"], _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"]])
], CustomFieldComponent);



/***/ }),

/***/ "./client-src/app/admin/components/template/wizard/template-builder-step1/template-builder-step1.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./client-src/app/admin/components/template/wizard/template-builder-step1/template-builder-step1.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: TemplateBuilderStep1Component */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateBuilderStep1Component", function() { return TemplateBuilderStep1Component; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");







let TemplateBuilderStep1Component = class TemplateBuilderStep1Component {
    constructor(templateService, wizardService, route, router) {
        this.templateService = templateService;
        this.wizardService = wizardService;
        this.route = route;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.errors = {};
        this.isSubmitting = false;
        this.isDuplicate = false;
        this.templateUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.selectedModuleIds = new Array();
    }
    ngOnInit() {
        this.templateService.templateWizard$.subscribe(templateWizard => {
            this.templateWizard = templateWizard;
        });
        this.currentForm.valueChanges.subscribe(() => {
            this.templateService.templateFormDirty = this.currentForm.dirty;
        });
    }
    ngOnChanges(changes) {
        const s = this;
        if (changes.selectedModules) {
            const selectedModules = changes.selectedModules.currentValue;
            this.selectedModuleIds = selectedModules.filter(c => !c.isRequired).map(c => c.id);
        }
    }
    handleKeyDown(event) {
        if (event.keyCode === 13) {
            // TODO: This is to prevent the cancel button from being clicked on 'enter pressed'
            event.preventDefault();
        }
    }
    onSubmit(form) {
        if (this.isDuplicateName()) {
            this.isDuplicate = true;
        }
        else if (form.valid) {
            this.isDuplicate = false;
            const event = {
                selectedModuleIds: this.selectedModuleIds.concat(this.modules.filter(c => c.isRequired).map(c => c.id)),
                template: this.template
            };
            this.templateUpdated.emit(event);
            this.wizardService.setActiveTab('step-2');
        }
    }
    onCancel(event) {
        event.preventDefault();
        if (!this.templateWizard.isEditingForGroup) {
            this.router.navigateByUrl('/admin/templates');
        }
        else {
            this.router.navigate([`/project-profile/${this.templateWizard.groupId}/MainProfile`]);
        }
    }
    onInputChange(event) {
        if (this.isDuplicate) {
            this.isDuplicate = false;
        }
    }
    isDuplicateName() {
        let res = false;
        this.templates.forEach(existingTemplate => {
            if (existingTemplate.name === this.template.name && existingTemplate.id !== this.template.id) {
                res = true;
                return;
            }
        });
        return res;
    }
};
TemplateBuilderStep1Component.ctorParameters = () => [
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_2__["TemplateService"] },
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TemplateBuilderStep1Component.prototype, "template", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep1Component.prototype, "selectedModules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep1Component.prototype, "modules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep1Component.prototype, "offices", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep1Component.prototype, "templates", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TemplateBuilderStep1Component.prototype, "templateUpdated", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('dataImportForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"])
], TemplateBuilderStep1Component.prototype, "currentForm", void 0);
TemplateBuilderStep1Component = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-template-builder-step1',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-builder-step1.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step1/template-builder-step1.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_template_service__WEBPACK_IMPORTED_MODULE_2__["TemplateService"],
        _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
], TemplateBuilderStep1Component);



/***/ }),

/***/ "./client-src/app/admin/components/template/wizard/template-builder-step2/template-builder-step2.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./client-src/app/admin/components/template/wizard/template-builder-step2/template-builder-step2.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: TemplateBuilderStep2Component */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateBuilderStep2Component", function() { return TemplateBuilderStep2Component; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");






let TemplateBuilderStep2Component = class TemplateBuilderStep2Component {
    constructor(templateService, wizardService) {
        this.templateService = templateService;
        this.wizardService = wizardService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.errors = {};
        this.isSubmitting = false;
        this.customFields = new Array();
        this.selectedModuleFieldIds = new Array();
        this.validCustomFields = true;
        this.invalidCustomFieldDataTypes = new Array();
        this.invalidCustomFieldNames = new Array();
        this.templateUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
    }
    ngOnInit() {
        this.currentForm.valueChanges.subscribe(() => {
            this.templateService.templateFormDirty = this.currentForm.dirty;
        });
    }
    ngOnChanges(changes) {
        this.isEdit = this.template.id !== undefined;
        if (changes.selectedModules) {
            const selectedModules = changes.selectedModules.currentValue;
            this.selectedModules.forEach(selectedModule => {
                const fields = this.template.templateFields
                    .filter(c => c.moduleId === selectedModule.id && !c.isCustomField)
                    .map(obj => obj.moduleFieldId);
                if (fields) {
                    this.selectedModuleFieldIds[selectedModule.id] = fields;
                }
                // console.log(this.selectedModuleFieldIds);
            });
        }
        // Init Custom Fields
        this.template.templateFields.forEach(field => {
            if (field.isCustomField) {
                this.customFields.push(field);
            }
        });
    }
    handleKeyDown(event) {
        if (event.keyCode === 13) {
            // TODO: This is to prevent the cancel button from being clicked on 'enter pressed'
            event.preventDefault();
        }
    }
    onSubmit(form) {
        if (form.valid && this.validateCustomFields(true)) {
            const selectedTemplateFields = new Array();
            this.selectedModules.forEach(module => {
                const enableOnlyModuleFields = module.moduleFields.filter(c => c.dataType === 'Module');
                enableOnlyModuleFields.forEach(field => {
                    const enableOnlyField = {
                        id: field.id,
                        moduleId: field.moduleId,
                        name: field.name,
                        fieldType: field.dataType,
                        isRequired: field.isRequired,
                        order: field.order,
                        isCustomField: false,
                        moduleFieldId: field.id
                    };
                    selectedTemplateFields.push(enableOnlyField);
                });
                this.selectedModuleFieldIds[module.id].forEach(option => {
                    const matchedField = module.moduleFields.find(c => c.id === option);
                    if (matchedField) {
                        selectedTemplateFields.push(this.templateService.mapTemplateField(matchedField, module.id));
                    }
                });
                // Adding custom fields
                this.customFields.forEach(field => {
                    if (field.moduleId === module.id) {
                        selectedTemplateFields.push(field);
                    }
                });
            });
            const event = { templateFields: selectedTemplateFields };
            this.templateUpdated.emit(event);
            this.wizardService.setActiveTab('step-3');
        }
    }
    addCustomField(fields) {
        if (fields.length > 0) {
            fields.forEach(field => {
                const current = this.customFields.find(c => c.id === field.id);
                const index = this.customFields.indexOf(current);
                if (index === -1) {
                    this.customFields.push(field);
                }
                else {
                    this.customFields[index] = field;
                }
            });
            this.validateCustomFields(false);
        }
    }
    navigateBack(event) {
        event.preventDefault();
        this.wizardService.setActiveTab('step-1');
    }
    removeCustomField(fieldId) {
        if (fieldId) {
            const index = this.customFields.findIndex(i => i.id === fieldId);
            if (index !== -1) {
                this.customFields.splice(index, 1);
            }
        }
    }
    isModuleOnly(module) {
        return module.moduleFields.some(c => c.dataType === 'Module');
    }
    validateCustomFields(isSubmission) {
        const invalidDataTypeIndexes = new Array();
        const invalidNameIndexes = new Array();
        for (let i = 0; i < this.customFields.length; i++) {
            const field = this.customFields[i];
            if (field.fieldType === '' && isSubmission) {
                invalidDataTypeIndexes.push(field.id);
            }
            if (isSubmission) {
                let errors = '';
                if (field.name === '') {
                    errors = 'Name is required.';
                }
                if (!this.isFieldNameUnique(field)) {
                    errors = 'Name must be unique.';
                }
                if (errors !== '') {
                    invalidNameIndexes.push([field.id, errors]);
                }
            }
            if (this.invalidCustomFieldDataTypes.findIndex(a => a === field.id) !== -1 && !isSubmission) {
                if (field.fieldType === '') {
                    invalidDataTypeIndexes.push(field.id);
                }
            }
            if (this.invalidCustomFieldNames.findIndex(tuple => tuple[0] === field.id) !== -1 && !isSubmission) {
                if (field.name === '') {
                    invalidNameIndexes.push([field.id, 'Name is required.']);
                }
                else if (!this.isFieldNameUnique(field)) {
                    invalidNameIndexes.push([field.id, 'Name must be unique.']);
                }
            }
        }
        this.invalidCustomFieldDataTypes = invalidDataTypeIndexes;
        this.invalidCustomFieldNames = invalidNameIndexes;
        this.validCustomFields = this.invalidCustomFieldDataTypes.length === 0 && this.invalidCustomFieldNames.length === 0;
        return this.validCustomFields;
    }
    isFieldNameUnique(field) {
        let isUnique = true;
        const _module = this.modules.find(m => m.id === field.moduleId);
        // Check Module's fields for uniqueness
        for (let i = 0; i < _module.moduleFields.length; ++i) {
            if (_module.moduleFields[i].name.toLowerCase().trim().replace(/ /g, '') === field.name.toLowerCase().trim().replace(/ /g, '')) {
                return isUnique = false;
            }
        }
        const fieldIndex = this.customFields.findIndex(i => i.id === field.id);
        // Check custom field names
        if (this.customFields && this.customFields.length > 0) {
            for (let i = 0; i < this.customFields.length; i++) {
                if (this.customFields[i].moduleId !== field.moduleId) {
                    continue;
                }
                if (this.customFields[i].id !== field.id) {
                    if (this.customFields[i].name === field.name && i < fieldIndex) {
                        isUnique = false;
                        break;
                    }
                    if (this.customFields[i].name.trim().replace(/ /g, '') === field.name.trim().replace(/ /g, '')) {
                        isUnique = false;
                        break;
                    }
                }
            }
        }
        return isUnique;
    }
};
TemplateBuilderStep2Component.ctorParameters = () => [
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"] },
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TemplateBuilderStep2Component.prototype, "template", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep2Component.prototype, "modules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep2Component.prototype, "selectedModules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ViewChild"])('dataImportForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"])
], TemplateBuilderStep2Component.prototype, "currentForm", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TemplateBuilderStep2Component.prototype, "templateUpdated", void 0);
TemplateBuilderStep2Component = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-template-builder-step2',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-builder-step2.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step2/template-builder-step2.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"], _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"]])
], TemplateBuilderStep2Component);



/***/ }),

/***/ "./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: TemplateBuilderStep3Component */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateBuilderStep3Component", function() { return TemplateBuilderStep3Component; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ng2_dragula__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-dragula */ "./node_modules/ng2-dragula/dist/fesm2015/ng2-dragula.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");







let TemplateBuilderStep3Component = class TemplateBuilderStep3Component {
    constructor(templateService, dragulaService, wizardService) {
        this.templateService = templateService;
        this.dragulaService = dragulaService;
        this.wizardService = wizardService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        // Dragula Options
        this.options = {
            invalid(el, handle) {
                return el.tagname === 'H1';
            }
        };
        this.formLayouts = new Array();
        this.template = {};
    }
    ngOnInit() {
        console.log(this.template);
        this.selectedModules.forEach(m => {
            const selectedModuleFields = this.template.templateFields.filter(c => c.moduleId === m.id && c.name.length > 0);
            this.formLayouts[m.id] = this.templateService.mapLayoutOrder(m.id, selectedModuleFields);
            // console.log('Form Layout');
            // console.log(this.formLayouts[m.id]);
            this.templateService.selectedModules = this.selectedModules;
            this.templateService.template = this.template;
            this.templateService.currentFormLayout = this.formLayouts;
        });
        this.dragulaService.dropModel().subscribe(value => {
            this.onDropModel(value.targetModel.slice(1));
        });
        this.dragulaService.removeModel().subscribe(value => {
            this.onRemoveModel(value.sourceModel.slice(1));
        });
        // END NG UPGRADE TWEAK
        this.currentForm.valueChanges.subscribe(() => {
            this.templateService.templateFormDirty = this.currentForm.dirty;
        });
    }
    handleKeyDown(event) {
        if (event.keyCode === 13) {
            // TODO: This is to prevent the cancel button from being clicked on 'enter pressed'
            event.preventDefault();
        }
    }
    onSubmit(form) {
        if (form.valid) {
            this.templateService.saveLayout();
            this.wizardService.setActiveTab('step-4');
        }
    }
    isModuleOnly(module) {
        return module.moduleFields.some(c => c.dataType === 'Module');
    }
    navigateBack(event) {
        event.preventDefault();
        this.templateService.saveLayout();
        this.wizardService.setActiveTab('step-2');
    }
    onDropModel(args) {
        const [el, target, source] = args;
        this.templateService.templateFormDirty = true;
        this.templateService.currentFormLayout = this.formLayouts;
    }
    onRemoveModel(args) {
        const [el, source] = args;
    }
};
TemplateBuilderStep3Component.ctorParameters = () => [
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"] },
    { type: ng2_dragula__WEBPACK_IMPORTED_MODULE_5__["DragulaService"] },
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_6__["WizardService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TemplateBuilderStep3Component.prototype, "template", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep3Component.prototype, "modules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep3Component.prototype, "selectedModules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ViewChild"])('dataImportForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"])
], TemplateBuilderStep3Component.prototype, "currentForm", void 0);
TemplateBuilderStep3Component = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-template-builder-step3',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-builder-step3.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"],
        ng2_dragula__WEBPACK_IMPORTED_MODULE_5__["DragulaService"],
        _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_6__["WizardService"]])
], TemplateBuilderStep3Component);



/***/ }),

/***/ "./client-src/app/admin/components/template/wizard/template-builder-step4/template-builder-step4.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./client-src/app/admin/components/template/wizard/template-builder-step4/template-builder-step4.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: TemplateBuilderStep4Component */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateBuilderStep4Component", function() { return TemplateBuilderStep4Component; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");







let TemplateBuilderStep4Component = class TemplateBuilderStep4Component {
    constructor(templateService, wizardService, router, alertService) {
        this.templateService = templateService;
        this.wizardService = wizardService;
        this.router = router;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.formLayouts = new Array();
        this.template = {};
    }
    ngOnInit() {
        this.templateService.templateWizard$.subscribe(templateWizard => {
            this.templateWizard = templateWizard;
        });
        this.selectedModules.forEach(m => {
            const selectedModuleFields = this.template.templateFields.filter(c => c.moduleId === m.id && c.name.length > 0);
            this.formLayouts[m.id] = this.templateService.mapLayoutOrder(m.id, selectedModuleFields);
            // console.log('Template ready to save');
            // console.log(this.template);
        });
    }
    onSubmit() {
        this.templateService.save(this.template).subscribe(data => {
            if (data === null) {
                this.alertService.error('An error occurred while saving the template.');
            }
            else {
                if (!this.templateWizard.isEditingForGroup) {
                    this.templateService.templateFormDirty = false;
                    this.router.navigateByUrl('/admin/templates');
                    this.alertService.success('Template saved successfully!');
                }
                else {
                    window.location.href = `/project-profile/${this.templateService.groupId}/MainProfile`;
                }
            }
        });
    }
    handleKeyDown(event) {
        if (event.keyCode === 13) {
            // TODO: This is to prevent the cancel button from being clicked on 'enter pressed'
            event.preventDefault();
        }
    }
    navigateBack(event) {
        event.preventDefault();
        this.wizardService.setActiveTab('step-3');
    }
    isModuleOnly(module) {
        return module.moduleFields.some(c => c.dataType === 'Module');
    }
};
TemplateBuilderStep4Component.ctorParameters = () => [
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"] },
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TemplateBuilderStep4Component.prototype, "template", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep4Component.prototype, "modules", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], TemplateBuilderStep4Component.prototype, "selectedModules", void 0);
TemplateBuilderStep4Component = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'app-template-builder-step4',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-builder-step4.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step4/template-builder-step4.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"],
        _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"]])
], TemplateBuilderStep4Component);



/***/ }),

/***/ "./client-src/app/admin/components/template/wizard/template-builder-wizard.component.ts":
/*!**********************************************************************************************!*\
  !*** ./client-src/app/admin/components/template/wizard/template-builder-wizard.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: TemplateBuilderWizardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateBuilderWizardComponent", function() { return TemplateBuilderWizardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_template_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/template.service */ "./client-src/app/admin/services/template.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _template_builder_step3_template_builder_step3_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./template-builder-step3/template-builder-step3.component */ "./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");











let TemplateBuilderWizardComponent = class TemplateBuilderWizardComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_5__["ComponentCanDeactivate"] {
    constructor(wizardService, route, router, templateService, alertService, canDeactivateService) {
        super();
        this.wizardService = wizardService;
        this.route = route;
        this.templateService = templateService;
        this.alertService = alertService;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.modules = new Array();
        this.offices = new Array();
        this.name = 'Create Template';
        this.selectedModules = new Array();
        this.selectedModuleIds = new Array();
        this.template = { templateFields: new Array() };
        this.templates = new Array();
        this.isEditingForGroup = true;
    }
    ngOnInit() {
        this.wizardService.setActiveTab('step-1');
        this.templateService.groupId = this.groupId;
        this.templateService.layoutInProgress = new Array();
        this.templateService.moduleWithCustomLayout = new Array();
        this.templateService.resetTemplateWizard();
        this.isEditingForGroup = !!this.groupId && this.groupId.length > 0;
        this.subscription = this.wizardService.activeTab$.subscribe(activeTab => {
            // console.log(activeTab);
            if (this.tabsControl) {
                // Setting timeout to wait for tab to be set to enabled
                setTimeout(() => {
                    this.tabsControl.select(activeTab);
                }, 100);
            }
        });
        this.templateService.getOffices().subscribe(offices => {
            this.offices = offices;
        });
        this.templateService.getAll().subscribe(templates => {
            this.templates = templates;
        });
        this.templateService.getModules().subscribe(modules => {
            this.modules = modules;
            this.modules.forEach(module => {
                module.order = this.setOrder(module);
                module.isRequired = this.templateService.requiredModules.some(c => c === module.name);
            });
            let templateId = '';
            if (this.editingTemplateForGroupId) {
                this.templateService.updateTemplateWizard(this.groupId);
                templateId = this.editingTemplateForGroupId;
            }
            else {
                templateId = this.route.snapshot.paramMap.get('templateId');
            }
            this.name = templateId ? 'Edit Template' : 'Create Template';
            // Retrieve template to edit
            if (templateId) {
                this.templateService.get(templateId).subscribe(template => {
                    this.template = template;
                    this.selectedModules = this.mapSelectedModules(template);
                    // console.log('Mapping template to edit');
                    // console.log(template.templateFields);
                    // Initialize saved layout
                    this.templateService.layoutInProgress = template.templateFields;
                    this.templateService.moduleWithCustomLayout = this.selectedModules.map(c => c.id);
                });
            }
        });
    }
    // Autosave Layout on tab change
    beforeChange($event) {
        if ($event.activeId === 'step-3') {
            this.templateService.saveLayout();
        }
    }
    isActive(activeTab) {
        return this.wizardService.activeTabs.indexOf(activeTab) === -1;
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateComponent(this.templateService.templateFormDirty);
    }
    ngOnDestroy() {
        // unsubscribe to ensure no memory leaks
        this.subscription.unsubscribe();
    }
    onTemplateUpdated(event) {
        // console.log(event);
        if (event.template) {
            this.template = event.template;
        }
        if (event.selectedModuleIds) {
            this.selectedModules = new Array();
            event.selectedModuleIds.forEach(moduleId => {
                this.selectedModules.push(this.modules.find(c => c.id === moduleId));
            });
        }
        if (event.templateFields) {
            this.template.templateFields = event.templateFields;
        }
    }
    setOrder(module) {
        switch (module.name) {
            case 'Main Profile':
                return 1;
            case 'Sub-Profile':
                return 2;
            case 'Data Import':
                return 3;
            case 'Reconciliation':
                return 4;
            case 'Trending':
                return 5;
            case 'Depreciation':
                return 6;
            case 'Task Management':
                return 7;
            case 'Quality Control ':
                return 8;
            case 'Administration':
                return 9;
            case 'Processing Instructions':
                return 10;
            case 'Shipping Instructions':
                return 11;
        }
    }
    mapSelectedModules(template) {
        const mappedSelectedModules = new Array();
        if (template.templateFields.length > 0) {
            const moduleIds = template.templateFields.map(c => c.moduleId).filter(function (elem, i, array) {
                return array.indexOf(elem) === i;
            });
            moduleIds.forEach(moduleId => {
                const index = this.modules.findIndex(c => c.id === moduleId);
                mappedSelectedModules.push(this.modules[index]);
            });
        }
        return mappedSelectedModules;
    }
};
TemplateBuilderWizardComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__["WizardService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"] },
    { type: _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_6__["CanDeactivateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], TemplateBuilderWizardComponent.prototype, "editingTemplateForGroupId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], TemplateBuilderWizardComponent.prototype, "groupId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])('tabs', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_4__["NgbTabset"])
], TemplateBuilderWizardComponent.prototype, "tabsControl", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])('app-template-builder-step3', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _template_builder_step3_template_builder_step3_component__WEBPACK_IMPORTED_MODULE_3__["TemplateBuilderStep3Component"])
], TemplateBuilderWizardComponent.prototype, "step3CreateLayout", void 0);
TemplateBuilderWizardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'app-template-builder-wizard',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-builder-wizard.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-wizard.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__["WizardService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"],
        _services_template_service__WEBPACK_IMPORTED_MODULE_1__["TemplateService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_6__["CanDeactivateService"]])
], TemplateBuilderWizardComponent);



/***/ }),

/***/ "./client-src/app/admin/components/user/user-edit.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/components/user/user-edit.component.ts ***!
  \*********************************************************************/
/*! exports provided: UserEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserEditComponent", function() { return UserEditComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _models_user_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_models/user.model */ "./client-src/app/_models/user.model.ts");




let UserEditComponent = class UserEditComponent {
    constructor(intl) {
        this.intl = intl;
    }
    ngOnInit() {
        this.user = new _models_user_model__WEBPACK_IMPORTED_MODULE_3__["User"]();
    }
};
UserEditComponent.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _models_user_model__WEBPACK_IMPORTED_MODULE_3__["User"])
], UserEditComponent.prototype, "user", void 0);
UserEditComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'user-edit',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./user-edit.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-edit.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"]])
], UserEditComponent);



/***/ }),

/***/ "./client-src/app/admin/components/user/user-home.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/components/user/user-home.component.ts ***!
  \*********************************************************************/
/*! exports provided: UserHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserHomeComponent", function() { return UserHomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let UserHomeComponent = class UserHomeComponent {
    constructor() { }
    ngOnInit() {
    }
};
UserHomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'user-home',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./user-home.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-home.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], UserHomeComponent);



/***/ }),

/***/ "./client-src/app/admin/components/user/user-list.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/components/user/user-list.component.ts ***!
  \*********************************************************************/
/*! exports provided: UserListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserListComponent", function() { return UserListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./users */ "./client-src/app/admin/components/user/users.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let UserListComponent = class UserListComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.users = _users__WEBPACK_IMPORTED_MODULE_1__["testUsers"];
        this.isRowSelected = (e) => e.index === this.selectedRow;
        this.selectedUser = _users__WEBPACK_IMPORTED_MODULE_1__["testUsers"][0];
    }
    ngOnInit() {
        this.selectedRow = 0;
    }
    selectRow(event) {
        this.selectedRow = 0;
        this.selectedUser = event.selectedRows[0].dataItem;
    }
    delete() {
        this.users = [];
    }
};
UserListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'user-list',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./user-list.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-list.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], UserListComponent);



/***/ }),

/***/ "./client-src/app/admin/components/user/users.ts":
/*!*******************************************************!*\
  !*** ./client-src/app/admin/components/user/users.ts ***!
  \*******************************************************/
/*! exports provided: testUsers, sampleProducts, products */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testUsers", function() { return testUsers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sampleProducts", function() { return sampleProducts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "products", function() { return products; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const testUsers = [
    {
        'Username': 'cwalters',
        'Name': 'Chris Walters',
        'Active': true,
        'DateAdded': new Date(2017, 1, 25),
        'Height': 70.5,
        'DonationAmount': 25.50
    },
    {
        'Username': 'jgarza',
        'Name': 'Jessica Garza',
        'Active': true,
        'DateAdded': new Date(2016, 12, 29),
        'Height': 74,
        'DonationAmount': 10.75
    },
    {
        'Username': 'triley',
        'Name': 'Tiffany Riley',
        'Active': false,
        'DateAdded': new Date(2017, 1, 20),
        'Height': 71.5,
        'DonationAmount': 0
    },
    {
        'Username': 'dfox',
        'Name': 'Dylan Fox',
        'Active': true,
        'DateAdded': new Date(2017, 9, 30),
        'Height': 68.3,
        'DonationAmount': 2500.99
    },
    {
        'Username': 'ginger',
        'Name': 'Ginger Rayl',
        'Active': true,
        'DateAdded': new Date(2017, 8, 1),
        'Height': 65.2,
        'DonationAmount': 1050.50
    }
];
const sampleProducts = [
    {
        'ProductID': 1,
        'ProductName': 'Chai',
        'SupplierID': 1,
        'CategoryID': 1,
        'QuantityPerUnit': '10 boxes x 20 bags',
        'UnitPrice': 18,
        'UnitsInStock': 39,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        },
        'FirstOrderedOn': new Date(1996, 8, 20)
    },
    {
        'ProductID': 2,
        'ProductName': 'Chang',
        'SupplierID': 1,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 12 oz bottles',
        'UnitPrice': 19,
        'UnitsInStock': 17,
        'UnitsOnOrder': 40,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        },
        'FirstOrderedOn': new Date(1996, 7, 12)
    },
    {
        'ProductID': 3,
        'ProductName': 'Aniseed Syrup',
        'SupplierID': 1,
        'CategoryID': 2,
        'QuantityPerUnit': '12 - 550 ml bottles',
        'UnitPrice': 10,
        'UnitsInStock': 13,
        'UnitsOnOrder': 70,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        },
        'FirstOrderedOn': new Date(1996, 8, 26)
    },
    {
        'ProductID': 4,
        'ProductName': 'Chef Anton\'s Cajun Seasoning',
        'SupplierID': 2,
        'CategoryID': 2,
        'QuantityPerUnit': '48 - 6 oz jars',
        'UnitPrice': 22,
        'UnitsInStock': 53,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        },
        'FirstOrderedOn': new Date(1996, 9, 19)
    },
    {
        'ProductID': 5,
        'ProductName': 'Chef Anton\'s Gumbo Mix',
        'SupplierID': 2,
        'CategoryID': 2,
        'QuantityPerUnit': '36 boxes',
        'UnitPrice': 21.35,
        'UnitsInStock': 0,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        },
        'FirstOrderedOn': new Date(1996, 7, 17)
    },
    {
        'ProductID': 6,
        'ProductName': 'Grandma\'s Boysenberry Spread',
        'SupplierID': 3,
        'CategoryID': 2,
        'QuantityPerUnit': '12 - 8 oz jars',
        'UnitPrice': 25,
        'UnitsInStock': 120,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        },
        'FirstOrderedOn': new Date(1996, 9, 19)
    },
    {
        'ProductID': 7,
        'ProductName': 'Uncle Bob\'s Organic Dried Pears',
        'SupplierID': 3,
        'CategoryID': 7,
        'QuantityPerUnit': '12 - 1 lb pkgs.',
        'UnitPrice': 30,
        'UnitsInStock': 15,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 7,
            'CategoryName': 'Produce',
            'Description': 'Dried fruit and bean curd'
        },
        'FirstOrderedOn': new Date(1996, 7, 22)
    },
    {
        'ProductID': 8,
        'ProductName': 'Northwoods Cranberry Sauce',
        'SupplierID': 3,
        'CategoryID': 2,
        'QuantityPerUnit': '12 - 12 oz jars',
        'UnitPrice': 40,
        'UnitsInStock': 6,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        },
        'FirstOrderedOn': new Date(1996, 11, 1)
    },
    {
        'ProductID': 9,
        'ProductName': 'Mishi Kobe Niku',
        'SupplierID': 4,
        'CategoryID': 6,
        'QuantityPerUnit': '18 - 500 g pkgs.',
        'UnitPrice': 97,
        'UnitsInStock': 29,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        },
        'FirstOrderedOn': new Date(1997, 1, 21)
    },
    {
        'ProductID': 10,
        'ProductName': 'Ikura',
        'SupplierID': 4,
        'CategoryID': 8,
        'QuantityPerUnit': '12 - 200 ml jars',
        'UnitPrice': 31,
        'UnitsInStock': 31,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        },
        'FirstOrderedOn': new Date(1996, 8, 5)
    }
];
const products = [{
        'ProductID': 1,
        'ProductName': 'Chai',
        'SupplierID': 1,
        'CategoryID': 1,
        'QuantityPerUnit': '10 boxes x 20 bags',
        'UnitPrice': 18.0000,
        'UnitsInStock': 39,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 2,
        'ProductName': 'Chang',
        'SupplierID': 1,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 12 oz bottles',
        'UnitPrice': 19.0000,
        'UnitsInStock': 17,
        'UnitsOnOrder': 40,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 3,
        'ProductName': 'Aniseed Syrup',
        'SupplierID': 1,
        'CategoryID': 2,
        'QuantityPerUnit': '12 - 550 ml bottles',
        'UnitPrice': 10.0000,
        'UnitsInStock': 13,
        'UnitsOnOrder': 70,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 4,
        'ProductName': 'Chef Anton\'s Cajun Seasoning',
        'SupplierID': 2,
        'CategoryID': 2,
        'QuantityPerUnit': '48 - 6 oz jars',
        'UnitPrice': 22.0000,
        'UnitsInStock': 53,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 5,
        'ProductName': 'Chef Anton\'s Gumbo Mix',
        'SupplierID': 2,
        'CategoryID': 2,
        'QuantityPerUnit': '36 boxes',
        'UnitPrice': 21.3500,
        'UnitsInStock': 0,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 6,
        'ProductName': 'Grandma\'s Boysenberry Spread',
        'SupplierID': 3,
        'CategoryID': 2,
        'QuantityPerUnit': '12 - 8 oz jars',
        'UnitPrice': 25.0000,
        'UnitsInStock': 120,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 7,
        'ProductName': 'Uncle Bob\'s Organic Dried Pears',
        'SupplierID': 3,
        'CategoryID': 7,
        'QuantityPerUnit': '12 - 1 lb pkgs.',
        'UnitPrice': 30.0000,
        'UnitsInStock': 15,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 7,
            'CategoryName': 'Produce',
            'Description': 'Dried fruit and bean curd'
        }
    }, {
        'ProductID': 8,
        'ProductName': 'Northwoods Cranberry Sauce',
        'SupplierID': 3,
        'CategoryID': 2,
        'QuantityPerUnit': '12 - 12 oz jars',
        'UnitPrice': 40.0000,
        'UnitsInStock': 6,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 9,
        'ProductName': 'Mishi Kobe Niku',
        'SupplierID': 4,
        'CategoryID': 6,
        'QuantityPerUnit': '18 - 500 g pkgs.',
        'UnitPrice': 97.0000,
        'UnitsInStock': 29,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        }
    }, {
        'ProductID': 10,
        'ProductName': 'Ikura',
        'SupplierID': 4,
        'CategoryID': 8,
        'QuantityPerUnit': '12 - 200 ml jars',
        'UnitPrice': 31.0000,
        'UnitsInStock': 31,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 11,
        'ProductName': 'Queso Cabrales',
        'SupplierID': 5,
        'CategoryID': 4,
        'QuantityPerUnit': '1 kg pkg.',
        'UnitPrice': 21.0000,
        'UnitsInStock': 22,
        'UnitsOnOrder': 30,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 12,
        'ProductName': 'Queso Manchego La Pastora',
        'SupplierID': 5,
        'CategoryID': 4,
        'QuantityPerUnit': '10 - 500 g pkgs.',
        'UnitPrice': 38.0000,
        'UnitsInStock': 86,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 13,
        'ProductName': 'Konbu',
        'SupplierID': 6,
        'CategoryID': 8,
        'QuantityPerUnit': '2 kg box',
        'UnitPrice': 6.0000,
        'UnitsInStock': 24,
        'UnitsOnOrder': 0,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 14,
        'ProductName': 'Tofu',
        'SupplierID': 6,
        'CategoryID': 7,
        'QuantityPerUnit': '40 - 100 g pkgs.',
        'UnitPrice': 23.2500,
        'UnitsInStock': 35,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 7,
            'CategoryName': 'Produce',
            'Description': 'Dried fruit and bean curd'
        }
    }, {
        'ProductID': 15,
        'ProductName': 'Genen Shouyu',
        'SupplierID': 6,
        'CategoryID': 2,
        'QuantityPerUnit': '24 - 250 ml bottles',
        'UnitPrice': 15.5000,
        'UnitsInStock': 39,
        'UnitsOnOrder': 0,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 16,
        'ProductName': 'Pavlova',
        'SupplierID': 7,
        'CategoryID': 3,
        'QuantityPerUnit': '32 - 500 g boxes',
        'UnitPrice': 17.4500,
        'UnitsInStock': 29,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 17,
        'ProductName': 'Alice Mutton',
        'SupplierID': 7,
        'CategoryID': 6,
        'QuantityPerUnit': '20 - 1 kg tins',
        'UnitPrice': 39.0000,
        'UnitsInStock': 0,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        }
    }, {
        'ProductID': 18,
        'ProductName': 'Carnarvon Tigers',
        'SupplierID': 7,
        'CategoryID': 8,
        'QuantityPerUnit': '16 kg pkg.',
        'UnitPrice': 62.5000,
        'UnitsInStock': 42,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 19,
        'ProductName': 'Teatime Chocolate Biscuits',
        'SupplierID': 8,
        'CategoryID': 3,
        'QuantityPerUnit': '10 boxes x 12 pieces',
        'UnitPrice': 9.2000,
        'UnitsInStock': 25,
        'UnitsOnOrder': 0,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 20,
        'ProductName': 'Sir Rodney\'s Marmalade',
        'SupplierID': 8,
        'CategoryID': 3,
        'QuantityPerUnit': '30 gift boxes',
        'UnitPrice': 81.0000,
        'UnitsInStock': 40,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 21,
        'ProductName': 'Sir Rodney\'s Scones',
        'SupplierID': 8,
        'CategoryID': 3,
        'QuantityPerUnit': '24 pkgs. x 4 pieces',
        'UnitPrice': 10.0000,
        'UnitsInStock': 3,
        'UnitsOnOrder': 40,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 22,
        'ProductName': 'Gustaf\'s Knckebrd',
        'SupplierID': 9,
        'CategoryID': 5,
        'QuantityPerUnit': '24 - 500 g pkgs.',
        'UnitPrice': 21.0000,
        'UnitsInStock': 104,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 23,
        'ProductName': 'Tunnbrd',
        'SupplierID': 9,
        'CategoryID': 5,
        'QuantityPerUnit': '12 - 250 g pkgs.',
        'UnitPrice': 9.0000,
        'UnitsInStock': 61,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 24,
        'ProductName': 'Guaran Fantstica',
        'SupplierID': 10,
        'CategoryID': 1,
        'QuantityPerUnit': '12 - 355 ml cans',
        'UnitPrice': 4.5000,
        'UnitsInStock': 20,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 25,
        'ProductName': 'NuNuCa Nu-Nougat-Creme',
        'SupplierID': 11,
        'CategoryID': 3,
        'QuantityPerUnit': '20 - 450 g glasses',
        'UnitPrice': 14.0000,
        'UnitsInStock': 76,
        'UnitsOnOrder': 0,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 26,
        'ProductName': 'Gumbr Gummibrchen',
        'SupplierID': 11,
        'CategoryID': 3,
        'QuantityPerUnit': '100 - 250 g bags',
        'UnitPrice': 31.2300,
        'UnitsInStock': 15,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 27,
        'ProductName': 'Schoggi Schokolade',
        'SupplierID': 11,
        'CategoryID': 3,
        'QuantityPerUnit': '100 - 100 g pieces',
        'UnitPrice': 43.9000,
        'UnitsInStock': 49,
        'UnitsOnOrder': 0,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 28,
        'ProductName': 'Rssle Sauerkraut',
        'SupplierID': 12,
        'CategoryID': 7,
        'QuantityPerUnit': '25 - 825 g cans',
        'UnitPrice': 45.6000,
        'UnitsInStock': 26,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 7,
            'CategoryName': 'Produce',
            'Description': 'Dried fruit and bean curd'
        }
    }, {
        'ProductID': 29,
        'ProductName': 'Thringer Rostbratwurst',
        'SupplierID': 12,
        'CategoryID': 6,
        'QuantityPerUnit': '50 bags x 30 sausgs.',
        'UnitPrice': 123.7900,
        'UnitsInStock': 0,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        }
    }, {
        'ProductID': 30,
        'ProductName': 'Nord-Ost Matjeshering',
        'SupplierID': 13,
        'CategoryID': 8,
        'QuantityPerUnit': '10 - 200 g glasses',
        'UnitPrice': 25.8900,
        'UnitsInStock': 10,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 31,
        'ProductName': 'Gorgonzola Telino',
        'SupplierID': 14,
        'CategoryID': 4,
        'QuantityPerUnit': '12 - 100 g pkgs',
        'UnitPrice': 12.5000,
        'UnitsInStock': 0,
        'UnitsOnOrder': 70,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 32,
        'ProductName': 'Mascarpone Fabioli',
        'SupplierID': 14,
        'CategoryID': 4,
        'QuantityPerUnit': '24 - 200 g pkgs.',
        'UnitPrice': 32.0000,
        'UnitsInStock': 9,
        'UnitsOnOrder': 40,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 33,
        'ProductName': 'Geitost',
        'SupplierID': 15,
        'CategoryID': 4,
        'QuantityPerUnit': '500 g',
        'UnitPrice': 2.5000,
        'UnitsInStock': 112,
        'UnitsOnOrder': 0,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 34,
        'ProductName': 'Sasquatch Ale',
        'SupplierID': 16,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 12 oz bottles',
        'UnitPrice': 14.0000,
        'UnitsInStock': 111,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 35,
        'ProductName': 'Steeleye Stout',
        'SupplierID': 16,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 12 oz bottles',
        'UnitPrice': 18.0000,
        'UnitsInStock': 20,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 36,
        'ProductName': 'Inlagd Sill',
        'SupplierID': 17,
        'CategoryID': 8,
        'QuantityPerUnit': '24 - 250 g  jars',
        'UnitPrice': 19.0000,
        'UnitsInStock': 112,
        'UnitsOnOrder': 0,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 37,
        'ProductName': 'Gravad lax',
        'SupplierID': 17,
        'CategoryID': 8,
        'QuantityPerUnit': '12 - 500 g pkgs.',
        'UnitPrice': 26.0000,
        'UnitsInStock': 11,
        'UnitsOnOrder': 50,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 38,
        'ProductName': 'Cte de Blaye',
        'SupplierID': 18,
        'CategoryID': 1,
        'QuantityPerUnit': '12 - 75 cl bottles',
        'UnitPrice': 263.5000,
        'UnitsInStock': 17,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 39,
        'ProductName': 'Chartreuse verte',
        'SupplierID': 18,
        'CategoryID': 1,
        'QuantityPerUnit': '750 cc per bottle',
        'UnitPrice': 18.0000,
        'UnitsInStock': 69,
        'UnitsOnOrder': 0,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 40,
        'ProductName': 'Boston Crab Meat',
        'SupplierID': 19,
        'CategoryID': 8,
        'QuantityPerUnit': '24 - 4 oz tins',
        'UnitPrice': 18.4000,
        'UnitsInStock': 123,
        'UnitsOnOrder': 0,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 41,
        'ProductName': 'Jack\'s New England Clam Chowder',
        'SupplierID': 19,
        'CategoryID': 8,
        'QuantityPerUnit': '12 - 12 oz cans',
        'UnitPrice': 9.6500,
        'UnitsInStock': 85,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 42,
        'ProductName': 'Singaporean Hokkien Fried Mee',
        'SupplierID': 20,
        'CategoryID': 5,
        'QuantityPerUnit': '32 - 1 kg pkgs.',
        'UnitPrice': 14.0000,
        'UnitsInStock': 26,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 43,
        'ProductName': 'Ipoh Coffee',
        'SupplierID': 20,
        'CategoryID': 1,
        'QuantityPerUnit': '16 - 500 g tins',
        'UnitPrice': 46.0000,
        'UnitsInStock': 17,
        'UnitsOnOrder': 10,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 44,
        'ProductName': 'Gula Malacca',
        'SupplierID': 20,
        'CategoryID': 2,
        'QuantityPerUnit': '20 - 2 kg bags',
        'UnitPrice': 19.4500,
        'UnitsInStock': 27,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 45,
        'ProductName': 'Rogede sild',
        'SupplierID': 21,
        'CategoryID': 8,
        'QuantityPerUnit': '1k pkg.',
        'UnitPrice': 9.5000,
        'UnitsInStock': 5,
        'UnitsOnOrder': 70,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 46,
        'ProductName': 'Spegesild',
        'SupplierID': 21,
        'CategoryID': 8,
        'QuantityPerUnit': '4 - 450 g glasses',
        'UnitPrice': 12.0000,
        'UnitsInStock': 95,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 47,
        'ProductName': 'Zaanse koeken',
        'SupplierID': 22,
        'CategoryID': 3,
        'QuantityPerUnit': '10 - 4 oz boxes',
        'UnitPrice': 9.5000,
        'UnitsInStock': 36,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 48,
        'ProductName': 'Chocolade',
        'SupplierID': 22,
        'CategoryID': 3,
        'QuantityPerUnit': '10 pkgs.',
        'UnitPrice': 12.7500,
        'UnitsInStock': 15,
        'UnitsOnOrder': 70,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 49,
        'ProductName': 'Maxilaku',
        'SupplierID': 23,
        'CategoryID': 3,
        'QuantityPerUnit': '24 - 50 g pkgs.',
        'UnitPrice': 20.0000,
        'UnitsInStock': 10,
        'UnitsOnOrder': 60,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 50,
        'ProductName': 'Valkoinen suklaa',
        'SupplierID': 23,
        'CategoryID': 3,
        'QuantityPerUnit': '12 - 100 g bars',
        'UnitPrice': 16.2500,
        'UnitsInStock': 65,
        'UnitsOnOrder': 0,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 51,
        'ProductName': 'Manjimup Dried Apples',
        'SupplierID': 24,
        'CategoryID': 7,
        'QuantityPerUnit': '50 - 300 g pkgs.',
        'UnitPrice': 53.0000,
        'UnitsInStock': 20,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 7,
            'CategoryName': 'Produce',
            'Description': 'Dried fruit and bean curd'
        }
    }, {
        'ProductID': 52,
        'ProductName': 'Filo Mix',
        'SupplierID': 24,
        'CategoryID': 5,
        'QuantityPerUnit': '16 - 2 kg boxes',
        'UnitPrice': 7.0000,
        'UnitsInStock': 38,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 53,
        'ProductName': 'Perth Pasties',
        'SupplierID': 24,
        'CategoryID': 6,
        'QuantityPerUnit': '48 pieces',
        'UnitPrice': 32.8000,
        'UnitsInStock': 0,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': true,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        }
    }, {
        'ProductID': 54,
        'ProductName': 'Tourtire',
        'SupplierID': 25,
        'CategoryID': 6,
        'QuantityPerUnit': '16 pies',
        'UnitPrice': 7.4500,
        'UnitsInStock': 21,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        }
    }, {
        'ProductID': 55,
        'ProductName': 'Pt chinois',
        'SupplierID': 25,
        'CategoryID': 6,
        'QuantityPerUnit': '24 boxes x 2 pies',
        'UnitPrice': 24.0000,
        'UnitsInStock': 115,
        'UnitsOnOrder': 0,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 6,
            'CategoryName': 'Meat/Poultry',
            'Description': 'Prepared meats'
        }
    }, {
        'ProductID': 56,
        'ProductName': 'Gnocchi di nonna Alice',
        'SupplierID': 26,
        'CategoryID': 5,
        'QuantityPerUnit': '24 - 250 g pkgs.',
        'UnitPrice': 38.0000,
        'UnitsInStock': 21,
        'UnitsOnOrder': 10,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 57,
        'ProductName': 'Ravioli Angelo',
        'SupplierID': 26,
        'CategoryID': 5,
        'QuantityPerUnit': '24 - 250 g pkgs.',
        'UnitPrice': 19.5000,
        'UnitsInStock': 36,
        'UnitsOnOrder': 0,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 58,
        'ProductName': 'Escargots de Bourgogne',
        'SupplierID': 27,
        'CategoryID': 8,
        'QuantityPerUnit': '24 pieces',
        'UnitPrice': 13.2500,
        'UnitsInStock': 62,
        'UnitsOnOrder': 0,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 59,
        'ProductName': 'Raclette Courdavault',
        'SupplierID': 28,
        'CategoryID': 4,
        'QuantityPerUnit': '5 kg pkg.',
        'UnitPrice': 55.0000,
        'UnitsInStock': 79,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 60,
        'ProductName': 'Camembert Pierrot',
        'SupplierID': 28,
        'CategoryID': 4,
        'QuantityPerUnit': '15 - 300 g rounds',
        'UnitPrice': 34.0000,
        'UnitsInStock': 19,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 61,
        'ProductName': 'Sirop d\'rable',
        'SupplierID': 29,
        'CategoryID': 2,
        'QuantityPerUnit': '24 - 500 ml bottles',
        'UnitPrice': 28.5000,
        'UnitsInStock': 113,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 62,
        'ProductName': 'Tarte au sucre',
        'SupplierID': 29,
        'CategoryID': 3,
        'QuantityPerUnit': '48 pies',
        'UnitPrice': 49.3000,
        'UnitsInStock': 17,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 63,
        'ProductName': 'Vegie-spread',
        'SupplierID': 7,
        'CategoryID': 2,
        'QuantityPerUnit': '15 - 625 g jars',
        'UnitPrice': 43.9000,
        'UnitsInStock': 24,
        'UnitsOnOrder': 0,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 64,
        'ProductName': 'Wimmers gute Semmelkndel',
        'SupplierID': 12,
        'CategoryID': 5,
        'QuantityPerUnit': '20 bags x 4 pieces',
        'UnitPrice': 33.2500,
        'UnitsInStock': 22,
        'UnitsOnOrder': 80,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 5,
            'CategoryName': 'Grains/Cereals',
            'Description': 'Breads, crackers, pasta, and cereal'
        }
    }, {
        'ProductID': 65,
        'ProductName': 'Louisiana Fiery Hot Pepper Sauce',
        'SupplierID': 2,
        'CategoryID': 2,
        'QuantityPerUnit': '32 - 8 oz bottles',
        'UnitPrice': 21.0500,
        'UnitsInStock': 76,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 66,
        'ProductName': 'Louisiana Hot Spiced Okra',
        'SupplierID': 2,
        'CategoryID': 2,
        'QuantityPerUnit': '24 - 8 oz jars',
        'UnitPrice': 17.0000,
        'UnitsInStock': 4,
        'UnitsOnOrder': 100,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }, {
        'ProductID': 67,
        'ProductName': 'Laughing Lumberjack Lager',
        'SupplierID': 16,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 12 oz bottles',
        'UnitPrice': 14.0000,
        'UnitsInStock': 52,
        'UnitsOnOrder': 0,
        'ReorderLevel': 10,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 68,
        'ProductName': 'Scottish Longbreads',
        'SupplierID': 8,
        'CategoryID': 3,
        'QuantityPerUnit': '10 boxes x 8 pieces',
        'UnitPrice': 12.5000,
        'UnitsInStock': 6,
        'UnitsOnOrder': 10,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 3,
            'CategoryName': 'Confections',
            'Description': 'Desserts, candies, and sweet breads'
        }
    }, {
        'ProductID': 69,
        'ProductName': 'Gudbrandsdalsost',
        'SupplierID': 15,
        'CategoryID': 4,
        'QuantityPerUnit': '10 kg pkg.',
        'UnitPrice': 36.0000,
        'UnitsInStock': 26,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 70,
        'ProductName': 'Outback Lager',
        'SupplierID': 7,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 355 ml bottles',
        'UnitPrice': 15.0000,
        'UnitsInStock': 15,
        'UnitsOnOrder': 10,
        'ReorderLevel': 30,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 71,
        'ProductName': 'Flotemysost',
        'SupplierID': 15,
        'CategoryID': 4,
        'QuantityPerUnit': '10 - 500 g pkgs.',
        'UnitPrice': 21.5000,
        'UnitsInStock': 26,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 72,
        'ProductName': 'Mozzarella di Giovanni',
        'SupplierID': 14,
        'CategoryID': 4,
        'QuantityPerUnit': '24 - 200 g pkgs.',
        'UnitPrice': 34.8000,
        'UnitsInStock': 14,
        'UnitsOnOrder': 0,
        'ReorderLevel': 0,
        'Discontinued': false,
        'Category': {
            'CategoryID': 4,
            'CategoryName': 'Dairy Products',
            'Description': 'Cheeses'
        }
    }, {
        'ProductID': 73,
        'ProductName': 'Rd Kaviar',
        'SupplierID': 17,
        'CategoryID': 8,
        'QuantityPerUnit': '24 - 150 g jars',
        'UnitPrice': 15.0000,
        'UnitsInStock': 101,
        'UnitsOnOrder': 0,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 8,
            'CategoryName': 'Seafood',
            'Description': 'Seaweed and fish'
        }
    }, {
        'ProductID': 74,
        'ProductName': 'Longlife Tofu',
        'SupplierID': 4,
        'CategoryID': 7,
        'QuantityPerUnit': '5 kg pkg.',
        'UnitPrice': 10.0000,
        'UnitsInStock': 4,
        'UnitsOnOrder': 20,
        'ReorderLevel': 5,
        'Discontinued': false,
        'Category': {
            'CategoryID': 7,
            'CategoryName': 'Produce',
            'Description': 'Dried fruit and bean curd'
        }
    }, {
        'ProductID': 75,
        'ProductName': 'Rhnbru Klosterbier',
        'SupplierID': 12,
        'CategoryID': 1,
        'QuantityPerUnit': '24 - 0.5 l bottles',
        'UnitPrice': 7.7500,
        'UnitsInStock': 125,
        'UnitsOnOrder': 0,
        'ReorderLevel': 25,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 76,
        'ProductName': 'Lakkalikri',
        'SupplierID': 23,
        'CategoryID': 1,
        'QuantityPerUnit': '500 ml',
        'UnitPrice': 18.0000,
        'UnitsInStock': 57,
        'UnitsOnOrder': 0,
        'ReorderLevel': 20,
        'Discontinued': false,
        'Category': {
            'CategoryID': 1,
            'CategoryName': 'Beverages',
            'Description': 'Soft drinks, coffees, teas, beers, and ales'
        }
    }, {
        'ProductID': 77,
        'ProductName': 'Original Frankfurter grne Soe',
        'SupplierID': 12,
        'CategoryID': 2,
        'QuantityPerUnit': '12 boxes',
        'UnitPrice': 13.0000,
        'UnitsInStock': 32,
        'UnitsOnOrder': 0,
        'ReorderLevel': 15,
        'Discontinued': false,
        'Category': {
            'CategoryID': 2,
            'CategoryName': 'Condiments',
            'Description': 'Sweet and savory sauces, relishes, spreads, and seasonings'
        }
    }];


/***/ }),

/***/ "./client-src/app/admin/services/group-save-service.ts":
/*!*************************************************************!*\
  !*** ./client-src/app/admin/services/group-save-service.ts ***!
  \*************************************************************/
/*! exports provided: GroupSaveService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupSaveService", function() { return GroupSaveService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");





let GroupSaveService = class GroupSaveService {
    constructor(groupApiService, route) {
        this.groupApiService = groupApiService;
        this.route = route;
        this.savePointGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.savePointGridData$ = this.savePointGridDataSource.asObservable();
    }
    clearGroupSave() {
        this.savePointGridDataSource.next(new Array());
    }
    updateGroupSaveData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        this.groupId = groupId;
        return this.getGroupSavePoints(this.groupId);
    }
    getGroupSavePoints(groupId) {
        return this.groupApiService.getGroupSavePoints(groupId);
    }
    setGroupSavePoints(groupId, description) {
        return this.groupApiService.setGroupSavePoint(groupId, description);
    }
    restoreToSavePoint(request) {
        return this.groupApiService.restoreToSavePoint(request, true);
    }
    setSavePointGridDataSource(data) {
        this.savePointGridDataSource.next(data);
    }
};
GroupSaveService.ctorParameters = () => [
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_3__["GroupApiService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] }
];
GroupSaveService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_3__["GroupApiService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"]])
], GroupSaveService);



/***/ }),

/***/ "./client-src/app/admin/services/remove-deactivated.service.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/admin/services/remove-deactivated.service.ts ***!
  \*********************************************************************/
/*! exports provided: RemoveDeactivatedService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveDeactivatedService", function() { return RemoveDeactivatedService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");


///import { GroupApiService } from '../../_api/_runtime/services/group-api.service';


let RemoveDeactivatedService = class RemoveDeactivatedService {
    constructor(
    //private groupApiService: GroupApiService,
    inventoryApiService, route) {
        this.inventoryApiService = inventoryApiService;
        this.route = route;
    }
    RemoveDeactivatedItems(groupId, type, datatarget) {
        return this.inventoryApiService.removeDeactivatedItems(groupId, type, datatarget);
    }
};
RemoveDeactivatedService.ctorParameters = () => [
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_3__["InventoryApiService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }
];
RemoveDeactivatedService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_3__["InventoryApiService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]])
], RemoveDeactivatedService);



/***/ }),

/***/ "./client-src/app/admin/services/template.service.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/admin/services/template.service.ts ***!
  \***********************************************************/
/*! exports provided: TemplateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateService", function() { return TemplateService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_services_admin_template_repository_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/services/admin/template-repository.service */ "./client-src/app/_api/services/admin/template-repository.service.ts");
/* harmony import */ var _api_services_office_repository_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/office-repository.service */ "./client-src/app/_api/services/office-repository.service.ts");
/* harmony import */ var _api_services_module_repository_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/services/module-repository.service */ "./client-src/app/_api/services/module-repository.service.ts");






let TemplateService = class TemplateService {
    constructor(templateRepositoryService, officeRepositoryService, moduleRepositoryService) {
        this.templateRepositoryService = templateRepositoryService;
        this.officeRepositoryService = officeRepositoryService;
        this.moduleRepositoryService = moduleRepositoryService;
        this.templateWizardSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({ isEditingForGroup: false });
        this.templateWizard$ = this.templateWizardSource.asObservable();
        this.layoutInProgress = new Array();
        this.moduleWithCustomLayout = new Array();
        this.currentFormLayout = new Array();
        this.templateFormDirty = false;
        this.requiredModules = ['Main Profile'];
    }
    getAll() {
        return this.templateRepositoryService.getAll();
    }
    get(id) {
        return this.templateRepositoryService.get(id);
    }
    delete(id) {
        return this.templateRepositoryService.delete(id);
    }
    clone(sourceTemplate) {
        const clonedTemplate = {
            id: sourceTemplate.id,
            officeId: sourceTemplate.officeId,
            name: `Copy ${sourceTemplate.name} ${Date.now()}`,
            isMasterTemplate: sourceTemplate.isMasterTemplate,
            isRetired: sourceTemplate.isRetired,
            sourceTemplateId: sourceTemplate.sourceTemplateId,
            templateFields: sourceTemplate.templateFields
        };
        return this.templateRepositoryService.create(clonedTemplate);
    }
    getOffices() {
        return this.officeRepositoryService.getAll();
    }
    getModules() {
        return this.moduleRepositoryService.getAll();
    }
    save(template) {
        // If we're updating an existing template
        if (template.id) {
            return this.templateRepositoryService.update(template);
            // Otherwise, create a new template
        }
        else {
            return this.templateRepositoryService.create(template);
        }
    }
    mapTemplateField(field, moduleId) {
        return {
            id: field.id,
            moduleId: moduleId,
            name: field.name,
            isRequired: field.isRequired,
            order: 0,
            moduleFieldId: field.id
        };
    }
    setIsRetired(templateId, isRetired) {
        const retire = isRetired ? 'true' : 'false';
        return this.templateRepositoryService.retire(templateId, retire);
    }
    mapLayoutOrder(selectedModuleId, selectedFields) {
        const index = this.layoutInProgress.findIndex(c => c.moduleId === selectedModuleId);
        // Setting default order
        if (index === -1) {
            let count = 1;
            selectedFields.forEach(field => {
                field.order = field.isCustomField ? 0 : count;
                count++;
            });
        }
        else {
            selectedFields.forEach(field => {
                const fieldIndex = selectedFields.findIndex(c => c.id === field.id);
                const layoutIndex = this.layoutInProgress.findIndex(c => c.moduleFieldId === field.id);
                if (layoutIndex !== -1) {
                    selectedFields[fieldIndex].order = this.layoutInProgress[layoutIndex].order;
                }
            });
        }
        const formLayout = {
            moduleId: selectedModuleId,
            hasSelectedFields: selectedFields.length > 0,
            customFieldsAvailable: selectedFields.filter(c => c.isCustomField),
            evenOrderedFields: selectedFields
                .filter(c => c.order % 2 === 0)
                .sort((n1, n2) => n1.order - n2.order),
            oddOrderedFields: selectedFields
                .filter(c => c.order % 2 === 1)
                .sort((n1, n2) => n1.order - n2.order)
        };
        return formLayout;
    }
    saveLayout() {
        this.selectedModules.forEach(module => {
            const evenFields = this.currentFormLayout[module.id].evenOrderedFields;
            const oddFields = this.currentFormLayout[module.id].oddOrderedFields;
            // Saving selected order
            // Even order number fields
            let count = 2;
            evenFields.forEach(element => {
                const index = this.template.templateFields.findIndex(c => c.id === element.id);
                if (index !== -1) {
                    this.template.templateFields[index].order = count;
                }
                count = count + 1;
            });
            // Odd order number fields
            count = 1;
            oddFields.forEach(element => {
                const index = this.template.templateFields.findIndex(c => c.id === element.id);
                if (index !== -1) {
                    this.template.templateFields[index].order = count;
                }
                count = count + 1;
            });
        });
        this.layoutInProgress = this.template.templateFields;
    }
    updateTemplateWizard(groupId) {
        const current = this.templateWizardSource.getValue();
        current.isEditingForGroup = groupId.length > 0;
        current.groupId = groupId;
        this.templateWizardSource.next(current);
    }
    resetTemplateWizard() {
        this.templateWizardSource.next({ isEditingForGroup: false });
    }
};
TemplateService.ctorParameters = () => [
    { type: _api_services_admin_template_repository_service__WEBPACK_IMPORTED_MODULE_3__["TemplateRepositoryService"] },
    { type: _api_services_office_repository_service__WEBPACK_IMPORTED_MODULE_4__["OfficeRepositoryService"] },
    { type: _api_services_module_repository_service__WEBPACK_IMPORTED_MODULE_5__["ModuleRepositoryService"] }
];
TemplateService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_admin_template_repository_service__WEBPACK_IMPORTED_MODULE_3__["TemplateRepositoryService"],
        _api_services_office_repository_service__WEBPACK_IMPORTED_MODULE_4__["OfficeRepositoryService"],
        _api_services_module_repository_service__WEBPACK_IMPORTED_MODULE_5__["ModuleRepositoryService"]])
], TemplateService);



/***/ }),

/***/ "./client-src/app/app.component.css":
/*!******************************************!*\
  !*** ./client-src/app/app.component.css ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjbGllbnQtc3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./client-src/app/app.component.ts":
/*!*****************************************!*\
  !*** ./client-src/app/app.component.ts ***!
  \*****************************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_core/authentication/authentication.manager */ "./client-src/app/_core/authentication/authentication.manager.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _api_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./_api/services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _core_services_idle_timeout_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./_core/services/idle-timeout.service */ "./client-src/app/_core/services/idle-timeout.service.ts");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");











let AppComponent = class AppComponent {
    constructor(authenticationManager, configService, userStore, translate, container, windowManager, localeId, apiService, _idleTimeoutService, modalService) {
        this.authenticationManager = authenticationManager;
        this.configService = configService;
        this.userStore = userStore;
        this.translate = translate;
        this.container = container;
        this.windowManager = windowManager;
        this.localeId = localeId;
        this.apiService = apiService;
        this._idleTimeoutService = _idleTimeoutService;
        this.modalService = modalService;
        this.languageLoaded = false;
        this.isBusy = false;
        this.userIsActive = undefined;
        this.isAuthError = undefined;
    }
    doSomething(event) {
        // Prevent the page from scrolling to the bottom once a modal is opened.
        if (this.windowManager.isOpened()) {
            scrollTo(0, this.windowManager.scrollPosition);
        }
        this.windowManager.scrollPosition = window.pageYOffset;
    }
    ngOnInit() {
        const s = this;
        this.userStore.user.subscribe(user => {
            if (user) {
                this.userIsActive = user.permissions.permissionsGranted.length > 0;
            }
        });
        this.apiService.isBusy$.subscribe(isBusy => {
            this.isBusy = isBusy.length > 0;
        }, error => {
            this.isBusy = false;
        }, () => {
            this.isBusy = false;
        });
        this.windowManager.viewContainerRef = this.container;
        this.translate.setDefaultLang(this.configService.getSettings('defaultLanguage'));
        this.translate.use(this.configService.getSettings('defaultLanguage'));
        this.translate.onLangChange.subscribe(result => {
            this.languageLoaded = true;
        });
        this.translate.setDefaultLang(this.configService.getSettings('defaultLanguage'));
        this._idleTimeoutService.initialise();
        this.userStore.initializeAuthentication();
        this.authenticationManager.processAdalToken();
        this.authenticationManager.error.subscribe(errror => {
            if (errror && errror.status == 403) {
                this.isAuthError = true;
            }
            else {
                this.isAuthError = false;
            }
        });
        this._idleTimeoutService.PromptUserSessionEvent.subscribe((expireSeconds) => {
            const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_6__["ConfirmModalComponent"]);
            const modalOptions = this._idleTimeoutService.GetSessionTimeouModalOptions(expireSeconds);
            modal.componentInstance.options = modalOptions;
            modal.result.then(confirm => {
                this._idleTimeoutService.HandleExtendResult(true);
            }, cancel => {
                this._idleTimeoutService.HandleExtendResult(false);
            });
        });
    }
};
AppComponent.ctorParameters = () => [
    { type: _core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["AuthenticationManager"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_8__["ConfigService"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_1__["UserStore"] },
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslateService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: String, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["Inject"], args: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["LOCALE_ID"],] }] },
    { type: _api_services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] },
    { type: _core_services_idle_timeout_service__WEBPACK_IMPORTED_MODULE_5__["IdleTimeoutService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["HostListener"])('window:scroll', ['$event']),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object]),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], AppComponent.prototype, "doSomething", null);
AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'app-root',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/app.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./app.component.css */ "./client-src/app/app.component.css")).default]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](6, Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Inject"])(_angular_core__WEBPACK_IMPORTED_MODULE_7__["LOCALE_ID"])),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_authentication_authentication_manager__WEBPACK_IMPORTED_MODULE_2__["AuthenticationManager"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_8__["ConfigService"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_1__["UserStore"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslateService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"], String, _api_services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"],
        _core_services_idle_timeout_service__WEBPACK_IMPORTED_MODULE_5__["IdleTimeoutService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"]])
], AppComponent);



/***/ }),

/***/ "./client-src/app/app.configuration.ts":
/*!*********************************************!*\
  !*** ./client-src/app/app.configuration.ts ***!
  \*********************************************/
/*! exports provided: routeConfig, AppConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routeConfig", function() { return routeConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppConfiguration", function() { return AppConfiguration; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _dashboard_components_dashboard_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dashboard/components/dashboard.component */ "./client-src/app/dashboard/components/dashboard.component.ts");
/* harmony import */ var _project_profile_components_project_profile_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./project-profile/components/project-profile.component */ "./client-src/app/project-profile/components/project-profile.component.ts");
/* harmony import */ var _reconciliation_components_reconciliation_form_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reconciliation/components/reconciliation-form.component */ "./client-src/app/reconciliation/components/reconciliation-form.component.ts");
/* harmony import */ var _project_profile_components_template_form_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./project-profile/components/template-form.component */ "./client-src/app/project-profile/components/template-form.component.ts");
/* harmony import */ var _reconciliation_components_setup_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reconciliation/components/setup.component */ "./client-src/app/reconciliation/components/setup.component.ts");
/* harmony import */ var _reconciliation_components_reconcile_data_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./reconciliation/components/reconcile-data.component */ "./client-src/app/reconciliation/components/reconcile-data.component.ts");
/* harmony import */ var _core_guards_rules_guard_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./_core/guards/rules-guard.service */ "./client-src/app/_core/guards/rules-guard.service.ts");
/* harmony import */ var _admin_components_user_user_list_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./admin/components/user/user-list.component */ "./client-src/app/admin/components/user/user-list.component.ts");
/* harmony import */ var _admin_components_template_template_management_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./admin/components/template/template-management.component */ "./client-src/app/admin/components/template/template-management.component.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _ngx_config_http_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-config/http-loader */ "./node_modules/@ngx-config/http-loader/fesm2015/ngx-config-http-loader.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../environments/environment */ "./client-src/environments/environment.ts");
/* harmony import */ var _dashboard_components_dashboard_home_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dashboard/components/dashboard-home.component */ "./client-src/app/dashboard/components/dashboard-home.component.ts");
/* harmony import */ var _error_not_found_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./error/not-found.component */ "./client-src/app/error/not-found.component.ts");
/* harmony import */ var _error_unauthorized_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./error/unauthorized.component */ "./client-src/app/error/unauthorized.component.ts");
/* harmony import */ var _error_access_denied_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./error/access-denied.component */ "./client-src/app/error/access-denied.component.ts");
/* harmony import */ var _error_internal_server_error_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./error/internal-server-error.component */ "./client-src/app/error/internal-server-error.component.ts");
/* harmony import */ var _admin_components_admin_home_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./admin/components/admin-home.component */ "./client-src/app/admin/components/admin-home.component.ts");
/* harmony import */ var _admin_components_team_team_home_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./admin/components/team/team-home.component */ "./client-src/app/admin/components/team/team-home.component.ts");
/* harmony import */ var _admin_components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./admin/components/template/wizard/template-builder-wizard.component */ "./client-src/app/admin/components/template/wizard/template-builder-wizard.component.ts");
/* harmony import */ var _data_import_components_data_import_parent_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./data-import/components/data-import-parent.component */ "./client-src/app/data-import/components/data-import-parent.component.ts");
/* harmony import */ var _project_profile_components_tasks_task_management_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./project-profile/components/tasks/task-management.component */ "./client-src/app/project-profile/components/tasks/task-management.component.ts");
/* harmony import */ var _reconciliation_components_mass_match_mass_match_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./reconciliation/components/mass-match/mass-match.component */ "./client-src/app/reconciliation/components/mass-match/mass-match.component.ts");
/* harmony import */ var _reconciliation_components_define_layout_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./reconciliation/components/define-layout.component */ "./client-src/app/reconciliation/components/define-layout.component.ts");
/* harmony import */ var _reconciliation_components_map_matchcodes_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./reconciliation/components/map-matchcodes.component */ "./client-src/app/reconciliation/components/map-matchcodes.component.ts");
/* harmony import */ var _reconciliation_components_mass_match_view_matches_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./reconciliation/components/mass-match/view-matches.component */ "./client-src/app/reconciliation/components/mass-match/view-matches.component.ts");
/* harmony import */ var _reconciliation_components_finalize_data_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./reconciliation/components/finalize-data.component */ "./client-src/app/reconciliation/components/finalize-data.component.ts");
/* harmony import */ var _project_profile_components_administration_administration_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./project-profile/components/administration/administration.component */ "./client-src/app/project-profile/components/administration/administration.component.ts");
/* harmony import */ var _processing_trending_components_trending_summary_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./processing/trending/components/trending-summary.component */ "./client-src/app/processing/trending/components/trending-summary.component.ts");
/* harmony import */ var _processing_trending_components_trending_form_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./processing/trending/components/trending-form.component */ "./client-src/app/processing/trending/components/trending-form.component.ts");
/* harmony import */ var _processing_trending_components_trending_setup_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./processing/trending/components/trending-setup.component */ "./client-src/app/processing/trending/components/trending-setup.component.ts");
/* harmony import */ var _processing_depreciation_components_depreciation_summary_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./processing/depreciation/components/depreciation-summary.component */ "./client-src/app/processing/depreciation/components/depreciation-summary.component.ts");
/* harmony import */ var _processing_depreciation_components_depreciation_form_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./processing/depreciation/components/depreciation-form.component */ "./client-src/app/processing/depreciation/components/depreciation-form.component.ts");
/* harmony import */ var _processing_depreciation_components_depreciation_setup_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./processing/depreciation/components/depreciation-setup.component */ "./client-src/app/processing/depreciation/components/depreciation-setup.component.ts");
/* harmony import */ var _groups_components_group_management_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./groups/components/group-management.component */ "./client-src/app/groups/components/group-management.component.ts");
/* harmony import */ var _groups_components_edit_group_template_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./groups/components/edit-group-template.component */ "./client-src/app/groups/components/edit-group-template.component.ts");
/* harmony import */ var _groups_components_group_management_form_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./groups/components/group-management-form.component */ "./client-src/app/groups/components/group-management-form.component.ts");
/* harmony import */ var _quality_control_components_quality_control_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./quality-control/components/quality-control.component */ "./client-src/app/quality-control/components/quality-control.component.ts");
/* harmony import */ var _quality_control_components_mass_update_mass_update_form_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./quality-control/components/mass-update/mass-update-form.component */ "./client-src/app/quality-control/components/mass-update/mass-update-form.component.ts");
/* harmony import */ var _quality_control_components_mass_update_mass_update_criteria_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./quality-control/components/mass-update/mass-update-criteria.component */ "./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.ts");
/* harmony import */ var _quality_control_components_mass_update_mass_update_results_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./quality-control/components/mass-update/mass-update-results.component */ "./client-src/app/quality-control/components/mass-update/mass-update-results.component.ts");
/* harmony import */ var _quality_control_components_quality_control_form_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./quality-control/components/quality-control-form.component */ "./client-src/app/quality-control/components/quality-control-form.component.ts");
/* harmony import */ var _quality_control_components_duplicate_check_duplicate_check_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./quality-control/components/duplicate-check/duplicate-check.component */ "./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.ts");
/* harmony import */ var _quality_control_components_content_actions_add_content_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./quality-control/components/content/actions/add-content.component */ "./client-src/app/quality-control/components/content/actions/add-content.component.ts");
/* harmony import */ var _header_management_components_header_management_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./header-management/components/header-management.component */ "./client-src/app/header-management/components/header-management.component.ts");
/* harmony import */ var _portal_management_components_portal_management_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./portal-management/components/portal-management.component */ "./client-src/app/portal-management/components/portal-management.component.ts");
/* harmony import */ var _project_profile_components_administration_administration_form_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./project-profile/components/administration/administration-form.component */ "./client-src/app/project-profile/components/administration/administration-form.component.ts");
/* harmony import */ var _transactions_components_transactions_grid_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./transactions/components/transactions-grid.component */ "./client-src/app/transactions/components/transactions-grid.component.ts");
/* harmony import */ var _quality_control_components_content_actions_edit_content_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./quality-control/components/content/actions/edit-content.component */ "./client-src/app/quality-control/components/content/actions/edit-content.component.ts");
/* harmony import */ var _quality_control_components_content_actions_mass_update_content_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./quality-control/components/content/actions/mass-update-content.component */ "./client-src/app/quality-control/components/content/actions/mass-update-content.component.ts");
/* harmony import */ var _quality_control_components_building_actions_mass_update_building_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./quality-control/components/building/actions/mass-update-building.component */ "./client-src/app/quality-control/components/building/actions/mass-update-building.component.ts");
/* harmony import */ var _recipients_components_recipients_grid_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./recipients/components/recipients-grid.component */ "./client-src/app/recipients/components/recipients-grid.component.ts");
/* harmony import */ var _error_conflict_transaction_error_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./error/conflict-transaction-error.component */ "./client-src/app/error/conflict-transaction-error.component.ts");
/* harmony import */ var _recipients_components_recipients_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./recipients/components/recipients.component */ "./client-src/app/recipients/components/recipients.component.ts");
/* harmony import */ var _admin_components_group_saves_group_save_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./admin/components/group-saves/group-save.component */ "./client-src/app/admin/components/group-saves/group-save.component.ts");
/* harmony import */ var _core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./_core/guards/can-deactivate-guard.service */ "./client-src/app/_core/guards/can-deactivate-guard.service.ts");
/* harmony import */ var _core_authentication_auth_guard__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./_core/authentication/auth-guard */ "./client-src/app/_core/authentication/auth-guard.ts");
/* harmony import */ var _home_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./home.component */ "./client-src/app/home.component.ts");
/* harmony import */ var _core_user_permissions__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./_core/user/permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var _core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./_core/authentication/can-access.guard */ "./client-src/app/_core/authentication/can-access.guard.ts");
/* harmony import */ var _quality_control_components_content_actions_view_content_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./quality-control/components/content/actions/view-content.component */ "./client-src/app/quality-control/components/content/actions/view-content.component.ts");
/* harmony import */ var _reports_components_reports_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./reports/components/reports.component */ "./client-src/app/reports/components/reports.component.ts");
/* harmony import */ var _reports_components_reports_deliverables_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./reports/components/reports-deliverables.component */ "./client-src/app/reports/components/reports-deliverables.component.ts");
/* harmony import */ var _file_upload_components_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./file-upload/components/file-upload/file-upload.component */ "./client-src/app/file-upload/components/file-upload/file-upload.component.ts");
/* harmony import */ var _quality_control_components_building_form_building_form_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./quality-control/components/building/form/building-form.component */ "./client-src/app/quality-control/components/building/form/building-form.component.ts");
/* harmony import */ var _support_components_support_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./support/components/support.component */ "./client-src/app/support/components/support.component.ts");
/* harmony import */ var _admin_components_remove_deactivated_remove_deactivated_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./admin/components/remove-deactivated/remove-deactivated.component */ "./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.ts");

// Components



































































const systemPermissionsEnum = _core_user_permissions__WEBPACK_IMPORTED_MODULE_59__["SystemPermissionsEnum"];
const routeConfig = [
    { path: '', pathMatch: 'full', redirectTo: 'dashboard/all-projects' },
    {
        path: '',
        component: _home_component__WEBPACK_IMPORTED_MODULE_58__["HomeComponent"],
        children: [
            {
                path: 'dashboard',
                component: _dashboard_components_dashboard_home_component__WEBPACK_IMPORTED_MODULE_13__["DashboardHomeComponent"],
                children: [
                    {
                        path: '',
                        redirectTo: 'all-projects',
                        pathMatch: 'full'
                    },
                    {
                        path: 'all-projects',
                        component: _dashboard_components_dashboard_component__WEBPACK_IMPORTED_MODULE_1__["DashboardComponent"]
                    }
                ]
            },
            /* Going further, please add any error code routes that need Translation Service injection
               into their components, to perform translations in here as a child to the HomeComponent,
               where we don't need any of the user or group context data to render the error.
               Why? The injection fails, otherwise.
            */
            {
                path: 'error/409',
                component: _error_conflict_transaction_error_component__WEBPACK_IMPORTED_MODULE_53__["ConflictServerErrorComponent"]
            },
            {
                path: 'portal-management',
                component: _portal_management_components_portal_management_component__WEBPACK_IMPORTED_MODULE_46__["PortalManagementComponent"],
                canActivate: [_core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__["CanAccessGuard"]],
                data: { permissions: [systemPermissionsEnum.canManagePortal] }
            },
            {
                path: 'Admin',
                component: _admin_components_admin_home_component__WEBPACK_IMPORTED_MODULE_18__["AdminHomeComponent"],
                children: [
                    {
                        path: 'users',
                        component: _admin_components_user_user_list_component__WEBPACK_IMPORTED_MODULE_8__["UserListComponent"]
                    },
                    {
                        path: 'teams',
                        component: _admin_components_team_team_home_component__WEBPACK_IMPORTED_MODULE_19__["TeamHomeComponent"]
                    },
                    {
                        path: 'template-builder/:templateId',
                        component: _admin_components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_20__["TemplateBuilderWizardComponent"]
                    }
                ]
            },
            {
                path: 'project-profile/:groupId',
                component: _project_profile_components_project_profile_component__WEBPACK_IMPORTED_MODULE_2__["ProjectProfileComponent"],
                children: [
                    {
                        path: '',
                        component: _project_profile_components_template_form_component__WEBPACK_IMPORTED_MODULE_4__["TemplateFormComponent"]
                    },
                    {
                        path: 'Reconciliation',
                        canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                        component: _reconciliation_components_reconciliation_form_component__WEBPACK_IMPORTED_MODULE_3__["ReconciliationFormComponent"],
                        children: [
                            { path: '', component: _reconciliation_components_setup_component__WEBPACK_IMPORTED_MODULE_5__["SetupComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"], _core_guards_rules_guard_service__WEBPACK_IMPORTED_MODULE_7__["RulesGuard"]] },
                            { path: 'setup', component: _reconciliation_components_setup_component__WEBPACK_IMPORTED_MODULE_5__["SetupComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"], _core_guards_rules_guard_service__WEBPACK_IMPORTED_MODULE_7__["RulesGuard"]] },
                            { path: 'reconcile-data', component: _reconciliation_components_reconcile_data_component__WEBPACK_IMPORTED_MODULE_6__["ReconcileDataComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]] },
                            { path: 'mass-match', component: _reconciliation_components_mass_match_mass_match_component__WEBPACK_IMPORTED_MODULE_23__["MassMatchComponent"] },
                            { path: 'view-matches', component: _reconciliation_components_mass_match_view_matches_component__WEBPACK_IMPORTED_MODULE_26__["ViewMatchesComponent"] },
                            { path: 'define-layout', component: _reconciliation_components_define_layout_component__WEBPACK_IMPORTED_MODULE_24__["DefineLayoutComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]] },
                            { path: 'finalize-data', component: _reconciliation_components_finalize_data_component__WEBPACK_IMPORTED_MODULE_27__["FinalizeDataComponent"] },
                            { path: 'map-matchcodes', component: _reconciliation_components_map_matchcodes_component__WEBPACK_IMPORTED_MODULE_25__["MapMatchCodesComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]] },
                            { path: 'mass-match', component: _reconciliation_components_mass_match_mass_match_component__WEBPACK_IMPORTED_MODULE_23__["MassMatchComponent"] }
                        ]
                    },
                    {
                        path: 'TaskManagement',
                        component: _project_profile_components_tasks_task_management_component__WEBPACK_IMPORTED_MODULE_22__["TaskManagementComponent"]
                    },
                    {
                        path: 'Trending',
                        component: _processing_trending_components_trending_form_component__WEBPACK_IMPORTED_MODULE_30__["TrendingFormComponent"],
                        children: [
                            { path: '', component: _processing_trending_components_trending_setup_component__WEBPACK_IMPORTED_MODULE_31__["TrendingSetupComponent"] },
                            { path: 'Setup', component: _processing_trending_components_trending_setup_component__WEBPACK_IMPORTED_MODULE_31__["TrendingSetupComponent"] },
                            { path: 'Summary', component: _processing_trending_components_trending_summary_component__WEBPACK_IMPORTED_MODULE_29__["TrendingSummaryComponent"] }
                        ]
                    },
                    {
                        path: 'Depreciation',
                        component: _processing_depreciation_components_depreciation_form_component__WEBPACK_IMPORTED_MODULE_33__["DepreciationFormComponent"],
                        children: [
                            { path: '', component: _processing_depreciation_components_depreciation_setup_component__WEBPACK_IMPORTED_MODULE_34__["DepreciationSetupComponent"] },
                            { path: 'Setup', component: _processing_depreciation_components_depreciation_setup_component__WEBPACK_IMPORTED_MODULE_34__["DepreciationSetupComponent"] },
                            { path: 'Summary', component: _processing_depreciation_components_depreciation_summary_component__WEBPACK_IMPORTED_MODULE_32__["DepreciationSummaryComponent"] }
                        ]
                    },
                    {
                        path: 'DataImport',
                        component: _data_import_components_data_import_parent_component__WEBPACK_IMPORTED_MODULE_21__["DataImportParentComponent"]
                    },
                    {
                        path: 'Administration',
                        component: _project_profile_components_administration_administration_form_component__WEBPACK_IMPORTED_MODULE_47__["AdministrationFormComponent"],
                        children: [
                            {
                                path: '',
                                component: _project_profile_components_administration_administration_component__WEBPACK_IMPORTED_MODULE_28__["AdministrationComponent"]
                            },
                            {
                                path: 'Transactions',
                                component: _transactions_components_transactions_grid_component__WEBPACK_IMPORTED_MODULE_48__["TransactionsGridComponent"]
                            }
                        ]
                    },
                    {
                        path: 'group-save',
                        component: _admin_components_group_saves_group_save_component__WEBPACK_IMPORTED_MODULE_55__["GroupSaveComponent"]
                    },
                    {
                        path: 'remove-deactivated',
                        component: _admin_components_remove_deactivated_remove_deactivated_component__WEBPACK_IMPORTED_MODULE_67__["RemoveDeactivatedComponent"]
                    },
                    {
                        path: 'Groups',
                        component: _groups_components_group_management_form_component__WEBPACK_IMPORTED_MODULE_37__["GroupManagementFormComponent"],
                        children: [
                            { path: '', component: _groups_components_group_management_component__WEBPACK_IMPORTED_MODULE_35__["GroupManagementComponent"] },
                            { path: 'Management', component: _groups_components_group_management_component__WEBPACK_IMPORTED_MODULE_35__["GroupManagementComponent"] },
                            {
                                path: 'EditForms',
                                component: _groups_components_edit_group_template_component__WEBPACK_IMPORTED_MODULE_36__["EditGroupTemplateComponent"],
                                canActivate: [_core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__["CanAccessGuard"]],
                                data: { permissions: [systemPermissionsEnum.canManageTemplates] }
                            }
                        ],
                        canActivate: [_core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__["CanAccessGuard"]],
                        data: { permissions: [systemPermissionsEnum.canWriteData] }
                    },
                    {
                        path: 'QualityControl',
                        component: _quality_control_components_quality_control_component__WEBPACK_IMPORTED_MODULE_38__["QualityControlComponent"],
                        canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                        data: { title: 'Quality Control' },
                        children: [
                            { path: '', component: _quality_control_components_quality_control_form_component__WEBPACK_IMPORTED_MODULE_42__["QualityControlFormComponent"] },
                            { path: 'AddContent', component: _quality_control_components_content_actions_add_content_component__WEBPACK_IMPORTED_MODULE_44__["AddContentComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]], data: { title: 'Add Content' } },
                            {
                                path: 'EditContent/:contentId',
                                component: _quality_control_components_content_actions_edit_content_component__WEBPACK_IMPORTED_MODULE_49__["EditContentComponent"],
                                canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                                data: { title: 'Edit Content' }
                            },
                            { path: 'ViewContent/:contentId', component: _quality_control_components_content_actions_view_content_component__WEBPACK_IMPORTED_MODULE_61__["ViewContentComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]] },
                            {
                                path: 'AddBuilding',
                                component: _quality_control_components_building_form_building_form_component__WEBPACK_IMPORTED_MODULE_65__["UpsertBuildingComponent"],
                                canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                                data: { title: 'Add Building' }
                            },
                            {
                                path: 'EditBuilding/:buildingId',
                                component: _quality_control_components_building_form_building_form_component__WEBPACK_IMPORTED_MODULE_65__["UpsertBuildingComponent"],
                                canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                                data: { title: 'Edit Building' }
                            },
                            { path: 'ViewBuilding/:buildingId', component: _quality_control_components_building_form_building_form_component__WEBPACK_IMPORTED_MODULE_65__["UpsertBuildingComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]] },
                            {
                                path: 'MassUpdate',
                                component: _quality_control_components_mass_update_mass_update_form_component__WEBPACK_IMPORTED_MODULE_39__["MassUpdateFormComponent"],
                                data: { title: 'Mass Update' },
                                children: [
                                    { path: '', component: _quality_control_components_mass_update_mass_update_criteria_component__WEBPACK_IMPORTED_MODULE_40__["MassUpdateCriteriaComponent"], data: { title: 'Mass Update' } },
                                    { path: 'Content', component: _quality_control_components_content_actions_mass_update_content_component__WEBPACK_IMPORTED_MODULE_50__["MassUpdateContentComponent"], data: { title: 'Mass Update' } },
                                    { path: 'Building', component: _quality_control_components_building_actions_mass_update_building_component__WEBPACK_IMPORTED_MODULE_51__["MassUpdateBuildingComponent"], data: { title: 'Mass Update' } },
                                    { path: 'Criteria', component: _quality_control_components_mass_update_mass_update_criteria_component__WEBPACK_IMPORTED_MODULE_40__["MassUpdateCriteriaComponent"], data: { title: 'Mass Update' } },
                                    { path: 'Results', component: _quality_control_components_mass_update_mass_update_results_component__WEBPACK_IMPORTED_MODULE_41__["MassUpdateResultsComponent"], data: { title: 'Mass Update' } }
                                ]
                            },
                            {
                                path: 'DuplicateCheck',
                                component: _quality_control_components_duplicate_check_duplicate_check_component__WEBPACK_IMPORTED_MODULE_43__["DuplicateCheckComponent"]
                            }
                        ]
                    },
                    {
                        path: 'HeaderManagement',
                        component: _header_management_components_header_management_component__WEBPACK_IMPORTED_MODULE_45__["HeaderManagementComponent"]
                    },
                    {
                        path: 'Recipients',
                        component: _recipients_components_recipients_component__WEBPACK_IMPORTED_MODULE_54__["RecipientsComponent"],
                        children: [{ path: '', component: _recipients_components_recipients_grid_component__WEBPACK_IMPORTED_MODULE_52__["RecipientsGridComponent"] }]
                    },
                    {
                        path: 'Reports',
                        component: _reports_components_reports_component__WEBPACK_IMPORTED_MODULE_62__["ReportsComponent"],
                        children: [{ path: '', component: _reports_components_reports_deliverables_component__WEBPACK_IMPORTED_MODULE_63__["ReportsDeliverablesComponent"] }]
                    },
                    {
                        path: 'FileUpload',
                        component: _file_upload_components_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_64__["FileUploadComponent"]
                    },
                    {
                        path: 'Support',
                        component: _support_components_support_component__WEBPACK_IMPORTED_MODULE_66__["SupportComponent"]
                    },
                    { path: ':moduleId', component: _project_profile_components_template_form_component__WEBPACK_IMPORTED_MODULE_4__["TemplateFormComponent"], canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]] }
                ]
            },
            // {
            //   path: 'Support',
            //   component: SupportComponent
            // },
            {
                path: 'admin/templates',
                component: _admin_components_template_template_management_component__WEBPACK_IMPORTED_MODULE_9__["TemplateManagementComponent"],
                canActivate: [_core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__["CanAccessGuard"]],
                data: { permissions: [systemPermissionsEnum.canManageTemplates] }
            },
            {
                path: 'admin/templates/builder',
                component: _admin_components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_20__["TemplateBuilderWizardComponent"],
                canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                canActivate: [_core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__["CanAccessGuard"]],
                data: { permissions: [systemPermissionsEnum.canManageTemplates] }
            },
            {
                path: 'admin/templates/builder/:templateId',
                component: _admin_components_template_wizard_template_builder_wizard_component__WEBPACK_IMPORTED_MODULE_20__["TemplateBuilderWizardComponent"],
                canDeactivate: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_56__["CanDeactivateGuard"]],
                canActivate: [_core_authentication_can_access_guard__WEBPACK_IMPORTED_MODULE_60__["CanAccessGuard"]],
                data: { permissions: [systemPermissionsEnum.canManageTemplates] }
            }
        ],
        canActivate: [_core_authentication_auth_guard__WEBPACK_IMPORTED_MODULE_57__["AuthGuard"]]
    },
    {
        path: 'error/401',
        component: _error_unauthorized_component__WEBPACK_IMPORTED_MODULE_15__["UnauthorizedComponent"]
    },
    {
        path: 'error/403',
        component: _error_access_denied_component__WEBPACK_IMPORTED_MODULE_16__["AccessDeniedComponent"]
    },
    {
        path: 'error/404',
        component: _error_not_found_component__WEBPACK_IMPORTED_MODULE_14__["NotFoundComponent"]
    },
    {
        path: 'error/500',
        component: _error_internal_server_error_component__WEBPACK_IMPORTED_MODULE_17__["InternalServerErrorComponent"]
    },
    { path: '**', redirectTo: 'error/404' }
];
class AppConfiguration {
    static configHttpFactory(http) {
        return new _ngx_config_http_loader__WEBPACK_IMPORTED_MODULE_11__["ConfigHttpLoader"](http, _environments_environment__WEBPACK_IMPORTED_MODULE_12__["environment"].settingsEndpoint); // API ENDPOINT
    }
    static configFactory() {
        return new _ngx_config_core__WEBPACK_IMPORTED_MODULE_10__["ConfigStaticLoader"](_environments_environment__WEBPACK_IMPORTED_MODULE_12__["environment"]);
    }
    static getConfigFactory() {
        if (_environments_environment__WEBPACK_IMPORTED_MODULE_12__["environment"].useAzureAppSettings) {
            return AppConfiguration.configHttpFactory; // use configHttpFactory to pull from web service
        }
        return AppConfiguration.configFactory; // Use configFactory to pull from Angular environment settings
    }
}


/***/ }),

/***/ "./client-src/app/app.module.ts":
/*!**************************************!*\
  !*** ./client-src/app/app.module.ts ***!
  \**************************************/
/*! exports provided: configHttpFactory, configFactory, HttpLoaderFactory, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "configHttpFactory", function() { return configHttpFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "configFactory", function() { return configFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpLoaderFactory", function() { return HttpLoaderFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _reconciliation_reconciliation_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reconciliation/reconciliation.module */ "./client-src/app/reconciliation/reconciliation.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.component */ "./client-src/app/app.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _data_import_data_import_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data-import/data-import.module */ "./client-src/app/data-import/data-import.module.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _ngx_config_http_loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-config/http-loader */ "./node_modules/@ngx-config/http-loader/fesm2015/ngx-config-http-loader.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../environments/environment */ "./client-src/environments/environment.ts");
/* harmony import */ var _admin_admin_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./admin/admin.module */ "./client-src/app/admin/admin.module.ts");
/* harmony import */ var _project_profile_project_profile_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./project-profile/project-profile.module */ "./client-src/app/project-profile/project-profile.module.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _app_configuration__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./app.configuration */ "./client-src/app/app.configuration.ts");
/* harmony import */ var _dashboard_dashboard_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dashboard/dashboard.module */ "./client-src/app/dashboard/dashboard.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _error_not_found_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./error/not-found.component */ "./client-src/app/error/not-found.component.ts");
/* harmony import */ var _error_unauthorized_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./error/unauthorized.component */ "./client-src/app/error/unauthorized.component.ts");
/* harmony import */ var _error_access_denied_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./error/access-denied.component */ "./client-src/app/error/access-denied.component.ts");
/* harmony import */ var _error_internal_server_error_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./error/internal-server-error.component */ "./client-src/app/error/internal-server-error.component.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _processing_processing_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./processing/processing.module */ "./client-src/app/processing/processing.module.ts");
/* harmony import */ var _groups_groups_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./groups/groups.module */ "./client-src/app/groups/groups.module.ts");
/* harmony import */ var _quality_control_quality_control_module__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./quality-control/quality-control.module */ "./client-src/app/quality-control/quality-control.module.ts");
/* harmony import */ var _header_management_header_management_module__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./header-management/header-management.module */ "./client-src/app/header-management/header-management.module.ts");
/* harmony import */ var _portal_management_portal_management_module__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./portal-management/portal-management.module */ "./client-src/app/portal-management/portal-management.module.ts");
/* harmony import */ var _recipients_recipients_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./recipients/recipients.module */ "./client-src/app/recipients/recipients.module.ts");
/* harmony import */ var _transactions_transaction_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./transactions/transaction.module */ "./client-src/app/transactions/transaction.module.ts");
/* harmony import */ var _error_conflict_transaction_error_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./error/conflict-transaction-error.component */ "./client-src/app/error/conflict-transaction-error.component.ts");
/* harmony import */ var _core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./_core/guards/can-deactivate-guard.service */ "./client-src/app/_core/guards/can-deactivate-guard.service.ts");
/* harmony import */ var _home_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./home.component */ "./client-src/app/home.component.ts");
/* harmony import */ var _reports_reports_module__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./reports/reports.module */ "./client-src/app/reports/reports.module.ts");
/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @ngx-translate/http-loader */ "./node_modules/@ngx-translate/http-loader/index.js");
/* harmony import */ var _progress_kendo_angular_intl_locales_en_all__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @progress/kendo-angular-intl/locales/en/all */ "./node_modules/@progress/kendo-angular-intl/locales/en/all.js");
/* harmony import */ var _progress_kendo_angular_intl_locales_en_all__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(_progress_kendo_angular_intl_locales_en_all__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var _progress_kendo_angular_intl_locales_fr_all__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @progress/kendo-angular-intl/locales/fr/all */ "./node_modules/@progress/kendo-angular-intl/locales/fr/all.js");
/* harmony import */ var _progress_kendo_angular_intl_locales_fr_all__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(_progress_kendo_angular_intl_locales_fr_all__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var _progress_kendo_angular_intl_locales_pt_all__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @progress/kendo-angular-intl/locales/pt/all */ "./node_modules/@progress/kendo-angular-intl/locales/pt/all.js");
/* harmony import */ var _progress_kendo_angular_intl_locales_pt_all__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(_progress_kendo_angular_intl_locales_pt_all__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var _progress_kendo_angular_intl_locales_it_all__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @progress/kendo-angular-intl/locales/it/all */ "./node_modules/@progress/kendo-angular-intl/locales/it/all.js");
/* harmony import */ var _progress_kendo_angular_intl_locales_it_all__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(_progress_kendo_angular_intl_locales_it_all__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var _progress_kendo_angular_intl_locales_es_all__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @progress/kendo-angular-intl/locales/es/all */ "./node_modules/@progress/kendo-angular-intl/locales/es/all.js");
/* harmony import */ var _progress_kendo_angular_intl_locales_es_all__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(_progress_kendo_angular_intl_locales_es_all__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var _file_upload_file_upload_module__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./file-upload/file-upload.module */ "./client-src/app/file-upload/file-upload.module.ts");
/* harmony import */ var _core_services_title_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./_core/services/title.service */ "./client-src/app/_core/services/title.service.ts");
/* harmony import */ var _core_services_idle_timeout_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./_core/services/idle-timeout.service */ "./client-src/app/_core/services/idle-timeout.service.ts");
/* harmony import */ var _support_support_module__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./support/support.module */ "./client-src/app/support/support.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm2015/ngx-toastr.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @progress/kendo-angular-layout */ "./node_modules/@progress/kendo-angular-layout/dist/fesm2015/index.js");
































// Kendo UI Locales















// Azure App Settings Config Factory
function configHttpFactory(http) {
    return new _ngx_config_http_loader__WEBPACK_IMPORTED_MODULE_7__["ConfigHttpLoader"](http, _environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].settingsEndpoint); // API ENDPOINT
}
// Angular /environments config factory
function configFactory() {
    return new _ngx_config_core__WEBPACK_IMPORTED_MODULE_6__["ConfigStaticLoader"](_environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"]);
}
function HttpLoaderFactory(http) {
    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_31__["TranslateHttpLoader"](http, '/client-src/assets/i18n/', '.json');
}
let AppModule = class AppModule {
    constructor(platformId, titleService) {
        this.platformId = platformId;
        titleService.init();
    }
};
AppModule.ctorParameters = () => [
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_41__["Inject"], args: [_angular_core__WEBPACK_IMPORTED_MODULE_41__["PLATFORM_ID"],] }] },
    { type: _core_services_title_service__WEBPACK_IMPORTED_MODULE_38__["TitleService"] }
];
AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_41__["NgModule"])({
        declarations: [
            _app_component__WEBPACK_IMPORTED_MODULE_2__["AppComponent"],
            _error_not_found_component__WEBPACK_IMPORTED_MODULE_15__["NotFoundComponent"],
            _error_conflict_transaction_error_component__WEBPACK_IMPORTED_MODULE_27__["ConflictServerErrorComponent"],
            _error_internal_server_error_component__WEBPACK_IMPORTED_MODULE_18__["InternalServerErrorComponent"],
            _error_unauthorized_component__WEBPACK_IMPORTED_MODULE_16__["UnauthorizedComponent"],
            _error_access_denied_component__WEBPACK_IMPORTED_MODULE_17__["AccessDeniedComponent"],
            _home_component__WEBPACK_IMPORTED_MODULE_29__["HomeComponent"]
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_45__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__["BrowserAnimationsModule"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_44__["ToastrModule"].forRoot({
                preventDuplicates: true,
                positionClass: 'toast-bottom-right',
                closeButton: true
            }),
            _angular_router__WEBPACK_IMPORTED_MODULE_43__["RouterModule"].forRoot(_app_configuration__WEBPACK_IMPORTED_MODULE_12__["routeConfig"]),
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_14__["SharedModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_3__["CoreModule"].forRoot(),
            _ngx_config_core__WEBPACK_IMPORTED_MODULE_6__["ConfigModule"].forRoot({
                provide: _ngx_config_core__WEBPACK_IMPORTED_MODULE_6__["ConfigLoader"],
                // If Production -> Load settings from Azure App Settings via configHttpFactory
                // If localhost -> Load settings from Angular /environments via configFactory
                useFactory: _environments_environment__WEBPACK_IMPORTED_MODULE_8__["environment"].useAzureAppSettings ? configHttpFactory : configFactory,
                deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_19__["HttpClient"]]
            }),
            _dashboard_dashboard_module__WEBPACK_IMPORTED_MODULE_13__["DashboardModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateModule"].forRoot(),
            _data_import_data_import_module__WEBPACK_IMPORTED_MODULE_4__["DataImportModule"],
            _project_profile_project_profile_module__WEBPACK_IMPORTED_MODULE_10__["ProjectProfileModule"],
            _reconciliation_reconciliation_module__WEBPACK_IMPORTED_MODULE_1__["ReconciliationModule"],
            _admin_admin_module__WEBPACK_IMPORTED_MODULE_9__["AdminModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_42__["NgbModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_19__["HttpClientModule"],
            _processing_processing_module__WEBPACK_IMPORTED_MODULE_20__["ProcessingModule"],
            _groups_groups_module__WEBPACK_IMPORTED_MODULE_21__["GroupsModule"],
            _quality_control_quality_control_module__WEBPACK_IMPORTED_MODULE_22__["QualityControlModule"],
            _header_management_header_management_module__WEBPACK_IMPORTED_MODULE_23__["HeaderManagementModule"],
            _portal_management_portal_management_module__WEBPACK_IMPORTED_MODULE_24__["PortalManagementModule"],
            _recipients_recipients_module__WEBPACK_IMPORTED_MODULE_25__["RecipientsModule"],
            _transactions_transaction_module__WEBPACK_IMPORTED_MODULE_26__["TransactionsModule"],
            _reports_reports_module__WEBPACK_IMPORTED_MODULE_30__["ReportsModule"],
            _file_upload_file_upload_module__WEBPACK_IMPORTED_MODULE_37__["FileUploadModule"],
            _support_support_module__WEBPACK_IMPORTED_MODULE_40__["SupportModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateModule"].forRoot({
                loader: {
                    provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__["TranslateLoader"],
                    useFactory: HttpLoaderFactory,
                    deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_19__["HttpClient"]]
                }
            }),
            _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_46__["LayoutModule"]
        ],
        providers: [_core_guards_can_deactivate_guard_service__WEBPACK_IMPORTED_MODULE_28__["CanDeactivateGuard"], _core_services_title_service__WEBPACK_IMPORTED_MODULE_38__["TitleService"], _core_services_idle_timeout_service__WEBPACK_IMPORTED_MODULE_39__["IdleTimeoutService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_19__["HttpClient"]],
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_2__["AppComponent"]]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_41__["Inject"])(_angular_core__WEBPACK_IMPORTED_MODULE_41__["PLATFORM_ID"])),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Object, _core_services_title_service__WEBPACK_IMPORTED_MODULE_38__["TitleService"]])
], AppModule);



/***/ }),

/***/ "./client-src/app/dashboard/components/dashboard-home.component.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/dashboard/components/dashboard-home.component.ts ***!
  \*************************************************************************/
/*! exports provided: DashboardHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardHomeComponent", function() { return DashboardHomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_animations_in_out_from_left_side_animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/animations/in-out-from-left-side.animation */ "./client-src/app/_core/animations/in-out-from-left-side.animation.ts");
/* harmony import */ var _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/left-nav-service */ "./client-src/app/_core/services/left-nav-service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");





let DashboardHomeComponent = class DashboardHomeComponent {
    constructor(router, leftNavService) {
        this.router = router;
        this.leftNavService = leftNavService;
        this.isCollapsed = false;
    }
    ngOnInit() {
        this.router.navigate(['/dashboard']);
        this.leftNavService.navCollapsed$.subscribe(val => {
            this.isCollapsed = val;
        });
    }
};
DashboardHomeComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
    { type: _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_2__["LeftNavService"] }
];
DashboardHomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'dashboard-home',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./dashboard-home.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/dashboard/components/dashboard-home.component.html")).default,
        animations: [_core_animations_in_out_from_left_side_animation__WEBPACK_IMPORTED_MODULE_1__["inOutFromLeftSideAnimation"]]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
        _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_2__["LeftNavService"]])
], DashboardHomeComponent);



/***/ }),

/***/ "./client-src/app/dashboard/components/dashboard.component.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/dashboard/components/dashboard.component.ts ***!
  \********************************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_contract_summary_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/contract-summary.service */ "./client-src/app/dashboard/services/contract-summary.service.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");











let DashboardComponent = class DashboardComponent {
    // public gridData: GridDataResult = process(this.contracts, this.state);
    constructor(router, route, contractService, userGridService, userStore, helperService, alertService) {
        this.router = router;
        this.route = route;
        this.contractService = contractService;
        this.userGridService = userGridService;
        this.userStore = userStore;
        this.helperService = helperService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.contracts = [];
        this.dashboardGridBusy = true;
        this.state = {
            skip: 0,
            take: 15,
            sort: [
                {
                    dir: 'asc',
                    field: 'opportunityName'
                }
            ]
        };
        this.defaultDashboardHeaders = [
            { name: 'client', displayName: 'Account Description', order: 0 },
            { name: 'opportunityName', displayName: 'Opportunity Name', order: 1 },
            { name: 'office', displayName: 'Office', order: 2 },
            { name: 'country', displayName: 'Country', order: 3 },
            { name: 'industry', displayName: 'Industry', order: 4 },
            { name: 'projectCode', displayName: 'Project Code', order: 5 },
            { name: 'service', displayName: 'Service', order: 6 },
            { name: 'billingDirector', displayName: 'Billing Director', order: 7 },
            { name: 'performingMd', displayName: 'Performing MD', order: 8 },
            { name: 'createdFromSalesforce', displayName: 'Created From Salesforce', order: 9 }
        ];
        this.headers = new Array();
        this.defaultFilterSet = false;
        this.loadContracts();
    }
    ngOnInit() {
        this.userStore.user.subscribe(user => {
            this.userId = user.profile.IdentityId.toString();
            this.gridSettingsName = this.userGridService.createUserGridId(this.userId, this.router.url.toString().split('?')[0], 'dashboard');
            this.contractService.getContracts().subscribe(contracts => {
                this.contracts = contracts;
                this.loadContracts();
                let order = 0;
                this.userGridService
                    .getSettings(this.userId, this.gridSettingsName, this.defaultDashboardHeaders.map(c => c.name))
                    .subscribe(result => {
                    console.log(result);
                    if (result.headers.length > 0) {
                        result.headers.forEach(header => {
                            const h = this.defaultDashboardHeaders.find(c => c.name === header);
                            if (h) {
                                h.order = order++;
                                this.headers.push(h);
                            }
                            this.dashboardGridBusy = false;
                        });
                        this.defaultFilterSet = !!result.kendoGridState;
                        if (result.kendoGridState) {
                            this.state = result.kendoGridState;
                            this.gridViewData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.contracts, this.state);
                        }
                    }
                    else {
                        this.headers = this.defaultDashboardHeaders;
                    }
                    const userPreviousUrl = sessionStorage.getItem('user-current-url');
                    if (userPreviousUrl && userPreviousUrl.length) {
                        sessionStorage.removeItem('user-current-url');
                        this.router.navigateByUrl(userPreviousUrl);
                        return;
                    }
                });
            }, error => { }, () => (this.dashboardGridBusy = false));
        });
    }
    saveDefaultFilter() {
        this.userGridService
            .saveSettings(this.gridSettingsName, this.headers.map(c => c.name), null, this.userId, this.state)
            .subscribe(saveResult => {
            this.alertService.success('Default Filter Saved');
            this.defaultFilterSet = true;
        });
    }
    clearDefaultFilter() {
        this.userGridService
            .saveSettings(this.gridSettingsName, this.headers.map(c => c.name), null, this.userId, null)
            .subscribe(saveResult => {
            this.alertService.success('Default Filter Cleared');
            this.state.filter = null;
            this.gridViewData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.contracts, this.state);
            this.defaultFilterSet = false;
        });
    }
    onColumnReorder(event) {
        const reorderedColumns = this.helperService.move(this.headers, event.oldIndex, event.newIndex);
        this.userGridService
            .saveSettings(this.gridSettingsName, reorderedColumns.map(c => c.name), null, this.userId, this.state)
            .subscribe(saveResult => {
            this.userGridService.updateUserSettingsCache(saveResult);
            this.headers = reorderedColumns;
        });
    }
    sortChange(sort) {
        this.state.sort = sort;
        this.loadContracts();
    }
    filterChange(filter) {
        this.state.filter = filter;
        this.loadContracts();
    }
    dataStateChange(state) {
        this.state = state;
        console.log('dashboard data state change', state);
        this.loadContracts();
    }
    navigateToProject(id, event) {
        event.preventDefault();
        this.router.navigate([`/project-profile/${id}/MainProfile`]);
    }
    translate(key) {
        return 'test';
    }
    getColumnTitle(column) {
        return this.helperService.getColumnTitle(this.i18n.dashboard, column);
    }
    loadContracts() {
        this.contracts = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["orderBy"])(this.contracts, this.state.sort);
        this.gridViewData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.contracts, this.state);
    }
};
DashboardComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"] },
    { type: _services_contract_summary_service__WEBPACK_IMPORTED_MODULE_1__["ContractSummaryService"] },
    { type: _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__["UserGridService"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_6__["UserStore"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])(_progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["GridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_2__["GridComponent"])
], DashboardComponent.prototype, "grid", void 0);
DashboardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'dashboard',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./dashboard.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/dashboard/components/dashboard.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"],
        _services_contract_summary_service__WEBPACK_IMPORTED_MODULE_1__["ContractSummaryService"],
        _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_5__["UserGridService"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_6__["UserStore"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"]])
], DashboardComponent);



/***/ }),

/***/ "./client-src/app/dashboard/dashboard.module.ts":
/*!******************************************************!*\
  !*** ./client-src/app/dashboard/dashboard.module.ts ***!
  \******************************************************/
/*! exports provided: DashboardModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardModule", function() { return DashboardModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _components_dashboard_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/dashboard.component */ "./client-src/app/dashboard/components/dashboard.component.ts");
/* harmony import */ var _components_dashboard_home_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/dashboard-home.component */ "./client-src/app/dashboard/components/dashboard-home.component.ts");
/* harmony import */ var _services_contract_summary_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/contract-summary.service */ "./client-src/app/dashboard/services/contract-summary.service.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../_api/services/dashboard/contract.service */ "./client-src/app/_api/services/dashboard/contract.service.ts");
/* harmony import */ var _api_services_api_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../_api/services/api.service */ "./client-src/app/_api/services/api.service.ts");













let DashboardModule = class DashboardModule {
};
DashboardModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_core_core_module__WEBPACK_IMPORTED_MODULE_6__["CoreModule"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_8__["GridModule"], _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__["SharedModule"], ngx_order_pipe__WEBPACK_IMPORTED_MODULE_10__["OrderModule"]],
        declarations: [_components_dashboard_home_component__WEBPACK_IMPORTED_MODULE_4__["DashboardHomeComponent"], _components_dashboard_component__WEBPACK_IMPORTED_MODULE_3__["DashboardComponent"]],
        providers: [_api_services_api_service__WEBPACK_IMPORTED_MODULE_12__["ApiService"], _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_11__["ContractService"], _services_contract_summary_service__WEBPACK_IMPORTED_MODULE_5__["ContractSummaryService"]]
    })
], DashboardModule);



/***/ }),

/***/ "./client-src/app/dashboard/services/contract-summary.service.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/dashboard/services/contract-summary.service.ts ***!
  \***********************************************************************/
/*! exports provided: ContractSummaryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContractSummaryService", function() { return ContractSummaryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/services/dashboard/contract.service */ "./client-src/app/_api/services/dashboard/contract.service.ts");




let ContractSummaryService = class ContractSummaryService {
    constructor(contractService) {
        this.contractService = contractService;
    }
    getContractsGroups(id) {
        return this.contractService.getContractsGroups(id);
    }
    getContracts() {
        return this.contractService.getContracts().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result.map(dto => {
            const contract = {
                id: dto.id,
                client: dto.client,
                opportunityName: dto.opportunityName,
                office: dto.office,
                country: dto.country,
                industry: dto.industry,
                projectCode: dto.projectCode,
                service: dto.service,
                billingDirector: dto.billingDirector,
                performingMd: dto.performingMd,
                groupIds: dto.groupIds,
                createdFromSalesforce: dto.createdFromSalesforce
            };
            if (dto.groupIds.length > 0) {
                contract.primaryGroupId = dto.groupIds[0];
            }
            return contract;
        })));
    }
};
ContractSummaryService.ctorParameters = () => [
    { type: _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_3__["ContractService"] }
];
ContractSummaryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_3__["ContractService"]])
], ContractSummaryService);



/***/ }),

/***/ "./client-src/app/data-import/components/create-custom-column.component.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/data-import/components/create-custom-column.component.ts ***!
  \*********************************************************************************/
/*! exports provided: CreateCustomColumnComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateCustomColumnComponent", function() { return CreateCustomColumnComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");






let CreateCustomColumnComponent = class CreateCustomColumnComponent {
    constructor(windowManager, container, dataImportService, assetFileInfoService) {
        this.windowManager = windowManager;
        this.container = container;
        this.dataImportService = dataImportService;
        this.assetFileInfoService = assetFileInfoService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.onAddCustomColumn = new _angular_core__WEBPACK_IMPORTED_MODULE_5__["EventEmitter"]();
        this.columnNames = new Array();
        this.customColumnDataTypes = new Array();
    }
    ngOnInit() {
        // Get Suppported DataTypes
        this.dataImportService.getCustomColumnDataTypes().subscribe(dataTypes => {
            this.customColumnDataTypes = dataTypes;
        });
    }
    open(event) {
        event.preventDefault();
        this.assetFileInfoService.GetInternalColumns().forEach(c => {
            this.columnNames.push(c);
        });
        // this.customcolumn = new CustomColumn();
        this.title = 'Create Custom Column';
        this.action = 'Create';
        this.name = null;
        this.dataType = null;
        this.isNameValid = true;
        this.windowManager.open(this.content, 'Create Custom Column', {
            isModal: true
        });
    }
    close() {
        this.windowManager.close();
    }
    onSubmit(form) {
        this.isNameValid = this.checkName(this.name);
        if (form.valid && this.isNameValid) {
            if (this.action === 'Create') {
                this.windowManager.close();
                const customColumn = {
                    spreadsheetColumn: {},
                    dataTargetField: this.name,
                    importTemplateColumnId: this.generateTempId(),
                    columnDataType: this.dataType,
                    isCustom: true,
                    isAutoMapped: false
                };
                this.onAddCustomColumn.emit(customColumn);
            }
        }
    }
    checkName(name) {
        for (let i = 0; i < this.columnNames.length; i++) {
            if (name.toLowerCase() === this.columnNames[i].toLowerCase().replace(/\s/g, '')) {
                return false;
            }
        }
        return true;
    }
    generateTempId() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;
            return v.toString(16);
        });
    }
};
CreateCustomColumnComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_5__["ViewContainerRef"] },
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_2__["DataImportService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_1__["AssetFileInfoService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CreateCustomColumnComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CreateCustomColumnComponent.prototype, "onAddCustomColumn", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CreateCustomColumnComponent.prototype, "columnNames", void 0);
CreateCustomColumnComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Component"])({
        selector: 'create-custom-column',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./create-custom-column.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/create-custom-column.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ViewContainerRef"],
        _services_data_import_service__WEBPACK_IMPORTED_MODULE_2__["DataImportService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_1__["AssetFileInfoService"]])
], CreateCustomColumnComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-copy-finish.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-copy-finish.component.ts ***!
  \*****************************************************************************/
/*! exports provided: DataCopyFinishComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataCopyFinishComponent", function() { return DataCopyFinishComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_data_copy_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/data-copy.service */ "./client-src/app/data-import/services/data-copy.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");






let DataCopyFinishComponent = class DataCopyFinishComponent {
    constructor(route, router, dataCopyService) {
        this.route = route;
        this.router = router;
        this.dataCopyService = dataCopyService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.isError = this.dataCopyService.isError;
        this.errorMessage = this.dataCopyService.errorMessage;
        this.dataTargetName = this.dataCopyService.activeDataTargetName;
        this.replace = this.dataCopyService.activeReplace;
        this.selections = this.dataCopyService.activeSelections;
        this.copyFromGroupIds = this.dataCopyService.copyFromGroupIds;
        let dataTarget;
        if (this.dataTargetName === 'Client Inventory') {
            dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client;
        }
        else if (this.dataTargetName === 'Actual Inventory') {
            dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory;
        }
        if (!this.isError) {
            this.rowsCopied = 0;
            this.copyFromGroupIds.forEach(id => this.dataCopyService.getAssetCount(id, dataTarget, true).subscribe((res) => {
                if (!res) {
                    this.rowsCopied = 0;
                }
                this.rowsCopied += res;
            }, error => {
                this.rowsCopied = 0;
            }));
        }
    }
    finish(event) {
        this.router.navigate([`/project-profile/${this.groupId}/MainProfile`]);
    }
};
DataCopyFinishComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
    { type: _services_data_copy_service__WEBPACK_IMPORTED_MODULE_1__["DataCopyService"] }
];
DataCopyFinishComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-data-copy-finish',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-copy-finish.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-finish.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
        _services_data_copy_service__WEBPACK_IMPORTED_MODULE_1__["DataCopyService"]])
], DataCopyFinishComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-copy-groups.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-copy-groups.component.ts ***!
  \*****************************************************************************/
/*! exports provided: DataCopyGroupsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataCopyGroupsComponent", function() { return DataCopyGroupsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _portal_management_components_copy_group_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../portal-management/components/copy-group.component */ "./client-src/app/portal-management/components/copy-group.component.ts");
/* harmony import */ var _services_data_copy_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/data-copy.service */ "./client-src/app/data-import/services/data-copy.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");










let DataCopyGroupsComponent = class DataCopyGroupsComponent {
    constructor(wizardService, componentResolver, route, dataCopyService, helperService, translateService) {
        this.wizardService = wizardService;
        this.componentResolver = componentResolver;
        this.route = route;
        this.dataCopyService = dataCopyService;
        this.helperService = helperService;
        this.translateService = translateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.dataAlreadyExists = false;
        this.availableDataTargets = new Array();
        this.selections = new Array();
        this.selectionErrors = false;
        this.replace = true;
        this.model = {
            copyType: ''
        };
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.waiting = this.dataCopyService.getDataTargets().subscribe(result => {
            this.availableDataTargets = result.filter((dataTarget) => {
                return dataTarget.name === 'Client Inventory' || dataTarget.name === 'Actual Inventory';
            });
        });
        this.dataTargetName = this.dataCopyService.activeDataTargetName;
        this.replace = this.dataCopyService.activeReplace || true;
        if (this.dataCopyService.activeSelections) {
            this.dataCopyService.activeSelections.forEach((selection) => {
                this.addSelection(selection);
            });
        }
        else {
            this.addSelection();
        }
    }
    copyData() {
        this.selectionErrors = this.hasErrors();
        if (!this.selectionErrors) {
            this.dataCopyService.activeDataTargetName = this.dataTargetName;
            this.dataCopyService.activeReplace = this.replace;
            this.dataCopyService.activeSelections = this.selections;
            const dto = this.buildRequestDto();
            dto.prosRenewal = false;
            this.waiting = this.dataCopyService.copyGroups(dto).subscribe(res => {
                this.dataCopyService.isError = false;
                this.wizardService.setActiveTab('step-2-copy');
            }, error => {
                this.dataCopyService.isError = true;
                this.dataCopyService.errorMessage = this.translateService.instant(this.i18n.dataImport + error.error.message);
                this.wizardService.setActiveTab('step-2-copy');
            });
        }
    }
    buildRequestDto() {
        const request = {
            fromGroupIds: new Array(),
            toGroupId: this.groupId,
            dataTargetTo: null,
            memberIds: new Array(),
            siteIds: new Array(),
            replace: this.replace
        };
        if (this.dataTargetName === 'Client Inventory') {
            request.dataTargetTo = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].client;
        }
        else if (this.dataTargetName === 'Actual Inventory') {
            request.dataTargetTo = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].inventory;
        }
        this.selections.forEach((selection) => {
            const refInstance = selection.instance.ref.instance;
            // Add Groups
            if (refInstance.selectedGroup != null && !request.fromGroupIds.includes(refInstance.selectedGroup.id)) {
                request.fromGroupIds.push(refInstance.selectedGroupHierarchy.id);
            }
            // Add Members
            if (refInstance.selectedMember != null && !request.memberIds.includes(refInstance.selectedMember.id)) {
                request.memberIds.push(refInstance.selectedMember.id);
            }
            // Add Sites
            if (refInstance.selectedSite != null && !request.siteIds.includes(refInstance.selectedSite.id)) {
                request.siteIds.push(refInstance.selectedSite.id);
            }
        });
        this.dataCopyService.copyFromGroupIds = request.fromGroupIds;
        return request;
    }
    addSelection(existing) {
        const comp = this.componentResolver.resolveComponentFactory(_portal_management_components_copy_group_component__WEBPACK_IMPORTED_MODULE_1__["CopyGroupComponent"]);
        const selection = this.selectionsContainer.createComponent(comp);
        // Input References
        if (existing) {
            selection.instance.instanceId = existing.instance.instanceId;
            selection.instance.toGroupId = existing.instance.toGroupId;
            selection.instance.selectedContract = existing.instance.selectedContract;
            selection.instance.selectedGroupHierarchy = existing.instance.selectedGroupHierarchy;
            selection.instance.selectedGroup = existing.instance.selectedGroup;
            selection.instance.groups = existing.instance.groups;
            selection.instance.selectedMember = existing.instance.selectedMember;
            selection.instance.members = existing.instance.members;
            selection.instance.selectedSite = existing.instance.selectedSite;
            selection.instance.sites = existing.instance.sites;
            selection.instance.ref = selection;
        }
        else {
            selection.instance.instanceId = this.helperService.generateGuid();
            selection.instance.toGroupId = this.groupId;
            selection.instance.ref = selection;
        }
        selection.instance.componentRemoved.subscribe((instanceId) => {
            this.removeComponent(instanceId);
        });
        this.selections.push(selection);
    }
    dataTargetChanged(dataTargetName) {
        let dataTarget;
        if (dataTargetName === 'Client Inventory') {
            dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].client;
        }
        else if (dataTargetName === 'Actual Inventory') {
            dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].inventory;
        }
        this.dataCopyService.getAssetCount(this.groupId, dataTarget, true).subscribe((res) => {
            if (!res || res === 0) {
                this.dataAlreadyExists = false;
            }
            else {
                this.dataAlreadyExists = true;
            }
        }, error => {
            this.dataAlreadyExists = false;
        });
    }
    removeComponent(instanceId) {
        this.selections.forEach((selection, index) => {
            if (selection.instance.instanceId === instanceId) {
                this.selections.splice(index, 1);
            }
        });
    }
    hasErrors() {
        if (!this.dataTargetName || this.dataTargetName === '') {
            return true;
        }
        for (let i = 0; i < this.selections.length; i++) {
            const selection = this.selections[i];
            const refInstance = selection.instance.ref.instance;
            if (refInstance.selectedContract == null || refInstance.selectedGroup == null) {
                return true;
            }
        }
        return false;
    }
    hasSelections() {
        return this.selections.length > 0;
    }
    ngOnDestroy() {
        if (this.waiting) {
            this.waiting.unsubscribe();
        }
    }
    updateCopyType(event) {
        this.replace = event.target.value === 'replace';
    }
};
DataCopyGroupsComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__["WizardService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ComponentFactoryResolver"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] },
    { type: _services_data_copy_service__WEBPACK_IMPORTED_MODULE_2__["DataCopyService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_5__["TranslationManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('selections', { read: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"])
], DataCopyGroupsComponent.prototype, "selectionsContainer", void 0);
DataCopyGroupsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'app-data-copy-groups',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-copy-groups.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-groups.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__["WizardService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ComponentFactoryResolver"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"],
        _services_data_copy_service__WEBPACK_IMPORTED_MODULE_2__["DataCopyService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_5__["TranslationManager"]])
], DataCopyGroupsComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-copy-wizard.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-copy-wizard.component.ts ***!
  \*****************************************************************************/
/*! exports provided: DataCopyWizardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataCopyWizardComponent", function() { return DataCopyWizardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");





let DataCopyWizardComponent = class DataCopyWizardComponent {
    constructor(wizardService) {
        this.wizardService = wizardService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        // subscribe to home component messages
        this.subscription = this.wizardService.activeTab$.subscribe(activeTab => {
            this.activeTab = activeTab;
            this.wizardService.activeTabs.push(activeTab);
            if (this.tabs) {
                // Setting timeout to wait for tab to be set to enabled
                setTimeout(() => {
                    //
                    this.tabs.select(activeTab);
                }, 100);
            }
        });
    }
    ngOnInit() { }
    isActive(id) {
        return this.wizardService.activeTabs.indexOf(id) === -1;
    }
};
DataCopyWizardComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__["WizardService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])('copytabs', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbTabset"])
], DataCopyWizardComponent.prototype, "tabs", void 0);
DataCopyWizardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'app-data-copy',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-copy-wizard.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-wizard.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__["WizardService"]])
], DataCopyWizardComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-import-finish.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-import-finish.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DataImportFinishComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportFinishComponent", function() { return DataImportFinishComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/dtos/import-result.dto */ "./client-src/app/_api/dtos/import-result.dto.ts");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");







let DataImportFinishComponent = class DataImportFinishComponent {
    constructor(wizardService, dataImportService, router) {
        this.wizardService = wizardService;
        this.dataImportService = dataImportService;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.importResult = new _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_4__["ImportResultDto"]();
    }
    ngOnInit() {
        this.dataImport = this.dataImportService.activeDataImport;
        this.importResult = this.dataImportService.importResult;
        this.isError = !this.dataImportService.importResult.success;
        if (!this.isError) {
            this.wizardService.activeTabs = [];
            this.wizardService.clearActiveTab();
        }
    }
    onSave(event) {
        this.wizardService.activeTabs = [];
        this.wizardService.clearActiveTab();
        this.dataImportService.resetPublicProperties();
        this.router.navigate([`/project-profile/${this.groupId}/MainProfile`]);
    }
    back(event) {
        event.preventDefault();
        this.wizardService.setActiveTab('step-2');
    }
};
DataImportFinishComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"] },
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] }
];
DataImportFinishComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-data-import-finish',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-import-finish.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-finish.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_5__["WizardService"], _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
], DataImportFinishComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-import-mapping.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-import-mapping.component.ts ***!
  \********************************************************************************/
/*! exports provided: DataImportMappingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportMappingComponent", function() { return DataImportMappingComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _models_data_import_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_models/data-import.model */ "./client-src/app/_models/data-import.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_configuration_services_import_templates_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/_configuration/services/import-templates-api.service */ "./client-src/app/_api/_configuration/services/import-templates-api.service.ts");
/* harmony import */ var ng2_dragula__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ng2-dragula */ "./node_modules/ng2-dragula/dist/fesm2015/ng2-dragula.js");
/* harmony import */ var _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../quality-control/components/building/form/form-models/primary-info/primaryinfo-model */ "./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-model.ts");
/* harmony import */ var _quality_control_components_building_form_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../quality-control/components/building/form/form-models/copedata-model */ "./client-src/app/quality-control/components/building/form/form-models/copedata-model.ts");
/* harmony import */ var _quality_control_components_building_form_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../quality-control/components/building/form/form-models/building-flood-plain-model */ "./client-src/app/quality-control/components/building/form/form-models/building-flood-plain-model.ts");










// tslint:disable-next-line: max-line-length

// tslint:disable-next-line: max-line-length

// tslint:disable-next-line: max-line-length

let DataImportMappingComponent = class DataImportMappingComponent {
    constructor(dragulaService, wizardService, dataImportService, importTemplatesApiService) {
        this.dragulaService = dragulaService;
        this.wizardService = wizardService;
        this.dataImportService = dataImportService;
        this.importTemplatesApiService = importTemplatesApiService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
        this.showMappingAlert = false;
        this.showKeyFieldMappingAlert = false;
        this.dataImport = new _models_data_import_model__WEBPACK_IMPORTED_MODULE_5__["DataImport"]();
        this.hideAutoMapped = false;
        this.hideCategories = true;
        this.showHideAutoMappedText = 'Show Auto Mapped';
        this.showHideCategoriesText = 'Show Categories';
        this.sourceSpreadSheetColumns = new Array();
        this.spreadsheetColumnsAvail = new Array();
        this.dataTargetColumns = new Array();
        this.mapping = new Array();
        this.selectedDataTargetIds = new Array();
        this.keyFields = new Array();
        this.keyFieldId = '';
        this.mappedSpreadsheetColumns = 0;
        this.unmappedSpreadsheetColumns = 0;
        this.columnCategories = new Array();
        this.buildingCategories = [
            'Primary Info',
            'Location',
            'Valuation',
            'Superstructure',
            'Substructure',
            'Occupancy',
            'Construction',
            'Systems',
            'Site Attributes',
            'Additional Data',
            'CoreLogic',
            'Secondary COPE Data (Wind)',
            'Secondary COPE Data (Earthquake)',
            'Flood Zone',
            'Others'
        ];
        this.inventoryCategories = [
            'Account Information',
            'Accounting Information',
            'Cost Information',
            'Descriptive Information',
            'Locational Information',
            'NA Removing',
            'Unique ID',
            'MISC Information',
            'Others'
        ];
        this.isLoading = false;
        this.hasDisplayIdColumn = false;
    }
    ngOnInit() {
        const dataImport = this.dataImportService.activeDataImport;
        this.columnNames = new Array();
        const excelSummary = dataImport.excelSummary;
        this.activeReplace = this.dataImportService.activeReplace;
        if (excelSummary) {
            this.sourceSpreadsheetName = excelSummary.spreadsheetFileName;
            this.sourceSpreadSheetColumns = excelSummary.spreadsheetColumns;
            this.dataTargetColumns = excelSummary.dataTargetDescription.columns;
            this.dataTargetName = dataImport.spreadsheetUpload.dataTargetName;
            this.mapping = this.sortMapping(dataImport.mapping);
            this.populateColumnCategories(this.dataTargetName, dataImport.mapping);
        }
        this.dataTargetColumns.forEach(col => {
            this.columnNames.push(col.name);
        });
        this.sourceSpreadSheetColumns.forEach(col => {
            const isMapped = this.mapping.findIndex(c => c.spreadsheetColumn.name === col.name) >= 0;
            if (col.title.toLowerCase().replace(/\s/g, '') === 'displayid') {
                this.hasDisplayIdColumn = true;
            }
            this.spreadsheetColumnsAvail.push({ isMapped: isMapped, column: col });
        });
        this.sortSpreadsheetColumns();
        this.importTemplatesApiService
            .getImportTemplatesById(this.dataImportService.currentDataTargetId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroyed$))
            .subscribe(template => {
            this.dataTargetType = template.dataTarget;
            this.keyFields = template.importTemplateColumns.filter(column => {
                if (template.dataTarget === 3 && column.destinationEntity === 'Building') {
                    if (column.name === 'DisplayId') {
                        this.keyFieldId = column.id;
                    }
                    this.isBuilding = true;
                    return column;
                }
                else if (template.dataTarget <= 2 && column.destinationEntity === 'AssetFileRecord') {
                    return column;
                }
            });
        });
        this.updateMappedTotals();
    }
    ngOnDestroy() {
        this.destroyed$.next();
        // console.log('import upload destoryed');
    }
    onKeyFieldSelect() {
        if (this.keyFieldId !== '') {
            this.showKeyFieldMappingAlert = false;
        }
    }
    getSpreadsheetColumn(columnName) {
        return this.dataImportService.activeDataImport.excelSummary.spreadsheetColumns.find(c => c.name === columnName);
    }
    createMapping(value) {
        this.selectedDataTargetIds.push(value);
    }
    toggleAutoMapped() {
        this.hideAutoMapped = !this.hideAutoMapped;
        this.showHideAutoMappedText = this.hideAutoMapped ? 'Hide Auto-Mapped' : 'Show Auto-Mapped';
    }
    toggleCategories() {
        this.hideCategories = !this.hideCategories;
        this.showHideCategoriesText = !this.hideCategories ? 'Hide Categories' : 'Show Categories';
    }
    hasClass(el, name) {
        return new RegExp('(?:^|\\s+)' + name + '(?:\\s+|$)').test(el.className);
    }
    addClass(el, name) {
        if (!this.hasClass(el, name)) {
            el.className = el.className ? [el.className, name].join(' ') : name;
        }
    }
    handleCreatedCustomColumn(customColumn) {
        this.columnNames.push(customColumn.dataTargetField);
        this.mapping.push(customColumn);
    }
    updateAvailableOptions(event) {
        this.spreadsheetColumnsAvail.forEach(val => {
            if (this.mapping.findIndex(c => c.spreadsheetColumn.name === val.column.name) !== -1) {
                val.isMapped = true;
            }
            else {
                val.isMapped = false;
                // This block will toggle autoMapped in the event the user manually un-maps an automaped field
                const mappingIndex = this.mapping
                    .findIndex(c => c.dataTargetField.replace(/\s/g, '').toLowerCase() === val.column.title.replace(/\s/g, '').toLowerCase());
                if (mappingIndex !== -1) {
                    this.mapping[mappingIndex].isAutoMapped = false;
                }
            }
        });
        this.sortSpreadsheetColumns();
    }
    back(event) {
        event.preventDefault();
        this.wizardService.setActiveTab('step-1');
    }
    isMapped(columnName) {
        const mappedValue = this.dataImport.mapping.find(c => c.spreadsheetColumn != null && c.spreadsheetColumn.name === columnName);
        return mappedValue == null;
    }
    onSubmit(form) {
        this.isLoading = true;
        if (!this.activeReplace && this.keyFieldId === '') {
            this.showKeyFieldMappingAlert = true;
            this.isLoading = false;
            return;
        }
        if (!this.hasDisplayIdColumn && this.isBuilding) {
            this.isLoading = false;
            return;
        }
        if (this.mapping.length > 0) {
            this.dataImportService.setMapping(this.mapping);
            this.dataImportService.currentKeyFieldId = this.keyFieldId;
            this.wizardService.setActiveTab('step-3');
        }
        else {
            this.showMappingAlert = true;
        }
        this.isLoading = false;
    }
    updateMappedTotals() {
        this.mappedSpreadsheetColumns = this.spreadsheetColumnsAvail.filter(c => c.isMapped).length;
        this.unmappedSpreadsheetColumns = this.spreadsheetColumnsAvail.filter(c => c.isMapped === false).length;
    }
    sortSpreadsheetColumns() {
        const sortedArray = this.spreadsheetColumnsAvail.sort((a, b) => this.stringComparator(a.column.title, b.column.title));
        this.spreadsheetColumnsAvail = sortedArray;
    }
    sortMapping(columns) {
        const sortedArray = columns.sort((a, b) => this.stringComparator(a.dataTargetField, b.dataTargetField));
        return sortedArray;
    }
    stringComparator(a, b) {
        if (a < b) {
            return -1;
        }
        else if (a > b) {
            return 1;
        }
        else {
            return 0;
        }
    }
    populateColumnCategories(dataTargetName, columns) {
        let columnMap;
        dataTargetName = dataTargetName.toLowerCase().replace(/\s/g, '');
        if (dataTargetName.toLowerCase() === 'clientinventory'
            || dataTargetName === 'actualinventory'
            || dataTargetName === 'landimprovement'
            || dataTargetName === 'consolidatedinventory') {
            this.inventoryCategories.forEach((category) => {
                columnMap = new Array();
                columns.forEach(column => {
                    const dataTargetField = column.dataTargetField.toLowerCase().replace(/\s/g, '');
                    switch (category) {
                        case 'Account Information':
                            if (dataTargetField === 'accountclass'
                                || dataTargetField === 'accountdescription'
                                || dataTargetField === 'accountnumber'
                                || dataTargetField === 'glaccount'
                                || dataTargetField === 'glaccumaccount'
                                || dataTargetField === 'glassetaccount'
                                || dataTargetField === 'insuranceaccount'
                                || dataTargetField === 'assetclass'
                                || dataTargetField === 'classcode') {
                                columnMap.push(column);
                            }
                            break;
                        case 'Accounting Information':
                            if (dataTargetField === 'activitycode'
                                || dataTargetField === 'acquisitiondate'
                                || dataTargetField === 'depreciationmethod'
                                || dataTargetField === 'disposalcode'
                                || dataTargetField === 'functionactivity'
                                || dataTargetField === 'fundcontribution'
                                || dataTargetField === 'fundingsource'
                                || dataTargetField === 'lifemonths'
                                || dataTargetField === 'lifeyears'
                                || dataTargetField === 'perioddepreciation'
                                || dataTargetField === 'sourcecode'
                                || dataTargetField === 'accumulateddepreciation'
                                || dataTargetField === 'depreciationasofdate'
                                || dataTargetField === 'disposaldate') {
                                columnMap.push(column);
                            }
                            break;
                        case 'Cost Information':
                            if (dataTargetField === 'accumulateddepreciation'
                                || dataTargetField === 'costofreproductionnew'
                                || dataTargetField === 'historicalcost'
                                || dataTargetField === 'netproceeds'
                                || dataTargetField === 'salvagevalue') {
                                columnMap.push(column);
                            }
                            break;
                        case 'Descriptive Information':
                            if (dataTargetField === 'vendor'
                                || dataTargetField === 'description'
                                || dataTargetField === 'description2'
                                || dataTargetField === 'description3'
                                || dataTargetField === 'facedescription'
                                || dataTargetField === 'manufacturer'
                                || dataTargetField === 'modelnumber'
                                || dataTargetField === 'quantity'
                                || dataTargetField === 'serialnumber') {
                                columnMap.push(column);
                            }
                            break;
                        case 'Locational Information':
                            if (dataTargetField === 'departmentname'
                                || dataTargetField === 'departmentnumber'
                                || dataTargetField === 'sitename'
                                || dataTargetField === 'sitenumber'
                                || dataTargetField === 'buildingname'
                                || dataTargetField === 'buildingnumber'
                                || dataTargetField === 'city'
                                || dataTargetField === 'division'
                                || dataTargetField === 'floor'
                                || dataTargetField === 'locationinplant'
                                || dataTargetField === 'plant'
                                || dataTargetField === 'room'
                                || dataTargetField === 'membername'
                                || dataTargetField === 'membernumber') {
                                columnMap.push(column);
                            }
                            break;
                        case 'NA Removing':
                            if (dataTargetField === 'inventoryimageurl1'
                                || dataTargetField === 'inventoryimageurl2'
                                || dataTargetField === 'inventoryimageurl3'
                                || dataTargetField === 'inventoryimageurl4'
                                || dataTargetField === 'inventoryimageurl5'
                                || dataTargetField === 'inventoryimageurl6'
                                || dataTargetField === 'inventoryimageurl7') {
                                columnMap.push(column);
                            }
                            break;
                        case 'Unique ID':
                            if (dataTargetField === 'assettagnumber'
                                || dataTargetField === 'audittrail'
                                || dataTargetField === 'oldtagnumber'
                                || dataTargetField === 'displayid') {
                                columnMap.push(column);
                            }
                            break;
                        case 'MISC Information':
                            if (dataTargetField === 'businessunit'
                                || dataTargetField === 'invoicenumber'
                                || dataTargetField === 'purchaseorder'
                                || dataTargetField === 'lastinventorydate'
                                || dataTargetField === 'projectnumber'
                                || dataTargetField === 'propertytype'
                                || dataTargetField === 'shipmenttrackingnumber') {
                                columnMap.push(column);
                            }
                            break;
                        case 'Others':
                            columnMap.push(column);
                            break;
                        default: break;
                    }
                });
                if (columnMap.length > 0) {
                    this.columnCategories.push({
                        categoryName: category,
                        columnMap: columnMap
                    });
                    columns = columns.filter(column => !columnMap.includes(column));
                }
            });
        }
        if (dataTargetName === 'building' || dataTargetName === 'minorbuilding') {
            this.buildingCategories.forEach((category) => {
                columnMap = new Array();
                columns.forEach(column => {
                    const dataTargetField = column.dataTargetField.toLowerCase().replace(/\s/g, '');
                    switch (category) {
                        case 'Primary Info':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["PrimaryInfoFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["PrimaryInfoFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Location':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingLocationFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingLocationFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Valuation':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingValuationFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingValuationFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Superstructure':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSuperstructureFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSuperstructureFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Substructure':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSubStructureFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSubStructureFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Occupancy':
                            if (dataTargetField.startsWith('occupancy')
                                || dataTargetField.startsWith('storyheight')) {
                                columnMap.push(column);
                            }
                            break;
                        case 'Construction':
                            if (dataTargetField.startsWith('ceilingfinish')
                                || dataTargetField.startsWith('coolingsystem')
                                || dataTargetField.startsWith('electricalquality')
                                || dataTargetField.startsWith('exteriorwallfinish')
                                || dataTargetField.startsWith('floorfinish')
                                || dataTargetField.startsWith('heatingsystem')
                                || dataTargetField.startsWith('interiorwallfinish')
                                || dataTargetField.startsWith('isoclass')
                                || dataTargetField.startsWith('partitionwallstructure')
                                || dataTargetField.startsWith('roofmaterial')
                                || dataTargetField.startsWith('roofpitch')) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Systems':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSystemFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSystemFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Site Attributes':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSiteAttributeFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSiteAttributeFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Additional Data':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["AdditionalDataFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["AdditionalDataFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        case 'CoreLogic':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["CoreLogicFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["CoreLogicFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Secondary COPE Data (Wind)':
                            if (_quality_control_components_building_form_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_11__["CopedataWindFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_11__["CopedataWindFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Secondary COPE Data (Earthquake)':
                            if (_quality_control_components_building_form_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_11__["CopeDataEarthquakeFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_11__["CopeDataEarthquakeFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Flood Zone':
                            if (_quality_control_components_building_form_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_12__["InitialFloodPlainFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_12__["InitialFloodPlainFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                // tslint:disable-next-line: max-line-length
                                || _quality_control_components_building_form_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_12__["BuildingFloodPlainFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_12__["BuildingFloodPlainFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        // tslint:disable-next-line: max-line-length
                        case 'Others':
                            if (_quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSubStructureFieldLayout"].left.findIndex(field => field.toLowerCase() === dataTargetField) !== -1
                                || _quality_control_components_building_form_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_10__["BuildingSubStructureFieldLayout"].right.findIndex(field => field.toLowerCase() === dataTargetField) !== -1) {
                                columnMap.push(column);
                            }
                            break;
                        default: break;
                    }
                });
                if (columnMap.length > 0) {
                    this.columnCategories.push({
                        categoryName: category,
                        columnMap: columnMap
                    });
                    columns = columns.filter(column => !columnMap.includes(column));
                }
            });
        }
    }
};
DataImportMappingComponent.ctorParameters = () => [
    { type: ng2_dragula__WEBPACK_IMPORTED_MODULE_9__["DragulaService"] },
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__["WizardService"] },
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"] },
    { type: _api_configuration_services_import_templates_api_service__WEBPACK_IMPORTED_MODULE_8__["ImportTemplatesApiService"] }
];
DataImportMappingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'app-data-import-mapping',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-import-mapping.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-mapping.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ng2_dragula__WEBPACK_IMPORTED_MODULE_9__["DragulaService"],
        _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__["WizardService"],
        _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"],
        _api_configuration_services_import_templates_api_service__WEBPACK_IMPORTED_MODULE_8__["ImportTemplatesApiService"]])
], DataImportMappingComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-import-parent.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-import-parent.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DataImportParentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportParentComponent", function() { return DataImportParentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let DataImportParentComponent = class DataImportParentComponent {
    constructor(dataImportService) {
        this.dataImportService = dataImportService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() { }
};
DataImportParentComponent.ctorParameters = () => [
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"] }
];
DataImportParentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-data-import-parent',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-import-parent.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-parent.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"]])
], DataImportParentComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-import-review.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-import-review.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DataImportReviewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportReviewComponent", function() { return DataImportReviewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/dtos/import-result.dto */ "./client-src/app/_api/dtos/import-result.dto.ts");
/* harmony import */ var _api_dtos_import_spreadsheet_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/dtos/import-spreadsheet.dto */ "./client-src/app/_api/dtos/import-spreadsheet.dto.ts");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");











let DataImportReviewComponent = class DataImportReviewComponent {
    constructor(wizardService, dataImportService, alertService) {
        this.wizardService = wizardService;
        this.dataImportService = dataImportService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_9__["Subject"]();
        this.multiple = false;
        this.allowUnsort = true;
        this.APIError = '';
        this.spreadsheetHasErrors = false;
        this.sort = [];
    }
    sortChange(sort) {
        this.sort = sort;
        this.loadSampleData();
    }
    loadSampleData() {
        this.gridView = {
            data: Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_1__["orderBy"])(this.sampleData, this.sort),
            total: this.sampleData.length
        };
    }
    ngOnInit() {
        this.dataImport = this.dataImportService.activeDataImport;
        const spreadSheetMapping = this.dataImport.mapping.filter(c => !!c.spreadsheetColumn && !!c.spreadsheetColumn.name);
        const uniqueColumn = spreadSheetMapping.find(column => {
            return column.importTemplateColumnId === this.dataImportService.currentKeyFieldId;
        });
        this.dto = new _api_dtos_import_spreadsheet_dto__WEBPACK_IMPORTED_MODULE_7__["ImportSpreadsheetDto"](this.dataImport.excelSummary.id, this.dataImport.spreadsheetUpload.groupId, this.dataImport.spreadsheetUpload.dataTargetId, 10, {
            SpreadsheetMappings: spreadSheetMapping,
            Mode: this.dataImportService.activeReplace === true ? 0 : 1,
            UniqueIdentifierColumn: uniqueColumn
        });
        this.dataImportService
            .getReviewData(this.dto)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyed$))
            .subscribe(data => {
            if (data && data.dataRows) {
                this.sampleData = data.dataRows;
                this.headers = this.getKeys(this.sampleData[0]);
            }
        }, error => {
            this.APIError = error.error;
            this.spreadsheetHasErrors = true;
            this.dataImportService.importResult.errors = ['error'];
            this.alertService.error(!!error.error ? error.error : 'An unknown error has occurred while importing the spreadsheet');
        });
    }
    back(event) {
        event.preventDefault();
        this.wizardService.setActiveTab('step-2');
    }
    onSubmit(form) {
        this.isLoading = true;
        this.dataImportService
            .importSpreadsheet(this.dto)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyed$))
            .subscribe(data => {
            const importResult = new _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_6__["ImportResultDto"](data.success, data.rowsAdded, data.rowsUpdated, data.errors, data.name);
            this.isLoading = false;
            this.wizardService.setActiveTab('step-4');
            this.dataImportService.importResult = importResult;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    getKeys(obj) {
        const keys = Object.keys(obj).map(key => {
            return { key: key };
        });
        return keys;
    }
};
DataImportReviewComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_8__["WizardService"] },
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_2__["DataImportService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] }
];
DataImportReviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["Component"])({
        selector: 'app-data-import-review',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-import-review.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-review.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_8__["WizardService"],
        _services_data_import_service__WEBPACK_IMPORTED_MODULE_2__["DataImportService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"]])
], DataImportReviewComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-import-upload.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-import-upload.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DataImportUploadComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportUploadComponent", function() { return DataImportUploadComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_dtos_upload_spreadsheet_dto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/dtos/upload-spreadsheet.dto */ "./client-src/app/_api/dtos/upload-spreadsheet.dto.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");












let DataImportUploadComponent = class DataImportUploadComponent {
    constructor(route, wizardService, alertService, modalService, dataImportService) {
        this.route = route;
        this.wizardService = wizardService;
        this.alertService = alertService;
        this.modalService = modalService;
        this.dataImportService = dataImportService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__["Subject"]();
        this.isLoading = false;
        this.importAfterReconciliation = this.dataImportService.importAfterReconciliation;
        this.replace = false;
        this.isButtonSelected = false;
        this.dto = new _api_dtos_upload_spreadsheet_dto__WEBPACK_IMPORTED_MODULE_9__["UploadSpreadsheetDto"]();
        this.locales = new Array();
        this.availableDataTargets = new Array();
        this.APIError = '';
        this.groupId = "";
        this.showMissingFileAlert = false;
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        if (this.dataImportService.importResult.success) {
            this.dataImportService.resetPublicProperties();
        }
        if (this.dataImportService.activeReplace !== undefined) {
            this.replace = this.dataImportService.activeReplace;
        }
        this.dataImport = this.dataImportService.activeDataImport;
        if (this.dataImport.spreadsheetUpload) {
            this.dto.file = this.dataImport.spreadsheetUpload.file;
            this.dto.fileName = this.dataImport.excelSummary.spreadsheetFileName;
            this.dto.groupId = this.dataImport.spreadsheetUpload.groupId;
            this.dto.localeId = this.dataImport.spreadsheetUpload.localeId;
            this.dto.dataTargetId = this.dataImport.spreadsheetUpload.dataTargetId;
        }
        this.dataImportService
            .getLocales()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyed$))
            .subscribe(result => {
            this.locales = result;
        });
        Object(rxjs__WEBPACK_IMPORTED_MODULE_10__["forkJoin"])(this.dataImportService.getDataTargets(), this.dataImportService.getDataTargetsForGroup(this.groupId)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyed$))
            .subscribe(results => {
            if (this.dataImportService.reconciliationStarted) {
                this.availableDataTargets = results[0].filter((dataTarget) => {
                    return dataTarget.name === 'Client Inventory' || dataTarget.name === 'Actual Inventory';
                });
            }
            else if (this.dataImportService.reconciliationCompleted) {
                this.availableDataTargets = results[0].filter((dataTarget) => {
                    return dataTarget.name.startsWith('Consolidated') || dataTarget.name.includes('Building');
                });
            }
            else {
                this.availableDataTargets = results[0];
                if (results[1] != null && results[1].length > 0)
                    this.availableDataTargets = this.availableDataTargets.concat(results[1]);
            }
        });
        this.dto.groupId = this.route.parent.snapshot.paramMap.get('groupId');
    }
    fileChange(event) {
        const fileList = event.target.files;
        if (fileList.length > 0) {
            this.dto.file = fileList[0];
            this.showMissingFileAlert = false;
        }
    }
    buttonChange(option) {
        this.isButtonSelected = true;
        this.replace = option === 'replace';
    }
    clear() {
        this.dataImport.spreadsheetUpload = null;
    }
    closeAlert(alert) {
        this.showMissingFileAlert = false;
    }
    displayPostReconcilModal(event, form) {
        event.preventDefault();
        event.stopImmediatePropagation();
        const modalOptions = {
            heading: {
                key: 'Import Alert'
            },
            body: {
                key: 'If you continue, past reconciliation relationships will be removed.'
            },
            dismissText: {
                key: 'Cancel'
            },
            successText: {
                key: 'Continue'
            },
            translateBaseKey: this.i18n.dataImport
        };
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmModalComponent"], { size: 'lg' });
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.onSubmit(form);
        }, cancel => { });
    }
    displayReplaceWarning(form) {
        const modalOptions = {
            heading: {
                key: 'Data import replace warning'
            },
            body: {
                key: 'Data import replace warning msg'
            },
            dismissText: {
                key: 'Cancel'
            },
            successText: {
                key: 'Continue'
            },
            translateBaseKey: this.i18n.dataImport
        };
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmModalComponent"], { size: 'lg' });
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.uploadSpreadsheet();
        }, cancel => {
            this.isLoading = false;
        });
    }
    onSubmit(form) {
        this.isLoading = true;
        if (!this.isButtonSelected) {
            this.isLoading = false;
            return;
        }
        if (form.valid) {
            if (this.replace) {
                this.dataImportService.getDataCountByGroup(this.dto).subscribe((count) => {
                    if (count > 0) {
                        this.displayReplaceWarning(form);
                    }
                    else {
                        this.uploadSpreadsheet();
                    }
                });
            }
            else {
                this.uploadSpreadsheet();
            }
        }
        else {
            this.isLoading = false;
        }
    }
    uploadSpreadsheet() {
        this.dataImportService
            .uploadSpreadsheet(this.dto, this.dto.dataTargetId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyed$))
            .subscribe(result => {
            // console.log(result);
            if (typeof result === 'number') {
                this.alertService.error('There was an error processing the file. Please check the file, correct any errors and submit again.');
                this.isLoading = false;
            }
            else if (result) {
                if (result.importErrors && result.importErrors.length > 0) {
                    this.alertService
                        .error(`There were {{importErrorCount}} import errors.\n* {{importError}} \nPlease correct any errors and submit again.`, null, { importErrorCount: result.importErrors.length, importError: result.importErrors[0] });
                    this.isLoading = false;
                }
                else {
                    this.dataImportService.getExistingCustomColumns(this.dto.groupId, result.dataTargetDescription.name)
                        .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyed$))
                        .subscribe(cols => {
                        this.dataImportService.activeReplace = this.replace;
                        this.dto.dataTargetName = this.availableDataTargets.find(c => c.id === this.dto.dataTargetId).name;
                        this.dataImportService.currentDataTargetId = this.dto.dataTargetId;
                        cols.forEach(c => { c.spreadsheetColumn = {}; });
                        this.dataImportService.initDataImport(result, this.dto, cols);
                        this.wizardService.setActiveTab('step-2');
                        this.isLoading = false;
                    });
                }
            }
            else {
                this.isLoading = false;
                this.showMissingFileAlert = true;
            }
        }, error => {
            this.isLoading = false;
            this.APIError = error.error;
            // This needs to be more descriptive
            this.showMissingFileAlert = true;
        });
    }
    isConsolidatedSelected() {
        const dataTarget = this.availableDataTargets.find(a => a.id === this.dto.dataTargetId);
        if (dataTarget && dataTarget.name.startsWith('Consolidated')) {
            this.buttonChange('append');
            return true;
        }
        return false;
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
};
DataImportUploadComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] },
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_7__["WizardService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__["NgbModal"] },
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"] }
];
DataImportUploadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["Component"])({
        selector: 'app-data-import-upload',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-import-upload.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-upload.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"],
        _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_7__["WizardService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__["NgbModal"],
        _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"]])
], DataImportUploadComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-import-wizard.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-import-wizard.component.ts ***!
  \*******************************************************************************/
/*! exports provided: DataImportWizardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportWizardComponent", function() { return DataImportWizardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/services/group-search.service */ "./client-src/app/_api/services/group-search.service.ts");
/* harmony import */ var _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/services/dashboard/contract.service */ "./client-src/app/_api/services/dashboard/contract.service.ts");











let DataImportWizardComponent = class DataImportWizardComponent {
    constructor(wizardService, route, dataImportService, contractService, groupService) {
        this.wizardService = wizardService;
        this.route = route;
        this.dataImportService = dataImportService;
        this.contractService = contractService;
        this.groupService = groupService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        // subscribe to home component messages
        this.wizardService.activeTab$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroyed$)).subscribe(activeTab => {
            this.activeTab = activeTab;
            this.wizardService.activeTabs.push(activeTab);
            if (this.tabs) {
                // Setting timeout to wait for tab to be set to enabled
                setTimeout(() => {
                    //
                    this.tabs.select(activeTab);
                }, 100);
            }
        });
    }
    ngOnInit() {
        this.isLoading = true;
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.groupService
            .getContractGroup(this.groupId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroyed$))
            .subscribe(result => {
            this.contractId = result.contractId;
            this.contractService
                .getContractGroupsByGroupId(this.contractId, this.groupId)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroyed$))
                .subscribe(contractGroups => {
                this.dataImportService.dataImportHistory = contractGroups[0].recordCounts.length ? true : false;
                if (contractGroups[0].reconciliationProgress.toLowerCase() === 'notstarted') {
                    this.dataImportService.importAfterReconciliation = false;
                    this.dataImportService.reconciliationStarted = false;
                }
                else if (contractGroups[0].reconciliationProgress.toLowerCase() === 'started') {
                    this.dataImportService.reconciliationStarted = true;
                }
                else if (contractGroups[0].reconciliationProgress.toLowerCase() === 'completed') {
                    this.dataImportService.importAfterReconciliation = true;
                    this.dataImportService.reconciliationCompleted = true;
                }
                this.canDataImport = true;
                this.isLoading = false;
            }, error => {
                this.errorMessage = 'Error determining reconciliation status, please try again later.';
                this.isLoading = false;
                this.canDataImport = false;
            });
        }, error => {
            this.errorMessage = 'Error loading group, please try again.';
            this.isLoading = false;
            this.canDataImport = false;
        });
    }
    isActive(id) {
        return this.wizardService.activeTabs.indexOf(id) === -1;
    }
    ngOnDestroy() {
        this.destroyed$.next();
        // console.log('import wizard destoryed');
    }
};
DataImportWizardComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_7__["WizardService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] },
    { type: _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"] },
    { type: _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_10__["ContractService"] },
    { type: _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_9__["GroupSearchService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('tabs', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__["NgbTabset"])
], DataImportWizardComponent.prototype, "tabs", void 0);
DataImportWizardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'app-data-import',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-import-wizard.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-wizard.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_7__["WizardService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"],
        _services_data_import_service__WEBPACK_IMPORTED_MODULE_1__["DataImportService"],
        _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_10__["ContractService"],
        _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_9__["GroupSearchService"]])
], DataImportWizardComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/data-pros-renewal.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/data-import/components/data-pros-renewal.component.ts ***!
  \******************************************************************************/
/*! exports provided: DataProsRenewalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataProsRenewalComponent", function() { return DataProsRenewalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _portal_management_components_copy_group_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../portal-management/components/copy-group.component */ "./client-src/app/portal-management/components/copy-group.component.ts");
/* harmony import */ var _services_data_copy_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/data-copy.service */ "./client-src/app/data-import/services/data-copy.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");










let DataProsRenewalComponent = class DataProsRenewalComponent {
    constructor(wizardService, componentResolver, route, dataCopyService, helperService, translateService) {
        this.wizardService = wizardService;
        this.componentResolver = componentResolver;
        this.route = route;
        this.dataCopyService = dataCopyService;
        this.helperService = helperService;
        this.translateService = translateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.dataAlreadyExists = false;
        this.availableDataTargets = new Array();
        this.selections = new Array();
        this.selectionErrors = false;
        this.replace = true;
        this.model = {
            copyType: ''
        };
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.waiting = this.dataCopyService.getDataTargets().subscribe(result => {
            this.availableDataTargets = result.filter((dataTarget) => {
                return dataTarget.name === 'Client Inventory' || dataTarget.name === 'Actual Inventory';
            });
        });
        this.dataTargetName = this.dataCopyService.activeDataTargetName;
        this.replace = this.dataCopyService.activeReplace || true;
        if (this.dataCopyService.activeSelections) {
            this.dataCopyService.activeSelections.forEach((selection) => {
                this.addSelection(selection);
            });
        }
        else {
            this.addSelection();
        }
    }
    prosRenewal() {
        this.selectionErrors = this.hasErrors();
        if (!this.selectionErrors) {
            this.dataCopyService.activeDataTargetName = this.dataTargetName;
            this.dataCopyService.activeReplace = this.replace;
            this.dataCopyService.activeSelections = this.selections;
            const dto = this.buildRequestDto();
            dto.prosRenewal = true;
            this.waiting = this.dataCopyService.copyGroups(dto).subscribe(res => {
                this.dataCopyService.isError = false;
                this.wizardService.setActiveTab('step-2-copy');
            }, error => {
                this.dataCopyService.isError = true;
                this.dataCopyService.errorMessage = this.translateService.instant(this.i18n.dataImport + error.error.message);
                this.wizardService.setActiveTab('step-2-copy');
            });
        }
    }
    buildRequestDto() {
        const request = {
            fromGroupIds: new Array(),
            toGroupId: this.groupId,
            dataTargetTo: null,
            memberIds: new Array(),
            siteIds: new Array(),
            replace: this.replace
        };
        if (this.dataTargetName === 'Client Inventory') {
            request.dataTargetTo = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].client;
        }
        else if (this.dataTargetName === 'Actual Inventory') {
            request.dataTargetTo = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].inventory;
        }
        this.selections.forEach((selection) => {
            const refInstance = selection.instance.ref.instance;
            // Add Groups
            if (refInstance.selectedGroup != null && !request.fromGroupIds.includes(refInstance.selectedGroup.id)) {
                request.fromGroupIds.push(refInstance.selectedGroupHierarchy.id);
            }
            // Add Members
            if (refInstance.selectedMember != null && !request.memberIds.includes(refInstance.selectedMember.id)) {
                request.memberIds.push(refInstance.selectedMember.id);
            }
            // Add Sites
            if (refInstance.selectedSite != null && !request.siteIds.includes(refInstance.selectedSite.id)) {
                request.siteIds.push(refInstance.selectedSite.id);
            }
        });
        this.dataCopyService.copyFromGroupIds = request.fromGroupIds;
        return request;
    }
    addSelection(existing) {
        const comp = this.componentResolver.resolveComponentFactory(_portal_management_components_copy_group_component__WEBPACK_IMPORTED_MODULE_1__["CopyGroupComponent"]);
        const selection = this.selectionsContainer.createComponent(comp);
        // Input References
        if (existing) {
            selection.instance.instanceId = existing.instance.instanceId;
            selection.instance.toGroupId = existing.instance.toGroupId;
            selection.instance.selectedContract = existing.instance.selectedContract;
            selection.instance.selectedGroupHierarchy = existing.instance.selectedGroupHierarchy;
            selection.instance.selectedGroup = existing.instance.selectedGroup;
            selection.instance.groups = existing.instance.groups;
            selection.instance.selectedMember = existing.instance.selectedMember;
            selection.instance.members = existing.instance.members;
            selection.instance.selectedSite = existing.instance.selectedSite;
            selection.instance.sites = existing.instance.sites;
            selection.instance.ref = selection;
        }
        else {
            selection.instance.instanceId = this.helperService.generateGuid();
            selection.instance.toGroupId = this.groupId;
            selection.instance.ref = selection;
        }
        selection.instance.componentRemoved.subscribe((instanceId) => {
            this.removeComponent(instanceId);
        });
        this.selections.push(selection);
    }
    dataTargetChanged(dataTargetName) {
        let dataTarget;
        if (dataTargetName === 'Client Inventory') {
            dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].client;
        }
        else if (dataTargetName === 'Actual Inventory') {
            dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].inventory;
        }
        this.dataCopyService.getAssetCount(this.groupId, dataTarget, true).subscribe((res) => {
            if (!res || res === 0) {
                this.dataAlreadyExists = false;
            }
            else {
                this.dataAlreadyExists = true;
            }
        }, error => {
            this.dataAlreadyExists = false;
        });
    }
    removeComponent(instanceId) {
        this.selections.forEach((selection, index) => {
            if (selection.instance.instanceId === instanceId) {
                this.selections.splice(index, 1);
            }
        });
    }
    hasErrors() {
        if (!this.dataTargetName || this.dataTargetName === '') {
            return true;
        }
        for (let i = 0; i < this.selections.length; i++) {
            const selection = this.selections[i];
            const refInstance = selection.instance.ref.instance;
            if (refInstance.selectedContract == null || refInstance.selectedGroup == null) {
                return true;
            }
        }
        return false;
    }
    hasSelections() {
        return this.selections.length > 0;
    }
    ngOnDestroy() {
        if (this.waiting) {
            this.waiting.unsubscribe();
        }
    }
    updateCopyType(event) {
        this.replace = event.target.value === 'replace';
    }
};
DataProsRenewalComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__["WizardService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ComponentFactoryResolver"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] },
    { type: _services_data_copy_service__WEBPACK_IMPORTED_MODULE_2__["DataCopyService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_5__["TranslationManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('selections', { read: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"])
], DataProsRenewalComponent.prototype, "selectionsContainer", void 0);
DataProsRenewalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'app-data-pros-renewal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./data-pros-renewal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-pros-renewal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_9__["WizardService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ComponentFactoryResolver"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"],
        _services_data_copy_service__WEBPACK_IMPORTED_MODULE_2__["DataCopyService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_5__["TranslationManager"]])
], DataProsRenewalComponent);



/***/ }),

/***/ "./client-src/app/data-import/components/pros-renewal-wizard.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/data-import/components/pros-renewal-wizard.component.ts ***!
  \********************************************************************************/
/*! exports provided: ProsRenewalWizardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProsRenewalWizardComponent", function() { return ProsRenewalWizardComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_ui/services/wizard.service */ "./client-src/app/_ui/services/wizard.service.ts");





let ProsRenewalWizardComponent = class ProsRenewalWizardComponent {
    constructor(wizardService) {
        this.wizardService = wizardService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        // subscribe to home component messages
        this.subscription = this.wizardService.activeTab$.subscribe(activeTab => {
            this.activeTab = activeTab;
            this.wizardService.activeTabs.push(activeTab);
            if (this.tabs) {
                // Setting timeout to wait for tab to be set to enabled
                setTimeout(() => {
                    //
                    this.tabs.select(activeTab);
                }, 100);
            }
        });
    }
    ngOnInit() { }
    isActive(id) {
        return this.wizardService.activeTabs.indexOf(id) === -1;
    }
};
ProsRenewalWizardComponent.ctorParameters = () => [
    { type: _ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__["WizardService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])('prostabs', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbTabset"])
], ProsRenewalWizardComponent.prototype, "tabs", void 0);
ProsRenewalWizardComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'pros-renewal-wizard',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./pros-renewal-wizard.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/pros-renewal-wizard.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ui_services_wizard_service__WEBPACK_IMPORTED_MODULE_4__["WizardService"]])
], ProsRenewalWizardComponent);



/***/ }),

/***/ "./client-src/app/data-import/data-import.module.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/data-import/data-import.module.ts ***!
  \**********************************************************/
/*! exports provided: DataImportModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportModule", function() { return DataImportModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_data_import_parent_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/data-import-parent.component */ "./client-src/app/data-import/components/data-import-parent.component.ts");
/* harmony import */ var _components_data_import_upload_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/data-import-upload.component */ "./client-src/app/data-import/components/data-import-upload.component.ts");
/* harmony import */ var _components_data_import_mapping_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/data-import-mapping.component */ "./client-src/app/data-import/components/data-import-mapping.component.ts");
/* harmony import */ var _components_data_import_review_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/data-import-review.component */ "./client-src/app/data-import/components/data-import-review.component.ts");
/* harmony import */ var _components_data_import_finish_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/data-import-finish.component */ "./client-src/app/data-import/components/data-import-finish.component.ts");
/* harmony import */ var _components_data_import_wizard_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/data-import-wizard.component */ "./client-src/app/data-import/components/data-import-wizard.component.ts");
/* harmony import */ var _components_create_custom_column_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/create-custom-column.component */ "./client-src/app/data-import/components/create-custom-column.component.ts");
/* harmony import */ var _components_data_copy_groups_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/data-copy-groups.component */ "./client-src/app/data-import/components/data-copy-groups.component.ts");
/* harmony import */ var _components_data_copy_finish_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/data-copy-finish.component */ "./client-src/app/data-import/components/data-copy-finish.component.ts");
/* harmony import */ var _components_data_copy_wizard_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/data-copy-wizard.component */ "./client-src/app/data-import/components/data-copy-wizard.component.ts");
/* harmony import */ var _pipes_show_auto_mapped_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pipes/show-auto-mapped.pipe */ "./client-src/app/data-import/pipes/show-auto-mapped.pipe.ts");
/* harmony import */ var _api_configuration_services_import_templates_api_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../_api/_configuration/services/import-templates-api.service */ "./client-src/app/_api/_configuration/services/import-templates-api.service.ts");
/* harmony import */ var _services_data_import_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/data-import.service */ "./client-src/app/data-import/services/data-import.service.ts");
/* harmony import */ var _services_data_copy_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/data-copy.service */ "./client-src/app/data-import/services/data-copy.service.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var _api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../_api/services/data-import/data-import-repository.service */ "./client-src/app/_api/services/data-import/data-import-repository.service.ts");
/* harmony import */ var _components_pros_renewal_wizard_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/pros-renewal-wizard.component */ "./client-src/app/data-import/components/pros-renewal-wizard.component.ts");
/* harmony import */ var _components_data_pros_renewal_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/data-pros-renewal.component */ "./client-src/app/data-import/components/data-pros-renewal.component.ts");






























let DataImportModule = class DataImportModule {
};
DataImportModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["NgModule"])({
        imports: [
            _core_core_module__WEBPACK_IMPORTED_MODULE_16__["CoreModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_20__["BrowserModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_19__["NgbModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_21__["BrowserAnimationsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_22__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_23__["FormsModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_24__["GridModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_25__["HttpClientModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_26__["LaddaModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_17__["OrderModule"]
        ],
        declarations: [
            _components_data_import_parent_component__WEBPACK_IMPORTED_MODULE_2__["DataImportParentComponent"],
            _components_data_import_upload_component__WEBPACK_IMPORTED_MODULE_3__["DataImportUploadComponent"],
            _components_data_import_mapping_component__WEBPACK_IMPORTED_MODULE_4__["DataImportMappingComponent"],
            _components_data_import_review_component__WEBPACK_IMPORTED_MODULE_5__["DataImportReviewComponent"],
            _components_data_import_finish_component__WEBPACK_IMPORTED_MODULE_6__["DataImportFinishComponent"],
            _components_data_import_wizard_component__WEBPACK_IMPORTED_MODULE_7__["DataImportWizardComponent"],
            _components_data_copy_groups_component__WEBPACK_IMPORTED_MODULE_9__["DataCopyGroupsComponent"],
            _components_data_copy_finish_component__WEBPACK_IMPORTED_MODULE_10__["DataCopyFinishComponent"],
            _components_data_copy_wizard_component__WEBPACK_IMPORTED_MODULE_11__["DataCopyWizardComponent"],
            _components_create_custom_column_component__WEBPACK_IMPORTED_MODULE_8__["CreateCustomColumnComponent"],
            _pipes_show_auto_mapped_pipe__WEBPACK_IMPORTED_MODULE_12__["ShowAutoMappedPipe"],
            _components_pros_renewal_wizard_component__WEBPACK_IMPORTED_MODULE_28__["ProsRenewalWizardComponent"],
            _components_data_pros_renewal_component__WEBPACK_IMPORTED_MODULE_29__["DataProsRenewalComponent"]
        ],
        providers: [
            _api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_27__["DataImportRepository"],
            _services_data_import_service__WEBPACK_IMPORTED_MODULE_14__["DataImportService"],
            _services_data_copy_service__WEBPACK_IMPORTED_MODULE_15__["DataCopyService"],
            _api_configuration_services_import_templates_api_service__WEBPACK_IMPORTED_MODULE_13__["ImportTemplatesApiService"]
        ]
    })
], DataImportModule);



/***/ }),

/***/ "./client-src/app/data-import/pipes/show-auto-mapped.pipe.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/data-import/pipes/show-auto-mapped.pipe.ts ***!
  \*******************************************************************/
/*! exports provided: ShowAutoMappedPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowAutoMappedPipe", function() { return ShowAutoMappedPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ShowAutoMappedPipe = class ShowAutoMappedPipe {
    constructor() {
        this.options = [];
    }
    transform(values, showAutoMapped) {
        const filtered = new Array();
        if (showAutoMapped) {
            return values;
        }
        if (!showAutoMapped) {
            values.forEach(col => {
                if (!col.isAutoMapped) {
                    filtered.push(col);
                }
            });
            return filtered;
        }
    }
};
ShowAutoMappedPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'showAutoMapped',
        pure: false
    })
], ShowAutoMappedPipe);



/***/ }),

/***/ "./client-src/app/data-import/services/data-copy.service.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/data-import/services/data-copy.service.ts ***!
  \******************************************************************/
/*! exports provided: DataCopyService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataCopyService", function() { return DataCopyService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_api/services/data-import/data-import-repository.service */ "./client-src/app/_api/services/data-import/data-import-repository.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");





let DataCopyService = class DataCopyService {
    constructor(repository, groupService, inventoryService) {
        this.repository = repository;
        this.groupService = groupService;
        this.inventoryService = inventoryService;
    }
    getDataTargets() {
        return this.repository.getDataTargets();
    }
    copyGroups(request) {
        return this.groupService.copyGroups(request, true);
    }
    getAssetCount(groupId, dataTarget, handleLocalError) {
        return this.inventoryService.getAssetCountByGroup(groupId, dataTarget, handleLocalError);
    }
};
DataCopyService.ctorParameters = () => [
    { type: _api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_2__["DataImportRepository"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_3__["GroupApiService"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_4__["InventoryApiService"] }
];
DataCopyService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_2__["DataImportRepository"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_3__["GroupApiService"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_4__["InventoryApiService"]])
], DataCopyService);



/***/ }),

/***/ "./client-src/app/data-import/services/data-import.service.ts":
/*!********************************************************************!*\
  !*** ./client-src/app/data-import/services/data-import.service.ts ***!
  \********************************************************************/
/*! exports provided: DataImportService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataImportService", function() { return DataImportService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_data_import_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_models/data-import.model */ "./client-src/app/_models/data-import.model.ts");
/* harmony import */ var _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/dtos/import-result.dto */ "./client-src/app/_api/dtos/import-result.dto.ts");
/* harmony import */ var _api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/services/data-import/data-import-repository.service */ "./client-src/app/_api/services/data-import/data-import-repository.service.ts");
/* harmony import */ var _api_dtos_excel_summary_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/dtos/excel-summary.dto */ "./client-src/app/_api/dtos/excel-summary.dto.ts");
/* harmony import */ var _api_dtos_spreadsheet_column_dto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/dtos/spreadsheet-column.dto */ "./client-src/app/_api/dtos/spreadsheet-column.dto.ts");
/* harmony import */ var _models_locale_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_models/locale.model */ "./client-src/app/_models/locale.model.ts");
/* harmony import */ var _models_header_row_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_models/header-row.model */ "./client-src/app/_models/header-row.model.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");












let DataImportService = class DataImportService {
    constructor(repository, alertService, inventoryApiService) {
        this.repository = repository;
        this.alertService = alertService;
        this.inventoryApiService = inventoryApiService;
        this.activeDataImport = new _models_data_import_model__WEBPACK_IMPORTED_MODULE_4__["DataImport"]();
        this.currentImportTemplate = {};
        this.importResult = new _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_5__["ImportResultDto"]();
    }
    initDataImport(result, spreadsheetUpload, groupDataCustomColumns) {
        const excelSummary = new _api_dtos_excel_summary_dto__WEBPACK_IMPORTED_MODULE_7__["ExcelSummaryDto"](result.id, this.mapSpreadsheetColumns(result.spreadsheetColumns), result.spreadsheetFilename, this.mapHeaderRow(result.headerRow), this.mapTargetDescription(result.dataTargetDescription), []);
        this.activeDataImport.excelSummary = excelSummary;
        this.activeDataImport.spreadsheetUpload = spreadsheetUpload;
        this.activeDataImport.mapping = this.getMappedColumns(result.dataTargetDescription, result.spreadsheetColumns);
        groupDataCustomColumns.forEach(colMap => {
            this.activeDataImport.mapping.push(colMap);
        });
    }
    getReviewData(dto) {
        return this.repository.getReviewData(dto);
    }
    getDataTargets() {
        return this.repository.getDataTargets();
    }
    getDataTargetsForGroup(groupId) {
        return this.repository.getDataTargetsForGroup(groupId);
    }
    getCustomColumnDataTypes() {
        return this.repository.getCustomColumnDataTypes();
    }
    uploadSpreadsheet(dto, importTemplateId) {
        this.resetPublicProperties();
        return this.repository.uploadSpreadsheet(dto, importTemplateId);
    }
    getExistingCustomColumns(groupId, dataTargetName) {
        return this.repository.getCustomColumns(groupId, dataTargetName);
    }
    importSpreadsheet(dto) {
        return this.repository.importSpreadsheet(dto);
    }
    getMappedColumns(dataTargetDescription, spreadsheetColumns) {
        const mappedColumns = new Array();
        spreadsheetColumns.forEach(col => {
            col.title = col.title.toLowerCase();
        });
        dataTargetDescription.columns.forEach(dataTargetCol => {
            const mappedSpreadsheetCol = spreadsheetColumns.find(c => c.title.replace(/\s+/g, '') === dataTargetCol.name.toLowerCase().replace(/\s+/g, ''));
            if (mappedSpreadsheetCol) {
                mappedColumns.push({
                    spreadsheetColumn: {
                        name: mappedSpreadsheetCol.name,
                        title: mappedSpreadsheetCol.title,
                        sampleData: mappedSpreadsheetCol.sampleData
                    },
                    importTemplateColumnId: dataTargetCol.id,
                    dataTargetField: dataTargetCol.name,
                    isAutoMapped: true,
                    columnDataType: dataTargetCol.type,
                    colLength: dataTargetCol.collen
                });
            }
            else {
                mappedColumns.push({
                    spreadsheetColumn: {},
                    importTemplateColumnId: dataTargetCol.id,
                    dataTargetField: dataTargetCol.name,
                    isAutoMapped: false,
                    columnDataType: dataTargetCol.type,
                    colLength: dataTargetCol.collen
                });
            }
        });
        return mappedColumns;
    }
    isAutoMappedColumn(headingName) {
        this.activeDataImport.excelSummary.dataTargetDescription.columns.forEach(column => {
            if (column.name === headingName) {
                return true;
            }
        });
        return false;
    }
    setMapping(mapping) {
        // console.log(mapping);
        this.activeDataImport.mapping = mapping;
    }
    getLocales() {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([
            new _models_locale_model__WEBPACK_IMPORTED_MODULE_9__["Locale"]('1', 'United States - English'),
            new _models_locale_model__WEBPACK_IMPORTED_MODULE_9__["Locale"]('2', 'Mexico - Spanish'),
            new _models_locale_model__WEBPACK_IMPORTED_MODULE_9__["Locale"]('3', 'Canada - French')
        ]);
    }
    resetPublicProperties() {
        this.importAfterReconciliation = false;
        this.activeReplace = true;
        this.activeDataImport = new _models_data_import_model__WEBPACK_IMPORTED_MODULE_4__["DataImport"]();
        this.importResult = new _api_dtos_import_result_dto__WEBPACK_IMPORTED_MODULE_5__["ImportResultDto"]();
    }
    mapSpreadsheetColumns(spreadsheetColumns) {
        const columns = new Array();
        spreadsheetColumns.forEach(col => {
            if (col.title.toLowerCase() === 'latitude') {
                col.sampleData = parseFloat(col.sampleData).toFixed(8).toString();
                if (!col.sampleData.match(/^(-?[1-8]?\d(?:\.\d{6,8})|90(?:\.0{6,8})?)$/)) {
                    this.alertService.error('Latitude value out of valid range (-90.000000 : 90.000000)');
                    this.importResult.errors = ['error'];
                }
            }
            if (col.title.toLowerCase() === 'longitude') {
                col.sampleData = parseFloat(col.sampleData).toFixed(8).toString();
                if (!col.sampleData.match(/^(-?(?:1[0-7]|[1-9])?\d(?:\.\d{6,8})|180(?:\.0{6,8})?)$/)) {
                    this.alertService.error('Longitude value out of valid range (-180.000000 : 180.000000)');
                    this.importResult.errors = ['error'];
                }
            }
            columns.push(new _api_dtos_spreadsheet_column_dto__WEBPACK_IMPORTED_MODULE_8__["SpreadsheetColumnDto"](col.name, col.title, col.sampleData));
        });
        return columns;
    }
    mapHeaderRow(headerRow) {
        return new _models_header_row_model__WEBPACK_IMPORTED_MODULE_10__["HeaderRow"](headerRow.isCalculated, headerRow.confidence, headerRow.row, this.mapColumnMapping(headerRow.columnMapping));
    }
    mapColumnMapping(columnMapping) {
        const mappings = new Array();
        columnMapping.forEach(element => {
            mappings.push({
                spreadsheetColumn: element.spreadsheetColumn,
                dataTargetFieldId: element.dataTargetField,
                importTemplateColumnId: element.importTemplateColumnId,
            });
        });
        return mappings;
    }
    mapTargetDescription(dataTargetDescription) {
        return {
            name: dataTargetDescription.name,
            columns: this.mapDataTargetColumns(dataTargetDescription.columns)
        };
    }
    mapDataTargetColumns(dataTargetColumns) {
        const columns = new Array();
        dataTargetColumns.forEach(element => {
            columns.push({ name: element.name, type: element.type, id: element.id, isCustom: false });
        });
        return columns;
    }
    getDataCountByGroup(dto) {
        return this.inventoryApiService.getDataCountByGroup(dto.groupId, dto.dataTargetId);
    }
};
DataImportService.ctorParameters = () => [
    { type: _api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_6__["DataImportRepository"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_11__["InventoryApiService"] }
];
DataImportService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_data_import_data_import_repository_service__WEBPACK_IMPORTED_MODULE_6__["DataImportRepository"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_11__["InventoryApiService"]])
], DataImportService);



/***/ }),

/***/ "./client-src/app/error/access-denied.component.ts":
/*!*********************************************************!*\
  !*** ./client-src/app/error/access-denied.component.ts ***!
  \*********************************************************/
/*! exports provided: AccessDeniedComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccessDeniedComponent", function() { return AccessDeniedComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



let AccessDeniedComponent = class AccessDeniedComponent {
    constructor(route, router) {
        this.route = route;
        this.router = router;
    }
    ngOnInit() {
        this.errorMessage = this.route.snapshot.paramMap.get('errorMessage');
    }
};
AccessDeniedComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
AccessDeniedComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'access-denied',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./access-denied.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/access-denied.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], AccessDeniedComponent);



/***/ }),

/***/ "./client-src/app/error/conflict-transaction-error.component.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/error/conflict-transaction-error.component.ts ***!
  \**********************************************************************/
/*! exports provided: ConflictServerErrorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConflictServerErrorComponent", function() { return ConflictServerErrorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let ConflictServerErrorComponent = class ConflictServerErrorComponent {
    constructor(location) {
        this.location = location;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() { }
    backToPrevious() {
        this.location.back();
    }
};
ConflictServerErrorComponent.ctorParameters = () => [
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"] }
];
ConflictServerErrorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'conflict-transaction-error',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./conflict-transaction-error.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/conflict-transaction-error.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"]])
], ConflictServerErrorComponent);



/***/ }),

/***/ "./client-src/app/error/internal-server-error.component.ts":
/*!*****************************************************************!*\
  !*** ./client-src/app/error/internal-server-error.component.ts ***!
  \*****************************************************************/
/*! exports provided: InternalServerErrorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InternalServerErrorComponent", function() { return InternalServerErrorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



let InternalServerErrorComponent = class InternalServerErrorComponent {
    constructor(route, router) {
        this.route = route;
        this.router = router;
        this.errorMessage = undefined;
    }
    ngOnInit() {
        this.errorMessage = this.route.snapshot.paramMap.get('errorMessage');
    }
    reload(event) {
        event.preventDefault();
        window.location.href = '/';
    }
};
InternalServerErrorComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
InternalServerErrorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'internal-server-error',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./internal-server-error.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/internal-server-error.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], InternalServerErrorComponent);



/***/ }),

/***/ "./client-src/app/error/not-found.component.ts":
/*!*****************************************************!*\
  !*** ./client-src/app/error/not-found.component.ts ***!
  \*****************************************************/
/*! exports provided: NotFoundComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFoundComponent", function() { return NotFoundComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



let NotFoundComponent = class NotFoundComponent {
    constructor(route, router) {
        this.route = route;
        this.router = router;
    }
    ngOnInit() {
        this.errorMessage = this.route.snapshot.paramMap.get('errorMessage');
    }
};
NotFoundComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
NotFoundComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'not-found',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./not-found.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/not-found.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], NotFoundComponent);



/***/ }),

/***/ "./client-src/app/error/unauthorized.component.ts":
/*!********************************************************!*\
  !*** ./client-src/app/error/unauthorized.component.ts ***!
  \********************************************************/
/*! exports provided: UnauthorizedComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnauthorizedComponent", function() { return UnauthorizedComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



let UnauthorizedComponent = class UnauthorizedComponent {
    constructor(route, router) {
        this.route = route;
        this.router = router;
    }
    ngOnInit() {
        this.errorMessage = this.route.snapshot.paramMap.get('errorMessage');
    }
};
UnauthorizedComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
UnauthorizedComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./unauthorized.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/unauthorized.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], UnauthorizedComponent);



/***/ }),

/***/ "./client-src/app/file-upload/components/file-upload/default-files-header.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/file-upload/components/file-upload/default-files-header.ts ***!
  \***********************************************************************************/
/*! exports provided: FileHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileHeaders", function() { return FileHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const FileHeaders = [
    {
        name: 'fileName',
        displayName: 'File Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'fileSize',
        displayName: 'Size',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'userName',
        displayName: 'User Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'uploadDate',
        displayName: 'Upload Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'isPortalDocument',
        displayName: 'Is Portal Document',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false,
    },
    {
        name: 'uploadTypeName',
        displayName: 'Upload Target',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    }
];


/***/ }),

/***/ "./client-src/app/file-upload/components/file-upload/file-upload.component.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/file-upload/components/file-upload/file-upload.component.ts ***!
  \************************************************************************************/
/*! exports provided: FileUploadComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadComponent", function() { return FileUploadComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _agm_core_utils_browser_globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @agm/core/utils/browser-globals */ "./node_modules/@agm/core/utils/browser-globals.js");
/* harmony import */ var _node_modules_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../node_modules/@ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _default_files_header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./default-files-header */ "./client-src/app/file-upload/components/file-upload/default-files-header.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _api_runtime_enums_upload_type_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_api/_runtime/enums/upload-type-enum */ "./client-src/app/_api/_runtime/enums/upload-type-enum.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../_api/_runtime/services/client-files-api.service */ "./client-src/app/_api/_runtime/services/client-files-api.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");















let FileUploadComponent = class FileUploadComponent {
    constructor(clientFileService, windowRef, configService, translate, route, famisGridService, alertService) {
        this.clientFileService = clientFileService;
        this.windowRef = windowRef;
        this.configService = configService;
        this.translate = translate;
        this.route = route;
        this.famisGridService = famisGridService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.defaultColumns = [
            'fileName',
            'fileSize',
            'uploadDate',
            'isPortalDocument',
            'uploadTypeName'
        ];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subject"]();
        this.acceptedFileTypes = this.configService.getSettings('acceptedFileTypes');
    }
    ngOnInit() {
        this.state = {
            skip: 0,
            take: 84
        };
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.isLoading = true;
        this.finalizedDocumentsGrid = {
            height: 500,
            gridId: this.famisGridService.createGrid(),
            windowSize: 500,
            totalRecordCount: 0,
            name: '',
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort],
            actions: ['Download', 'Remove'],
            columnHeaders: _default_files_header__WEBPACK_IMPORTED_MODULE_5__["FileHeaders"],
            selectedHeaders: this.defaultColumns,
            translationBaseKey: this.i18n.fileUpload
        };
        this.refreshFinalizedDocumentsGrid();
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    handleFinalizedFilesActionEvent(event) {
        this.handleGridEvent(event);
    }
    handleGridEvent(event) {
        const item = event.item;
        if (event.action === 'Download') {
            this.downloadFile(item.id);
        }
        if (event.action === 'Remove') {
            this.deleteFile(item.id);
        }
    }
    getUploadTypeName(type) {
        switch (type) {
            case (_api_runtime_enums_upload_type_enum__WEBPACK_IMPORTED_MODULE_7__["UploadFileType"].ClientUpload): {
                return this.translate.instant(this.i18n.fileUpload + 'Client Upload');
            }
            case (_api_runtime_enums_upload_type_enum__WEBPACK_IMPORTED_MODULE_7__["UploadFileType"].FinalizedDocument): {
                return this.translate.instant(this.i18n.fileUpload + 'Finalized Document');
            }
            case (_api_runtime_enums_upload_type_enum__WEBPACK_IMPORTED_MODULE_7__["UploadFileType"].ValuationReport): {
                return this.translate.instant(this.i18n.fileUpload + 'Valuation Report');
            }
            case (_api_runtime_enums_upload_type_enum__WEBPACK_IMPORTED_MODULE_7__["UploadFileType"].FloodPlainReport): {
                return this.translate.instant(this.i18n.fileUpload + 'Flood Plain Report');
            }
            default: return 'Unknown';
        }
    }
    refreshFinalizedDocumentsGrid() {
        this.finalizedDocumentsGrid.loading = this.clientFileService.getGroupUplodFiles(this.groupId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeUntil"])(this.destroyed$))
            .subscribe(res => {
            res.forEach(document => {
                document.uploadTypeName = this.getUploadTypeName(document.uploadType);
            });
            this.finalizedDocumentsGrid.columnHeaders = _default_files_header__WEBPACK_IMPORTED_MODULE_5__["FileHeaders"],
                this.finalizedDocumentsGrid.selectedHeaders = this.defaultColumns;
            this.famisGridService.setCacheRecords(res, this.finalizedDocumentsGrid.gridId, this.famisGridService.defaultSkip, res.length, this.famisGridService.defaultTake);
            this.isInternalDocument = false;
        });
    }
    uploadFile(file) {
        this.isUploading = true;
        this.clientFileService.uploadGroupFile(this.groupId, file, this.isInternalDocument, null, null).subscribe(res => {
            this.isUploading = false;
            if (!res.isPortalDocument) {
                this.alertService.warn(this.translate.instant('Document not linked to portal'));
                // 'No portal exists for this group. This document will not be associated to a portal.'
            }
            this.refreshFinalizedDocumentsGrid();
        });
    }
    deleteFile(id) {
        this.isLoading = true;
        this.clientFileService.deleteFile(id).subscribe(res => {
            this.isLoading = false;
            this.refreshFinalizedDocumentsGrid();
        });
    }
    downloadFile(id) {
        this.isLoading = true;
        this.clientFileService.getClientFile(id).subscribe(url => {
            this.isLoading = false;
            this.windowRef.getNativeWindow().open(url, '_blank');
        });
    }
    handleSortChanged(sort) {
        const s = this;
        const sortTerms = new Array();
        const orderCount = 0;
        sort.forEach(c => {
            const sortTerm = {
                termOrder: orderCount,
                sortDirection: c.dir === 'asc' ? 0 : 1,
                field: c.field
            };
            sortTerms.push(sortTerm);
        });
        this.famisGridService.currentSort[this.finalizedDocumentsGrid.gridId] = sortTerms;
        s.famisGridService
            .update(s.finalizedDocumentsGrid.gridId, s.state.skip, s.state.take, s.finalizedDocumentsGrid.totalRecordCount, s.famisGridService.currentSort[s.finalizedDocumentsGrid.gridId], true)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            s.updateCache(result);
        });
    }
    updateCache(request) {
        const s = this;
        const successCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subscription"]();
        const errorCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subscription"]();
        this.finalizedDocumentsGrid.cacheLoading = s.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.clientFileService.updateGridData(s.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeUntil"])(this.destroyed$))
            .subscribe(res => {
            res.forEach(document => {
                document.uploadTypeName = this.getUploadTypeName(document.uploadType);
            });
            this.finalizedDocumentsGrid.columnHeaders = _default_files_header__WEBPACK_IMPORTED_MODULE_5__["FileHeaders"],
                this.finalizedDocumentsGrid.selectedHeaders = this.defaultColumns;
            this.famisGridService.setCacheRecords(res, this.finalizedDocumentsGrid.gridId, this.famisGridService.defaultSkip, res.length, this.famisGridService.defaultTake);
            this.isInternalDocument = false;
        });
    }
};
FileUploadComponent.ctorParameters = () => [
    { type: _api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_12__["ClientFileApiService"] },
    { type: _agm_core_utils_browser_globals__WEBPACK_IMPORTED_MODULE_1__["WindowRef"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_13__["ConfigService"] },
    { type: _node_modules_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__["ActivatedRoute"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"] }
];
FileUploadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'file-upload',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./file-upload.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/file-upload/components/file-upload/file-upload.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_12__["ClientFileApiService"],
        _agm_core_utils_browser_globals__WEBPACK_IMPORTED_MODULE_1__["WindowRef"], _ngx_config_core__WEBPACK_IMPORTED_MODULE_13__["ConfigService"],
        _node_modules_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["ActivatedRoute"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"]])
], FileUploadComponent);



/***/ }),

/***/ "./client-src/app/file-upload/file-upload.module.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/file-upload/file-upload.module.ts ***!
  \**********************************************************/
/*! exports provided: FileUploadModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadModule", function() { return FileUploadModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _components_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/file-upload/file-upload.component */ "./client-src/app/file-upload/components/file-upload/file-upload.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../_api/_runtime/services/client-files-api.service */ "./client-src/app/_api/_runtime/services/client-files-api.service.ts");








let FileUploadModule = class FileUploadModule {
};
FileUploadModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_6__["GridModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_5__["SharedModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_4__["CoreModule"],
        ],
        declarations: [
            _components_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_3__["FileUploadComponent"]
        ],
        providers: [
            _api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_7__["ClientFileApiService"]
        ]
    })
], FileUploadModule);



/***/ }),

/***/ "./client-src/app/groups/components/edit-group-template.component.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/groups/components/edit-group-template.component.ts ***!
  \***************************************************************************/
/*! exports provided: EditGroupTemplateComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditGroupTemplateComponent", function() { return EditGroupTemplateComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_groups_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/groups.service */ "./client-src/app/groups/services/groups.service.ts");



let EditGroupTemplateComponent = class EditGroupTemplateComponent {
    constructor(groupsService) {
        this.groupsService = groupsService;
    }
    ngOnInit() {
        this.groupId = this.groupsService.groupId;
        this.groupsService.getTemplateForGroup(this.groupsService.groupId).subscribe(dto => {
            if (dto) {
                this.templateId = dto.id;
            }
        });
    }
};
EditGroupTemplateComponent.ctorParameters = () => [
    { type: _services_groups_service__WEBPACK_IMPORTED_MODULE_2__["GroupsService"] }
];
EditGroupTemplateComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'edit-group-template',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./edit-group-template.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/edit-group-template.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_groups_service__WEBPACK_IMPORTED_MODULE_2__["GroupsService"]])
], EditGroupTemplateComponent);



/***/ }),

/***/ "./client-src/app/groups/components/group-management-form.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/groups/components/group-management-form.component.ts ***!
  \*****************************************************************************/
/*! exports provided: GroupManagementFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupManagementFormComponent", function() { return GroupManagementFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_groups_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/groups.service */ "./client-src/app/groups/services/groups.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");




let GroupManagementFormComponent = class GroupManagementFormComponent {
    constructor(route, groupsService) {
        this.route = route;
        this.groupsService = groupsService;
    }
    ngOnInit() {
        this.groupsService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
    }
};
GroupManagementFormComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] },
    { type: _services_groups_service__WEBPACK_IMPORTED_MODULE_1__["GroupsService"] }
];
GroupManagementFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'group-management-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./group-management-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"], _services_groups_service__WEBPACK_IMPORTED_MODULE_1__["GroupsService"]])
], GroupManagementFormComponent);



/***/ }),

/***/ "./client-src/app/groups/components/group-management-modal.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/groups/components/group-management-modal.component.ts ***!
  \******************************************************************************/
/*! exports provided: GroupManagementModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupManagementModalComponent", function() { return GroupManagementModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_configuration/services/templates-api.service */ "./client-src/app/_api/_configuration/services/templates-api.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");










let GroupManagementModalComponent = class GroupManagementModalComponent {
    constructor(windowManager, container, groupApiService, templateService, translateService, route) {
        this.windowManager = windowManager;
        this.container = container;
        this.groupApiService = groupApiService;
        this.templateService = templateService;
        this.translateService = translateService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.onAddorUpdateGroup = new _angular_core__WEBPACK_IMPORTED_MODULE_8__["EventEmitter"](); // Intentional -- following previous example
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_8__["EventEmitter"]();
        this.uniqueNameError = false;
        this.isLoading = false;
        this.request = {};
        this.searching = false;
        this.searchFailed = false;
        this.item = null;
        this.hideSearchingWhenUnsubscribed = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Observable"](() => () => (this.searching = false));
        this.currentGroupId = null;
        this.search = (text$) => text$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["debounceTime"])(300))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["distinctUntilChanged"])())
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(() => (this.searching = true)))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["switchMap"])(term => this.templateService
            .searchTemplate(term)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(() => {
            this.searchFailed = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(() => {
            this.searchFailed = true;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])([]);
        }))))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(() => {
            this.searching = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["merge"])(this.hideSearchingWhenUnsubscribed));
    }
    ngOnInit() {
        this.currentGroupId = this.route.parent.parent.snapshot.paramMap.get('groupId');
    }
    open(item) {
        this.selectedGroupName = '';
        this.originalGroupName = '';
        this.uniqueNameError = false;
        if (item) {
            this.isLoading = true;
            this.action = 'Edit';
            this.request.groupName = item.groupName;
            this.originalGroupName = item.groupName;
            this.request.groupId = item.groupId;
            this.templateService.getTemplateById(item.templateId).subscribe(result => {
                this.model = result;
                this.request.templateId = result.id;
            }, error => { }, () => {
                this.isLoading = false;
            });
        }
        else {
            this.action = 'Add';
            this.request.groupName = '';
            this.request.contractId = this.contractId;
            this.model = null;
            this.request.groupId = null;
            this.request.templateId = null;
        }
        this.windowManager.open(this.content, this.action, {
            isModal: true
        });
    }
    onSubmit(form) {
        if (form.valid && !!this.request.templateId) {
            if (!(this.groupNames.some(x => x === this.request.groupName) && this.request.groupName !== this.originalGroupName)) {
                this.uniqueNameError = false;
                this.isLoading = true;
                if (!this.request.groupId) {
                    this.request.groupId = this.currentGroupId;
                }
                if (this.action === 'Add') {
                    this.groupApiService.createGroup(this.request).subscribe(result => {
                        this.windowManager.close();
                        this.onAction.emit(this.action);
                        this.onAddorUpdateGroup.emit(result);
                    }, error => { }, () => {
                        this.isLoading = false;
                    });
                }
                if (this.action === 'Edit') {
                    this.groupApiService.updateGroup(this.request).subscribe(result => {
                        this.windowManager.close();
                        this.onAction.emit(this.action);
                        this.onAddorUpdateGroup.emit(result);
                    }, error => { }, () => {
                        this.isLoading = false;
                    });
                }
            }
            else {
                this.uniqueNameError = true;
                this.selectedGroupName = this.request.groupName;
            }
        }
    }
    /*** Typeahead  ***/
    // TODO -- update typeahead when api available
    onSelectItem(selected) {
        this.request.templateId = selected.item.id;
    }
    getResultFormatter(result) {
        return result.name;
    }
    getInputFormatter(result) {
        return result.name;
    }
};
GroupManagementModalComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewContainerRef"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_7__["GroupApiService"] },
    { type: _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_6__["TemplatesApiService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], GroupManagementModalComponent.prototype, "contractId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], GroupManagementModalComponent.prototype, "groupNames", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GroupManagementModalComponent.prototype, "onAddorUpdateGroup", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GroupManagementModalComponent.prototype, "onAction", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], GroupManagementModalComponent.prototype, "content", void 0);
GroupManagementModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'group-management-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./group-management-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewContainerRef"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_7__["GroupApiService"],
        _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_6__["TemplatesApiService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_2__["TranslationManager"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"]])
], GroupManagementModalComponent);



/***/ }),

/***/ "./client-src/app/groups/components/group-management.component.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/groups/components/group-management.component.ts ***!
  \************************************************************************/
/*! exports provided: GroupManagementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupManagementComponent", function() { return GroupManagementComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _group_management_modal_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group-management-modal.component */ "./client-src/app/groups/components/group-management-modal.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_groups_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/groups.service */ "./client-src/app/groups/services/groups.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @progress/kendo-data-query */ "./node_modules/@progress/kendo-data-query/dist/es2015/main.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");














let GroupManagementComponent = class GroupManagementComponent {
    constructor(router, route, modalService, famisGridService, groupsService, alertService, groupApiService, userGridService) {
        this.router = router;
        this.route = route;
        this.modalService = modalService;
        this.famisGridService = famisGridService;
        this.groupsService = groupsService;
        this.alertService = alertService;
        this.groupApiService = groupApiService;
        this.userGridService = userGridService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.windowSize = 500;
        this.state = {
            skip: 0,
            take: 25
        };
        this.userGridSettingName = this.userGridService.createUserGridId(null, this.router.url.toString().split('?')[0], 'Group Management Grid');
        this.filterRoot = { logic: 'and', filters: [] };
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
        this.localGroupManagementData = new Array();
        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_11__["process"])(this.localGroupManagementData, this.state);
    }
    ngOnInit() {
        this.famisGridService.setUserId();
        this.groupId = this.groupsService.groupId;
        this.groupApiService.getContractGroup(this.groupId, false).subscribe(result => {
            this.contractId = result.contractId;
        });
        this.loadGridData();
    }
    loadGridData() {
        const getGroupRecords = this.groupsService.updateGroupTemplateResults(this.groupId);
        const loading = Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["forkJoin"])(getGroupRecords).subscribe(([groupResults]) => {
            this.userGridService.getSettings(this.famisGridService.userId, this.userGridSettingName, null)
                .subscribe(gridSettings => {
                if (gridSettings.filters && gridSettings.filters.filters && gridSettings.filters.filters.length > 0) {
                    this.filterRoot = gridSettings.filters;
                    this.state.filter = this.filterRoot;
                    this.refreshGridData();
                }
                else {
                    this.refreshGridData();
                }
            });
            groupResults.contractGroupTemplateInfo = groupResults.contractGroupTemplateInfo.filter(x => x.isPortal === false);
            this.groupNames = groupResults.contractGroupTemplateInfo.map(y => y.groupName);
            this.groupsService.setGroupTemplateDataSource(groupResults.contractGroupTemplateInfo);
            this.localGroupManagementData = groupResults.contractGroupTemplateInfo;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    handleAction(response) {
        this.action = response;
    }
    handleCreateorModifiedGroup(response) {
        this.alertService.success('Group {{groupName}} has been ' + (this.action === 'Edit' ? 'updated.' : 'created.'), null, {
            groupName: response.groupName
        });
        this.localGroupManagementData.push(response);
        this.refreshGridData();
        this.loadGridData();
    }
    delete(item) {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Delete Group'
            },
            body: {
                key: '{{groupName}} cannot be deleted. Records are currently associated with this group.',
                params: { groupName: item.groupName }
            },
            dismissText: {
                key: 'Close'
            },
            translateBaseKey: this.i18n.dashboard
        };
        const sameGroup = item.groupId === this.groupId;
        if (sameGroup) {
            modalOptions.body = {
                key: 'Cannot delete group you are currently active in, please select a different group.'
            };
        }
        if (item.canDelete && !sameGroup) {
            modalOptions.successText = {
                key: 'Delete'
            };
            modalOptions.body = {
                key: 'Are you sure you wish to delete {{groupname}}',
                params: { groupname: item.groupName }
            };
        }
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.groupApiService.deleteGroup(item.groupId).subscribe(result => {
                this.localGroupManagementData = this.localGroupManagementData.filter(g => g.groupId !== item.groupId);
                this.refreshGridData();
                this.alertService.success(item.groupName + ' has been deleted.');
            });
        }, cancel => { });
    }
    handleActionEvent(dataItem, actionEvent) {
        if (actionEvent === 'Delete') {
            this.delete(dataItem);
        }
        if (actionEvent === 'Edit') {
            this.groupManagementModalComponent.groupNames = this.groupNames;
            this.groupManagementModalComponent.open(dataItem);
        }
    }
    dataStateChange(state) {
        this.state = state;
        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_11__["process"])(this.localGroupManagementData, this.state);
    }
    refreshGridData() {
        this.gridData = Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_11__["process"])(this.localGroupManagementData, this.state);
    }
    back() {
        window.location.href = `/project-profile/${this.groupsService.groupId}/MainProfile`;
    }
    handleFilterChange(filter) {
        // save the filter
        this.filterRoot = filter;
        this.userGridService.saveSettings(this.userGridSettingName, null, null, this.famisGridService.userId, null, this.filterRoot).subscribe();
    }
};
GroupManagementComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_12__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_12__["ActivatedRoute"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_3__["FamisGridService"] },
    { type: _services_groups_service__WEBPACK_IMPORTED_MODULE_5__["GroupsService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_13__["GroupApiService"] },
    { type: _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_8__["UserGridService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])(_group_management_modal_component__WEBPACK_IMPORTED_MODULE_2__["GroupManagementModalComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _group_management_modal_component__WEBPACK_IMPORTED_MODULE_2__["GroupManagementModalComponent"])
], GroupManagementComponent.prototype, "groupManagementModalComponent", void 0);
GroupManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'group-management',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./group-management.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_12__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_12__["ActivatedRoute"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_3__["FamisGridService"],
        _services_groups_service__WEBPACK_IMPORTED_MODULE_5__["GroupsService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_13__["GroupApiService"],
        _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_8__["UserGridService"]])
], GroupManagementComponent);



/***/ }),

/***/ "./client-src/app/groups/groups.module.ts":
/*!************************************************!*\
  !*** ./client-src/app/groups/groups.module.ts ***!
  \************************************************/
/*! exports provided: GroupsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupsModule", function() { return GroupsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_group_management_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/group-management.component */ "./client-src/app/groups/components/group-management.component.ts");
/* harmony import */ var _components_group_management_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/group-management-modal.component */ "./client-src/app/groups/components/group-management-modal.component.ts");
/* harmony import */ var _services_groups_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/groups.service */ "./client-src/app/groups/services/groups.service.ts");
/* harmony import */ var _components_edit_group_template_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/edit-group-template.component */ "./client-src/app/groups/components/edit-group-template.component.ts");
/* harmony import */ var _admin_admin_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../admin/admin.module */ "./client-src/app/admin/admin.module.ts");
/* harmony import */ var _components_group_management_form_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/group-management-form.component */ "./client-src/app/groups/components/group-management-form.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");
/* harmony import */ var _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../_api/_configuration/services/templates-api.service */ "./client-src/app/_api/_configuration/services/templates-api.service.ts");


















let GroupsModule = class GroupsModule {
};
GroupsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_11__["GridModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_12__["DateInputsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_13__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_14__["FormsModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_15__["OrderModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"],
            _admin_admin_module__WEBPACK_IMPORTED_MODULE_8__["AdminModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_10__["CoreModule"]
        ],
        declarations: [
            _components_group_management_component__WEBPACK_IMPORTED_MODULE_4__["GroupManagementComponent"],
            _components_group_management_modal_component__WEBPACK_IMPORTED_MODULE_5__["GroupManagementModalComponent"],
            _components_edit_group_template_component__WEBPACK_IMPORTED_MODULE_7__["EditGroupTemplateComponent"],
            _components_group_management_form_component__WEBPACK_IMPORTED_MODULE_9__["GroupManagementFormComponent"]
        ],
        entryComponents: [
            _components_group_management_modal_component__WEBPACK_IMPORTED_MODULE_5__["GroupManagementModalComponent"]
        ],
        providers: [
            _services_groups_service__WEBPACK_IMPORTED_MODULE_6__["GroupsService"],
            _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_16__["GroupApiService"],
            _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_17__["TemplatesApiService"]
        ]
    })
], GroupsModule);



/***/ }),

/***/ "./client-src/app/groups/services/groups.service.ts":
/*!**********************************************************!*\
  !*** ./client-src/app/groups/services/groups.service.ts ***!
  \**********************************************************/
/*! exports provided: GroupsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupsService", function() { return GroupsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_configuration/services/templates-api.service */ "./client-src/app/_api/_configuration/services/templates-api.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");





let GroupsService = class GroupsService {
    constructor(templateApiService, groupApiService) {
        this.templateApiService = templateApiService;
        this.groupApiService = groupApiService;
        this.groupTemplateGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.groupTemplateGridData$ = this.groupTemplateGridDataSource.asObservable();
    }
    getTemplateForGroup(groupId) {
        return this.templateApiService.GetTemplateForGroup(groupId);
    }
    updateGroupTemplateResults(groupId) {
        return this.groupApiService.getContractGroupTemplate(groupId);
    }
    setGroupTemplateDataSource(data) {
        this.groupTemplateGridDataSource.next(data);
    }
};
GroupsService.ctorParameters = () => [
    { type: _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_3__["TemplatesApiService"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_4__["GroupApiService"] }
];
GroupsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_3__["TemplatesApiService"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_4__["GroupApiService"]])
], GroupsService);



/***/ }),

/***/ "./client-src/app/header-management/components/actions/account-upsert.component.ts":
/*!*****************************************************************************************!*\
  !*** ./client-src/app/header-management/components/actions/account-upsert.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: AccountUpsertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountUpsertComponent", function() { return AccountUpsertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let AccountUpsertComponent = class AccountUpsertComponent {
    constructor(headerManagementService, windowManager, container) {
        this.headerManagementService = headerManagementService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.request = {};
        this.isLoading = false;
        this.onAddorUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() { }
    open(item) {
        let modalTitle = '';
        if (item) {
            this.action = 'Edit';
            Object.assign(this.request, item);
            modalTitle = 'Edit Account';
        }
        else {
            this.action = 'Add';
            this.request = {};
            modalTitle = 'Add Account';
        }
        this.windowManager.open(this.content, modalTitle, {
            isModal: true
        });
    }
    onSubmit(form) {
        if (form.valid) {
            if (this.action === 'Add') {
                this.headerManagementService.upsertAccount(this.request, true).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                });
            }
            if (this.action === 'Edit') {
                this.headerManagementService.upsertAccount(this.request, false).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                });
            }
        }
    }
};
AccountUpsertComponent.ctorParameters = () => [
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AccountUpsertComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AccountUpsertComponent.prototype, "onAddorUpdate", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AccountUpsertComponent.prototype, "onAction", void 0);
AccountUpsertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'account-upsert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./account-upsert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/account-upsert.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"]])
], AccountUpsertComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/actions/department-upsert.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/header-management/components/actions/department-upsert.component.ts ***!
  \********************************************************************************************/
/*! exports provided: DepartmentUpsertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepartmentUpsertComponent", function() { return DepartmentUpsertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let DepartmentUpsertComponent = class DepartmentUpsertComponent {
    constructor(headerManagementService, windowManager, container) {
        this.headerManagementService = headerManagementService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.request = {};
        this.isLoading = false;
        this.onAddorUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() { }
    open(item) {
        let modalTitle = '';
        if (item) {
            this.action = 'Edit';
            Object.assign(this.request, item);
            modalTitle = 'Edit Department';
        }
        else {
            this.action = 'Add';
            this.request = {};
            modalTitle = 'Add Department';
        }
        this.windowManager.open(this.content, modalTitle, {
            isModal: true
        });
    }
    onSubmit(form) {
        if (form.valid) {
            if (this.action === 'Add') {
                this.headerManagementService.upsertDepartment(this.request, true).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                });
            }
            if (this.action === 'Edit') {
                this.headerManagementService.upsertDepartment(this.request, false).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                });
            }
        }
    }
};
DepartmentUpsertComponent.ctorParameters = () => [
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DepartmentUpsertComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DepartmentUpsertComponent.prototype, "onAddorUpdate", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DepartmentUpsertComponent.prototype, "onAction", void 0);
DepartmentUpsertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'department-upsert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./department-upsert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/department-upsert.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"]])
], DepartmentUpsertComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/actions/member-upsert.component.ts":
/*!****************************************************************************************!*\
  !*** ./client-src/app/header-management/components/actions/member-upsert.component.ts ***!
  \****************************************************************************************/
/*! exports provided: MemberUpsertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemberUpsertComponent", function() { return MemberUpsertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let MemberUpsertComponent = class MemberUpsertComponent {
    constructor(headerManagementService, windowManager, container) {
        this.headerManagementService = headerManagementService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.request = {};
        this.isLoading = false;
        this.isNameTaken = false;
        this.onAddorUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() { }
    open(item) {
        let modalTitle = '';
        this.isNameTaken = false;
        if (item) {
            this.action = 'Edit';
            Object.assign(this.request, item);
            modalTitle = 'Edit Member';
        }
        else {
            this.action = 'Add';
            this.request = {};
            modalTitle = 'Add Member';
        }
        this.windowManager.open(this.content, modalTitle, {
            isModal: true
        });
    }
    onSubmit(form) {
        this.isNameTaken = false;
        if (form.valid) {
            if (this.action === 'Add') {
                this.headerManagementService.upsertMember(this.request, true).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                }, error => {
                    if (error.status === 409) {
                        this.handleError();
                    }
                });
            }
            if (this.action === 'Edit') {
                this.headerManagementService.upsertMember(this.request, false).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                }, error => {
                    if (error.status === 409) {
                        this.handleError();
                    }
                });
            }
        }
    }
    handleError() {
        this.isNameTaken = true;
    }
};
MemberUpsertComponent.ctorParameters = () => [
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], MemberUpsertComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], MemberUpsertComponent.prototype, "onAddorUpdate", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], MemberUpsertComponent.prototype, "onAction", void 0);
MemberUpsertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'member-upsert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./member-upsert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/member-upsert.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"]])
], MemberUpsertComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/actions/site-upsert.component.ts":
/*!**************************************************************************************!*\
  !*** ./client-src/app/header-management/components/actions/site-upsert.component.ts ***!
  \**************************************************************************************/
/*! exports provided: SiteUpsertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SiteUpsertComponent", function() { return SiteUpsertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");






let SiteUpsertComponent = class SiteUpsertComponent {
    constructor(insuranceApiService, headerManagementService, windowManager, container) {
        this.insuranceApiService = insuranceApiService;
        this.headerManagementService = headerManagementService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.request = {};
        this.isLoading = false;
        this.isNameTaken = false;
        this.isNumberTaken = false;
        this.onAddorUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"](); // Intentional -- following previous example
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() {
        // Pull list of available members
        this.destory = this.insuranceApiService.getMembersByGroupId(this.headerManagementService.groupId).subscribe(response => {
            this.members = response;
        });
    }
    ngOnDestroy() {
        if (this.destory) {
            this.destory.unsubscribe();
        }
    }
    open(item) {
        let modalTitle = '';
        this.isNameTaken = false;
        this.isNumberTaken = false;
        if (item) {
            this.action = 'Edit';
            Object.assign(this.request, item);
            modalTitle = 'Edit Site';
        }
        else {
            this.action = 'Add';
            this.request = {};
            modalTitle = 'Add Site';
        }
        this.windowManager.open(this.content, modalTitle, {
            isModal: true
        });
    }
    onSubmit(form) {
        this.isNameTaken = false;
        this.isNumberTaken = false;
        if (form.valid) {
            if (this.action === 'Add') {
                this.headerManagementService.upsertSite(this.request, true).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                }, error => {
                    if (error.error === 'Non-unique name') {
                        this.isNameTaken = true;
                    }
                    if (error.error === 'Non-unique site number') {
                        this.isNumberTaken = true;
                    }
                });
            }
            if (this.action === 'Edit') {
                this.headerManagementService.upsertSite(this.request, false).subscribe(result => {
                    this.onAction.emit(this.action);
                    this.onAddorUpdate.emit(result);
                    this.windowManager.close();
                }, error => {
                    if (error.error === 'Non-unique name') {
                        this.isNameTaken = true;
                    }
                    if (error.error === 'Non-unique site number') {
                        this.isNumberTaken = true;
                    }
                });
            }
        }
    }
};
SiteUpsertComponent.ctorParameters = () => [
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_5__["InsuranceApiService"] },
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SiteUpsertComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SiteUpsertComponent.prototype, "onAddorUpdate", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SiteUpsertComponent.prototype, "onAction", void 0);
SiteUpsertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'site-upsert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./site-upsert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/site-upsert.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_5__["InsuranceApiService"],
        _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"]])
], SiteUpsertComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/header-management-account.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/header-management/components/header-management-account.component.ts ***!
  \********************************************************************************************/
/*! exports provided: HeaderManagementAccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementAccountComponent", function() { return HeaderManagementAccountComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _actions_account_upsert_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./actions/account-upsert.component */ "./client-src/app/header-management/components/actions/account-upsert.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");












let HeaderManagementAccountComponent = class HeaderManagementAccountComponent {
    constructor(famisGridService, headerManagementService, modalService, alertService, helperService) {
        this.famisGridService = famisGridService;
        this.headerManagementService = headerManagementService;
        this.modalService = modalService;
        this.alertService = alertService;
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.isLoading = false;
        this.windowSize = 500;
        this.handleLocalError = true;
    }
    ngOnInit() {
        this.dataGrid = {
            height: 330,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Filter],
            actions: ['Edit', 'Delete'],
            translationBaseKey: this.i18n.projectProfile,
            name: 'account-tab',
            hideTitle: true
        };
        this.dataGrid.loading = this.headerManagementService.getAccountMetadata().subscribe(metaData => {
            console.dir(metaData);
            this.dataGrid.columnHeaders = this.helperService.mapHeaders(metaData.fields, []);
            this.dataGrid.selectedHeaders = ['accountDescription', 'accountNumber'];
        });
    }
    ngOnDestroy() { }
    handleActionEvent(actionEvent) {
        if (actionEvent.action === 'Delete') {
            this.delete(actionEvent.item);
        }
        if (actionEvent.action === 'Edit') {
            this.accountUpsertComponent.open(actionEvent.item);
        }
    }
    handleAction(response) {
        this.action = response;
    }
    handleCreateorModified(response) {
        this.alertService.success('Account {{description}} has been ' + (this.action === 'Edit' ? 'updated.' : 'created.'), null, {
            description: response.accountDescription
        });
        // Call to update grid
        this.updateCache();
    }
    delete(item) {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Delete Account'
            },
            body: {
                key: 'Are you sure you wish to delete {{itemDescription}}?',
                params: { itemDescription: item.accountDescription }
            },
            dismissText: {
                key: 'Close'
            },
            successText: {
                key: 'Delete'
            },
            translateBaseKey: this.i18n.common
        };
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.headerManagementService.deleteAccount(item.id, this.handleLocalError).subscribe(result => {
                if (result) {
                    this.alertService.success(item.accountDescription + ' has been deleted.');
                    this.dataGrid.loading = this.processCacheUpdate();
                }
                else {
                    this.alertService.warn(item.accountDescription + ' cannot be deleted.');
                }
            });
        }, cancel => { });
    }
    updateCache(request) {
        const s = this;
        const successCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subscription"]();
        const errorCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subscription"]();
        this.dataGrid.cacheLoading = s.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.headerManagementService.updateAccountData(s.headerManagementService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.dataGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(dto.accounts, s.dataGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.dataGrid.windowSize);
        });
    }
};
HeaderManagementAccountComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])(_actions_account_upsert_component__WEBPACK_IMPORTED_MODULE_6__["AccountUpsertComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _actions_account_upsert_component__WEBPACK_IMPORTED_MODULE_6__["AccountUpsertComponent"])
], HeaderManagementAccountComponent.prototype, "accountUpsertComponent", void 0);
HeaderManagementAccountComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'header-management-account',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./header-management-account.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-account.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"]])
], HeaderManagementAccountComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/header-management-department.component.ts":
/*!***********************************************************************************************!*\
  !*** ./client-src/app/header-management/components/header-management-department.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: HeaderManagementDepartmentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementDepartmentComponent", function() { return HeaderManagementDepartmentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _actions_department_upsert_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./actions/department-upsert.component */ "./client-src/app/header-management/components/actions/department-upsert.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");












let HeaderManagementDepartmentComponent = class HeaderManagementDepartmentComponent {
    constructor(famisGridService, headerManagementService, modalService, helperService, alertService) {
        this.famisGridService = famisGridService;
        this.headerManagementService = headerManagementService;
        this.modalService = modalService;
        this.helperService = helperService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.isLoading = false;
        this.windowSize = 500;
        this.handleLocalError = true;
    }
    ngOnInit() {
        this.dataGrid = {
            height: 330,
            gridId: this.famisGridService.createGrid(),
            name: 'department-tab',
            windowSize: this.windowSize,
            totalRecordCount: 0,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Filter],
            actions: ['Edit', 'Delete'],
            translationBaseKey: this.i18n.dataImport,
            hideTitle: true
        };
        this.dataGrid.loading = this.headerManagementService.getDepartmentMetadata().subscribe(metaData => {
            console.dir(metaData);
            this.dataGrid.columnHeaders = this.helperService.mapHeaders(metaData.fields, []);
            this.dataGrid.selectedHeaders = ['description', 'departmentNumber'];
        });
    }
    ngOnDestroy() { }
    handleActionEvent(actionEvent) {
        if (actionEvent.action === 'Delete') {
            this.delete(actionEvent.item);
        }
        if (actionEvent.action === 'Edit') {
            this.departmentUpsertComponent.open(actionEvent.item);
        }
    }
    handleAction(response) {
        this.action = response;
    }
    handleCreateorModified(response) {
        this.alertService.success('Department {{description}} has been ' + (this.action === 'Edit' ? 'updated.' : 'created.'), null, {
            description: response.description
        });
        // Call to update grid
        this.updateCache();
    }
    delete(item) {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Delete Department'
            },
            body: {
                key: 'Are you sure you wish to delete {{itemDescription}}?',
                params: { itemDescription: item.description }
            },
            dismissText: {
                key: 'Close'
            },
            successText: {
                key: 'Delete'
            },
            translateBaseKey: this.i18n.common
        };
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.headerManagementService.deleteDepartment(item.id, this.handleLocalError).subscribe(result => {
                if (result) {
                    this.alertService.success('{{description}} has been deleted.', null, { description: item.description });
                    this.dataGrid.loading = this.processCacheUpdate();
                }
                else {
                    this.alertService.warn('{{description}} cannot be deleted.', null, { description: item.description });
                }
            });
        }, cancel => { });
    }
    updateCache(request) {
        const s = this;
        const successCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subscription"]();
        const errorCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subscription"]();
        this.dataGrid.cacheLoading = s.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.headerManagementService.updateDepartmentData(s.headerManagementService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.dataGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(dto.departments, s.dataGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.dataGrid.windowSize);
        });
    }
};
HeaderManagementDepartmentComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])(_actions_department_upsert_component__WEBPACK_IMPORTED_MODULE_6__["DepartmentUpsertComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _actions_department_upsert_component__WEBPACK_IMPORTED_MODULE_6__["DepartmentUpsertComponent"])
], HeaderManagementDepartmentComponent.prototype, "departmentUpsertComponent", void 0);
HeaderManagementDepartmentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'header-management-department',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./header-management-department.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-department.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"]])
], HeaderManagementDepartmentComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/header-management-member.component.ts":
/*!*******************************************************************************************!*\
  !*** ./client-src/app/header-management/components/header-management-member.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: HeaderManagementMemberComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementMemberComponent", function() { return HeaderManagementMemberComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _actions_member_upsert_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./actions/member-upsert.component */ "./client-src/app/header-management/components/actions/member-upsert.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");













let HeaderManagementMemberComponent = class HeaderManagementMemberComponent {
    constructor(famisGridService, headerManagementService, modalService, alertService, helperService, router) {
        this.famisGridService = famisGridService;
        this.headerManagementService = headerManagementService;
        this.modalService = modalService;
        this.alertService = alertService;
        this.helperService = helperService;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.isLoading = false;
        this.windowSize = 500;
        this.handleLocalError = true;
    }
    ngOnInit() {
        this.dataGrid = {
            height: 330,
            gridId: this.famisGridService.createGrid(),
            name: 'member-tab',
            windowSize: this.windowSize,
            totalRecordCount: 0,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Filter],
            actions: ['Edit', 'Delete'],
            translationBaseKey: this.i18n.asset,
            hideTitle: true
        };
        this.dataGrid.loading = this.headerManagementService.getMemberMetadata().subscribe(metaData => {
            this.dataGrid.columnHeaders = this.helperService.mapHeaders(metaData.fields, []);
            this.dataGrid.selectedHeaders = ['memberName', 'memberNumber'];
        });
        this.famisGridService.setUserId();
        // filter grid settings loader
    }
    ngOnDestroy() { }
    handleActionEvent(actionEvent) {
        if (actionEvent.action === 'Delete') {
            this.delete(actionEvent.item);
        }
        if (actionEvent.action === 'Edit') {
            this.memberUpsertComponent.open(actionEvent.item);
        }
    }
    handleAction(response) {
        this.action = response;
    }
    handleCreateorModified(response) {
        this.alertService.success('Member {{memberName}} has been '
            + (this.action === 'Edit' ? 'updated.' : 'created.'), null, { memberName: response.memberName });
        // Call to update grid
        this.updateCache();
    }
    delete(item) {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Delete Member'
            },
            body: {
                key: `Are you sure you wish to delete '{{itemMemberName}}'`,
                params: { itemMemberName: item.memberName }
            },
            dismissText: {
                key: 'Close',
            },
            successText: {
                key: 'Delete'
            },
            translateBaseKey: this.i18n.common
        };
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.headerManagementService.deleteMember(item.id, this.handleLocalError).subscribe(result => {
                if (result) {
                    this.updateCache();
                    this.alertService.success('{{description}} has been deleted.', null, { description: item.memberName });
                    this.dataGrid.loading = this.processCacheUpdate();
                }
            }, error => {
                switch (error.status) {
                    case 409:
                        this.alertService.warn('{{description}} cannot be deleted without first removing related sites.', null, { description: item.memberName });
                        break;
                    default:
                        this.alertService.error('An unexpected error has occurred.');
                }
            });
        }, cancel => {
        });
    }
    updateCache(request) {
        const s = this;
        const successCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subscription"]();
        const errorCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subscription"]();
        this.dataGrid.cacheLoading = s.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.headerManagementService
            .updateMemberData(s.headerManagementService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.dataGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(dto.members, s.dataGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.dataGrid.windowSize);
        });
    }
};
HeaderManagementMemberComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])(_actions_member_upsert_component__WEBPACK_IMPORTED_MODULE_6__["MemberUpsertComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _actions_member_upsert_component__WEBPACK_IMPORTED_MODULE_6__["MemberUpsertComponent"])
], HeaderManagementMemberComponent.prototype, "memberUpsertComponent", void 0);
HeaderManagementMemberComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'header-management-member',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./header-management-member.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-member.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModal"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"]])
], HeaderManagementMemberComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/header-management-site.component.ts":
/*!*****************************************************************************************!*\
  !*** ./client-src/app/header-management/components/header-management-site.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: HeaderManagementSiteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementSiteComponent", function() { return HeaderManagementSiteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _actions_site_upsert_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./actions/site-upsert.component */ "./client-src/app/header-management/components/actions/site-upsert.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");













let HeaderManagementSiteComponent = class HeaderManagementSiteComponent {
    constructor(famisGridService, headerManagementService, modalService, alertService, helperService, translationService) {
        this.famisGridService = famisGridService;
        this.headerManagementService = headerManagementService;
        this.modalService = modalService;
        this.alertService = alertService;
        this.helperService = helperService;
        this.translationService = translationService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.isLoading = false;
        this.windowSize = 500;
        this.handleLocalError = true;
    }
    ngOnInit() {
        this.dataGrid = {
            height: 330,
            gridId: this.famisGridService.createGrid(),
            name: 'site-tab',
            windowSize: this.windowSize,
            totalRecordCount: 0,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Filter],
            actions: ['Edit', 'Delete'],
            translationBaseKey: this.i18n.dataImport,
            hideTitle: true
        };
        this.dataGrid.loading = this.headerManagementService.getSiteMetadata().subscribe(metaData => {
            console.dir(metaData);
            this.dataGrid.columnHeaders = this.helperService.mapHeaders(metaData.fields, []);
            this.dataGrid.selectedHeaders = ['siteName', 'siteNumber', 'memberName'];
        });
    }
    ngOnDestroy() { }
    handleActionEvent(actionEvent) {
        if (actionEvent.action === 'Delete') {
            this.delete(actionEvent.item);
        }
        if (actionEvent.action === 'Edit') {
            this.siteUpsertComponent.open(actionEvent.item);
        }
    }
    handleAction(response) {
        this.action = response;
    }
    handleCreateorModified(response) {
        this.alertService.success('Site {{siteName}} has been '
            + (this.action === 'Edit' ? 'updated.' : 'created.'), null, { siteName: response.siteName });
        // Call to update grid
        this.updateCache();
    }
    delete(item) {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Delete Site',
            },
            body: {
                key: `Are you sure you wish to delete '{{itemSiteName}}'?`,
                params: { itemSiteName: item.siteName },
            },
            dismissText: {
                key: 'Close'
            },
            successText: {
                key: 'Delete'
            },
            translateBaseKey: this.i18n.common
        };
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.headerManagementService.deleteSite(item.id, this.handleLocalError).subscribe(result => {
                if (result) {
                    this.updateCache();
                    this.alertService.success('{{description}} has been deleted.', null, { description: item.siteName });
                    this.dataGrid.loading = this.processCacheUpdate();
                }
            }, error => {
                switch (error.status) {
                    case 409:
                        this.alertService.warn('{{siteName}} cannot be deleted without first removing related buildings.', null, { siteName: item.siteName });
                        break;
                    default:
                        this.alertService.error('An unexpected error has occurred.');
                }
            });
        }, cancel => {
        });
    }
    updateCache(request) {
        const s = this;
        const successCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subscription"]();
        const errorCacheLoading = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subscription"]();
        this.dataGrid.cacheLoading = s.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.headerManagementService.updateSiteData(s.headerManagementService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.dataGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(dto.sites, s.dataGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.dataGrid.windowSize);
        });
    }
};
HeaderManagementSiteComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__["NgbModal"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_8__["TranslationManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])(_actions_site_upsert_component__WEBPACK_IMPORTED_MODULE_6__["SiteUpsertComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _actions_site_upsert_component__WEBPACK_IMPORTED_MODULE_6__["SiteUpsertComponent"])
], HeaderManagementSiteComponent.prototype, "siteUpsertComponent", void 0);
HeaderManagementSiteComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'header-management-site',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./header-management-site.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-site.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _services_header_management_service__WEBPACK_IMPORTED_MODULE_3__["HeaderManagementService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__["NgbModal"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_8__["TranslationManager"]])
], HeaderManagementSiteComponent);



/***/ }),

/***/ "./client-src/app/header-management/components/header-management.component.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/header-management/components/header-management.component.ts ***!
  \************************************************************************************/
/*! exports provided: HeaderManagementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementComponent", function() { return HeaderManagementComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");






let HeaderManagementComponent = class HeaderManagementComponent {
    constructor(headerManagementService, route) {
        this.headerManagementService = headerManagementService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.isLoading = false;
    }
    ngOnInit() {
        this.headerManagementService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.headerManagementService.dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client;
    }
    ngOnDestroy() { }
};
HeaderManagementComponent.ctorParameters = () => [
    { type: _services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] }
];
HeaderManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'header-management',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./header-management.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_header_management_service__WEBPACK_IMPORTED_MODULE_1__["HeaderManagementService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"]])
], HeaderManagementComponent);



/***/ }),

/***/ "./client-src/app/header-management/header-management.module.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/header-management/header-management.module.ts ***!
  \**********************************************************************/
/*! exports provided: HeaderManagementModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementModule", function() { return HeaderManagementModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_header_management_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/header-management.component */ "./client-src/app/header-management/components/header-management.component.ts");
/* harmony import */ var _components_header_management_member_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/header-management-member.component */ "./client-src/app/header-management/components/header-management-member.component.ts");
/* harmony import */ var _components_actions_member_upsert_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/actions/member-upsert.component */ "./client-src/app/header-management/components/actions/member-upsert.component.ts");
/* harmony import */ var _components_header_management_site_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/header-management-site.component */ "./client-src/app/header-management/components/header-management-site.component.ts");
/* harmony import */ var _components_actions_site_upsert_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/actions/site-upsert.component */ "./client-src/app/header-management/components/actions/site-upsert.component.ts");
/* harmony import */ var _components_header_management_account_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/header-management-account.component */ "./client-src/app/header-management/components/header-management-account.component.ts");
/* harmony import */ var _components_actions_account_upsert_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/actions/account-upsert.component */ "./client-src/app/header-management/components/actions/account-upsert.component.ts");
/* harmony import */ var _components_header_management_department_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/header-management-department.component */ "./client-src/app/header-management/components/header-management-department.component.ts");
/* harmony import */ var _components_actions_department_upsert_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/actions/department-upsert.component */ "./client-src/app/header-management/components/actions/department-upsert.component.ts");
/* harmony import */ var _services_header_management_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./services/header-management.service */ "./client-src/app/header-management/services/header-management.service.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");





















let HeaderManagementModule = class HeaderManagementModule {
};
HeaderManagementModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _core_core_module__WEBPACK_IMPORTED_MODULE_14__["CoreModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_15__["DateInputsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_16__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormsModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_18__["OrderModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_19__["LaddaModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__["NgbModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_14__["CoreModule"]
        ],
        declarations: [
            _components_header_management_component__WEBPACK_IMPORTED_MODULE_4__["HeaderManagementComponent"],
            _components_header_management_member_component__WEBPACK_IMPORTED_MODULE_5__["HeaderManagementMemberComponent"],
            _components_actions_member_upsert_component__WEBPACK_IMPORTED_MODULE_6__["MemberUpsertComponent"],
            _components_header_management_site_component__WEBPACK_IMPORTED_MODULE_7__["HeaderManagementSiteComponent"],
            _components_actions_site_upsert_component__WEBPACK_IMPORTED_MODULE_8__["SiteUpsertComponent"],
            _components_header_management_account_component__WEBPACK_IMPORTED_MODULE_9__["HeaderManagementAccountComponent"],
            _components_actions_account_upsert_component__WEBPACK_IMPORTED_MODULE_10__["AccountUpsertComponent"],
            _components_header_management_department_component__WEBPACK_IMPORTED_MODULE_11__["HeaderManagementDepartmentComponent"],
            _components_actions_department_upsert_component__WEBPACK_IMPORTED_MODULE_12__["DepartmentUpsertComponent"]
        ],
        entryComponents: [
            _components_actions_member_upsert_component__WEBPACK_IMPORTED_MODULE_6__["MemberUpsertComponent"],
            _components_actions_site_upsert_component__WEBPACK_IMPORTED_MODULE_8__["SiteUpsertComponent"],
            _components_actions_account_upsert_component__WEBPACK_IMPORTED_MODULE_10__["AccountUpsertComponent"],
            _components_actions_department_upsert_component__WEBPACK_IMPORTED_MODULE_12__["DepartmentUpsertComponent"]
        ],
        providers: [
            _services_header_management_service__WEBPACK_IMPORTED_MODULE_13__["HeaderManagementService"]
        ]
    })
], HeaderManagementModule);



/***/ }),

/***/ "./client-src/app/header-management/services/header-management.service.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/header-management/services/header-management.service.ts ***!
  \********************************************************************************/
/*! exports provided: HeaderManagementService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderManagementService", function() { return HeaderManagementService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");




let HeaderManagementService = class HeaderManagementService {
    constructor(inventoryApiService, insuranceApiService) {
        this.inventoryApiService = inventoryApiService;
        this.insuranceApiService = insuranceApiService;
        this.defaultSortTerms = [
            {
                termOrder: 0,
                sortDirection: 1,
                field: ''
            }
        ];
    }
    updateMemberData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const defaultFilter = [];
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : defaultFilter,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: take
        };
        return this.insuranceApiService.searchMemberssByGroup(this.groupId, searchRequest);
    }
    updateAccountData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const defaultFilter = [];
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : defaultFilter,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: take
        };
        return this.inventoryApiService.searchAccountByGroup(this.groupId, searchRequest);
    }
    updateDepartmentData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const defaultFilter = [];
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : defaultFilter,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: take
        };
        return this.inventoryApiService.searchDepartmentByGroup(this.groupId, searchRequest);
    }
    updateSiteData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const siteSortTerms = [
            {
                termOrder: 0,
                sortDirection: 1,
                field: 'siteName'
            }
        ];
        const defaultFilter = [];
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : defaultFilter,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : siteSortTerms,
            skip: skip,
            take: take
        };
        return this.insuranceApiService.searchSitesByGroup(this.groupId, searchRequest);
    }
    getMemberMetadata() {
        return this.insuranceApiService.getMembersSearchMetadata();
    }
    getSiteMetadata() {
        return this.insuranceApiService.getSiteSearchMetadata();
    }
    getAccountMetadata() {
        return this.inventoryApiService.getAccountSearchMetadata();
    }
    getDepartmentMetadata() {
        return this.inventoryApiService.getDepartmentSearchMetadata();
    }
    getSiteData(groupId) {
        return this.insuranceApiService.getSitesByGroup(groupId);
    }
    getAccountData(groupId) {
        return this.inventoryApiService.getAccountsByGroupId(groupId);
    }
    getDeparmentsData(groupId) {
        return this.inventoryApiService.getDepartmentsByGroupId(groupId);
    }
    /*** Upsert Methods ***/
    upsertMember(member, isNew) {
        if (isNew) {
            return this.insuranceApiService.createMemberByGroupId(this.groupId, member, true);
        }
        else {
            return this.insuranceApiService.updateMemberByMemberId(member, true);
        }
    }
    upsertSite(site, isNew) {
        if (isNew) {
            return this.insuranceApiService.createSiteByGroupId(this.groupId, site, true);
        }
        else {
            return this.insuranceApiService.updateSiteBySiteId(site, true);
        }
    }
    upsertAccount(account, isNew) {
        if (isNew) {
            return this.inventoryApiService.createAccountByGroupId(this.groupId, account);
        }
        else {
            return this.inventoryApiService.updateAccountByAccountId(account);
        }
    }
    upsertDepartment(department, isNew) {
        if (isNew) {
            return this.inventoryApiService.createDepartmentByGroupId(this.groupId, department);
        }
        else {
            return this.inventoryApiService.updateDepartmentByDepartmentId(department);
        }
    }
    /*** Delete Methods ***/
    deleteMember(memberId, handleLocalError) {
        return this.insuranceApiService.deleteMemberByMemberId(memberId, handleLocalError);
    }
    deleteSite(siteId, handleLocalError) {
        return this.insuranceApiService.deleteSiteBySiteId(siteId, handleLocalError);
    }
    deleteAccount(accountId, handleLocalError) {
        return this.inventoryApiService.deleteAccountByAccountId(accountId, handleLocalError);
    }
    deleteDepartment(departmentId, handleLocalError) {
        return this.inventoryApiService.deleteDepartmentByDepartmentId(departmentId, handleLocalError);
    }
};
HeaderManagementService.ctorParameters = () => [
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_2__["InventoryApiService"] },
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_3__["InsuranceApiService"] }
];
HeaderManagementService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_2__["InventoryApiService"],
        _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_3__["InsuranceApiService"]])
], HeaderManagementService);



/***/ }),

/***/ "./client-src/app/home.component.ts":
/*!******************************************!*\
  !*** ./client-src/app/home.component.ts ***!
  \******************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _core_user_permissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_core/user/permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./_core/services/left-nav-service */ "./client-src/app/_core/services/left-nav-service.ts");
/* harmony import */ var _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./_api/_configuration/services/countries-api.service */ "./client-src/app/_api/_configuration/services/countries-api.service.ts");










let HomeComponent = class HomeComponent {
    constructor(userStore, translate, intlService, countryService, leftNavService) {
        this.userStore = userStore;
        this.translate = translate;
        this.intlService = intlService;
        this.countryService = countryService;
        this.leftNavService = leftNavService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.translationsLoaded = false;
        this.permissions = _core_user_permissions__WEBPACK_IMPORTED_MODULE_3__["SystemPermissionsEnum"];
        this.userHasPermissions = false;
        this.isBusy = false;
        this.options = {
            position: ['bottom', 'right'],
            showProgressBar: true,
            pauseOnHover: true,
            clickToClose: true,
            timeOut: 5000,
            lastOnBottom: true
        };
        this.collapsed = false;
    }
    ngOnInit() {
        this.userStore.user.subscribe(user => {
            if (user && user.profile) {
                this.userHasPermissions = user.permissions.permissionsGranted.length > 0;
                this.userName = user.getName();
                this.countryService.getCountryLanguage(user.profile.CountryCode).subscribe(countryLanguage => {
                    if (countryLanguage) {
                        this.intlService.localeId = countryLanguage.locale;
                        moment__WEBPACK_IMPORTED_MODULE_6__["locale"](countryLanguage.locale);
                    }
                });
            }
        });
    }
    logout() {
        this.userStore.logoutUser();
    }
    toggleNavClicked() {
        this.collapsed = !this.collapsed;
        this.leftNavService.toggleCollapsed(this.collapsed);
    }
};
HomeComponent.ctorParameters = () => [
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_2__["UserStore"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_7__["TranslationManager"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] },
    { type: _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_9__["CountriesApiService"] },
    { type: _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_8__["LeftNavService"] }
];
HomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./home.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/home.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_user_user_store__WEBPACK_IMPORTED_MODULE_2__["UserStore"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_7__["TranslationManager"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"],
        _api_configuration_services_countries_api_service__WEBPACK_IMPORTED_MODULE_9__["CountriesApiService"],
        _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_8__["LeftNavService"]])
], HomeComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.ts":
/*!**************************************************************************************************!*\
  !*** ./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: AddPortalAccessComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddPortalAccessComponent", function() { return AddPortalAccessComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");










let AddPortalAccessComponent = class AddPortalAccessComponent {
    constructor(portalService, windowManager, alertService) {
        this.portalService = portalService;
        this.windowManager = windowManager;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.displayErrors = false;
        this.contractExists = false;
        this.apiError = '';
        this.accounts = [];
        this.searching = false;
        this.searchFailed = false;
        this.item = null;
        this.hideSearchingWhenUnsubscribed = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"](() => () => (this.searching = false));
        this.search = (text$) => text$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["debounceTime"])(300))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["distinctUntilChanged"])())
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["tap"])(() => (this.searching = true)))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["switchMap"])(term => this.portalService
            .searchPortalContracts(term)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["tap"])(() => {
            this.searchFailed = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(() => {
            this.searchFailed = true;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])([]);
        }))))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["tap"])(() => {
            this.searching = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["merge"])(this.hideSearchingWhenUnsubscribed));
    }
    ngOnInit() { }
    handleModalEvent(modalEvent) {
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Save) {
            this.formGroup.ngSubmit.emit();
        }
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Dismiss) {
            this.dismiss();
        }
    }
    dismiss() {
        this.windowManager.close();
    }
    addPortalGroup(form) {
        this.displayErrors = false;
        if (form.valid) {
            //appending '-Portal' to portal groupname, refer BUG-18546
            let account = this.accounts.find(acc => acc.id === this.selectedAccountId);
            this.portalService.createPortalGroup(this.selectedContractId, account.groupName + '-Portal', account.id).subscribe(result => {
                if (result) {
                    this.submitResponse = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Success;
                    this.windowManager.close();
                }
                else {
                    this.submitResponse = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Failed;
                    this.alertService.error('Failed to create portal account.');
                    this.windowManager.close();
                }
            }, error => {
                this.apiError = !!error.error ? error.error : 'An unknown error has occurred';
                this.contractExists = true;
            });
        }
        else {
            this.displayErrors = true;
        }
    }
    getResultFormatter(result) {
        return result.projectCode + ' (' + result.contractName + ')';
    }
    getInputFormatter(result) {
        return result.projectCode + ' (' + result.contractName + ')';
    }
    onSelectItem(selected) {
        this.selectedContractId = selected.item.id;
        this.portalService.getContractGroups(this.selectedContractId).subscribe(result => {
            if (result && result.length > 0) {
                this.accounts = result;
            }
            else {
                this.accounts = [];
            }
        });
    }
};
AddPortalAccessComponent.ctorParameters = () => [
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_2__["PortalManagementService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])('portalGroupForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"])
], AddPortalAccessComponent.prototype, "formGroup", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], AddPortalAccessComponent.prototype, "modalTitle", void 0);
AddPortalAccessComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'add-portal-access-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./add-portal-access-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_portal_management_service__WEBPACK_IMPORTED_MODULE_2__["PortalManagementService"], _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"], _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"]])
], AddPortalAccessComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/contract-search.component.ts":
/*!**********************************************************************************!*\
  !*** ./client-src/app/portal-management/components/contract-search.component.ts ***!
  \**********************************************************************************/
/*! exports provided: ContractSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContractSearchComponent", function() { return ContractSearchComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let ContractSearchComponent = class ContractSearchComponent {
    constructor(portalService) {
        this.portalService = portalService;
        this.selectContract = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.searching = false;
        this.searchFailed = false;
        this.hideSearchingWhenUnsubscribed = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](() => () => (this.searching = false));
        this.search = (text$) => text$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(300))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["distinctUntilChanged"])())
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(() => (this.searching = true)))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(term => this.portalService
            .searchContracts(term)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(() => {
            this.searchFailed = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(() => {
            this.searchFailed = true;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }))))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(() => {
            this.searching = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["merge"])(this.hideSearchingWhenUnsubscribed));
    }
    ngOnInit() { }
    onSelectItem(event) {
        const contract = event.item;
        this.selectContract.emit(contract);
    }
    getResultFormatter(result) {
        return result.projectCode + ' (' + result.contractName + ')';
    }
    getInputFormatter(result) {
        return result.projectCode + ' (' + result.contractName + ')';
    }
};
ContractSearchComponent.ctorParameters = () => [
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ContractSearchComponent.prototype, "selectContract", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ContractSearchComponent.prototype, "model", void 0);
ContractSearchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'contract-search',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./contract-search.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/contract-search.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"]])
], ContractSearchComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/copy-group.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/portal-management/components/copy-group.component.ts ***!
  \*****************************************************************************/
/*! exports provided: CopyGroupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopyGroupComponent", function() { return CopyGroupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let CopyGroupComponent = class CopyGroupComponent {
    constructor(portalService) {
        this.portalService = portalService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.componentRemoved = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
    }
    ngOnInit() { }
    contractChanged(selectedContract) {
        this.selectedContract = selectedContract;
        this.resetGroups();
        this.groups = this.selectedContract.groups
            .filter(g => g.id !== this.toGroupId);
        this.resetMembers();
        this.resetSites();
    }
    groupChanged(selectedGroup) {
        this.resetMembers();
        this.loading = this.portalService.getGroupHierarchy(selectedGroup.id).subscribe((res) => {
            this.selectedGroupHierarchy = res;
            this.members = res.members;
        });
        this.resetSites();
    }
    memberChanged(selectedMember) {
        this.resetSites();
        this.sites = this.selectedMember.sites;
    }
    remove() {
        this.ref.destroy();
        this.componentRemoved.emit(this.instanceId);
    }
    resetContracts() {
        this.selectedContract = null;
    }
    resetGroups() {
        this.selectedGroup = null;
        this.groups = [];
    }
    resetMembers() {
        this.selectedMember = null;
        this.members = [];
    }
    resetSites() {
        this.selectedSite = null;
        this.sites = [];
    }
    ngOnDestroy() {
        if (this.loading) {
            this.loading.unsubscribe();
        }
    }
};
CopyGroupComponent.ctorParameters = () => [
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CopyGroupComponent.prototype, "componentRemoved", void 0);
CopyGroupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'copy-group',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./copy-group.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/copy-group.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"]])
], CopyGroupComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/portal-management.component.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/portal-management/components/portal-management.component.ts ***!
  \************************************************************************************/
/*! exports provided: PortalManagementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortalManagementComponent", function() { return PortalManagementComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _Actions_add_portal_access_modal_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Actions/add-portal-access-modal.component */ "./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");








let PortalManagementComponent = class PortalManagementComponent {
    constructor(portalService, windowManager, container, alertService) {
        this.portalService = portalService;
        this.windowManager = windowManager;
        this.container = container;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
    }
    ngOnInit() {
        this.refreshData();
    }
    ngOnDestroy() {
    }
    launchAddPortalModal() {
        const windowRef = this.windowManager.open(_Actions_add_portal_access_modal_component__WEBPACK_IMPORTED_MODULE_2__["AddPortalAccessComponent"], 'Add Portal Access', {
            isModal: true
        });
        windowRef.result.subscribe(() => {
            if (windowRef.content.instance.submitResponse === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_7__["ModalFormEvent"].Success) {
                this.refreshData();
                this.alertService.success('Portal Account Created');
            }
        });
    }
    refreshData() {
        this.portalService.getPortalContracts().subscribe(res => {
            this.portalContracts = res;
        });
    }
    setSelectedGroup() {
        if (this.selectedContractId) {
            const c = this.portalContracts.find(f => f.id === this.selectedContractId);
            const groupId = c.groupIds[0];
            this.portalService.getGroup(groupId).subscribe(res => {
                this.selectedGroup = res;
            });
        }
    }
};
PortalManagementComponent.ctorParameters = () => [
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }
];
PortalManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'portal-management',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./portal-management.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/portal-management.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_4__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"], _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]])
], PortalManagementComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/setup-access.compontent.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/portal-management/components/setup-access.compontent.ts ***!
  \********************************************************************************/
/*! exports provided: SetupAccessComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupAccessComponent", function() { return SetupAccessComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let SetupAccessComponent = class SetupAccessComponent {
    constructor(portalService) {
        this.portalService = portalService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
        console.log(this.group);
    }
    ngOnDestroy() {
    }
    toggleStatus() {
        this.group.isDisabled = !this.group.isDisabled;
        this.portalService.updateGroup(this.group).subscribe(res => {
        });
    }
};
SetupAccessComponent.ctorParameters = () => [
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SetupAccessComponent.prototype, "group", void 0);
SetupAccessComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'setup-access',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./setup-access.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-access.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"]])
], SetupAccessComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/setup-data.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/portal-management/components/setup-data.component.ts ***!
  \*****************************************************************************/
/*! exports provided: SetupDataComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupDataComponent", function() { return SetupDataComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _copy_group_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./copy-group.component */ "./client-src/app/portal-management/components/copy-group.component.ts");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");







let SetupDataComponent = class SetupDataComponent {
    constructor(componentResolver, portalService, helperService, alertService) {
        this.componentResolver = componentResolver;
        this.portalService = portalService;
        this.helperService = helperService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.selections = new Array();
        this.selectionErrors = false;
        this.replace = true;
    }
    ngOnInit() {
        this.addSelection();
    }
    copyGroups() {
        this.selectionErrors = this.hasErrors();
        if (!this.selectionErrors) {
            const dto = this.buildRequestDto();
            this.waiting = this.portalService.copyGroups(dto).subscribe(res => {
                this.alertService.success('Group Copy successfully completed.');
                this.selections = [];
                this.selectionsContainer.clear();
            }, error => {
                this.alertService.error('An error has occurred during the Group Copy.');
            });
        }
    }
    buildRequestDto() {
        const request = {
            fromGroupIds: new Array(),
            toGroupId: this.group.id,
            toGroupName: this.group.groupName,
            memberIds: new Array(),
            siteIds: new Array(),
            replace: this.replace
        };
        this.selections.forEach((selection) => {
            const refInstance = selection.instance.ref.instance;
            // Add Groups
            if (refInstance.selectedGroup != null && !request.fromGroupIds.includes(refInstance.selectedGroup.id)) {
                request.fromGroupIds.push(refInstance.selectedGroupHierarchy.id);
            }
            // Add Members
            if (refInstance.selectedMember != null && !request.memberIds.includes(refInstance.selectedMember.id)) {
                request.memberIds.push(refInstance.selectedMember.id);
            }
            // Add Sites
            if (refInstance.selectedSite != null && !request.siteIds.includes(refInstance.selectedSite.id)) {
                request.siteIds.push(refInstance.selectedSite.id);
            }
        });
        return request;
    }
    addSelection() {
        const comp = this.componentResolver.resolveComponentFactory(_copy_group_component__WEBPACK_IMPORTED_MODULE_1__["CopyGroupComponent"]);
        const selection = this.selectionsContainer.createComponent(comp);
        // Input References
        selection.instance.instanceId = this.helperService.generateGuid();
        selection.instance.toGroupId = this.group.id;
        selection.instance.ref = selection;
        selection.instance.componentRemoved.subscribe((instanceId) => {
            this.removeComponent(instanceId);
        });
        this.selections.push(selection);
    }
    removeComponent(instanceId) {
        this.selections.forEach((selection, index) => {
            if (selection.instance.instanceId === instanceId) {
                this.selections.splice(index, 1);
            }
        });
    }
    hasErrors() {
        for (let i = 0; i < this.selections.length; i++) {
            const selection = this.selections[i];
            const refInstance = selection.instance.ref.instance;
            if (refInstance.selectedContract == null || refInstance.selectedGroup == null) {
                return true;
            }
        }
        return false;
    }
    hasSelections() {
        return this.selections.length > 0;
    }
    ngOnDestroy() {
        if (this.waiting) {
            this.waiting.unsubscribe();
        }
    }
};
SetupDataComponent.ctorParameters = () => [
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ComponentFactoryResolver"] },
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_2__["PortalManagementService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SetupDataComponent.prototype, "group", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('selections', { read: _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewContainerRef"])
], SetupDataComponent.prototype, "selectionsContainer", void 0);
SetupDataComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'setup-data',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./setup-data.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-data.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ComponentFactoryResolver"],
        _services_portal_management_service__WEBPACK_IMPORTED_MODULE_2__["PortalManagementService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"]])
], SetupDataComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/setup-image.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/portal-management/components/setup-image.component.ts ***!
  \******************************************************************************/
/*! exports provided: SetupImageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupImageComponent", function() { return SetupImageComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let SetupImageComponent = class SetupImageComponent {
    constructor(alertService, portalManagementService) {
        this.alertService = alertService;
        this.portalManagementService = portalManagementService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.imageUrl = '';
        this.acceptedFileTypes = ['.png', '.jpeg', '.gif', '.jpg', '.bmp', '.svg', '.apng'];
        this.isUploading = false;
        this.canRemove = false;
    }
    ngOnInit() {
        this.portalManagementService.getPortalImage(this.group.id).subscribe(result => {
            this.currentImage = result;
            this.imageUrl = this.currentImage.url;
            this.canRemove = true;
        }, error => {
            // do nothing
        });
    }
    ngOnDestroy() {
    }
    uploadFile(file) {
        this.isUploading = true;
        this.portalManagementService.upsertPortalImage(this.group.id, file.name, file).subscribe(res => {
            this.isUploading = false;
            this.canRemove = true;
            this.currentImage = res;
            this.imageUrl = res.url;
        });
    }
    removeImage() {
        if (this.canRemove) {
            this.portalManagementService.removePortalImage(this.currentImage.id).subscribe(res => {
                this.canRemove = false;
                this.currentImage = null;
                this.imageUrl = '';
            });
        }
    }
};
SetupImageComponent.ctorParameters = () => [
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SetupImageComponent.prototype, "group", void 0);
SetupImageComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'setup-image',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./setup-image.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-image.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _services_portal_management_service__WEBPACK_IMPORTED_MODULE_1__["PortalManagementService"]])
], SetupImageComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/setup-metadata.component.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/portal-management/components/setup-metadata.component.ts ***!
  \*********************************************************************************/
/*! exports provided: SetupMetadataComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupMetadataComponent", function() { return SetupMetadataComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _reports_services_reports_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../reports/services/reports.service */ "./client-src/app/reports/services/reports.service.ts");






let SetupMetadataComponent = class SetupMetadataComponent {
    //gridData : any[]
    constructor(reportsService, alertService) {
        this.reportsService = reportsService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.metadataGridBusy = true;
        this.metadata = new Array();
        this.selectableSettings = {
            checkboxOnly: true,
            mode: 'multiple'
        };
        this.state = {
            sort: [{
                    dir: 'asc',
                    field: 'tagName'
                }]
        };
        this.sortSelectedAsc = false;
        this.sortSelectedDesc = false;
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_1__["process"])(this.metadata, this.state);
    }
    dataStateChange(state) {
        this.state = state;
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_1__["process"])(this.metadata, this.state);
    }
    ngOnInit() {
        this.reportsService.getReportMetadata(this.group.id).subscribe(data => {
            this.metadata = data;
            this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_1__["process"])(this.metadata, this.state);
        }, error => { }, () => this.metadataGridBusy = false);
        this.reportsService.getGropuMetadataByGroupId(this.group.id)
            .subscribe(data => {
            if (data != null) {
                console.log(data);
                data.forEach(groupMetadata => {
                    this.selectedMetadataIds.push(groupMetadata.metadataId);
                });
            }
        });
        if (!this.selectedMetadataIds) {
            this.selectedMetadataIds = new Array();
        }
    }
    onSelectionChanged(args) {
        setTimeout(() => {
            this.onDeselectedRows(args.deselectedRows);
            if (args.selectedRows != null && args.selectedRows.length > 0) {
                this.UpdateSelectedRows(args.selectedRows);
            }
        });
    }
    onDeselectedRows(deselectedRows) {
        if (deselectedRows == null || deselectedRows.length === 0) {
            return;
        }
        const deselectedMetadata = new Array();
        deselectedRows.forEach(value => {
            const metadataa = this.metadata.find(c => c.id === value.dataItem.id);
            deselectedMetadata.push(metadataa);
        });
        this.reportsService.deleteGroupMetadata(this.group.id, deselectedMetadata);
    }
    validateSelectedRows(selectedRows) {
        selectedRows.forEach(value => {
            const metadata = this.metadata.find(c => c.id === value.dataItem.id);
        });
    }
    UpdateSelectedRows(selectedRows) {
        const selectedMetadata = new Array();
        selectedRows.forEach(value => {
            const metadataa = this.metadata.find(c => c.id === value.dataItem.id);
            selectedMetadata.push(metadataa);
        });
        this.reportsService.createGroupMetadata(this.group.id, selectedMetadata);
    }
};
SetupMetadataComponent.ctorParameters = () => [
    { type: _reports_services_reports_service__WEBPACK_IMPORTED_MODULE_5__["ReportsService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SetupMetadataComponent.prototype, "group", void 0);
SetupMetadataComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'setup-metadata',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./setup-metadata.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-metadata.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_reports_services_reports_service__WEBPACK_IMPORTED_MODULE_5__["ReportsService"], _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"]])
], SetupMetadataComponent);



/***/ }),

/***/ "./client-src/app/portal-management/components/setup-portal.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/portal-management/components/setup-portal.component.ts ***!
  \*******************************************************************************/
/*! exports provided: SetupPortalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupPortalComponent", function() { return SetupPortalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_portal_setup_mode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_enums/portal-setup-mode */ "./client-src/app/_enums/portal-setup-mode.ts");




let SetupPortalComponent = class SetupPortalComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.setupModes = _enums_portal_setup_mode__WEBPACK_IMPORTED_MODULE_3__["PortalSetupMode"];
        this.setupMode = _enums_portal_setup_mode__WEBPACK_IMPORTED_MODULE_3__["PortalSetupMode"].SetupAccess;
    }
    ngOnInit() {
        this.portalLabel = this.group.groupName;
    }
    ngOnDestroy() { }
    toggleSetupMode(mode) {
        this.setupMode = mode;
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], SetupPortalComponent.prototype, "group", void 0);
SetupPortalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'setup-portal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./setup-portal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-portal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], SetupPortalComponent);



/***/ }),

/***/ "./client-src/app/portal-management/portal-management.module.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/portal-management/portal-management.module.ts ***!
  \**********************************************************************/
/*! exports provided: PortalManagementModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortalManagementModule", function() { return PortalManagementModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_portal_management_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/portal-management.component */ "./client-src/app/portal-management/components/portal-management.component.ts");
/* harmony import */ var _components_setup_portal_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/setup-portal.component */ "./client-src/app/portal-management/components/setup-portal.component.ts");
/* harmony import */ var _components_setup_data_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/setup-data.component */ "./client-src/app/portal-management/components/setup-data.component.ts");
/* harmony import */ var _components_setup_access_compontent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/setup-access.compontent */ "./client-src/app/portal-management/components/setup-access.compontent.ts");
/* harmony import */ var _components_Actions_add_portal_access_modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/Actions/add-portal-access-modal.component */ "./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.ts");
/* harmony import */ var _services_portal_management_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/portal-management.service */ "./client-src/app/portal-management/services/portal-management.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _components_copy_group_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/copy-group.component */ "./client-src/app/portal-management/components/copy-group.component.ts");
/* harmony import */ var _components_contract_search_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/contract-search.component */ "./client-src/app/portal-management/components/contract-search.component.ts");
/* harmony import */ var _components_setup_image_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/setup-image.component */ "./client-src/app/portal-management/components/setup-image.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _api_runtime_services_client_api_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../_api/_runtime/services/client-api.service */ "./client-src/app/_api/_runtime/services/client-api.service.ts");
/* harmony import */ var _components_setup_metadata_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/setup-metadata.component */ "./client-src/app/portal-management/components/setup-metadata.component.ts");
/* harmony import */ var _reports_services_reports_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../reports/services/reports.service */ "./client-src/app/reports/services/reports.service.ts");
/* harmony import */ var _reports_reports_module__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../reports/reports.module */ "./client-src/app/reports/reports.module.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @progress/kendo-angular-dropdowns */ "./node_modules/@progress/kendo-angular-dropdowns/dist/fesm2015/index.js");
























let PortalManagementModule = class PortalManagementModule {
};
PortalManagementModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_13__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_14__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_15__["FormsModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_16__["OrderModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
            _reports_reports_module__WEBPACK_IMPORTED_MODULE_21__["ReportsModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__["GridModule"],
            _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_23__["DropDownsModule"]
        ],
        declarations: [
            _components_portal_management_component__WEBPACK_IMPORTED_MODULE_2__["PortalManagementComponent"],
            _components_setup_portal_component__WEBPACK_IMPORTED_MODULE_3__["SetupPortalComponent"],
            _components_setup_data_component__WEBPACK_IMPORTED_MODULE_4__["SetupDataComponent"],
            _components_setup_access_compontent__WEBPACK_IMPORTED_MODULE_5__["SetupAccessComponent"],
            _components_Actions_add_portal_access_modal_component__WEBPACK_IMPORTED_MODULE_6__["AddPortalAccessComponent"],
            _components_copy_group_component__WEBPACK_IMPORTED_MODULE_9__["CopyGroupComponent"],
            _components_contract_search_component__WEBPACK_IMPORTED_MODULE_10__["ContractSearchComponent"],
            _components_setup_image_component__WEBPACK_IMPORTED_MODULE_11__["SetupImageComponent"],
            _components_setup_metadata_component__WEBPACK_IMPORTED_MODULE_19__["SetupMetadataComponent"]
        ],
        entryComponents: [
            _components_portal_management_component__WEBPACK_IMPORTED_MODULE_2__["PortalManagementComponent"],
            _components_Actions_add_portal_access_modal_component__WEBPACK_IMPORTED_MODULE_6__["AddPortalAccessComponent"],
            _components_copy_group_component__WEBPACK_IMPORTED_MODULE_9__["CopyGroupComponent"]
        ],
        providers: [
            _services_portal_management_service__WEBPACK_IMPORTED_MODULE_7__["PortalManagementService"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__["NgbModal"],
            _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"],
            _api_runtime_services_client_api_service__WEBPACK_IMPORTED_MODULE_18__["ClientApiService"],
            _reports_services_reports_service__WEBPACK_IMPORTED_MODULE_20__["ReportsService"]
        ]
    })
], PortalManagementModule);



/***/ }),

/***/ "./client-src/app/portal-management/services/portal-management.service.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/portal-management/services/portal-management.service.ts ***!
  \********************************************************************************/
/*! exports provided: PortalManagementService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortalManagementService", function() { return PortalManagementService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_runtime/services/contract-api.service */ "./client-src/app/_api/_runtime/services/contract-api.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");
/* harmony import */ var _api_runtime_services_client_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_runtime/services/client-api.service */ "./client-src/app/_api/_runtime/services/client-api.service.ts");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/_runtime/services/image-api.service */ "./client-src/app/_api/_runtime/services/image-api.service.ts");









let PortalManagementService = class PortalManagementService {
    constructor(contractService, groupService, clientService, insuranceService, imageService, configService) {
        this.contractService = contractService;
        this.groupService = groupService;
        this.clientService = clientService;
        this.insuranceService = insuranceService;
        this.imageService = imageService;
        this.configService = configService;
        this.masterTemplateId = this.configService.getSettings('masterTemplateId');
    }
    getPortalContracts() {
        return this.contractService.getContracts(true).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => {
            this.sortContracts(res);
            return res.filter(contractSummary => contractSummary.groupIds.length > 0);
        }));
    }
    getNonPortalContracts(query) {
        return this.contractService.searchContracts(query, true).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => {
            return res.filter(contractSummary => contractSummary.groups.filter(a => a.id.length === 0));
        }));
    }
    searchPortalContracts(query) {
        return this.contractService.searchContracts(query).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => {
            return res.filter(contractSummary => contractSummary.groups.filter(a => a.id.length === 0));
        }));
    }
    getContractGroups(query) {
        return this.contractService.getContractsGroups(query, true).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(res => res.map(group => ({ id: group.id, groupName: group.groupName }))));
    }
    createPortalGroup(selectedContractId, accountName, selectedAccountId) {
        const dto = {
            contractId: selectedContractId,
            groupName: accountName,
            templateId: this.masterTemplateId,
            isPortal: true,
            groupId: selectedAccountId
        };
        return this.groupService.createGroup(dto);
    }
    getGroup(groupId) {
        return this.groupService.getGroup(groupId);
    }
    updateGroup(group) {
        const dto = {
            groupId: group.id,
            groupName: group.groupName,
            isDisabled: group.isDisabled,
            isPortal: true,
            templateId: this.masterTemplateId
        };
        return this.groupService.updateGroup(dto);
    }
    getClients() {
        return this.clientService.getClients();
    }
    getClientHierarchy(clientId) {
        return this.clientService.getHierarchyByClient(clientId);
    }
    copyGroups(request) {
        return this.groupService.copyGroups(request);
    }
    searchContracts(query) {
        return this.contractService.searchContracts(query);
    }
    getGroupHierarchy(groupId) {
        return this.insuranceService.getGroupHierarchy(groupId);
    }
    sortContracts(contracts) {
        contracts.sort((left, right) => {
            if (left.client < right.client) {
                return -1;
            }
            if (left.client > right.client) {
                return 1;
            }
            return 0;
        });
    }
    removePortalImage(imageId) {
        return this.imageService.deleteImage(imageId);
    }
    upsertPortalImage(groupId, imageName, image) {
        return this.imageService.upsertPortalImage(groupId, imageName, image);
    }
    getPortalImage(groupId) {
        return this.imageService.getPortalImage(groupId);
    }
};
PortalManagementService.ctorParameters = () => [
    { type: _api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_4__["ContractApiService"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_5__["GroupApiService"] },
    { type: _api_runtime_services_client_api_service__WEBPACK_IMPORTED_MODULE_6__["ClientApiService"] },
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_7__["InsuranceApiService"] },
    { type: _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_8__["ImageApiService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] }
];
PortalManagementService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_4__["ContractApiService"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_5__["GroupApiService"],
        _api_runtime_services_client_api_service__WEBPACK_IMPORTED_MODULE_6__["ClientApiService"],
        _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_7__["InsuranceApiService"],
        _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_8__["ImageApiService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_2__["ConfigService"]])
], PortalManagementService);



/***/ }),

/***/ "./client-src/app/processing/components/processing-summary.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/processing/components/processing-summary.component.ts ***!
  \******************************************************************************/
/*! exports provided: ProcessingSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProcessingSummaryComponent", function() { return ProcessingSummaryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");



let ProcessingSummaryComponent = class ProcessingSummaryComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
        // console.log(this.processingSummary.successfulRecords, this.processingSummary.errorRecords);
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ProcessingSummaryComponent.prototype, "processingSummary", void 0);
ProcessingSummaryComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'processing-summary',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./processing-summary.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/components/processing-summary.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], ProcessingSummaryComponent);



/***/ }),

/***/ "./client-src/app/processing/default-values/custom-addition-headers.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/processing/default-values/custom-addition-headers.ts ***!
  \*****************************************************************************/
/*! exports provided: customAdditionsHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customAdditionsHeaders", function() { return customAdditionsHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const customAdditionsHeaders = [
    {
        name: 'description',
        order: 1,
        displayName: 'Description',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    },
    {
        name: 'cost',
        order: 2,
        displayName: 'Cost',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    }
];


/***/ }),

/***/ "./client-src/app/processing/default-values/default-headers.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/processing/default-values/default-headers.ts ***!
  \*********************************************************************/
/*! exports provided: defaultDepreciationHeaders, defaultTrendingHeaders, errorColumn, trendingErrorColumn, depreciationHeaders, trendingHeaders, assetFileRecordHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultDepreciationHeaders", function() { return defaultDepreciationHeaders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultTrendingHeaders", function() { return defaultTrendingHeaders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "errorColumn", function() { return errorColumn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trendingErrorColumn", function() { return trendingErrorColumn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "depreciationHeaders", function() { return depreciationHeaders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trendingHeaders", function() { return trendingHeaders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assetFileRecordHeaders", function() { return assetFileRecordHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const defaultDepreciationHeaders = [
    'displayId',
    'description',
    'historicalCost',
    'DepreciationBasis',
    'DepreciationConvention',
    'DepreciationAsOfDate',
    'acquisitionDate',
    'AccumulatedDepreciation',
    'PeriodDepreciation',
    'LifeMonths'
];
const defaultTrendingHeaders = [
    'displayId',
    'description',
    'acquisitionDate',
    'assetClass',
    'sourceField',
    'sourceFieldValue',
    'trendIndex',
    'destinationField',
    'originalValue',
    'newValue',
    'percentChange'
];
const errorColumn = [
    {
        name: 'ValidationErrors',
        order: 0,
        displayName: 'Error',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    }
];
const trendingErrorColumn = [
    {
        name: 'processingErrorDescription',
        order: 0,
        displayName: 'Error',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    }
];
const depreciationHeaders = [
    {
        name: 'displayId',
        displayName: 'Display Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'description',
        displayName: 'Description',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'historicalCost',
        displayName: 'Historical Cost',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'DepreciationBasis',
        displayName: 'Basis',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'DepreciationConvention',
        displayName: 'Convention',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'DepreciationAsOfDate',
        displayName: 'As of Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'DepreciationMethod',
        displayName: 'Method',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'AccumulatedDepreciation',
        displayName: 'Accumulated Depreciation',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'PeriodDepreciation',
        displayName: 'Period Depreciation',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'LifeMonths',
        displayName: 'Life Months',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    }
];
const trendingHeaders = [
    {
        name: 'displayId',
        displayName: 'Display Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'description',
        displayName: 'Description',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'acquisitionDate',
        displayName: 'Acquisition Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'trendIndex',
        displayName: 'Trend Index',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'sourceField',
        displayName: 'Start Field',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'sourceFieldValue',
        displayName: 'Start Field Value',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'destinationField',
        displayName: 'Ending Field',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'originalValue',
        displayName: 'Current Ending Value',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'newValue',
        displayName: 'New Ending Value',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'percentChange',
        displayName: 'Percentage of Change',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    }
];
const assetFileRecordHeaders = [
    {
        name: 'assetTagNumber',
        displayName: 'Asset Tag Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'oldTagNumber',
        displayName: 'Old Tag Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'activityCode',
        displayName: 'Activity Code',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'property',
        displayName: 'Property',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'floor',
        displayName: 'Floor',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'room',
        displayName: 'Room',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'locationInPlant',
        displayName: 'Location In Plant',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'department',
        displayName: 'Department Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'classCode',
        displayName: 'Class Code',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'assetClass',
        displayName: 'Asset Classification',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'gLAssetAccount',
        displayName: 'GL Asset Account',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'gLAccumAccount',
        displayName: 'GL Accum Account',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'fundingSource',
        displayName: 'Funding Source',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'quantity',
        displayName: 'Quantity',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'description2',
        displayName: 'Description 2',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'description3',
        displayName: 'Description 3',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'manufacturer',
        displayName: 'Manufacturer',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'modelNumber',
        displayName: 'Model Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'faceDescription',
        displayName: 'Face Description',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'serialNumber',
        displayName: 'Serial Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'acquisitionDate',
        displayName: 'Acquisition Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'functionActivity',
        displayName: 'Function Activity',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'plant',
        displayName: 'Plant',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'city',
        displayName: 'City',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'purchaseOrder',
        displayName: 'Purchase Order',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'invoiceNumber',
        displayName: 'Invoice Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'vendor',
        displayName: 'Vendor',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'propertyType',
        displayName: 'Property Type',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'projectNumber',
        displayName: 'Project Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'businessUnit',
        displayName: 'Business Unit',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'lastInventoryDate',
        displayName: 'Last Inventory Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'account',
        displayName: 'Account',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'insuranceAccount',
        displayName: 'Insurance Account',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'accountClass',
        displayName: 'Account Class',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'division',
        displayName: 'Division',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'gLAccount',
        displayName: 'GL Account',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'costReplacementNew',
        displayName: 'Cost Replacement New',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'netProceeds',
        displayName: 'Net Proceeds',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'salvageValue',
        displayName: 'Salvage Value',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'fundContribution',
        displayName: 'Fund Contribution',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'disposalCode',
        displayName: 'Disposal Code',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'disposalDate',
        displayName: 'Disposal Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isSearchable: false,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'sourceCode',
        displayName: 'Source Code',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'assetFileId',
        displayName: 'Asset File Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'sourceRecordId',
        displayName: 'Source Record Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl1',
        displayName: 'Inventory Image Url 1',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl2',
        displayName: 'Inventory Image Url 2',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl3',
        displayName: 'Inventory Image Url 3',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl4',
        displayName: 'Inventory Image Url 4',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl5',
        displayName: 'Inventory Image Url 5',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl6',
        displayName: 'Inventory Image Url 6',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    },
    {
        name: 'inventoryImageUrl7',
        displayName: 'Inventory Image Url 7',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false
    }
];


/***/ }),

/***/ "./client-src/app/processing/default-values/default-recipient-headers.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/processing/default-values/default-recipient-headers.ts ***!
  \*******************************************************************************/
/*! exports provided: recipientHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recipientHeaders", function() { return recipientHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const recipientHeaders = [
    {
        name: 'recipientName',
        displayName: 'Recipient Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'address',
        displayName: 'Address',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'address2',
        displayName: 'Address2',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'city',
        displayName: 'City',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'state',
        displayName: 'State',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'zip',
        displayName: 'Zip',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'email',
        displayName: 'Email',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'phoneNumber',
        displayName: 'Phone Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'deliverables',
        displayName: 'Deliverables',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    }
];


/***/ }),

/***/ "./client-src/app/processing/default-values/default-transaction-headers.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/processing/default-values/default-transaction-headers.ts ***!
  \*********************************************************************************/
/*! exports provided: transactionHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transactionHeaders", function() { return transactionHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const transactionHeaders = [
    {
        name: 'displayId',
        displayName: 'Display Id',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'assetTagNumber',
        displayName: 'Asset Tag Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'activity',
        displayName: 'Activity',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'fieldName',
        displayName: 'Field Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'oldValue',
        displayName: 'Old Value',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'newValue',
        displayName: 'New Value',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'transactionDate',
        displayName: 'Transaction Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'user',
        displayName: 'Edited By',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    }
];


/***/ }),

/***/ "./client-src/app/processing/default-values/future-years-headers.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/processing/default-values/future-years-headers.ts ***!
  \**************************************************************************/
/*! exports provided: futureYearsMetaData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "futureYearsMetaData", function() { return futureYearsMetaData; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const futureYearsMetaData = [
    {
        name: 'depreciationBasis',
        order: 1,
        displayName: 'Depreciation Basis',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    },
    {
        name: 'depreciationAsOfDate',
        order: 2,
        displayName: 'Depreciation As Of Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    },
    {
        name: 'accumulatedDepreciation',
        order: 3,
        displayName: 'Accumulated Depreciation',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    },
    {
        name: 'periodDepreciation',
        order: 4,
        displayName: 'Period Depreciation',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    }
];


/***/ }),

/***/ "./client-src/app/processing/default-values/user-factor-headers.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/processing/default-values/user-factor-headers.ts ***!
  \*************************************************************************/
/*! exports provided: userFactorHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "userFactorHeaders", function() { return userFactorHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const userFactorHeaders = [
    {
        name: 'description',
        order: 1,
        displayName: 'Description',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    },
    {
        name: 'factor',
        order: 2,
        displayName: 'Factor',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        isSearchable: false,
        isFilterable: false,
        isSortable: false,
        isFacetable: false,
        isKey: false,
        isCustom: false,
        isEditable: false,
    }
];


/***/ }),

/***/ "./client-src/app/processing/depreciation/components/depreciation-form.component.ts":
/*!******************************************************************************************!*\
  !*** ./client-src/app/processing/depreciation/components/depreciation-form.component.ts ***!
  \******************************************************************************************/
/*! exports provided: DepreciationFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepreciationFormComponent", function() { return DepreciationFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/depreciation-form.service */ "./client-src/app/processing/depreciation/services/depreciation-form.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");








let DepreciationFormComponent = class DepreciationFormComponent {
    constructor(processingService, router, route, depreciationFormService) {
        this.processingService = processingService;
        this.router = router;
        this.route = route;
        this.depreciationFormService = depreciationFormService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.isReadyForProcessing = false;
        this.isLoading = true;
        this.errorMessage = 'Unable to process data.';
        this.breadCrumbs = [
            { name: 'Setup Rules', routerLink: 'Setup' },
            { name: 'Summary', routerLink: 'Summary', isDisabled: true }
        ];
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
    }
    ngOnInit() {
        this.processingService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        const getProcessingStatus = this.processingService.getProcessingStatus(this.processingService.groupId);
        const getDepreciationMethods = this.depreciationFormService.getDepreciationMethods();
        const getDepreciationConventions = this.depreciationFormService.getDepreciationConventions();
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["forkJoin"])(getProcessingStatus, getDepreciationMethods, getDepreciationConventions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.destroyed$))
            .subscribe(([processingStatus, depreciationMethods, depreciationConventions]) => {
            this.processingService.updateReferenceData(depreciationMethods.result.enumOptions, 'DepreciationMethod');
            this.processingService.updateReferenceData(depreciationConventions.result.enumOptions, 'DepreciationConvention');
            this.isReadyForProcessing = processingStatus.isReadyForProcessing;
            this.processingService.dataTarget = processingStatus.target;
            if (!this.isReadyForProcessing) {
                this.errorMessage = this.processingService.getProcessingErrorMessage(processingStatus);
            }
            this.isLoading = false;
        }, error => { }, () => {
            this.isLoading = false;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    navigateToImportData(event) {
        event.preventDefault();
        this.router.navigate([`project-profile/${this.processingService.groupId}/DataImport`]);
    }
};
DepreciationFormComponent.ctorParameters = () => [
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_1__["ProcessingService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"] },
    { type: _services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_2__["DepreciationFormService"] }
];
DepreciationFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'depreciation-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./depreciation-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_processing_service__WEBPACK_IMPORTED_MODULE_1__["ProcessingService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"],
        _services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_2__["DepreciationFormService"]])
], DepreciationFormComponent);



/***/ }),

/***/ "./client-src/app/processing/depreciation/components/depreciation-setup.component.ts":
/*!*******************************************************************************************!*\
  !*** ./client-src/app/processing/depreciation/components/depreciation-setup.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: DepreciationSetupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepreciationSetupComponent", function() { return DepreciationSetupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _shared_components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_shared/components/filter-criteria-builder.component */ "./client-src/app/_shared/components/filter-criteria-builder.component.ts");
/* harmony import */ var _services_depreciation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/depreciation.service */ "./client-src/app/processing/depreciation/services/depreciation.service.ts");
/* harmony import */ var _services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/depreciation-form.service */ "./client-src/app/processing/depreciation/services/depreciation-form.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");










let DepreciationSetupComponent = class DepreciationSetupComponent {
    constructor(processingService, depreciationFormService, depreciationService, router, route, componentResolver) {
        this.processingService = processingService;
        this.depreciationFormService = depreciationFormService;
        this.depreciationService = depreciationService;
        this.router = router;
        this.route = route;
        this.componentResolver = componentResolver;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.depreciationRequest = {};
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_8__["Subject"]();
        this.inventoryMetadata = new Array();
        this.depreciationMethods = new Array();
        this.conventions = new Array();
        this.PropertyRecordsOutsourcingServiceId = '940d7763-a908-4509-aaf9-daa136863979';
        this.isProcessing = false;
        this.hiddenFields = [
            'id',
            'assetFileId',
            'sourceRecordId',
            'groupId',
        ];
    }
    ngOnInit() {
        this.depreciationService.depreciationRequest$.
            pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.destroyed$)).subscribe(requestInProgress => {
            this.depreciationRequest = requestInProgress;
        });
        // Init form fields
        const getDepreciationMethods = this.depreciationFormService.getDepreciationMethods();
        const getDepreciationConventions = this.depreciationFormService.getDepreciationConventions();
        const getSubProfileFields = this.depreciationFormService.getSubProfileFields(this.processingService.groupId);
        const getFilterDataSource = this.processingService.GetSearchMetadataByGroupId(this.processingService.groupId, this.processingService.dataTarget);
        const getMainProfileService = this.depreciationFormService.getMainProfileFields(this.processingService.groupId);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_8__["forkJoin"])(getDepreciationMethods, getDepreciationConventions, getSubProfileFields, getFilterDataSource, getMainProfileService)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.destroyed$))
            .subscribe(([methods, conventions, subProfile, filterDataSource, mainProfile]) => {
            this.depreciationMethods = methods.result.enumOptions;
            this.conventions = conventions.result.enumOptions;
            this.subProfile = subProfile;
            this.inventoryMetadata = filterDataSource.fields.filter(x => !(this.hiddenFields.indexOf(x.name) > -1));
            this.mainProfile = mainProfile;
            if (this.inventoryMetadata.length > 0) {
                if (this.depreciationRequest.filterTerms.length === 0) {
                    this.addFilter();
                }
                // Set existing filters on page load if present
                this.depreciationRequest.filterTerms.forEach(filter => {
                    if (filter.operation !== 'noop') {
                        this.addFilter(filter);
                    }
                });
            }
            const serviceField = this.mainProfile.fields.find(c => c.fieldName === 'Service');
            if (serviceField.value && serviceField.value.value === this.PropertyRecordsOutsourcingServiceId) {
                this.depreciationRequest.futureYears = 1;
            }
            else {
                this.depreciationRequest.futureYears = 0;
            }
        }, error => { }, () => { });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    addFilter(filter) {
        const comp = this.componentResolver.resolveComponentFactory(_shared_components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_2__["FilterCriteriaBuilderComponent"]);
        const filterCriteria = this.filterCriteriaContainer.createComponent(comp);
        // Setting reference to close/remove
        filterCriteria.instance.ref = filterCriteria;
        filterCriteria.instance.translationKeyBase = this.i18n.asset;
        filterCriteria.instance.filterMetadata = this.inventoryMetadata;
        filterCriteria.instance.criteriaChangedEvent.subscribe(e => {
            const changeFilter = e;
            changeFilter.term.dataTarget = this.processingService.dataTarget;
            this.depreciationService.addOrUpdateFilter(changeFilter);
        });
        filterCriteria.instance.filterRemovedEvent.subscribe(e => {
            const removedFilter = e;
            this.depreciationService.removeFilter(removedFilter.id);
        });
        if (filter) {
            filterCriteria.instance.filter = filter;
        }
    }
    getSubProfileFieldValue(fieldName) {
        if (this.subProfile && this.subProfile.fields) {
            const field = this.subProfile.fields.find(c => c.fieldName === fieldName);
            return field ? field.value : '';
        }
        else {
            return '';
        }
    }
    onSubmit(form) {
        if (form.valid) {
            this.depreciationService.setDepreciationRequest(this.depreciationRequest);
            this.isProcessing = true;
            this.depreciationService.executeDepreciation(this.processingService.groupId).subscribe(result => {
                this.isProcessing = false;
                this.router.navigate([`/project-profile/${this.processingService.groupId}/Depreciation/Summary`]);
            });
        }
    }
};
DepreciationSetupComponent.ctorParameters = () => [
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_1__["ProcessingService"] },
    { type: _services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_4__["DepreciationFormService"] },
    { type: _services_depreciation_service__WEBPACK_IMPORTED_MODULE_3__["DepreciationService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ComponentFactoryResolver"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])('filterCriteria', { read: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"], static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"])
], DepreciationSetupComponent.prototype, "filterCriteriaContainer", void 0);
DepreciationSetupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'depreciation-component',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./depreciation-setup.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-setup.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_processing_service__WEBPACK_IMPORTED_MODULE_1__["ProcessingService"],
        _services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_4__["DepreciationFormService"],
        _services_depreciation_service__WEBPACK_IMPORTED_MODULE_3__["DepreciationService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ComponentFactoryResolver"]])
], DepreciationSetupComponent);



/***/ }),

/***/ "./client-src/app/processing/depreciation/components/depreciation-summary.component.ts":
/*!*********************************************************************************************!*\
  !*** ./client-src/app/processing/depreciation/components/depreciation-summary.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: DepreciationSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepreciationSummaryComponent", function() { return DepreciationSummaryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_depreciation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/depreciation.service */ "./client-src/app/processing/depreciation/services/depreciation.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../default-values/default-headers */ "./client-src/app/processing/default-values/default-headers.ts");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _default_values_future_years_headers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../default-values/future-years-headers */ "./client-src/app/processing/default-values/future-years-headers.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");












let DepreciationSummaryComponent = class DepreciationSummaryComponent {
    constructor(router, depreciationService, alertService, famisGridService, processingService) {
        this.router = router;
        this.depreciationService = depreciationService;
        this.alertService = alertService;
        this.famisGridService = famisGridService;
        this.processingService = processingService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        // TODO: Pull in header info from runtime API metadata route
        this.windowSize = 500;
        this.initWindowSize = 84;
        this.subGridMetaData = _default_values_future_years_headers__WEBPACK_IMPORTED_MODULE_8__["futureYearsMetaData"];
        this.processingSummary = {
            successCount: 0,
            errorCount: 0,
            processingVerb: 'Depreciated'
        };
    }
    ngOnInit() {
        const s = this;
        this.famisGridService.resetCache();
        this.depreciationService.clearDepreciation();
        this.successGrid = {
            gridData: this.depreciationService.successGridData$,
            gridSubGridData: {
                subGridData: [],
                subGridHeaders: this.subGridMetaData
            },
            gridId: this.famisGridService.createGrid(),
            columnHeaders: _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["depreciationHeaders"].concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["assetFileRecordHeaders"]),
            selectedHeaders: _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["defaultDepreciationHeaders"],
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'Summary',
            dataSource: this.processingService.dataTarget,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Filter, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.i18n.asset,
        };
        this.errorGrid = {
            gridData: this.depreciationService.errorGridData$,
            gridId: this.famisGridService.createGrid(),
            columnHeaders: _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["errorColumn"].concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["depreciationHeaders"]).concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["assetFileRecordHeaders"]),
            selectedHeaders: ['ValidationErrors'].concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["defaultDepreciationHeaders"]),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'Errors',
            dataSource: this.processingService.dataTarget,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Filter, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.i18n.asset
        };
        const getSuccessfulRecords = s.depreciationService.updateDepreciationResults(s.processingService.groupId, s.famisGridService.defaultSkip, s.famisGridService.defaultTake, true);
        const getErrorRecords = s.depreciationService.updateDepreciationResults(s.processingService.groupId, s.famisGridService.defaultSkip, s.famisGridService.defaultTake, false);
        const getActivityCodes = this.depreciationService.getActivityCodes();
        const loading = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])(getSuccessfulRecords, getErrorRecords, getActivityCodes).subscribe(([successfulRecords, errorRecords, activityCodes]) => {
            s.processingService.updateReferenceData(activityCodes.result.enumOptions, 'ActivityCodes');
            if (successfulRecords) {
                s.successGrid.totalRecordCount = successfulRecords.totalInRecordSet;
                s.processingSummary.successCount = successfulRecords.totalInRecordSet;
                s.depreciationService.setSuccessGridDataSource(successfulRecords.assets);
                if (successfulRecords.assets.length > 0) {
                    s.successGrid.gridSubGridData.subGridData = Array.isArray(successfulRecords.futureYears) ? successfulRecords.futureYears : [];
                    s.famisGridService.setCacheRecords(this.processingService.mapEnums(successfulRecords.assets), s.successGrid.gridId, 0, successfulRecords.totalInRecordSet, s.initWindowSize);
                }
            }
            if (errorRecords) {
                s.errorGrid.totalRecordCount = errorRecords.totalInRecordSet;
                s.processingSummary.errorCount = errorRecords.totalInRecordSet;
                s.depreciationService.setErrorGridDataSource(this.processingService.mapEnums(errorRecords.assets));
                s.famisGridService.setCacheRecords(errorRecords.assets, this.errorGrid.gridId, 0, errorRecords.totalInRecordSet, s.initWindowSize);
            }
        });
        s.successGrid.loading = loading;
        s.errorGrid.loading = loading;
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    updateCache(request) {
        const s = this;
        if (request.gridId === s.successGrid.gridId) {
            this.successGrid.cacheLoading = s.processCacheUpdate(request, true);
        }
        if (request.gridId === s.errorGrid.gridId) {
            this.errorGrid.cacheLoading = s.processCacheUpdate(request, false);
        }
    }
    back() {
        this.router.navigate([`/project-profile/${this.processingService.groupId}/Depreciation/Setup`]);
    }
    commit() {
        this.depreciationService.commitDepreciation(this.processingService.groupId).subscribe(result => {
            if (result.success) {
                this.alertService.success(`Depreciation Successful: {{recordsProcessed}} Records Processed`, null, { recordsProcessed: result.recordsProcessed });
                this.router.navigate([`/project-profile/${this.processingService.groupId}/Depreciation/Setup`]);
            }
            else {
                this.alertService.error(`An error has occurred while commiting the Depreciation`);
            }
        });
    }
    processCacheUpdate(cacheUpdateRequest, returnSuccessful = true) {
        const s = this;
        if (cacheUpdateRequest.filters) {
            cacheUpdateRequest.filters.forEach(filter => {
                filter.term.dataTarget = s.processingService.dataTarget;
            });
        }
        return this.depreciationService
            .updateDepreciationResults(s.processingService.groupId, cacheUpdateRequest.cacheWindow.skip, cacheUpdateRequest.cacheWindow.take, returnSuccessful, cacheUpdateRequest.sortTerms, cacheUpdateRequest.filters)
            .subscribe(dto => {
            if (cacheUpdateRequest.gridId === s.successGrid.gridId) {
                this.successGrid.totalRecordCount = dto.totalInRecordSet;
                this.successGrid.gridSubGridData.subGridData = Array.isArray(dto.futureYears) ? dto.futureYears : [];
                s.famisGridService.setCacheRecords(this.processingService.mapEnums(dto.assets), cacheUpdateRequest.gridId, cacheUpdateRequest.cacheWindow.skip, dto.numberInThisPayload, this.successGrid.windowSize);
            }
            if (cacheUpdateRequest.gridId === s.errorGrid.gridId) {
                this.errorGrid.totalRecordCount = dto.totalInRecordSet;
                s.famisGridService.setCacheRecords(this.processingService.mapEnums(dto.assets), cacheUpdateRequest.gridId, cacheUpdateRequest.cacheWindow.skip, dto.numberInThisPayload, this.errorGrid.windowSize);
            }
        });
    }
};
DepreciationSummaryComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: _services_depreciation_service__WEBPACK_IMPORTED_MODULE_1__["DepreciationService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_6__["ProcessingService"] }
];
DepreciationSummaryComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'depreciation-summary',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./depreciation-summary.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-summary.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        _services_depreciation_service__WEBPACK_IMPORTED_MODULE_1__["DepreciationService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _services_processing_service__WEBPACK_IMPORTED_MODULE_6__["ProcessingService"]])
], DepreciationSummaryComponent);



/***/ }),

/***/ "./client-src/app/processing/depreciation/services/depreciation-form.service.ts":
/*!**************************************************************************************!*\
  !*** ./client-src/app/processing/depreciation/services/depreciation-form.service.ts ***!
  \**************************************************************************************/
/*! exports provided: DepreciationFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepreciationFormService", function() { return DepreciationFormService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _api_runtime_services_view_models_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_api/_runtime/services/view-models-api.service */ "./client-src/app/_api/_runtime/services/view-models-api.service.ts");




let DepreciationFormService = class DepreciationFormService {
    constructor(referenceDataApiService, viewModelsApiService) {
        this.referenceDataApiService = referenceDataApiService;
        this.viewModelsApiService = viewModelsApiService;
    }
    getDepreciationMethods() {
        return this.referenceDataApiService.getDepreciationMethods();
    }
    getDepreciationConventions() {
        return this.referenceDataApiService.getDepreciationConventions();
    }
    getSubProfileFields(groupId) {
        return this.viewModelsApiService.getSubProfileForGroup(groupId);
    }
    getMainProfileFields(groupId) {
        return this.viewModelsApiService.getMainProfileForGroup(groupId);
    }
};
DepreciationFormService.ctorParameters = () => [
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_2__["ReferenceDataApiService"] },
    { type: _api_runtime_services_view_models_api_service__WEBPACK_IMPORTED_MODULE_3__["ViewModelsApiService"] }
];
DepreciationFormService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_2__["ReferenceDataApiService"],
        _api_runtime_services_view_models_api_service__WEBPACK_IMPORTED_MODULE_3__["ViewModelsApiService"]])
], DepreciationFormService);



/***/ }),

/***/ "./client-src/app/processing/depreciation/services/depreciation.service.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/processing/depreciation/services/depreciation.service.ts ***!
  \*********************************************************************************/
/*! exports provided: DepreciationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepreciationService", function() { return DepreciationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/_runtime/services/processing-api.service */ "./client-src/app/_api/_runtime/services/processing-api.service.ts");






let DepreciationService = class DepreciationService {
    constructor(processingApiService, processingService, referenceDataApiService) {
        this.processingApiService = processingApiService;
        this.processingService = processingService;
        this.referenceDataApiService = referenceDataApiService;
        this.successGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.errorGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.successGridData$ = this.successGridDataSource.asObservable();
        this.errorGridData$ = this.errorGridDataSource.asObservable();
        this.defaultSortTerms = [{ termOrder: 0, sortDirection: 0, field: 'id' }];
        this.depreciationRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]({
            method: 0,
            convention: 0,
            dayOneCalc: false,
            futureYears: 0,
            filterTerms: new Array()
        });
        this.depreciationRequest$ = this.depreciationRequestSource.asObservable();
    }
    clearDepreciation() {
        this.successGridDataSource.next(new Array());
        this.errorGridDataSource.next(new Array());
    }
    executeDepreciation(groupId) {
        const request = this.depreciationRequestSource.getValue();
        const defaultFilter = {
            term: { dataTarget: this.processingService.dataTarget, field: '', value: '' },
            operation: 'noop'
        };
        const executeRequest = Object.assign({}, request);
        executeRequest.filterTerms = request.filterTerms.length > 0 ? request.filterTerms : [defaultFilter];
        return this.processingApiService.executeDepreciation(groupId, executeRequest);
    }
    updateDepreciationResults(groupId, skip, take, returnSuccessful, sortTerms = new Array(), filterTerms = new Array()) {
        this.depreciationRequestSource.getValue();
        const defaultFilter = {
            term: { dataTarget: this.processingService.dataTarget, field: '', value: '' },
            operation: 'noop'
        };
        const request = {
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: take,
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : [defaultFilter],
            filterConjunction: 'and',
            recordsRequested: returnSuccessful ? 'SuccessfulRecords' : 'FailedRecords'
        };
        return this.processingApiService.getDepreciationResults(groupId, request);
    }
    commitDepreciation(groupId) {
        return this.processingApiService.commitDepreciation(groupId);
    }
    /* End Depreciation Actions */
    // Updates the request in progress
    setDepreciationRequest(dto) {
        const current = this.depreciationRequestSource.getValue();
        current.convention = dto.convention;
        current.dayOneCalc = dto.dayOneCalc;
        current.futureYears = dto.futureYears;
        current.method = dto.method;
        this.depreciationRequestSource.next(current);
    }
    // Updates the filter on the request in progress
    addOrUpdateFilter(filterModified) {
        const currentDepreciation = this.depreciationRequestSource.getValue();
        currentDepreciation.filterTerms = this.processingService.addOrUpdateFilter(filterModified, currentDepreciation.filterTerms);
        this.depreciationRequestSource.next(currentDepreciation);
    }
    // Removes filter from the request in progress
    removeFilter(id) {
        const currentDepreciation = this.depreciationRequestSource.getValue();
        currentDepreciation.filterTerms = this.processingService.removeFilter(id, currentDepreciation.filterTerms);
        this.depreciationRequestSource.next(currentDepreciation);
    }
    setSuccessGridDataSource(data) {
        this.successGridDataSource.next(data);
    }
    setErrorGridDataSource(data) {
        this.errorGridDataSource.next(data);
    }
    getActivityCodes() {
        return this.referenceDataApiService.getActivityCodes();
    }
};
DepreciationService.ctorParameters = () => [
    { type: _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_5__["ProcessingApiService"] },
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__["ReferenceDataApiService"] }
];
DepreciationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_5__["ProcessingApiService"],
        _services_processing_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__["ReferenceDataApiService"]])
], DepreciationService);



/***/ }),

/***/ "./client-src/app/processing/processing.module.ts":
/*!********************************************************!*\
  !*** ./client-src/app/processing/processing.module.ts ***!
  \********************************************************/
/*! exports provided: ProcessingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProcessingModule", function() { return ProcessingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _trending_components_trending_summary_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./trending/components/trending-summary.component */ "./client-src/app/processing/trending/components/trending-summary.component.ts");
/* harmony import */ var _trending_components_trending_setup_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./trending/components/trending-setup.component */ "./client-src/app/processing/trending/components/trending-setup.component.ts");
/* harmony import */ var _trending_components_trending_form_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./trending/components/trending-form.component */ "./client-src/app/processing/trending/components/trending-form.component.ts");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _trending_services_trending_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./trending/services/trending.service */ "./client-src/app/processing/trending/services/trending.service.ts");
/* harmony import */ var _depreciation_services_depreciation_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./depreciation/services/depreciation.service */ "./client-src/app/processing/depreciation/services/depreciation.service.ts");
/* harmony import */ var _depreciation_components_depreciation_summary_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./depreciation/components/depreciation-summary.component */ "./client-src/app/processing/depreciation/components/depreciation-summary.component.ts");
/* harmony import */ var _depreciation_components_depreciation_form_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./depreciation/components/depreciation-form.component */ "./client-src/app/processing/depreciation/components/depreciation-form.component.ts");
/* harmony import */ var _depreciation_components_depreciation_setup_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./depreciation/components/depreciation-setup.component */ "./client-src/app/processing/depreciation/components/depreciation-setup.component.ts");
/* harmony import */ var _components_processing_summary_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/processing-summary.component */ "./client-src/app/processing/components/processing-summary.component.ts");
/* harmony import */ var _depreciation_services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./depreciation/services/depreciation-form.service */ "./client-src/app/processing/depreciation/services/depreciation-form.service.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _api_configuration_services_data_processing_api_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../_api/_configuration/services/data-processing-api.service */ "./client-src/app/_api/_configuration/services/data-processing-api.service.ts");
/* harmony import */ var _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../_api/_runtime/services/processing-api.service */ "./client-src/app/_api/_runtime/services/processing-api.service.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_runtime_services_view_models_api_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../_api/_runtime/services/view-models-api.service */ "./client-src/app/_api/_runtime/services/view-models-api.service.ts");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");



























let ProcessingModule = class ProcessingModule {
};
ProcessingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _core_core_module__WEBPACK_IMPORTED_MODULE_15__["CoreModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_16__["DateInputsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_17__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_18__["FormsModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_19__["OrderModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_18__["FormsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_20__["LaddaModule"]
        ],
        declarations: [
            _trending_components_trending_summary_component__WEBPACK_IMPORTED_MODULE_4__["TrendingSummaryComponent"],
            _trending_components_trending_setup_component__WEBPACK_IMPORTED_MODULE_5__["TrendingSetupComponent"],
            _trending_components_trending_form_component__WEBPACK_IMPORTED_MODULE_6__["TrendingFormComponent"],
            _depreciation_components_depreciation_setup_component__WEBPACK_IMPORTED_MODULE_12__["DepreciationSetupComponent"],
            _components_processing_summary_component__WEBPACK_IMPORTED_MODULE_13__["ProcessingSummaryComponent"],
            _depreciation_components_depreciation_summary_component__WEBPACK_IMPORTED_MODULE_10__["DepreciationSummaryComponent"],
            _depreciation_components_depreciation_form_component__WEBPACK_IMPORTED_MODULE_11__["DepreciationFormComponent"]
        ],
        entryComponents: [],
        providers: [
            _services_processing_service__WEBPACK_IMPORTED_MODULE_7__["ProcessingService"],
            _trending_services_trending_service__WEBPACK_IMPORTED_MODULE_8__["TrendingService"],
            _depreciation_services_depreciation_service__WEBPACK_IMPORTED_MODULE_9__["DepreciationService"],
            _depreciation_services_depreciation_form_service__WEBPACK_IMPORTED_MODULE_14__["DepreciationFormService"],
            _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_21__["ReferenceDataApiService"],
            _api_configuration_services_data_processing_api_service__WEBPACK_IMPORTED_MODULE_22__["DataProcessingApiService"],
            _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_23__["ProcessingApiService"],
            _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_24__["InventoryApiService"],
            _api_runtime_services_view_models_api_service__WEBPACK_IMPORTED_MODULE_25__["ViewModelsApiService"],
            _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_26__["InsuranceApiService"]
        ]
    })
], ProcessingModule);



/***/ }),

/***/ "./client-src/app/processing/services/processing.service.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/processing/services/processing.service.ts ***!
  \******************************************************************/
/*! exports provided: ProcessingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProcessingService", function() { return ProcessingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_api/_runtime/services/processing-api.service */ "./client-src/app/_api/_runtime/services/processing-api.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");









let ProcessingService = class ProcessingService {
    constructor(inventoryApiService, processingApiService, translateService, referenceDataApiService) {
        this.inventoryApiService = inventoryApiService;
        this.processingApiService = processingApiService;
        this.translateService = translateService;
        this.referenceDataApiService = referenceDataApiService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.referenceData = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](new Array());
        this.errorGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](new Array());
    }
    GetSearchMetadataByGroupId(groupId, fileType) {
        return this.inventoryApiService.getSearchMetadataByGroupId(groupId, fileType);
    }
    searchInventory(groupId, searchFilter) {
        return this.inventoryApiService.search(groupId, searchFilter);
    }
    getProcessingStatus(groupId) {
        return this.processingApiService.getProcessingStatus(groupId);
    }
    addOrUpdateFilter(filterModified, currentFilters) {
        const index = currentFilters.findIndex(d => d.id === filterModified.id);
        if (index === -1) {
            currentFilters.push(filterModified);
        }
        else if (index >= 0) {
            currentFilters[index] = filterModified;
        }
        return currentFilters;
    }
    removeFilter(id, currentFilters) {
        const index = currentFilters.findIndex(d => d.id === id);
        if (index >= 0) {
            currentFilters.splice(index, 1);
        }
        return currentFilters;
    }
    getProcessingErrorMessage(dto) {
        // If ConsolidatedFile is created, but in preview:
        if (dto.isReadyForProcessing === false && dto.target === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_8__["DataTargetName"].consolidated) {
            return 'Unable to process data. Consolidated file is in preview status.';
        }
        if (dto.isReadyForProcessing === false && dto.target === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_8__["DataTargetName"].consolidated) {
            return 'Unable to process data. Consolidated file has not been created.';
        }
        return 'Unable to process data.';
    }
    mapEnums(results) {
        const referenceData = this.referenceData.getValue();
        results.forEach(result => {
            const convention = referenceData['DepreciationConvention'].find(c => c.value === result['DepreciationConvention']);
            result['DepreciationConvention'] = convention ? this.translateService.instant(this.i18n.processing + convention.displayName) : 'n/a';
            const basis = referenceData['DepreciationMethod'].find(c => c.value === result['DepreciationMethod']);
            result['DepreciationMethod'] = basis ? this.translateService.instant(this.i18n.processing + basis.displayName) : 'n/a';
            const activityCode = referenceData['ActivityCodes'].find(c => c.value === result['activityCode']);
            result['activityCode'] = activityCode ? this.translateService.instant(this.i18n.asset + activityCode.displayName) : 'n/a';
        });
        return results;
    }
    updateReferenceData(data, key) {
        const current = this.referenceData.getValue();
        current[key] = data;
        this.referenceData.next(current);
    }
    mapTrending(results) {
        const referenceData = this.referenceData.getValue();
        results.forEach(result => {
            result['percentChange'] = result['percentChange'] ? result['percentChange'] : 'n/a';
            const activityCode = referenceData['ActivityCodes'].find(c => c.value === result['activityCode']);
            result['activityCode'] = activityCode ? this.translateService.instant(this.i18n.asset + activityCode.displayName) : 'n/a';
        });
        return results;
    }
};
ProcessingService.ctorParameters = () => [
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_5__["InventoryApiService"] },
    { type: _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingApiService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_4__["TranslationManager"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_6__["ReferenceDataApiService"] }
];
ProcessingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_5__["InventoryApiService"],
        _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingApiService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_4__["TranslationManager"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_6__["ReferenceDataApiService"]])
], ProcessingService);



/***/ }),

/***/ "./client-src/app/processing/trending/components/trending-form.component.ts":
/*!**********************************************************************************!*\
  !*** ./client-src/app/processing/trending/components/trending-form.component.ts ***!
  \**********************************************************************************/
/*! exports provided: TrendingFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrendingFormComponent", function() { return TrendingFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _services_trending_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/trending.service */ "./client-src/app/processing/trending/services/trending.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");








let TrendingFormComponent = class TrendingFormComponent {
    constructor(processingService, router, route, trendingService) {
        this.processingService = processingService;
        this.router = router;
        this.route = route;
        this.trendingService = trendingService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.isReadyForProcessing = false;
        this.isLoading = true;
        this.errorMessage = 'Unable to process data.';
        this.breadCrumbs = [
            { name: 'Setup Rules', routerLink: 'Setup' },
            { name: 'Preview Results', routerLink: 'Summary' }
        ];
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["Subject"]();
    }
    ngOnInit() {
        this.processingService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.processingService
            .getProcessingStatus(this.processingService.groupId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.destroyed$))
            .subscribe(result => {
            this.isReadyForProcessing = result.isReadyForProcessing;
            this.processingService.dataTarget = result.target;
            if (!this.isReadyForProcessing) {
                this.errorMessage = this.processingService.getProcessingErrorMessage(result);
            }
        }, error => { }, () => {
            this.isLoading = false;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    navigateToImportData(event) {
        event.preventDefault();
        this.router.navigate([`project-profile/${this.processingService.groupId}/DataImport`]);
    }
};
TrendingFormComponent.ctorParameters = () => [
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_1__["ProcessingService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"] },
    { type: _services_trending_service__WEBPACK_IMPORTED_MODULE_2__["TrendingService"] }
];
TrendingFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Component"])({
        selector: 'trending-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./trending-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_processing_service__WEBPACK_IMPORTED_MODULE_1__["ProcessingService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"],
        _services_trending_service__WEBPACK_IMPORTED_MODULE_2__["TrendingService"]])
], TrendingFormComponent);



/***/ }),

/***/ "./client-src/app/processing/trending/components/trending-setup.component.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/processing/trending/components/trending-setup.component.ts ***!
  \***********************************************************************************/
/*! exports provided: TrendingSetupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrendingSetupComponent", function() { return TrendingSetupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _services_trending_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/trending.service */ "./client-src/app/processing/trending/services/trending.service.ts");
/* harmony import */ var _shared_components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_shared/components/filter-criteria-builder.component */ "./client-src/app/_shared/components/filter-criteria-builder.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_api/_runtime/services/processing-api.service */ "./client-src/app/_api/_runtime/services/processing-api.service.ts");
/* harmony import */ var _api_configuration_services_data_processing_api_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_api/_configuration/services/data-processing-api.service */ "./client-src/app/_api/_configuration/services/data-processing-api.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");













let TrendingSetupComponent = class TrendingSetupComponent {
    constructor(referenceDataService, processingApiService, processingService, dataProcessingService, componentResolver, trendingService, router, route) {
        this.referenceDataService = referenceDataService;
        this.processingApiService = processingApiService;
        this.processingService = processingService;
        this.dataProcessingService = dataProcessingService;
        this.componentResolver = componentResolver;
        this.trendingService = trendingService;
        this.router = router;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.trendingRequest = {};
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.inventoryMetadata = new Array();
        this.roundingTypeOptions = new Array();
        this.searching = false;
        this.searchFailed = false;
        this.item = null;
        this.hideSearchingWhenUnsubscribed = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Observable"](() => () => (this.searching = false));
        this.isProcessing = false;
        this.hiddenFields = [
            'id',
            'assetFileId',
            'sourceRecordId',
            'groupId',
        ];
        this.search = (text$) => text$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["debounceTime"])(300))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["distinctUntilChanged"])())
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["tap"])(() => (this.searching = true)))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["switchMap"])(term => this.dataProcessingService
            .searchTrending(term)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["tap"])(() => {
            this.searchFailed = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["catchError"])(() => {
            this.searchFailed = true;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])([]);
        }))))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["tap"])(() => {
            this.searching = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["merge"])(this.hideSearchingWhenUnsubscribed));
    }
    ngOnInit() {
        this.trendingService.trendingRequest$.subscribe(request => {
            this.trendingRequest = request;
        });
        const getRoundingTypeDataSource = this.referenceDataService.GetRoundingTypes();
        const getFilterDataSource = this.processingService.GetSearchMetadataByGroupId(this.processingService.groupId, this.processingService.dataTarget);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["forkJoin"])(getRoundingTypeDataSource, getFilterDataSource)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(([roundingTypeDataSource, filterDataSource]) => {
            this.roundingTypeOptions = roundingTypeDataSource.result.enumOptions;
            this.inventoryMetadata = filterDataSource.fields.filter(x => !(this.hiddenFields.indexOf(x.name) > -1));
            this.startingValueOptions = filterDataSource.fields.filter(e => e.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].Double || e.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].Integer);
            this.endingValueOptions = filterDataSource.fields.filter(e => e.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].Double || e.fieldType === _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].Integer);
        }, error => { }, () => {
            if (this.trendingRequest.filterTerms.length === 0) {
                this.addFilter();
            }
            // Set existing filters on page load if present
            this.trendingRequest.filterTerms.forEach(filter => {
                if (filter.operation !== 'noop') {
                    this.addFilter(filter);
                }
            });
            // Set existing trend table on page load if present
            if (this.trendingRequest.trendingTableId) {
                this.dataProcessingService.getTrendingById(this.trendingRequest.trendingTableId).subscribe(result => {
                    this.model = result;
                });
            }
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    onSubmit(form) {
        if (form.valid && !!this.trendingRequest.trendingTableId) {
            this.trendingService.setTrendingRequest(this.trendingRequest);
            this.isProcessing = true;
            this.trendingService.executeTrending(this.processingService.groupId).subscribe(result => {
                if (result) {
                    this.isProcessing = false;
                    if (result.success) {
                        this.router.navigate([`/project-profile/${this.processingService.groupId}/Trending/Summary`]);
                    }
                }
            });
        }
    }
    addFilter(filter) {
        const comp = this.componentResolver.resolveComponentFactory(_shared_components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_4__["FilterCriteriaBuilderComponent"]);
        const filterCriteria = this.filterCriteriaContainer.createComponent(comp);
        // Setting reference to close/remove
        filterCriteria.instance.ref = filterCriteria;
        filterCriteria.instance.filterMetadata = this.inventoryMetadata;
        filterCriteria.instance.translationKeyBase = this.i18n.asset;
        filterCriteria.instance.criteriaChangedEvent.subscribe(e => {
            const addedFilter = e;
            addedFilter.term.dataTarget = this.processingService.dataTarget;
            this.trendingService.addOrUpdateFilter(addedFilter);
        });
        filterCriteria.instance.filterRemovedEvent.subscribe(e => {
            const removedFilter = e;
            this.trendingService.removeFilter(removedFilter.id);
        });
        if (filter) {
            filterCriteria.instance.filter = filter;
        }
    }
    /*** Typeahead  ***/
    onSelectItem(selected) {
        this.trendingRequest.trendingTableId = selected.item.id;
    }
    getResultFormatter(result) {
        return result.name;
    }
    getInputFormatter(result) {
        return result.name;
    }
};
TrendingSetupComponent.ctorParameters = () => [
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_8__["ReferenceDataApiService"] },
    { type: _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_9__["ProcessingApiService"] },
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingService"] },
    { type: _api_configuration_services_data_processing_api_service__WEBPACK_IMPORTED_MODULE_10__["DataProcessingApiService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"] },
    { type: _services_trending_service__WEBPACK_IMPORTED_MODULE_3__["TrendingService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('filterCriteria', { read: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"], static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"])
], TrendingSetupComponent.prototype, "filterCriteriaContainer", void 0);
TrendingSetupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'trending-setup',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./trending-setup.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-setup.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_8__["ReferenceDataApiService"],
        _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_9__["ProcessingApiService"],
        _services_processing_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingService"],
        _api_configuration_services_data_processing_api_service__WEBPACK_IMPORTED_MODULE_10__["DataProcessingApiService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"],
        _services_trending_service__WEBPACK_IMPORTED_MODULE_3__["TrendingService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"]])
], TrendingSetupComponent);



/***/ }),

/***/ "./client-src/app/processing/trending/components/trending-summary.component.ts":
/*!*************************************************************************************!*\
  !*** ./client-src/app/processing/trending/components/trending-summary.component.ts ***!
  \*************************************************************************************/
/*! exports provided: TrendingSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrendingSummaryComponent", function() { return TrendingSummaryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_trending_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/trending.service */ "./client-src/app/processing/trending/services/trending.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../default-values/default-headers */ "./client-src/app/processing/default-values/default-headers.ts");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");












let TrendingSummaryComponent = class TrendingSummaryComponent {
    constructor(router, alertService, famisGridService, processingService, trendingService) {
        this.router = router;
        this.alertService = alertService;
        this.famisGridService = famisGridService;
        this.processingService = processingService;
        this.trendingService = trendingService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.windowSize = 250;
        this.initWindowSize = 84;
        this.processingSummary = {
            selectedHeaders: new Array(),
            successfulRecords: new Array(),
            errorRecords: new Array(),
            successCount: 0,
            errorCount: 0,
            processingVerb: 'Trended'
        };
    }
    ngOnInit() {
        const s = this;
        this.famisGridService.resetCache();
        this.trendingService.clearTrending();
        this.trendingService.trendingRequest$.subscribe(request => {
            this.trendingRequest = request;
        });
        this.successGrid = {
            gridData: this.trendingService.successGridData$,
            columnHeaders: _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["trendingHeaders"].concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["assetFileRecordHeaders"]),
            selectedHeaders: _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["defaultTrendingHeaders"],
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'Summary',
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Filter, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.i18n.trending
        };
        this.errorGrid = {
            gridData: this.trendingService.errorGridData$,
            selectedHeaders: ['processingErrorDescription'].concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["defaultTrendingHeaders"]),
            gridId: this.famisGridService.createGrid(),
            columnHeaders: _default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["trendingErrorColumn"].concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["trendingHeaders"]).concat(_default_values_default_headers__WEBPACK_IMPORTED_MODULE_5__["assetFileRecordHeaders"]),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'Errors',
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].Filter, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_10__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.i18n.trending
        };
        const getSuccessfulRecords = this.trendingService.updateTrendingResults(this.processingService.groupId, 0, s.famisGridService.defaultTake, true);
        const getErrorRecords = this.trendingService.updateTrendingResults(this.processingService.groupId, 0, s.famisGridService.defaultTake, false);
        const getActivityCodes = this.trendingService.getActivityCodes();
        const loading = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])(getSuccessfulRecords, getErrorRecords, getActivityCodes)
            .subscribe(([sucessfulRecords, errorRecords, activityCodes]) => {
            s.processingService.updateReferenceData(activityCodes.result.enumOptions, 'ActivityCodes');
            if (sucessfulRecords) {
                s.successGrid.totalRecordCount = sucessfulRecords.totalInRecordSet;
                s.processingSummary.successCount = sucessfulRecords.totalInRecordSet;
                s.trendingService.setSuccessGridDataSource(sucessfulRecords.assets);
                if (sucessfulRecords.assets.length > 0) {
                    s.famisGridService.setCacheRecords(this.processingService.mapTrending(sucessfulRecords.assets), s.successGrid.gridId, 0, sucessfulRecords.totalInRecordSet, s.initWindowSize);
                }
            }
            if (errorRecords) {
                s.errorGrid.totalRecordCount = errorRecords.totalInRecordSet;
                s.processingSummary.errorCount = errorRecords.totalInRecordSet;
                s.trendingService.setErrorGridDataSource(this.processingService.mapTrending(errorRecords.assets));
                if (errorRecords.assets.length > 0) {
                    s.famisGridService.setCacheRecords(errorRecords.assets, this.errorGrid.gridId, 0, errorRecords.totalInRecordSet, s.initWindowSize);
                }
            }
        });
        s.successGrid.loading = loading;
        s.errorGrid.loading = loading;
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    updateCache(request) {
        const s = this;
        if (request.gridId === s.successGrid.gridId) {
            this.successGrid.cacheLoading = s.processCacheUpdate(request, true);
        }
        if (request.gridId === s.errorGrid.gridId) {
            this.errorGrid.cacheLoading = s.processCacheUpdate(request, false);
        }
    }
    back() {
        this.router.navigate([`/project-profile/${this.processingService.groupId}/Trending/Setup`]);
    }
    commit() {
        this.trendingService.commitTrending(this.processingService.groupId).subscribe(result => {
            if (result.success) {
                this.alertService.success(`Trending Successful: {{recordsProcessed}} Records Processed`, null, { recordsProcessed: result.recordsProcessed });
                this.router.navigate([`/project-profile/${this.processingService.groupId}/Trending/Setup`]);
            }
            else {
                this.alertService.error(`An error has occurred while commiting the Trending`);
            }
        });
    }
    processCacheUpdate(cacheUpdateRequest, returnSuccessful = true) {
        const s = this;
        if (cacheUpdateRequest.filters) {
            cacheUpdateRequest.filters.forEach(filter => {
                filter.term.dataTarget = s.processingService.dataTarget;
            });
        }
        return this.trendingService
            .updateTrendingResults(s.processingService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, returnSuccessful, cacheUpdateRequest.sortTerms, cacheUpdateRequest.filters)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeUntil"])(this.destroyed$))
            .subscribe(dto => {
            if (cacheUpdateRequest.gridId === s.successGrid.gridId) {
                this.successGrid.totalRecordCount = dto.totalInRecordSet;
                s.famisGridService.setCacheRecords(this.processingService.mapTrending(dto.assets), cacheUpdateRequest.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.successGrid.windowSize);
            }
            if (cacheUpdateRequest.gridId === s.errorGrid.gridId) {
                this.errorGrid.totalRecordCount = dto.totalInRecordSet;
                s.famisGridService.setCacheRecords(this.processingService.mapTrending(dto.assets), cacheUpdateRequest.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.errorGrid.windowSize);
            }
        });
    }
};
TrendingSummaryComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_6__["ProcessingService"] },
    { type: _services_trending_service__WEBPACK_IMPORTED_MODULE_1__["TrendingService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TrendingSummaryComponent.prototype, "processingSummary", void 0);
TrendingSummaryComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'trending-summary',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./trending-summary.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-summary.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _services_processing_service__WEBPACK_IMPORTED_MODULE_6__["ProcessingService"],
        _services_trending_service__WEBPACK_IMPORTED_MODULE_1__["TrendingService"]])
], TrendingSummaryComponent);



/***/ }),

/***/ "./client-src/app/processing/trending/services/trending.service.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/processing/trending/services/trending.service.ts ***!
  \*************************************************************************/
/*! exports provided: TrendingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrendingService", function() { return TrendingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_processing_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/processing.service */ "./client-src/app/processing/services/processing.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/_runtime/services/processing-api.service */ "./client-src/app/_api/_runtime/services/processing-api.service.ts");






let TrendingService = class TrendingService {
    constructor(processingApiService, processingService, referenceDataApiService) {
        this.processingApiService = processingApiService;
        this.processingService = processingService;
        this.referenceDataApiService = referenceDataApiService;
        this.successGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.errorGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.successGridData$ = this.successGridDataSource.asObservable();
        this.errorGridData$ = this.errorGridDataSource.asObservable();
        this.defaultSortTerms = [{ termOrder: 0, sortDirection: 0, field: 'id' }];
        this.trendingRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]({
            sourceField: null,
            destinationField: null,
            rounding: null,
            trendingTableId: '',
            filterTerms: new Array(),
            filterConjunction: 'and'
        });
        this.trendingRequest$ = this.trendingRequestSource.asObservable();
    }
    clearTrending() {
        this.successGridDataSource.next(new Array());
        this.errorGridDataSource.next(new Array());
    }
    executeTrending(groupId) {
        const request = this.trendingRequestSource.getValue();
        const executeRequest = Object.assign({}, request);
        const defaultFilter = [
            {
                term: { dataTarget: this.processingService.dataTarget, field: '', value: '' },
                operation: 'noop'
            }
        ];
        executeRequest.filterTerms = request.filterTerms.length > 0 ? request.filterTerms : defaultFilter;
        return this.processingApiService.executeTrending(groupId, request);
    }
    updateTrendingResults(groupId, skip, take, returnSuccessful, sortTerms = new Array(), filterTerms = new Array()) {
        const defaultFilter = [
            {
                term: { dataTarget: this.processingService.dataTarget, field: '', value: '' },
                operation: 'noop'
            }
        ];
        const request = {
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : defaultFilter,
            filterConjunction: 'and',
            skip: skip,
            take: take,
            recordsRequested: returnSuccessful ? 'SuccessfulRecords' : 'FailedRecords'
        };
        return this.processingApiService.getTrendingResults(groupId, request);
    }
    commitTrending(groupId) {
        return this.processingApiService.commitTrending(groupId);
    }
    setTrendingRequest(dto) {
        this.trendingRequestSource.next(dto);
    }
    addOrUpdateFilter(filterModified) {
        const currentTrending = this.trendingRequestSource.getValue();
        currentTrending.filterTerms = this.processingService.addOrUpdateFilter(filterModified, currentTrending.filterTerms);
        this.trendingRequestSource.next(currentTrending);
    }
    removeFilter(id) {
        const currentTrending = this.trendingRequestSource.getValue();
        currentTrending.filterTerms = this.processingService.removeFilter(id, currentTrending.filterTerms);
        this.trendingRequestSource.next(currentTrending);
    }
    setSuccessGridDataSource(data) {
        this.successGridDataSource.next(data);
    }
    setErrorGridDataSource(data) {
        this.errorGridDataSource.next(data);
    }
    getActivityCodes() {
        return this.referenceDataApiService.getActivityCodes();
    }
};
TrendingService.ctorParameters = () => [
    { type: _api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_5__["ProcessingApiService"] },
    { type: _services_processing_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__["ReferenceDataApiService"] }
];
TrendingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_processing_api_service__WEBPACK_IMPORTED_MODULE_5__["ProcessingApiService"],
        _services_processing_service__WEBPACK_IMPORTED_MODULE_2__["ProcessingService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__["ReferenceDataApiService"]])
], TrendingService);



/***/ }),

/***/ "./client-src/app/project-profile/components/administration/administration-form.component.ts":
/*!***************************************************************************************************!*\
  !*** ./client-src/app/project-profile/components/administration/administration-form.component.ts ***!
  \***************************************************************************************************/
/*! exports provided: AdministrationFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdministrationFormComponent", function() { return AdministrationFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_administration_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/administration.service */ "./client-src/app/project-profile/services/administration.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");




let AdministrationFormComponent = class AdministrationFormComponent {
    constructor(administrationService, route) {
        this.administrationService = administrationService;
        this.route = route;
    }
    ngOnInit() {
        this.administrationService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        // console.log(this.administrationService.groupId);
        this.administrationService.updateGroupIdContext(this.administrationService.groupId);
    }
};
AdministrationFormComponent.ctorParameters = () => [
    { type: _services_administration_service__WEBPACK_IMPORTED_MODULE_1__["AdministrationService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }
];
AdministrationFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'administration-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./administration-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/administration/administration-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_administration_service__WEBPACK_IMPORTED_MODULE_1__["AdministrationService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
], AdministrationFormComponent);



/***/ }),

/***/ "./client-src/app/project-profile/components/administration/administration.component.ts":
/*!**********************************************************************************************!*\
  !*** ./client-src/app/project-profile/components/administration/administration.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: AdministrationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdministrationComponent", function() { return AdministrationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_administration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/administration.service */ "./client-src/app/project-profile/services/administration.service.ts");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_api/services/dashboard/contract.service */ "./client-src/app/_api/services/dashboard/contract.service.ts");
/* harmony import */ var _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_api/services/group-search.service */ "./client-src/app/_api/services/group-search.service.ts");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");














let AdministrationComponent = class AdministrationComponent {
    constructor(modalService, route, contractService, inventoryService, groupService, alertService, administrationService, router, translateService, reconciliationMatchService) {
        this.modalService = modalService;
        this.route = route;
        this.contractService = contractService;
        this.inventoryService = inventoryService;
        this.groupService = groupService;
        this.alertService = alertService;
        this.administrationService = administrationService;
        this.router = router;
        this.translateService = translateService;
        this.reconciliationMatchService = reconciliationMatchService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].consolidated;
    }
    ngOnInit() {
        // console.log(this.administrationService.groupId);
        this.groupId = this.administrationService.groupId;
        this.groupService.getContractGroup(this.groupId).subscribe(result => {
            this.contractId = result.contractId;
        }, error => {
            // TODO: Something more meaningful than nothing to handle the error
        });
    }
    onSubmit(form) {
        if (form.valid) {
            switch (this.selectedAction) {
                case 'DeleteReconciledData':
                    this.contractService.getContractGroupsByGroupId(this.contractId, this.groupId).subscribe(result => {
                        this.assetRecord = result;
                        const hasMatchData = result[0].reconciliationProgress.toLowerCase() !== 'notstarted';
                        this.deleteReconciledData(form, hasMatchData);
                    });
                    break;
                case 'RollbackConsolidatedFile':
                    this.contractService.getContractGroupsByGroupId(this.contractId, this.groupId).subscribe(result => {
                        this.assetRecord = result;
                        this.rollbackConsolidatedFile(form);
                    });
                    break;
                case 'RollbackTransactionData':
                    this.navigateToTransaction();
                    break;
                case 'GroupSave':
                    // console.log('groupsave');
                    this.navigateToGroupSaves();
                    break;
                case 'DeactivateItems':
                    // console.log('groupsave');
                    this.navigateToRemoveDeactivated();
                    break;
                default:
                    // Logically we should never get here thanks to error handling on the submit
                    this.alertService.error('Please select an admin action.');
            }
        }
    }
    deleteReconciledData(form, hasMatchData) {
        this.consolidatedCount = this.assetRecord[0].recordCounts.filter(r => r.type === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].consolidated)[0].count;
        if (hasMatchData) {
            // Open modal
            const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
            modal.componentInstance.options = {
                heading: {
                    key: 'Delete Reconciled Data'
                },
                body: {
                    key: 'Are you sure you wish to remove all record matches and delete {{consolidatedCount}} consolidated records?',
                    params: { consolidatedCount: this.consolidatedCount },
                },
                dismissText: {
                    key: 'Cancel'
                },
                successText: {
                    key: 'Continue'
                },
                translateBaseKey: this.i18n.common
            };
            // Check modal result
            modal.result.then(result => {
                this.reconciliationMatchService.deleteGroupReconciliationData(this.groupId).subscribe(() => {
                    this.alertService.success('Reconciled data successfully deleted.');
                    this.resetForm(form);
                }, error => {
                    this.alertService.error('Error deleting reconciled data, please try again.');
                    this.resetForm(form);
                });
            }, error => {
                // Cancel/dismiss -- not nothing? Close modal, reset select?
                // console.log(error);
                this.resetForm(form);
            });
        }
        else {
            this.alertService.info('No reconciliation matches have been found.');
            this.resetForm(form);
        }
    }
    rollbackConsolidatedFile(form) {
        this.consolidatedCount = this.assetRecord[0].recordCounts.filter(r => r.type === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_7__["DataTargetName"].consolidated)[0].count;
        if (this.consolidatedCount > 0) {
            // Open modal
            const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmModalComponent"]);
            modal.componentInstance.options = {
                heading: {
                    key: 'Delete Consolidated Data'
                },
                body: {
                    key: 'Are you sure you wish to delete {{consolidatedCount}} records?',
                    params: { consolidatedCount: this.consolidatedCount },
                },
                dismissText: {
                    key: 'Cancel'
                },
                successText: {
                    key: 'Continue'
                },
                translateBaseKey: this.i18n.common
            };
            // Check modal result
            modal.result.then(result => {
                this.inventoryService.deleteAssetFileForGroup(this.groupId, this.dataTarget).subscribe(() => {
                    this.alertService.success('Reconciled data successfully deleted.');
                    this.resetForm(form);
                }, error => {
                    this.alertService.error('Error deleting reconciled data, please try again.');
                    this.resetForm(form);
                });
            }, error => {
                // Cancel/dismiss -- not nothing? Close modal, reset select?
                // console.log(error);
                this.resetForm(form);
            });
        }
        else {
            this.alertService.info('No reconciled data present to delete.');
            this.resetForm(form);
        }
    }
    navigateToTransaction() {
        this.router.navigate([`/project-profile/${this.groupId}/Administration/Transactions`]);
    }
    navigateToGroupSaves() {
        this.router.navigate([`/project-profile/${this.groupId}/group-save`]);
    }
    navigateToRemoveDeactivated() {
        this.router.navigate([`/project-profile/${this.groupId}/remove-deactivated`]);
    }
    resetForm(form) {
        this.selectedAction = '';
        form.resetForm();
    }
};
AdministrationComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__["NgbModal"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] },
    { type: _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_10__["ContractService"] },
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_13__["InventoryService"] },
    { type: _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_11__["GroupSearchService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _services_administration_service__WEBPACK_IMPORTED_MODULE_3__["AdministrationService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"] },
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"] },
    { type: _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_12__["ReconciliationMatchService"] }
];
AdministrationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'administration',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./administration.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/administration/administration.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__["NgbModal"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
        _api_services_dashboard_contract_service__WEBPACK_IMPORTED_MODULE_10__["ContractService"],
        _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_13__["InventoryService"],
        _api_services_group_search_service__WEBPACK_IMPORTED_MODULE_11__["GroupSearchService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _services_administration_service__WEBPACK_IMPORTED_MODULE_3__["AdministrationService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"],
        _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_12__["ReconciliationMatchService"]])
], AdministrationComponent);



/***/ }),

/***/ "./client-src/app/project-profile/components/dynamic-field.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/project-profile/components/dynamic-field.component.ts ***!
  \******************************************************************************/
/*! exports provided: ProjectProfileDynamicFieldComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectProfileDynamicFieldComponent", function() { return ProjectProfileDynamicFieldComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/project-profile/project-profile-control.service */ "./client-src/app/_api/services/project-profile/project-profile-control.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_field_types_base_field_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_models/field-types/base-field.model */ "./client-src/app/_models/field-types/base-field.model.ts");








let ProjectProfileDynamicFieldComponent = class ProjectProfileDynamicFieldComponent {
    constructor(controlService) {
        this.controlService = controlService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.field = new _models_field_types_base_field_model__WEBPACK_IMPORTED_MODULE_7__["BaseField"]();
        this.searching = false;
        this.searchFailed = false;
        this.employeeSelected = false;
        this.hideSearchingWhenUnsubscribed = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](() => () => (this.searching = false));
        this.fieldValueString = '';
        this.search = (text$) => (text$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(300))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["distinctUntilChanged"])())
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(() => (this.searching = true)))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(term => this.controlService
            .searchEmployee(term)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(() => {
            this.searchFailed = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(() => {
            this.searchFailed = true;
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }))))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(() => {
            this.searching = false;
        }))
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["merge"])(this.hideSearchingWhenUnsubscribed)));
    }
    ngOnInit() {
        if (this.field.value && this.field.controlType === 'peoplePicker') {
            const ppField = this.field;
            this.selectedEmployee = {
                id: ppField.value,
                nameFormatted: ppField.displayValue
            };
            this.fieldValueString = ppField.displayValue;
        }
    }
    get isValid() {
        return this.form.controls[this.field.key] ? this.form.controls[this.field.key].valid : false;
    }
    getResultFormatter(result) {
        return result.nameFormatted;
    }
    getInputFormatter(result) {
        return result.nameFormatted;
    }
    onSelectItem(event) {
        this.employeeSelected = false;
        const employee = event.item;
        this.selectedEmployee = employee;
        this.employeeSelected = true;
        this.fieldValueString = employee.nameFormatted;
        this.field['value'] = employee.id;
    }
};
ProjectProfileDynamicFieldComponent.ctorParameters = () => [
    { type: _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_4__["ProjectProfileControlService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ProjectProfileDynamicFieldComponent.prototype, "field", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormGroup"])
], ProjectProfileDynamicFieldComponent.prototype, "form", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('ngForm', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_5__["NgForm"])
], ProjectProfileDynamicFieldComponent.prototype, "ngForm", void 0);
ProjectProfileDynamicFieldComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'profile-dynamic-field',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./dynamic-field.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/dynamic-field.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_4__["ProjectProfileControlService"]])
], ProjectProfileDynamicFieldComponent);



/***/ }),

/***/ "./client-src/app/project-profile/components/project-profile.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/project-profile/components/project-profile.component.ts ***!
  \********************************************************************************/
/*! exports provided: ProjectProfileComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectProfileComponent", function() { return ProjectProfileComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_project_profile_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/project-profile.service */ "./client-src/app/project-profile/services/project-profile.service.ts");
/* harmony import */ var _core_user_permissions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/user/permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/left-nav-service */ "./client-src/app/_core/services/left-nav-service.ts");
/* harmony import */ var _core_animations_in_out_from_left_side_animation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/animations/in-out-from-left-side.animation */ "./client-src/app/_core/animations/in-out-from-left-side.animation.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");










//import { AlertService } from 'client-src/app/_core/services/alert.service';

let ProjectProfileComponent = class ProjectProfileComponent {
    /* A Subject for monitoring the destruction of the component. */
    constructor(projectProfileService, route, leftNavService, alertService) {
        this.projectProfileService = projectProfileService;
        this.route = route;
        this.leftNavService = leftNavService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
        this.permissions = _core_user_permissions__WEBPACK_IMPORTED_MODULE_2__["SystemPermissionsEnum"];
        this.projectProfile = {};
        this.currentGroupId = '';
        this.groups = new Array();
        this.isCollapsed = false;
    }
    ngOnInit() {
        const s = this;
        this.leftNavService.navCollapsed$.subscribe(val => {
            this.isCollapsed = val;
        });
        this.currentGroupId = this.route.snapshot.paramMap.get('groupId');
        const selectedModuleId = this.route.firstChild.snapshot.paramMap.get('moduleId');
        const getModules = this.projectProfileService.getModules();
        const getTemplateForGroup = this.projectProfileService.getTemplateForGroup(this.currentGroupId);
        const getContract = this.projectProfileService.getContractGroup(this.currentGroupId);
        const CheckOtherUserExists = this.projectProfileService.logGroupandCheckOtherUser(this.currentGroupId);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["forkJoin"])(getModules, getTemplateForGroup, getContract, CheckOtherUserExists)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(s.destroyed$))
            .subscribe(([modules, template, contract, otherUserExists]) => {
            if (contract) {
                s.groupName = contract.groupName;
                s.accountName = contract.contractName;
                s.projectProfileService.getContractGroups(contract.contractId).subscribe(groups => {
                    this.groups = groups;
                });
            }
            if (modules && template) {
                const updated = {
                    template: template,
                    selectedGroupId: this.currentGroupId,
                    selectedModule: selectedModuleId,
                    modules: modules
                };
                this.projectProfileService.updateProjectProfile(updated);
                s.enabledModules = this.projectProfileService.mapSelectedModules(template, modules);
            }
            if (otherUserExists) {
                this.alertService.info("other user exists");
            }
        });
    }
    isEnabled(famisModuleId) {
        if (this.enabledModules) {
            return this.enabledModules.findIndex(c => c.name === famisModuleId) !== -1;
        }
        else {
            return false;
        }
    }
    onGroupSelected(selectedGroupId) {
        window.location.href = `/project-profile/${selectedGroupId}/MainProfile`;
    }
    ngOnDestroy() {
        this.destroyed$.next();
        this.projectProfileService.clearProjectProfile();
    }
};
ProjectProfileComponent.ctorParameters = () => [
    { type: _services_project_profile_service__WEBPACK_IMPORTED_MODULE_1__["ProjectProfileService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] },
    { type: _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_4__["LeftNavService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])('famisModuleContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewContainerRef"], static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewContainerRef"])
], ProjectProfileComponent.prototype, "famisModuleContainer", void 0);
ProjectProfileComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'app-project-profile',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./project-profile.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/project-profile.component.html")).default,
        animations: [_core_animations_in_out_from_left_side_animation__WEBPACK_IMPORTED_MODULE_5__["inOutFromLeftSideAnimation"]]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_project_profile_service__WEBPACK_IMPORTED_MODULE_1__["ProjectProfileService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"],
        _core_services_left_nav_service__WEBPACK_IMPORTED_MODULE_4__["LeftNavService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"]])
], ProjectProfileComponent);



/***/ }),

/***/ "./client-src/app/project-profile/components/tasks/edit-task.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/project-profile/components/tasks/edit-task.component.ts ***!
  \********************************************************************************/
/*! exports provided: EditTaskComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditTaskComponent", function() { return EditTaskComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_tasks_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/tasks.service */ "./client-src/app/project-profile/services/tasks.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _models_task_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_models/task.model */ "./client-src/app/_models/task.model.ts");
/* harmony import */ var _api_dtos_assignWorkflowTask_dto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/dtos/assignWorkflowTask.dto */ "./client-src/app/_api/dtos/assignWorkflowTask.dto.ts");






let EditTaskComponent = class EditTaskComponent {
    constructor(modalService, taskService) {
        this.modalService = modalService;
        this.taskService = taskService;
        this.onTaskModified = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.users = [
            { id: '9f19f4ca-4dc4-4296-97a9-3f83b720e5fc', name: 'Cynthia Wagner' },
            { id: 'd4252141-3c93-4105-a83e-4bb497186bb7', name: 'Jacob Gilbert' },
            { id: '11d219e1-8004-4dec-877c-bbbf0e8efa16', name: 'Jose Herrera' },
            { id: 'bc6c50dc-7289-46db-8cb3-cf89556177ca', name: 'Dorothy Graham' },
            { id: '5d929ce8-0145-4541-8071-36d5666141a4', name: 'Diane Valdez' }
        ];
    }
    open(currentTask, e) {
        e.preventDefault();
        this.currentTask = currentTask;
        this.dto = new _api_dtos_assignWorkflowTask_dto__WEBPACK_IMPORTED_MODULE_5__["AssignWorkflowTaskDto"](currentTask.id, currentTask.assignedUserId, currentTask.assignedTeamId, currentTask.escalationDays, currentTask.escalationuserId, currentTask.escalationTeamId);
        this.dto.workflowTaskId = currentTask.id;
        this.dto.assignedUserId = currentTask.assignedUserId;
        this.modalRef = this.modalService.open(this.modalContent);
    }
    getDismissReason(reason) {
        if (reason === _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["ModalDismissReasons"].ESC) {
            return 'by pressing ESC';
        }
        else if (reason === _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["ModalDismissReasons"].BACKDROP_CLICK) {
            return 'by clicking on a backdrop';
        }
        else {
            return `with: ${reason}`;
        }
    }
    onSubmit(form) {
        if (form.valid) {
            this.taskService.updateTasks(this.dto).subscribe(result => {
                // console.log("Task saved successfully");
                const modifiedTask = new _models_task_model__WEBPACK_IMPORTED_MODULE_4__["Task"](result.Id, result.WorkflowId, this.taskService.getTypeName(result.TaskType), result.Description, this.taskService.getStatusName(result.Status), result.LastExecutionTime, result.IsActive, result.AssignedUserId, result.AssignedTeamId, result.AssignedToName, result.EscalationDays, result.EscalationUserId, result.EscalationTeamId, result.EscalatedToName, result.PreceedingTasks, result.SubsequantTasks);
                this.onTaskModified.emit(modifiedTask);
                this.modalRef.dismiss();
            });
        }
    }
    ngOnInit() { }
};
EditTaskComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbModal"] },
    { type: _services_tasks_service__WEBPACK_IMPORTED_MODULE_1__["TasksService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])('modalContent', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], EditTaskComponent.prototype, "modalContent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], EditTaskComponent.prototype, "onTaskModified", void 0);
EditTaskComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'edit-task',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./edit-task.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/tasks/edit-task.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbModal"],
        _services_tasks_service__WEBPACK_IMPORTED_MODULE_1__["TasksService"]])
], EditTaskComponent);



/***/ }),

/***/ "./client-src/app/project-profile/components/tasks/task-management.component.ts":
/*!**************************************************************************************!*\
  !*** ./client-src/app/project-profile/components/tasks/task-management.component.ts ***!
  \**************************************************************************************/
/*! exports provided: TaskManagementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskManagementComponent", function() { return TaskManagementComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_tasks_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/tasks.service */ "./client-src/app/project-profile/services/tasks.service.ts");
/* harmony import */ var _services_project_profile_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/project-profile.service */ "./client-src/app/project-profile/services/project-profile.service.ts");
/* harmony import */ var _models_task_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_models/task.model */ "./client-src/app/_models/task.model.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");






let TaskManagementComponent = class TaskManagementComponent {
    constructor(taskService, projectProfileService, route) {
        this.taskService = taskService;
        this.projectProfileService = projectProfileService;
        this.route = route;
        this.tasksGridBusy = true;
        this.tasks = new Array();
    }
    isDisabled(context) {
        return !context.dataItem.isActive ? 'disabled-row' : 'enabled-row';
    }
    toggle(id, e) {
        e.preventDefault();
        const index = this.tasks.findIndex(c => c.id === id);
        let isActive = false;
        if (this.tasks[index].isActive) {
            isActive = false;
        }
        else {
            isActive = true;
        }
        this.taskService.toggle(id, isActive).subscribe(success => {
            this.tasks[index].isActive = isActive;
        });
    }
    canBeDisabled(type) {
        // Cannot disable tasks named "Create Profile" or "Final Approval"
        return !(type === 'Create Profile' || type === 'Final');
        // Todo: Should this just be property on the Task returned from the API i.e. canBeDisabled???
    }
    handleTaskModified(task) {
        // Todo: Map back to UI Task model
        const index = this.tasks.findIndex(c => c.id === task.id);
        this.tasks[index] = task;
        // console.log(event);
    }
    setTasks(tasks) {
        if (tasks == null || tasks.length === 0) {
            return;
        }
        tasks
            .sort(function (task1, task2) {
            if (task1.order < task2.order) {
                return -1;
            }
            else if (task1.order > task2.order) {
                return 1;
            }
            else {
                return 0;
            }
        })
            .forEach(t => {
            this.tasks.push(new _models_task_model__WEBPACK_IMPORTED_MODULE_3__["Task"](t.id, t.workflowId, this.taskService.getTypeName(t.taskType), t.description, this.taskService.getStatusName(t.status), t.lastExecutionTime, t.isActive, t.assignedUserId, t.assignedTeamId, t.assignedToName, t.escalationDays, t.escalationUserId, t.escalationTeamId, t.escalatedToName, t.preceedingTasks, t.subsequentTasks));
        });
    }
    ngOnInit() {
        this.taskService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.taskService.getTasksByGroupId(this.taskService.groupId)
            .subscribe(results => this.setTasks(results), error => { }, () => this.tasksGridBusy = false);
    }
};
TaskManagementComponent.ctorParameters = () => [
    { type: _services_tasks_service__WEBPACK_IMPORTED_MODULE_1__["TasksService"] },
    { type: _services_project_profile_service__WEBPACK_IMPORTED_MODULE_2__["ProjectProfileService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('editModel', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TaskManagementComponent.prototype, "editModal", void 0);
TaskManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'task-management',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./task-management.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/tasks/task-management.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_tasks_service__WEBPACK_IMPORTED_MODULE_1__["TasksService"], _services_project_profile_service__WEBPACK_IMPORTED_MODULE_2__["ProjectProfileService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"]])
], TaskManagementComponent);



/***/ }),

/***/ "./client-src/app/project-profile/components/template-form.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/project-profile/components/template-form.component.ts ***!
  \******************************************************************************/
/*! exports provided: TemplateFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TemplateFormComponent", function() { return TemplateFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_project_profile_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/project-profile.service */ "./client-src/app/project-profile/services/project-profile.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _core_user_permissions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/user/permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _api_services_project_profile_project_profile_api_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_api/services/project-profile/project-profile-api.service */ "./client-src/app/_api/services/project-profile/project-profile-api.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_api/services/project-profile/project-profile-control.service */ "./client-src/app/_api/services/project-profile/project-profile-control.service.ts");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _models_field_types_drop_down_field_model__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_models/field-types/drop-down-field.model */ "./client-src/app/_models/field-types/drop-down-field.model.ts");
/* harmony import */ var _models_field_types_multi_line_text_field_model__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_models/field-types/multi-line-text-field.model */ "./client-src/app/_models/field-types/multi-line-text-field.model.ts");
/* harmony import */ var _models_field_types_text_field_model__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../_models/field-types/text-field.model */ "./client-src/app/_models/field-types/text-field.model.ts");
/* harmony import */ var _models_field_types_date_field_model__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../_models/field-types/date-field.model */ "./client-src/app/_models/field-types/date-field.model.ts");
/* harmony import */ var _models_field_types_decimal_field_model__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../_models/field-types/decimal-field.model */ "./client-src/app/_models/field-types/decimal-field.model.ts");
/* harmony import */ var _models_field_types_boolean_field_model__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../_models/field-types/boolean-field.model */ "./client-src/app/_models/field-types/boolean-field.model.ts");
/* harmony import */ var _models_field_types_whole_number_field_model__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../_models/field-types/whole-number-field.model */ "./client-src/app/_models/field-types/whole-number-field.model.ts");
/* harmony import */ var _models_field_types_people_picker_field_model__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../_models/field-types/people-picker-field.model */ "./client-src/app/_models/field-types/people-picker-field.model.ts");























let TemplateFormComponent = class TemplateFormComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__["ComponentCanDeactivate"] {
    constructor(apiService, projectProfileService, route, router, projectProfileControlService, alertService, helperService, intl, canDeactivateService, userStore) {
        super();
        this.apiService = apiService;
        this.projectProfileService = projectProfileService;
        this.route = route;
        this.router = router;
        this.projectProfileControlService = projectProfileControlService;
        this.alertService = alertService;
        this.helperService = helperService;
        this.intl = intl;
        this.canDeactivateService = canDeactivateService;
        this.userStore = userStore;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.view = {
            id: '',
            groupId: '',
            name: '',
            evenFields: new Array(),
            oddFields: new Array()
        };
        this.forms = new Array();
        this.canManageTemplates = false;
    }
    ngOnInit() {
        this.userStore.user.subscribe(user => {
            this.canManageTemplates = user.permissions.permissionsGranted.indexOf(_core_user_permissions__WEBPACK_IMPORTED_MODULE_8__["SystemPermissionsEnum"].canManageTemplates) > -1;
        });
        this.projectProfileService.projectProfile$.subscribe(projectProfile => {
            this.projectProfile = projectProfile;
            this.moduleName = projectProfile.selectedModule === 'MainProfile' ? 'Main Profile' : 'Sub-Profile';
            this.renderProjectProfile(this.projectProfile.selectedModule);
        });
        this.route.params.subscribe(params => {
            const moduleId = params['moduleId'];
            const projectProfile = {
                selectedGroupId: this.projectProfile.selectedGroupId,
                selectedModule: moduleId,
                template: this.projectProfile.template
            };
            this.projectProfileService.updateProjectProfile(projectProfile);
        });
    }
    renderProjectProfile(moduleId) {
        if (this.projectProfile.selectedGroupId && this.projectProfile.selectedModule) {
            this.apiService.get(moduleId, this.projectProfile.selectedGroupId).subscribe(data => {
                if (data == null) {
                    return;
                }
                this.initForm(data, moduleId);
            });
        }
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateForm(this.currentForm);
    }
    initForm(data, moduleId) {
        const fields = new Array();
        data.fields.forEach(field => {
            switch (field.type) {
                case 'DropDown':
                    const dropdownFieldDto = field;
                    fields.push(new _models_field_types_drop_down_field_model__WEBPACK_IMPORTED_MODULE_15__["DropDownField"]({
                        key: dropdownFieldDto.templateFieldId,
                        controlType: dropdownFieldDto.type,
                        templateFieldId: dropdownFieldDto.templateFieldId,
                        fieldName: dropdownFieldDto.fieldName,
                        moduleId: dropdownFieldDto.moduleId,
                        label: dropdownFieldDto.fieldLabel,
                        order: dropdownFieldDto.order + 1,
                        isCustomField: dropdownFieldDto.isCustomField,
                        dropDownOptions: this.getOptions(dropdownFieldDto.values),
                        value: dropdownFieldDto.value != null ? dropdownFieldDto.value.value : ''
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                case 'TextField':
                    const textFieldDto = field;
                    if (textFieldDto.isMultiline) {
                        fields.push(new _models_field_types_multi_line_text_field_model__WEBPACK_IMPORTED_MODULE_16__["MultiLineTextField"]({
                            key: textFieldDto.templateFieldId,
                            templateFieldId: textFieldDto.templateFieldId,
                            fieldName: textFieldDto.fieldName,
                            moduleId: textFieldDto.moduleId,
                            label: textFieldDto.fieldLabel,
                            isCustomField: textFieldDto.isCustomField,
                            order: textFieldDto.order + 1,
                            value: textFieldDto.value
                        }));
                    }
                    else {
                        fields.push(new _models_field_types_text_field_model__WEBPACK_IMPORTED_MODULE_17__["TextField"]({
                            key: textFieldDto.templateFieldId,
                            controlType: textFieldDto.type,
                            templateFieldId: textFieldDto.templateFieldId,
                            fieldName: textFieldDto.fieldName,
                            moduleId: textFieldDto.moduleId,
                            isCustomField: textFieldDto.isCustomField,
                            label: textFieldDto.fieldLabel,
                            order: textFieldDto.order + 1,
                            value: textFieldDto.value
                        }));
                    }
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                case 'Date':
                    const dateFieldDto = field;
                    fields.push(new _models_field_types_date_field_model__WEBPACK_IMPORTED_MODULE_18__["DateField"]({
                        key: dateFieldDto.templateFieldId,
                        controlType: dateFieldDto.type,
                        templateFieldId: dateFieldDto.templateFieldId,
                        fieldName: dateFieldDto.fieldName,
                        moduleId: dateFieldDto.moduleId,
                        label: dateFieldDto.fieldLabel,
                        isCustomField: dateFieldDto.isCustomField,
                        order: dateFieldDto.order + 1,
                        value: Date.parse(dateFieldDto.value) > Date.parse('1/1/1') ? new Date(this.intl.parseDate(dateFieldDto.value).setHours(0, 0, 0, 0)) : null
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                case 'DecimalNumber':
                    const decimalFieldDto = field;
                    fields.push(new _models_field_types_decimal_field_model__WEBPACK_IMPORTED_MODULE_19__["DecimalField"]({
                        controlType: decimalFieldDto.type,
                        templateFieldId: decimalFieldDto.templateFieldId,
                        fieldName: decimalFieldDto.fieldName,
                        moduleId: decimalFieldDto.moduleId,
                        label: decimalFieldDto.fieldLabel,
                        isCustomField: decimalFieldDto.isCustomField,
                        order: decimalFieldDto.order + 1,
                        value: decimalFieldDto.value,
                        key: decimalFieldDto.templateFieldId
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                case 'WholeNumber':
                    const wholeNumberFieldDto = field;
                    fields.push(new _models_field_types_whole_number_field_model__WEBPACK_IMPORTED_MODULE_21__["WholeNumberField"]({
                        controlType: wholeNumberFieldDto.type,
                        templateFieldId: wholeNumberFieldDto.templateFieldId,
                        fieldName: wholeNumberFieldDto.fieldName,
                        moduleId: wholeNumberFieldDto.moduleId,
                        label: wholeNumberFieldDto.fieldLabel,
                        isCustomField: wholeNumberFieldDto.isCustomField,
                        order: wholeNumberFieldDto.order + 1,
                        value: wholeNumberFieldDto.value,
                        key: wholeNumberFieldDto.templateFieldId,
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                case 'Boolean':
                    const booleanFieldDto = field;
                    fields.push(new _models_field_types_boolean_field_model__WEBPACK_IMPORTED_MODULE_20__["BooleanField"]({
                        controlType: booleanFieldDto.type,
                        templateFieldId: booleanFieldDto.templateFieldId,
                        fieldName: booleanFieldDto.fieldName,
                        moduleId: booleanFieldDto.moduleId,
                        label: booleanFieldDto.fieldLabel,
                        isCustomField: booleanFieldDto.isCustomField,
                        order: booleanFieldDto.order + 1,
                        value: booleanFieldDto.value,
                        key: booleanFieldDto.templateFieldId
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                case 'PeoplePicker':
                    const peoplePickerFieldDto = field;
                    fields.push(new _models_field_types_people_picker_field_model__WEBPACK_IMPORTED_MODULE_22__["PeoplePickerField"]({
                        controlType: peoplePickerFieldDto.type,
                        templateFieldId: peoplePickerFieldDto.templateFieldId,
                        fieldName: peoplePickerFieldDto.fieldName,
                        moduleId: peoplePickerFieldDto.moduleId,
                        label: peoplePickerFieldDto.fieldLabel,
                        order: peoplePickerFieldDto.order + 1,
                        value: peoplePickerFieldDto.key,
                        displayValue: peoplePickerFieldDto.value,
                        key: peoplePickerFieldDto.templateFieldId
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
                    break;
                default:
                    const defaultField = field;
                    fields.push(new _models_field_types_text_field_model__WEBPACK_IMPORTED_MODULE_17__["TextField"]({
                        key: defaultField.templateFieldId,
                        controlType: defaultField.type,
                        templateFieldId: defaultField.templateFieldId,
                        fieldName: defaultField.fieldName,
                        isCustomField: defaultField.isCustomField,
                        moduleId: defaultField.moduleId,
                        label: defaultField.fieldLabel,
                        order: defaultField.order + 1,
                        value: defaultField.value
                    }));
                    if (!this.moduleId) {
                        this.moduleId = field.moduleId;
                    }
            }
        });
        this.view = {
            id: moduleId,
            groupId: data.groupId,
            name: data.viewName,
            evenFields: fields.filter(i => i.order % 2 === 0).sort(function (a, b) {
                return a.order - b.order;
            }),
            oddFields: fields.filter(i => i.order % 2 > 0).sort(function (a, b) {
                return a.order - b.order;
            })
        };
        this.moduleDto = {};
        this.moduleDto.groupId = data.groupId;
        this.moduleDto.viewName = data.viewName;
        if (this.view.evenFields.length > 0 && !this.forms.find(c => c.id === this.view.id)) {
            this.forms.push({
                id: this.view.id,
                form: this.projectProfileControlService.toFormGroup(this.view.evenFields.concat(this.view.oddFields)),
                evenfields: this.view.evenFields,
                oddFields: this.view.oddFields
            });
        }
    }
    groupManagement() {
        this.router.navigate([`/project-profile/${this.projectProfile.selectedGroupId}/Groups/Management`]);
    }
    editForms() {
        this.router.navigate([`/project-profile/${this.projectProfile.selectedGroupId}/Groups/EditForms`]);
    }
    getOptions(values) {
        const dropDownOptions = [];
        values.forEach(option => {
            dropDownOptions.push({ key: option.value, value: option.text });
        });
        return dropDownOptions;
    }
    onSubmit(event) {
        const currentFormView = this.forms.find(c => c.id === this.view.id);
        if (currentFormView && currentFormView.form && currentFormView.form.controls) {
            const fieldsToUpdate = [];
            const fieldsAsDto = new Array();
            Object.keys(currentFormView.form.controls).forEach(key => {
                let field = this.view.evenFields.find(i => i.key === key);
                if (!field) {
                    field = this.view.oddFields.find(i => i.key === key);
                }
                switch (field.controlType) {
                    case 'boolean':
                        fieldsAsDto.push(this.mapBooleanField(field, key, currentFormView.form.controls[key].value));
                        break;
                    case 'date':
                        fieldsAsDto.push(this.mapDateField(field, key, currentFormView.form.controls[key].value));
                        break;
                    case 'decimalnumber':
                        fieldsAsDto.push(this.mapDecimalNumberField(field, key, currentFormView.form.controls[key].value));
                        break;
                    case 'dropdown':
                        fieldsAsDto.push(this.mapDropDownField(field, key, currentFormView.form.controls[key].value));
                        break;
                    case 'text':
                        fieldsAsDto.push(this.mapTextField(field, key, currentFormView.form.controls[key].value));
                        break;
                    case 'wholenumber':
                        fieldsAsDto.push(this.mapWholeNumberField(field, key, currentFormView.form.controls[key].value));
                        break;
                    case 'peoplePicker':
                        fieldsAsDto.push(this.mapPeoplePickerField(field, key, currentFormView.form.controls[key].value));
                        break;
                    default:
                        fieldsAsDto.push(this.mapTextField(field, key, currentFormView.form.controls[key].value));
                        break;
                }
            });
            // console.log(fieldsToUpdate);
            // console.log(fieldsAsDto);
            this.moduleDto.fields = fieldsAsDto;
            this.apiService.update(this.projectProfile.selectedModule, this.view.groupId, this.moduleDto).subscribe(res => {
                this.moduleDto = res;
                this.alertService.success('Changes Saved.');
                this.initForm(res, this.projectProfile.selectedModule);
            });
        }
    }
    /* translate(key: string, label: string, i18n = this.i18n, locali18n?: string) {
      return this.translationHelper.translate(key, i18n, label, locali18n);
    }*/
    mapBooleanField(bf, key, value) {
        const res = {
            fieldLabel: bf.label,
            fieldName: bf.fieldName,
            templateFieldId: key,
            moduleId: this.moduleId,
            value: value,
            type: 'Boolean'
        };
        return res;
    }
    mapDateField(df, key, value) {
        const res = {
            fieldLabel: df.label,
            fieldName: df.fieldName,
            templateFieldId: key,
            moduleId: this.moduleId,
            value: Date.parse(value) > Date.parse('1/1/1') ? new Date(this.intl.parseDate(value).setHours(0, 0, 0, 0)).toDateString() : null,
            type: 'Date'
        };
        return res;
    }
    mapDecimalNumberField(df, key, value) {
        const res = {
            fieldLabel: df.label,
            fieldName: df.fieldName,
            templateFieldId: key,
            moduleId: this.moduleId,
            value: value,
            type: 'DecimalNumber'
        };
        return res;
    }
    mapDropDownField(dd, key, value) {
        const ddValue = dd.dropDownOptions.find(x => x.key === value);
        const ddValues = new Array();
        dd.dropDownOptions.forEach(val => {
            ddValues.push({
                value: val.key,
                text: val.value
            });
        });
        const res = {
            fieldName: dd.fieldName,
            values: ddValues,
            templateFieldId: dd.key,
            moduleId: this.moduleId,
            value: ddValue
                ? {
                    value: ddValue.key,
                    text: ddValue.value
                }
                : null,
            type: 'DropDown'
        };
        return res;
    }
    mapTextField(tf, key, value) {
        const res = {
            fieldLabel: tf.label,
            fieldName: tf.fieldName,
            templateFieldId: tf.key,
            moduleId: this.moduleId,
            value: value,
            type: 'TextField'
        };
        return res;
    }
    mapWholeNumberField(wf, key, value) {
        const res = {
            fieldLabel: wf.label,
            fieldName: wf.fieldName,
            templateFieldId: key,
            moduleId: this.moduleId,
            value: value,
            type: 'WholeNumber'
        };
        return res;
    }
    mapPeoplePickerField(ppf, key, value) {
        const res = {
            fieldLabel: ppf.label,
            fieldName: ppf.fieldName,
            templateFieldId: ppf.key,
            moduleId: this.moduleId,
            value: null,
            key: null,
            type: 'PeoplePicker'
        };
        if (value) {
            res.value = value.id;
            res.key = value.id;
        }
        return res;
    }
};
TemplateFormComponent.ctorParameters = () => [
    { type: _api_services_project_profile_project_profile_api_service__WEBPACK_IMPORTED_MODULE_11__["ProjectProfileAPIService"] },
    { type: _services_project_profile_service__WEBPACK_IMPORTED_MODULE_2__["ProjectProfileService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_12__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_12__["Router"] },
    { type: _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_13__["ProjectProfileControlService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_14__["IntlService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_7__["UserStore"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])('currentForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgForm"])
], TemplateFormComponent.prototype, "currentForm", void 0);
TemplateFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'template-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./template-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/template-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_project_profile_project_profile_api_service__WEBPACK_IMPORTED_MODULE_11__["ProjectProfileAPIService"],
        _services_project_profile_service__WEBPACK_IMPORTED_MODULE_2__["ProjectProfileService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_12__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_12__["Router"],
        _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_13__["ProjectProfileControlService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_14__["IntlService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_7__["UserStore"]])
], TemplateFormComponent);



/***/ }),

/***/ "./client-src/app/project-profile/project-profile.module.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/project-profile/project-profile.module.ts ***!
  \******************************************************************/
/*! exports provided: ProjectProfileModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectProfileModule", function() { return ProjectProfileModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _components_project_profile_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/project-profile.component */ "./client-src/app/project-profile/components/project-profile.component.ts");
/* harmony import */ var _components_dynamic_field_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/dynamic-field.component */ "./client-src/app/project-profile/components/dynamic-field.component.ts");
/* harmony import */ var _components_template_form_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/template-form.component */ "./client-src/app/project-profile/components/template-form.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_tasks_task_management_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/tasks/task-management.component */ "./client-src/app/project-profile/components/tasks/task-management.component.ts");
/* harmony import */ var _services_tasks_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/tasks.service */ "./client-src/app/project-profile/services/tasks.service.ts");
/* harmony import */ var _components_tasks_edit_task_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/tasks/edit-task.component */ "./client-src/app/project-profile/components/tasks/edit-task.component.ts");
/* harmony import */ var _components_administration_administration_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/administration/administration.component */ "./client-src/app/project-profile/components/administration/administration.component.ts");
/* harmony import */ var _components_administration_administration_form_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/administration/administration-form.component */ "./client-src/app/project-profile/components/administration/administration-form.component.ts");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_project_profile_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/project-profile.service */ "./client-src/app/project-profile/services/project-profile.service.ts");
/* harmony import */ var _services_administration_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./services/administration.service */ "./client-src/app/project-profile/services/administration.service.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _shared_pipes_is_matched_pipe__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../_shared/pipes/is-matched.pipe */ "./client-src/app/_shared/pipes/is-matched.pipe.ts");
/* harmony import */ var _api_services_project_profile_project_profile_api_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../_api/services/project-profile/project-profile-api.service */ "./client-src/app/_api/services/project-profile/project-profile-api.service.ts");
/* harmony import */ var _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../_api/services/project-profile/project-profile-control.service */ "./client-src/app/_api/services/project-profile/project-profile-control.service.ts");
/* harmony import */ var _api_services_api_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../_api/services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");
/* harmony import */ var _api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../_api/_runtime/services/contract-api.service */ "./client-src/app/_api/_runtime/services/contract-api.service.ts");
/* harmony import */ var _api_configuration_services_modules_api_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../_api/_configuration/services/modules-api.service */ "./client-src/app/_api/_configuration/services/modules-api.service.ts");

// Components

































let ProjectProfileModule = class ProjectProfileModule {
};
ProjectProfileModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_15__["NgModule"])({
        imports: [
            _core_core_module__WEBPACK_IMPORTED_MODULE_14__["CoreModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__["NgbModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_17__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_18__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_18__["ReactiveFormsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_19__["HttpClientModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_20__["LaddaModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_21__["OrderModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_22__["GridModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_23__["RouterModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_10__["DatePickerModule"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_24__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_25__["BrowserAnimationsModule"]
        ],
        declarations: [
            _components_project_profile_component__WEBPACK_IMPORTED_MODULE_1__["ProjectProfileComponent"],
            _components_dynamic_field_component__WEBPACK_IMPORTED_MODULE_2__["ProjectProfileDynamicFieldComponent"],
            _components_tasks_task_management_component__WEBPACK_IMPORTED_MODULE_5__["TaskManagementComponent"],
            _components_tasks_edit_task_component__WEBPACK_IMPORTED_MODULE_7__["EditTaskComponent"],
            _shared_pipes_is_matched_pipe__WEBPACK_IMPORTED_MODULE_26__["IsMatchedPipe"],
            _components_template_form_component__WEBPACK_IMPORTED_MODULE_3__["TemplateFormComponent"],
            _components_administration_administration_component__WEBPACK_IMPORTED_MODULE_8__["AdministrationComponent"],
            _components_administration_administration_form_component__WEBPACK_IMPORTED_MODULE_9__["AdministrationFormComponent"]
        ],
        providers: [
            _api_services_project_profile_project_profile_api_service__WEBPACK_IMPORTED_MODULE_27__["ProjectProfileAPIService"],
            _api_services_project_profile_project_profile_control_service__WEBPACK_IMPORTED_MODULE_28__["ProjectProfileControlService"],
            _api_services_api_service__WEBPACK_IMPORTED_MODULE_29__["ApiService"],
            _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_30__["ReconciliationMatchService"],
            _services_tasks_service__WEBPACK_IMPORTED_MODULE_6__["TasksService"],
            _core_services_alert_service__WEBPACK_IMPORTED_MODULE_11__["AlertService"],
            _services_project_profile_service__WEBPACK_IMPORTED_MODULE_12__["ProjectProfileService"],
            _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_31__["GroupApiService"],
            _api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_32__["ContractApiService"],
            _api_configuration_services_modules_api_service__WEBPACK_IMPORTED_MODULE_33__["ModulesApiService"],
            _services_administration_service__WEBPACK_IMPORTED_MODULE_13__["AdministrationService"]
        ]
    })
], ProjectProfileModule);



/***/ }),

/***/ "./client-src/app/project-profile/services/administration.service.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/project-profile/services/administration.service.ts ***!
  \***************************************************************************/
/*! exports provided: AdministrationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdministrationService", function() { return AdministrationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");



let AdministrationService = class AdministrationService {
    constructor() {
        this.groupIdSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({});
        this.groupIdContext$ = this.groupIdSource.asObservable();
    }
    updateGroupIdContext(groupId) {
        const current = this.groupIdSource.getValue();
        current.groupId = groupId;
        this.groupIdSource.next(current);
    }
};
AdministrationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], AdministrationService);



/***/ }),

/***/ "./client-src/app/project-profile/services/project-profile.service.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/project-profile/services/project-profile.service.ts ***!
  \****************************************************************************/
/*! exports provided: ProjectProfileService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectProfileService", function() { return ProjectProfileService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/contract-api.service */ "./client-src/app/_api/_runtime/services/contract-api.service.ts");
/* harmony import */ var _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_configuration/services/templates-api.service */ "./client-src/app/_api/_configuration/services/templates-api.service.ts");
/* harmony import */ var _api_configuration_services_modules_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/_configuration/services/modules-api.service */ "./client-src/app/_api/_configuration/services/modules-api.service.ts");






let ProjectProfileService = class ProjectProfileService {
    constructor(contractApiService, templateApiService, moduleApiService) {
        this.contractApiService = contractApiService;
        this.templateApiService = templateApiService;
        this.moduleApiService = moduleApiService;
        this.projectProfileSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({ selectedGroupId: null });
        this.projectProfile$ = this.projectProfileSource.asObservable();
        // Observable string sources
        this.selectedModuleSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        // Observable string streams
        this.selectedModule$ = this.selectedModuleSource.asObservable();
    }
    setSelectedModule(module) {
        this.selectedModuleSource.next(module);
    }
    getContractGroup(id) {
        return this.contractApiService.getContractGroup(id);
    }
    getContractGroups(id) {
        return this.contractApiService.getContractsGroups(id);
    }
    updateProjectProfile(updated) {
        this.projectProfileSource.next(updated);
    }
    clearProjectProfile() {
        this.projectProfileSource.next({ selectedGroupId: null });
    }
    getTemplateForGroup(groupId) {
        return this.templateApiService.GetTemplateForGroup(groupId);
    }
    mapSelectedModules(template, modules) {
        const s = this;
        const projectProfile = this.projectProfileSource.getValue();
        let enabledModules = new Array();
        if (projectProfile.modules) {
            const mappedSelectedModules = new Array();
            if (template.templateFields.length > 0) {
                const enabledModuleIds = template.templateFields.map(c => c.moduleId).filter(function (elem, i, array) {
                    return array.indexOf(elem) === i;
                });
                const templateEnabledModules = projectProfile.modules.filter(function (x) {
                    return enabledModuleIds.find(c => c === x.id);
                });
                const defaultModules = [
                    { name: 'Main Profile' },
                    { name: 'Administration' },
                    { name: 'Data Import' },
                    { name: 'Quality Control' },
                    { name: 'Header Management' },
                ];
                enabledModules = templateEnabledModules.concat(defaultModules);
                enabledModules.forEach(module => {
                    const index = enabledModules.indexOf(module);
                    if (index !== -1) {
                        enabledModules[index] = s.mapModuleToComponent(enabledModules[index]);
                    }
                });
            }
        }
        return enabledModules;
    }
    getModules() {
        return this.moduleApiService.getAll();
    }
    mapModuleToComponent(module) {
        switch (module.name) {
            case 'Main Profile':
                module.componentName = 'MainProfile';
                module.menuOrder = 0;
                return module;
            case 'Sub-Profile':
                module.componentName = 'SubProfile';
                module.menuOrder = 1;
                return module;
            case 'Data Import':
                module.componentName = 'DataImport';
                module.menuOrder = 2;
                return module;
            case 'Reconciliation':
                module.componentName = 'Reconciliation';
                module.menuOrder = 3;
                return module;
            case 'Trending':
                module.componentName = 'Trending';
                module.menuOrder = 4;
                return module;
            case 'Depreciation':
                module.componentName = 'Depreciation';
                module.menuOrder = 5;
                return module;
            case 'Task Management':
                module.componentName = 'TaskManagement';
                module.menuOrder = 6;
                return module;
            case 'Quality Control':
                module.componentName = 'QualityControl';
                module.menuOrder = 7;
                return module;
            case 'Administration':
                module.componentName = 'Administration';
                module.menuOrder = 8;
                return module;
            case 'Header Management':
                module.componentName = 'HeaderManagement';
                module.menuOrder = 9;
                return module;
            case 'Recipients':
                module.componentName = 'Recipients',
                    module.menuOrder = 10;
                return module;
            default:
                module.componentName = null;
                module.menuOrder = 0;
                return module;
        }
    }
    logGroupandCheckOtherUser(id) {
        return this.contractApiService.logGroupandCheckOtherUser(id);
    }
};
ProjectProfileService.ctorParameters = () => [
    { type: _api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_3__["ContractApiService"] },
    { type: _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_4__["TemplatesApiService"] },
    { type: _api_configuration_services_modules_api_service__WEBPACK_IMPORTED_MODULE_5__["ModulesApiService"] }
];
ProjectProfileService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_contract_api_service__WEBPACK_IMPORTED_MODULE_3__["ContractApiService"],
        _api_configuration_services_templates_api_service__WEBPACK_IMPORTED_MODULE_4__["TemplatesApiService"],
        _api_configuration_services_modules_api_service__WEBPACK_IMPORTED_MODULE_5__["ModulesApiService"]])
], ProjectProfileService);



/***/ }),

/***/ "./client-src/app/project-profile/services/tasks.service.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/project-profile/services/tasks.service.ts ***!
  \******************************************************************/
/*! exports provided: TasksService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TasksService", function() { return TasksService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _api_services_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");






let TasksService = class TasksService {
    constructor(configService, apiService, http) {
        this.configService = configService;
        this.apiService = apiService;
        this.http = http;
        this.runtimeEndpoint = this.configService.getSettings('runtimeApiEndpoint');
    }
    getTasks(id) {
        const url = `${this.runtimeEndpoint}/Workflows/${id}`;
        return this.apiService.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => data.tasks));
    }
    getTasksByGroupId(groupId) {
        const url = `${this.runtimeEndpoint}/Workflows/Group/${groupId}`;
        return this.apiService.get(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => (data != null) ? data.tasks : []));
    }
    updateTasks(dto) {
        const url = `${this.runtimeEndpoint}/Workflows/Task/Assign`;
        return this.apiService.put(url, dto);
    }
    toggle(taskId, isActive) {
        const url = `${this.runtimeEndpoint}/Workflows/Task/${taskId}/Toggle?isActive=${isActive}`;
        return this.apiService.put(url);
    }
    getTypeName(typeId) {
        let name = '';
        switch (typeId) {
            case 1:
                name = 'Setup';
                break;
            case 2:
                name = 'To do';
                break;
            case 3:
                name = 'Approval';
                break;
            case 4:
                name = 'Final Approval';
                break;
            default:
                name = '';
        }
        return name;
    }
    getStatusName(typeId) {
        let name = '';
        switch (typeId) {
            case 1:
                name = 'Create';
                break;
            case 2:
                name = 'Active';
                break;
            case 3:
                name = 'Escalate';
                break;
            case 4:
                name = 'Complete';
                break;
            case 5:
                name = 'Approved';
                break;
            default:
                name = '';
        }
        return name;
    }
};
TasksService.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _api_services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"] },
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] }
];
TasksService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"], _api_services_api_service__WEBPACK_IMPORTED_MODULE_4__["ApiService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"]])
], TasksService);



/***/ }),

/***/ "./client-src/app/quality-control/components/actions/asset-retirement.component.ts":
/*!*****************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/actions/asset-retirement.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: AssetRetirementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetRetirementComponent", function() { return AssetRetirementComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/actions/quality-control-actions.service */ "./client-src/app/quality-control/services/actions/quality-control-actions.service.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_enums_disposal_code__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_api/_runtime/enums/disposal-code */ "./client-src/app/_api/_runtime/enums/disposal-code.ts");
/* harmony import */ var _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_api/_runtime/enums/transaction-applicability */ "./client-src/app/_api/_runtime/enums/transaction-applicability.ts");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");
/* harmony import */ var _api_runtime_enums_transaction_type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_api/_runtime/enums/transaction-type */ "./client-src/app/_api/_runtime/enums/transaction-type.ts");












let AssetRetirementComponent = class AssetRetirementComponent {
    constructor(actionsService, qualityControlService, alertService, windowManager, container) {
        this.actionsService = actionsService;
        this.qualityControlService = qualityControlService;
        this.alertService = alertService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.disposalCodes = _api_runtime_enums_disposal_code__WEBPACK_IMPORTED_MODULE_8__["DisposalCode"];
        this.applicability = _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"];
        this.assetRetirement = {};
        this.submitted = false;
        this.disablePartial = false;
        this.formHasErrors = false;
        this.formErrorText = '';
    }
    ngOnInit() {
        this.assetRetirement.assets = this.assetsCollection.map(c => c['id']);
        this.assetRetirement.transactionType = _api_runtime_enums_transaction_type__WEBPACK_IMPORTED_MODULE_11__["TransactionType"].Retirement;
        if (this.assetsCollection.length > 1) {
            this.disablePartial = true;
            this.assetRetirement.transactionApplicability = _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"].Full;
        }
    }
    handleModalEvent(modalEvent) {
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Save) {
            this.form.ngSubmit.emit();
        }
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Dismiss) {
            this.dismiss();
        }
    }
    retireAssets(form) {
        this.submitted = true;
        if (!this.errorCheck() && form.valid && this.assetRetirement.asOf && this.assetRetirement.disposalCode) {
            // For partial retirement, check if cost equals historial cost, if so set to full retirement
            if (this.assetRetirement.transactionApplicability === _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"].Partial &&
                this.assetRetirement.costChange &&
                this.assetRetirement.costChange === this.assetsCollection[0].historicalCost) {
                this.assetRetirement.transactionApplicability = _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"].Full;
            }
            // For partial retirement, check if quantity equals original quantity, if so set to full retirement
            if (this.assetRetirement.transactionApplicability === _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"].Partial &&
                this.assetRetirement.quantityChange &&
                // tslint:disable-next-line:no-bitwise
                this.assetRetirement.quantityChange === ~~this.assetsCollection[0]['quantity']) {
                this.assetRetirement.transactionApplicability = _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"].Full;
            }
            this.actionsService.processTransaction(this.assetRetirement).subscribe(result => {
                this.status = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Success;
                this.windowManager.close();
                this.alertService.success('Asset(s) retired successfully');
            }, error => {
                this.status = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Failed;
                this.windowManager.close();
                if (error.status === 400) {
                    this.alertService.error('Asset(s) have already been retired or lacks a building ID.');
                }
            });
        }
    }
    dismiss() {
        this.windowManager.close();
    }
    equalityCheck(newValue, oldValue) {
        let retValue = false;
        if (oldValue !== null) {
            retValue = this.assetsCollection.length === 1 && !!newValue && newValue === parseFloat(oldValue.toString());
        }
        return retValue;
    }
    errorCheck() {
        this.formHasErrors = false;
        if (this.assetRetirement.transactionApplicability === _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_9__["TransactionApplicability"].Partial) {
            const asset = this.assetsCollection[0];
            // If cost entered
            if (!isNaN(this.assetRetirement.costChange)) {
                // If cost > historial cost
                if (this.assetRetirement.costChange > asset.historicalCost) {
                    this.formHasErrors = true;
                    this.formErrorText = 'Retirement cost is greater than historial cost (' + asset.historicalCost + '), please review cost entry.';
                }
                else if (this.assetRetirement.costChange <= 0) {
                    this.formHasErrors = true;
                    this.formErrorText = 'Retirement cost should be greater than 0.';
                }
            }
            // If quantity entered
            if (!isNaN(this.assetRetirement.quantityChange)) {
                // If cost > historial cost
                if (this.assetRetirement.quantityChange > asset['quantity']) {
                    this.formHasErrors = true;
                    this.formErrorText =
                        'Retirement quantity is greater than original quantity (' + asset['quantity'] + '), please review quantity entry.';
                }
                else if (this.assetRetirement.quantityChange <= 0) {
                    this.formHasErrors = true;
                    this.formErrorText = 'Retirement quantity should be greater than 0.';
                }
            }
        }
        return this.formHasErrors;
    }
    checkForTypeUndefined(variable) {
        if (typeof variable === 'undefined') {
            return true;
        }
        return false;
    }
};
AssetRetirementComponent.ctorParameters = () => [
    { type: _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlActionsService"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__["QualityControlService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])('assetRetirementForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"])
], AssetRetirementComponent.prototype, "form", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], AssetRetirementComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], AssetRetirementComponent.prototype, "assetsCollection", void 0);
AssetRetirementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'asset-retirement',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./asset-retirement.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/asset-retirement.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlActionsService"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__["QualityControlService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"]])
], AssetRetirementComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/actions/asset-transfer.component.ts":
/*!***************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/actions/asset-transfer.component.ts ***!
  \***************************************************************************************/
/*! exports provided: AssetTransferComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetTransferComponent", function() { return AssetTransferComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/actions/quality-control-actions.service */ "./client-src/app/quality-control/services/actions/quality-control-actions.service.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");
/* harmony import */ var _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_api/_runtime/enums/transaction-applicability */ "./client-src/app/_api/_runtime/enums/transaction-applicability.ts");
/* harmony import */ var _api_runtime_enums_transaction_type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_api/_runtime/enums/transaction-type */ "./client-src/app/_api/_runtime/enums/transaction-type.ts");












let AssetTransferComponent = class AssetTransferComponent {
    constructor(actionsService, qualityControlService, buildingInfoService, alertService, windowManager) {
        this.actionsService = actionsService;
        this.qualityControlService = qualityControlService;
        this.buildingInfoService = buildingInfoService;
        this.alertService = alertService;
        this.windowManager = windowManager;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.assetTransfer = {};
        this.submitted = false;
        this.disablePartial = false;
        this.hidePartialFields = true;
        this.errorMessage = '';
        this.memberSiteBuilding = '';
        this.applicability = _api_runtime_enums_transaction_applicability__WEBPACK_IMPORTED_MODULE_10__["TransactionApplicability"];
    }
    ngOnInit() {
        this.assetTransfer.transactionType = _api_runtime_enums_transaction_type__WEBPACK_IMPORTED_MODULE_11__["TransactionType"].Transfer;
        this.assetTransfer.assets = this.assetsCollection.map(c => c['id']);
        if (this.assetsCollection.length > 1) {
            this.disablePartial = true;
            this.assetTransfer.transactionApplicability = this.applicability.Full;
        }
        this.partialAsset = this.assetsCollection[0];
        this.groupHierarchySelectValues = [
            { displayName: 'Member', name: 'member' },
            { displayName: 'Site', name: 'siteId' },
            { displayName: 'Building', name: 'buildingId' }
        ];
        this.buildingInfoService.getBuildingHierarchyByGroupId(this.qualityControlService.groupId).subscribe(hierachy => {
            this.groupHierarchy = this.buildingInfoService.mapSitesToSelectOptions(hierachy);
        });
        this.qualityControlService.getDepartmentData(this.qualityControlService.groupId).subscribe(result => {
            this.departmentOptions = result;
        });
        this.qualityControlService.getAccountData(this.qualityControlService.groupId).subscribe(result => {
            this.accountOptions = result;
        });
        this.qualityControlService.hasFiscalYearEnd().subscribe(res => {
            this.isFiscalYearEndValid = res;
        });
    }
    handleModalEvent(modalEvent) {
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Save) {
            this.formGroup.ngSubmit.emit();
        }
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Dismiss) {
            this.dismiss();
        }
    }
    transferAssets(form) {
        this.submitted = true;
        if (this.formGroup.value.memberSiteBuilding) {
            this.siteId = this.formGroup.value.memberSiteBuilding.split(',')[1];
            this.buildingId = this.formGroup.value.memberSiteBuilding.split(',')[2];
        }
        if (form.valid && !this.hasErrors()) {
            this.assetTransfer.transferFields = new Array();
            const transferFieldArr = [
                { destinationField: 'accountId', destinationValue: this.selectedAccountId },
                { destinationField: 'departmentId', destinationValue: this.selectedDepartmentId },
                { destinationField: 'siteId', destinationValue: this.siteId },
                { destinationField: 'buildingId', destinationValue: this.buildingId },
                { destinationField: 'floor', destinationValue: this.floorValue },
                { destinationField: 'room', destinationValue: this.roomValue }
            ];
            transferFieldArr.forEach(obj => {
                if (obj.destinationValue) {
                    this.assetTransfer.transferFields.push(obj);
                }
            });
            this.actionsService.processTransaction(this.assetTransfer).subscribe(result => {
                if (result.impactedAssets) {
                    this.status = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Success;
                    this.windowManager.close();
                }
                else {
                    this.alertService.error(result.status);
                    this.status = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Failed;
                    this.windowManager.close();
                }
            }, error => {
                this.status = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_9__["ModalFormEvent"].Failed;
                this.alertService.error('An error has occurred while processing the transfer');
                this.windowManager.close();
            });
        }
    }
    dismiss() {
        this.windowManager.close();
    }
    checkDisablePartial(event) {
        if (this.assetTransfer.transactionApplicability === this.applicability.Full) {
            this.hidePartialFields = true;
        }
        else {
            this.hidePartialFields = false;
        }
    }
    // TODO Tech Debt: Refactor at a later time
    hasErrors() {
        const form = this.formGroup.form;
        if (!this.isFiscalYearEndValid) {
            this.errorMessage = 'Cannot complete transfer. Fiscal Year End is not set.';
            return true;
        }
        if (form.value.type !== 0 && form.value.type !== 1) {
            this.errorMessage = 'Please select transfer type (Full or Partial).';
            return true;
        }
        if (this.assetTransfer.transactionApplicability === 1) {
            if (this.assetTransfer.costChange) {
                if (this.assetTransfer.costChange === 0 ||
                    Math.abs(this.assetTransfer.costChange) > this.partialAsset.historicalCost ||
                    this.assetTransfer.costChange > 0) {
                    this.errorMessage = 'Cost change must be between 0 and -' + this.partialAsset.historicalCost;
                    return true;
                }
            }
            if (this.assetTransfer.quantityChange) {
                if (!this.partialAsset.quantity) {
                    this.errorMessage
                        = 'Cannot transfer asset without quantity. please enter correct quantity for the asset and reapply the transfer.';
                    return true;
                }
                if (this.assetTransfer.quantityChange === 0 ||
                    Math.abs(this.assetTransfer.quantityChange) > this.partialAsset.quantity ||
                    this.assetTransfer.quantityChange > 0) {
                    this.errorMessage = 'Quantity transfer must be between 0 and -' + this.partialAsset.quantity;
                    return true;
                }
            }
            if (this.assetTransfer.costChange && this.assetTransfer.quantityChange) {
                this.errorMessage = 'Cannot transfer both Cost and Quanity, please specifiy either Cost or Quantity for partial transfer.';
                return true;
            }
            if (!this.assetTransfer.costChange && !this.assetTransfer.quantityChange) {
                this.errorMessage = 'Please specify either Cost or Quantity for partial transfer.';
                return true;
            }
        }
        let validValues = 0;
        Object.values(form.value).forEach(element => {
            if (element) {
                validValues++;
            }
        });
        if ((validValues >= 2 && form.value.type === 1) || (validValues >= 1 && form.value.type === 0)) {
            return false;
        }
        else {
            this.errorMessage = 'Please enter a value in one of fields for the transfer to be completed.';
            return true;
        }
    }
};
AssetTransferComponent.ctorParameters = () => [
    { type: _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlActionsService"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__["QualityControlService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_4__["BuildingInfoService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__["WindowManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])('assetTransferForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"])
], AssetTransferComponent.prototype, "formGroup", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], AssetTransferComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], AssetTransferComponent.prototype, "assetsCollection", void 0);
AssetTransferComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'asset-transfer',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./asset-transfer.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/asset-transfer.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlActionsService"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__["QualityControlService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_4__["BuildingInfoService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__["WindowManager"]])
], AssetTransferComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/actions/cost-adjustment.component.ts":
/*!****************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/actions/cost-adjustment.component.ts ***!
  \****************************************************************************************/
/*! exports provided: CostAdjustmentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CostAdjustmentComponent", function() { return CostAdjustmentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/actions/quality-control-actions.service */ "./client-src/app/quality-control/services/actions/quality-control-actions.service.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");
/* harmony import */ var _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_api/_runtime/services/calculation-api.service */ "./client-src/app/_api/_runtime/services/calculation-api.service.ts");
/* harmony import */ var _api_runtime_enums_transaction_type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_api/_runtime/enums/transaction-type */ "./client-src/app/_api/_runtime/enums/transaction-type.ts");
/* harmony import */ var _api_runtime_enums_transaction_validation_status__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_api/_runtime/enums/transaction-validation-status */ "./client-src/app/_api/_runtime/enums/transaction-validation-status.ts");
/* harmony import */ var _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_api/_runtime/enums/advanced-math-operator */ "./client-src/app/_api/_runtime/enums/advanced-math-operator.ts");












let CostAdjustmentComponent = class CostAdjustmentComponent {
    constructor(actionsService, qualityControlService, calculationService, windowManager) {
        this.actionsService = actionsService;
        this.qualityControlService = qualityControlService;
        this.calculationService = calculationService;
        this.windowManager = windowManager;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.costAdjustmentDto = {};
        this.submitted = false;
    }
    ngOnInit() {
        this.costAdjustmentDto.assets = [this.selectedAsset.id];
        this.costAdjustmentDto.transactionType = _api_runtime_enums_transaction_type__WEBPACK_IMPORTED_MODULE_9__["TransactionType"].Adjustment;
        this.isApiError = false;
        this.qualityControlService.hasFiscalYearEnd().subscribe(res => (this.isFiscalYearEndValid = res));
    }
    handleModalEvent(modalEvent) {
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_7__["ModalFormEvent"].Save) {
            this.formGroup.ngSubmit.emit();
        }
        if (modalEvent === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_7__["ModalFormEvent"].Dismiss) {
            this.dismiss();
        }
    }
    costAdjustment(form) {
        this.submitted = true;
        this.isApiError = false;
        if (!this.hasErrors() && form.valid) {
            this.actionsService.processTransaction(this.costAdjustmentDto).subscribe(result => {
                // Get Validation message
                if (result.validationStatus === _api_runtime_enums_transaction_validation_status__WEBPACK_IMPORTED_MODULE_10__["TransactionValidationStatus"].NoErrors) {
                    this.isApiError = false;
                    this.status = _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_7__["ModalFormEvent"].Success;
                    this.windowManager.close();
                }
                else {
                    switch (+result.validationStatus) {
                        case _api_runtime_enums_transaction_validation_status__WEBPACK_IMPORTED_MODULE_10__["TransactionValidationStatus"].DepGtCost: {
                            this.apiErrorMessage = 'Depreciation cannot be greater than adjusted cost.';
                            break;
                        }
                        case _api_runtime_enums_transaction_validation_status__WEBPACK_IMPORTED_MODULE_10__["TransactionValidationStatus"].NegativeCostOrAccumulation: {
                            this.apiErrorMessage = 'Cannot create adjustment resulting in negative cost or accumulated depreciation.';
                            break;
                        }
                        case _api_runtime_enums_transaction_validation_status__WEBPACK_IMPORTED_MODULE_10__["TransactionValidationStatus"].HistCostOrAccumDeprCannotBeZero: {
                            this.apiErrorMessage = 'Historical Cost or Accumulated Depreciation cannot be zero when Prorate Values is checked.';
                            break;
                        }
                    }
                    this.isApiError = true;
                }
            });
        }
    }
    calcCostChange() {
        if (this.newHistorialCost) {
            this.calculationService
                .Calculate(+this.newHistorialCost, +this.selectedAsset.historicalCost, _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_11__["AdvancedMathOperator"].Subtract)
                .subscribe(result => {
                this.costAdjustmentDto.costChange = parseFloat(result);
            });
        }
    }
    calcAccumChange() {
        if (this.newAccumulatedDepreciation) {
            this.calculationService
                .Calculate(+this.newAccumulatedDepreciation, +this.selectedAsset.accumulatedDepreciation, _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_11__["AdvancedMathOperator"].Subtract)
                .subscribe(result => {
                this.costAdjustmentDto.accumChange = parseFloat(result);
            });
        }
    }
    calcHistoricalCost() {
        this.calculationService
            .Calculate(+this.selectedAsset.historicalCost, +this.costAdjustmentDto.costChange, _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_11__["AdvancedMathOperator"].Add)
            .subscribe(result => {
            this.newHistorialCost = parseFloat(result);
        });
    }
    calcNewAccumulatedDepreciation() {
        this.calculationService
            .Calculate(+this.selectedAsset.accumulatedDepreciation, +this.costAdjustmentDto.accumChange, _api_runtime_enums_advanced_math_operator__WEBPACK_IMPORTED_MODULE_11__["AdvancedMathOperator"].Add)
            .subscribe(result => {
            this.newAccumulatedDepreciation = parseFloat(result);
        });
    }
    dismiss() {
        this.windowManager.close();
    }
    hasErrors() {
        this.missingRequiredField = !this.costAdjustmentDto.costChange && !this.costAdjustmentDto.accumChange;
        return this.missingRequiredField || this.isApiError || !this.isFiscalYearEndValid;
    }
};
CostAdjustmentComponent.ctorParameters = () => [
    { type: _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlActionsService"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__["QualityControlService"] },
    { type: _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_8__["CalculationApiService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('costAdjustmentForm', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"])
], CostAdjustmentComponent.prototype, "formGroup", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], CostAdjustmentComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CostAdjustmentComponent.prototype, "selectedAsset", void 0);
CostAdjustmentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'cost-adjustment',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./cost-adjustment.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/cost-adjustment.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlActionsService"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_3__["QualityControlService"],
        _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_8__["CalculationApiService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"]])
], CostAdjustmentComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/actions/building-valuation.component.ts":
/*!****************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/actions/building-valuation.component.ts ***!
  \****************************************************************************************************/
/*! exports provided: BuildingValuationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingValuationComponent", function() { return BuildingValuationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_valuation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/valuation-service */ "./client-src/app/quality-control/services/valuation-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let BuildingValuationComponent = class BuildingValuationComponent {
    constructor(windowManager, valuationService, container) {
        this.windowManager = windowManager;
        this.valuationService = valuationService;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.selectedBuildings = new Array();
        this.valuationRequestSubmitted = false;
        this.dynamicActionButtonText = 'Cancel';
        this.dynamicModalHeaderText = 'CoreLogic Submission';
        this.responseArrived = false;
        this.hasValuationErrors = false;
        this.totalRecordCount = 0;
        this.errorRecordCount = 0;
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() {
        this.valuationService.getBuildingValuationErrorMappings();
    }
    ngOnDestroy() { }
    handleAction() { }
    open(fromValuationErrorButton, items) {
        this.totalRecordCount = items.length;
        if (fromValuationErrorButton) {
            this.valuationRequestSubmitted = true;
            this.dynamicActionButtonText = 'Close';
            this.dynamicModalHeaderText = 'Submission Summary';
            this.responseArrived = true;
        }
        else {
            this.valuationRequestSubmitted = false;
            this.dynamicActionButtonText = 'Cancel';
            this.dynamicModalHeaderText = 'CoreLogic Submission';
            this.responseArrived = false;
        }
        this.selectedBuildings = items;
        this.windowRef = this.windowManager.open(this.content, this.dynamicModalHeaderText, {
            isModal: true
        });
    }
    // Retire Asset(s)
    cancel() {
        this.dynamicModalHeaderText = 'CoreLogic Submission';
        this.dynamicActionButtonText = 'Cancel';
        this.valuationRequestSubmitted = false;
        this.responseArrived = false;
        this.windowRef.close();
    }
    confirm() {
        this.valuationRequestSubmitted = true;
        this.dynamicActionButtonText = 'Close';
        this.dynamicModalHeaderText = 'Submission Summary';
        this.hasValuationErrors = false;
        this.onAction.emit(this.hasValuationErrors);
        const buildingIds = [];
        this.selectedBuildings.forEach(building => {
            buildingIds.push(building.id);
        });
        this.valuationService.submitBuildingValuation(buildingIds).subscribe(response => {
            this.apiErrorResponse = response.filter(bv => bv.success === false);
            this.hasValuationErrors = response.findIndex(bv => !bv.success) !== -1;
            this.responseArrived = true;
            this.errorMappings = this.valuationService.buildingValuationErrors;
        });
    }
    getEnumDisplayName(id) {
        this.hasValuationErrors = true;
        this.onAction.emit(this.hasValuationErrors);
        return this.errorMappings.result.enumOptions[id].displayName;
    }
};
BuildingValuationComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _services_valuation_service__WEBPACK_IMPORTED_MODULE_1__["ValuationService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BuildingValuationComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BuildingValuationComponent.prototype, "onAction", void 0);
BuildingValuationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'building-valuation',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./building-valuation.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/building-valuation.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"],
        _services_valuation_service__WEBPACK_IMPORTED_MODULE_1__["ValuationService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"]])
], BuildingValuationComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.ts":
/*!******************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: FloodPlainValuationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloodPlainValuationComponent", function() { return FloodPlainValuationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_valuation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/valuation-service */ "./client-src/app/quality-control/services/valuation-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let FloodPlainValuationComponent = class FloodPlainValuationComponent {
    constructor(valuationService, windowManager, container) {
        this.valuationService = valuationService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.selectedBuildings = new Array();
        this.valuationRequestSubmitted = false;
        this.dynamicActionButtonText = 'Cancel';
        this.dynamicModalHeaderText = 'CoreLogic Submission';
        this.responseArrived = false;
        this.hasValuationErrors = false;
        this.totalRecordCount = 0;
        this.errorRecordCount = 0;
        this.onAction = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() {
        this.valuationService.getFloodPlainValuationErrorMappings();
    }
    ngOnDestroy() { }
    handleAction() { }
    open(fromValuationErrorButton, items) {
        this.totalRecordCount = items.length;
        if (fromValuationErrorButton) {
            this.valuationRequestSubmitted = true;
            this.dynamicActionButtonText = 'Close';
            this.dynamicModalHeaderText = 'Flood Plain Submission Summary';
            this.responseArrived = true;
        }
        else {
            this.valuationRequestSubmitted = false;
            this.dynamicActionButtonText = 'Cancel';
            this.dynamicModalHeaderText = 'Flood Zone Request';
            this.responseArrived = false;
        }
        this.selectedBuildings = items;
        this.windowRef = this.windowManager.open(this.content, this.dynamicModalHeaderText, {
            isModal: true
        });
    }
    cancel() {
        this.dynamicModalHeaderText = 'CoreLogic Submission';
        this.dynamicActionButtonText = 'Cancel';
        this.valuationRequestSubmitted = false;
        this.responseArrived = false;
        this.windowRef.close();
    }
    confirm() {
        this.valuationRequestSubmitted = true;
        this.dynamicActionButtonText = 'Close';
        this.dynamicModalHeaderText = 'Submission Summary';
        this.hasValuationErrors = false;
        this.onAction.emit(this.hasValuationErrors);
        const buildingIds = [];
        this.selectedBuildings.forEach(building => {
            buildingIds.push(building.id);
        });
        this.valuationService.submitFloodPlainValuation(buildingIds).subscribe(response => {
            this.apiErrorResponse = response.filter(bfv => bfv.success === false);
            this.hasValuationErrors = response.findIndex(bfv => !bfv.success) !== -1;
            this.responseArrived = true;
            this.errorMappings = this.valuationService.buildingValuationErrors;
        });
    }
    getEnumDisplayName(id) {
        this.hasValuationErrors = true;
        this.onAction.emit(this.hasValuationErrors);
        return this.errorMappings.result.enumOptions[id].displayName;
    }
};
FloodPlainValuationComponent.ctorParameters = () => [
    { type: _services_valuation_service__WEBPACK_IMPORTED_MODULE_1__["ValuationService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FloodPlainValuationComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FloodPlainValuationComponent.prototype, "onAction", void 0);
FloodPlainValuationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'floodplain-valuation',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./floodplain-valuation.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_valuation_service__WEBPACK_IMPORTED_MODULE_1__["ValuationService"], _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"], _angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewContainerRef"]])
], FloodPlainValuationComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/actions/mass-update-building.component.ts":
/*!******************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/actions/mass-update-building.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: MassUpdateBuildingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassUpdateBuildingComponent", function() { return MassUpdateBuildingComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../enums/quality-control-modes */ "./client-src/app/quality-control/enums/quality-control-modes.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");








let MassUpdateBuildingComponent = class MassUpdateBuildingComponent {
    constructor(qualityControlService, buildingInfoService) {
        this.qualityControlService = qualityControlService;
        this.buildingInfoService = buildingInfoService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.defaultFilterTerm = [];
        this.mode = _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_1__["QualityControlModes"].Buildings;
        this.breadCrumbs = [
            { name: 'Quality Control', routerLink: '../../', queryParams: { mode: this.mode } },
            { name: 'Mass Update Criteria', routerLink: '../../MassUpdate/Building', queryParams: { mode: this.mode } },
            { name: 'View Results', routerLink: '../../MassUpdate/Results', queryParams: { mode: this.mode } }
        ];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
    }
    ngOnInit() {
        this.qualityControlService.getBuildingSearchMetadataByGroupId(this.qualityControlService.groupId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.destroyed$))
            .subscribe(buildingMetadata => {
            const buildingFields = buildingMetadata.fields;
            this.filterMetaData = this.GetFilteredFieldData(buildingFields, this.buildingInfoService.GetInternalColumns());
            this.replaceMetaData = this.GetFilteredFieldData(buildingFields, this.buildingInfoService.GetReadonlyAndHiddenFields());
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    GetFilteredFieldData(fields, excluded) {
        let res = fields;
        res = res.filter(field => {
            return !excluded.includes(field.name);
        });
        res = res.sort(function (a, b) {
            if (a.displayName < b.displayName) {
                return -1;
            }
            if (a.displayName > b.displayName) {
                return 1;
            }
            return 0;
        });
        res.forEach(field => {
            if (field.name === 'inspectionDate') {
                field.displayName = 'Date of Inspection';
            }
        });
        return res;
    }
};
MassUpdateBuildingComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_5__["BuildingInfoService"] }
];
MassUpdateBuildingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'mass-update-building',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mass-update-building.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/mass-update-building.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_5__["BuildingInfoService"]])
], MassUpdateBuildingComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/building-form-group.component.ts":
/*!**************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/building-form-group.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: BuildingFormGroupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingFormGroupComponent", function() { return BuildingFormGroupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");





let BuildingFormGroupComponent = class BuildingFormGroupComponent {
    constructor() {
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_4__["FieldType"];
        this.fieldsLeft = [];
        this.fieldsRight = [];
        this.customFieldLabelChange = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.imageEntityTypes = _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_2__["ImageEntityType"];
    }
    ngOnInit() {
        if (this.formLayout) {
            let s = this;
            this.fieldsLeft = this.mapOrder(this.formControls.filter(function (x) {
                return s.formLayout.left.findIndex(c => c === x.id) !== -1;
            }), this.formLayout.left, 'id');
            this.fieldsRight = this.mapOrder(this.formControls.filter(function (x) {
                return s.formLayout.right.findIndex(c => c === x.id) !== -1;
            }), this.formLayout.right, 'id');
        }
    }
    mapOrder(array, order, key) {
        array.sort(function (a, b) {
            const A = a[key], B = b[key];
            if (order.indexOf(A) > order.indexOf(B)) {
                return 1;
            }
            else {
                return -1;
            }
        });
        return array;
    }
    handleCustomFieldLabelChange(field) {
        this.customFieldLabelChange.emit(field);
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BuildingFormGroupComponent.prototype, "formControls", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BuildingFormGroupComponent.prototype, "formGroup", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BuildingFormGroupComponent.prototype, "formLayout", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], BuildingFormGroupComponent.prototype, "buildingId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"])
], BuildingFormGroupComponent.prototype, "customFieldLabelChange", void 0);
BuildingFormGroupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'building-form-group',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./building-form-group.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/building-form-group.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], BuildingFormGroupComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/building-form.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/building-form.component.ts ***!
  \********************************************************************************************/
/*! exports provided: UpsertBuildingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertBuildingComponent", function() { return UpsertBuildingComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _form_models_building_attributes_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./form-models/building-attributes-model */ "./client-src/app/quality-control/components/building/form/form-models/building-attributes-model.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form-models/primary-info/primaryinfo-model */ "./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-model.ts");
/* harmony import */ var _form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./form-models/building-flood-plain-model */ "./client-src/app/quality-control/components/building/form/form-models/building-flood-plain-model.ts");
/* harmony import */ var _form_models_primary_info_primaryinfo_dropdown_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./form-models/primary-info/primaryinfo-dropdown-model */ "./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-dropdown-model.ts");
/* harmony import */ var _form_models_primary_info_building_attributes_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./form-models/primary-info/building-attributes-model */ "./client-src/app/quality-control/components/building/form/form-models/primary-info/building-attributes-model.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var menuspy__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! menuspy */ "./node_modules/menuspy/dist/menuspy.js");
/* harmony import */ var menuspy__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(menuspy__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _form_models_copedata_model__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./form-models/copedata-model */ "./client-src/app/quality-control/components/building/form/form-models/copedata-model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../actions/building-valuation.component */ "./client-src/app/quality-control/components/building/actions/building-valuation.component.ts");
/* harmony import */ var _api_runtime_enums_perimeter_adjustment_method__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/perimeter-adjustment-method */ "./client-src/app/_api/_runtime/enums/perimeter-adjustment-method.ts");
/* harmony import */ var _enums_field_category__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../_enums/field-category */ "./client-src/app/_enums/field-category.ts");

























let UpsertBuildingComponent = class UpsertBuildingComponent {
    constructor(buildingService, qualityControlService, alertService, buildingInfoService, router, intl, helperService, route) {
        this.buildingService = buildingService;
        this.qualityControlService = qualityControlService;
        this.alertService = alertService;
        this.buildingInfoService = buildingInfoService;
        this.router = router;
        this.intl = intl;
        this.helperService = helperService;
        this.route = route;
        this.formModelEnum = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"];
        this.isSaving = false;
        this.isReadOnly = false;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.formModels = [];
        this.buildingAttributes = _form_models_building_attributes_model__WEBPACK_IMPORTED_MODULE_2__["BuildingAttributes"];
        this.cascadedSelectOptions = new Array();
        this.formLayouts = [];
        this.buildingDto = {
            id: '',
            buildingSelectedAdditions: [],
            buildingSelectedAdjustments: [],
            occupancyCodes: [],
            buildingAttributes: [],
            userFactors: [],
            customAdditions: []
        };
        this.imageEntityTypes = _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_18__["ImageEntityType"];
        this.breadCrumbs = [];
        this.isEditing = false;
        this.customFields = new Array();
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_15__["Subject"]();
        this.isEditBuilding = false;
        this.selectedBuildings = new Array();
        this.showValuationErrorsButton = false;
        this.editedCustomFields = [];
    }
    ngOnInit() {
        this.buildingId = this.route.snapshot.paramMap.get('buildingId');
        this.isEditBuilding = this.buildingId ? true : false;
        this.isEditing = !!this.buildingId;
        this.buildingDto = {};
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].PrimaryInfoFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["PrimaryInfoFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingLocationFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingLocationFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingValuationFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingValuationFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSuperstructureFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSuperstructureFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSubstructureFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSubStructureFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSystemsFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSystemFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSiteAttributeFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSiteAttributeFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].AdditionalDataFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["AdditionalDataFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].CoreLogicFields] = _form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["CoreLogicFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].CopeDataEarthquakeFields] = _form_models_copedata_model__WEBPACK_IMPORTED_MODULE_14__["CopeDataEarthquakeFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].CopedataWindFields] = _form_models_copedata_model__WEBPACK_IMPORTED_MODULE_14__["CopedataWindFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].InitialFloodPlainFields] = _form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_9__["InitialFloodPlainFieldLayout"];
        this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingFloodPlainModelFields] = _form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_9__["BuildingFloodPlainFieldLayout"];
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].PrimaryInfoFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["PrimaryInfoFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingFloodPlainModelFields] = JSON.parse(JSON.stringify(_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_9__["BuildingFloodPlainModel"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].InitialFloodPlainFields] = JSON.parse(JSON.stringify(_form_models_building_flood_plain_model__WEBPACK_IMPORTED_MODULE_9__["InitialFloodPlainFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingLocationFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingLocationFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingValuationFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingValuationFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSubstructureFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSubStructureFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSuperstructureFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSuperstructureFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSystemsFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSystemFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingSiteAttributeFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["BuildingSiteAttributeFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].AdditionalDataFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["AdditionalDataFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].CoreLogicFields] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["CoreLogicFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingAttributeFields] = JSON.parse(JSON.stringify(_form_models_primary_info_building_attributes_model__WEBPACK_IMPORTED_MODULE_11__["BuildingAttributeFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].CopedataWindFields] = JSON.parse(JSON.stringify(_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_14__["CopedataWindFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].CopeDataEarthquakeFields] = JSON.parse(JSON.stringify(_form_models_copedata_model__WEBPACK_IMPORTED_MODULE_14__["CopeDataEarthquakeFields"]));
        this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingImages] = JSON.parse(JSON.stringify(_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["buildingImages"]));
        this.breadCrumbs = [
            {
                name: 'Quality Control Overview',
                routerLink: `/project-profile/${this.qualityControlService.groupId}/QualityControl`
            },
            {
                name: this.buildingId ? 'Edit Building' : 'Add Building',
                routerLink: 'AddBuilding',
                isDisabled: true
            }
        ];
        const getBuilding = this.buildingId
            ? this.buildingService.getBuilding(this.buildingId)
            : Object(rxjs__WEBPACK_IMPORTED_MODULE_15__["of"])({
                id: '',
                buildingSelectedAdditions: [],
                occupancyCodes: [],
                buildingAttributes: [],
                userFactors: [],
                customAdditions: []
            });
        const getAttributeTypesAndCodes = this.buildingInfoService.getAttributeTypesAndCodes();
        const getBuildingHierarchyByGroupId = this.buildingInfoService.getBuildingHierarchyByGroupId(this.qualityControlService.groupId);
        const getContentCodes = this.buildingInfoService.getContentCodes();
        const getBuildingConditions = this.buildingInfoService.getBuildingConditions();
        const getBuildingPerimeterAdjustmentMethod = this.buildingInfoService.getBuildingPerimeterAdjustmentMethod();
        const getUnitsOfMeasure = this.buildingInfoService.getUnitsOfMEasure();
        const getEntryAlarmOptions = this.buildingInfoService.getEntryAlarmOptions();
        const getBuildingCustomColumns = this.qualityControlService.getBuildingSearchMetadataByGroupId(this.qualityControlService.groupId);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_15__["forkJoin"])(getBuilding, getAttributeTypesAndCodes, getBuildingHierarchyByGroupId, getContentCodes, getBuildingConditions, getUnitsOfMeasure, getEntryAlarmOptions, getBuildingCustomColumns, getBuildingPerimeterAdjustmentMethod)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__["takeUntil"])(this.destroyed$))
            .subscribe(([building, attributeTypesAndCodes, buildingHierarchyByGroupId, contentCodes, buildingConditions, unitsOfMeasure, entryAlarmOptions, buildingCustomColumns, buildingPerimeterAdjustmentMethods]) => {
            if (attributeTypesAndCodes) {
                this.buildingDto = building;
                this.selectedBuildings = new Array(this.buildingDto);
                this.buildingService.setBuildingRequestSource(building);
                this.mapCustomColumns(buildingCustomColumns);
                this.mapAttributeTypesAndCodes(attributeTypesAndCodes);
                this.mapSiteId(this.buildingDto, buildingHierarchyByGroupId);
                this.mapContentCodes(contentCodes);
                this.formGroup = this.helperService.toFormGroup(this.mapValues(this.combineForms()));
                const contentCodeControl = this.formGroup.get('contentCode');
                const contentQualityControl = this.formGroup.get('contentQuality');
                const floorAreaControl = this.formGroup.get('floorArea');
                const basementUnfinishedAreaControl = this.formGroup.get('basementUnfinishedArea');
                const basementFinishedAreaControl = this.formGroup.get('basementFinishedArea');
                const basementFloorAreaControl = this.formGroup.get('basementFloorArea');
                const depreciationPercent = this.formGroup.get('depreciationPercent');
                const costReproductionNew = this.formGroup.get('costReproductionNew');
                if (depreciationPercent) {
                    depreciationPercent.valueChanges.subscribe(() => {
                        this.calculateCostReproductionNewLessDepreciation();
                    });
                }
                if (costReproductionNew) {
                    costReproductionNew.valueChanges.subscribe(() => {
                        this.calculateCostReproductionNewLessDepreciation();
                    });
                }
                if (basementUnfinishedAreaControl) {
                    basementUnfinishedAreaControl.valueChanges.subscribe(() => {
                        this.basementFloorAreaFactorsChanged();
                    });
                }
                if (basementFinishedAreaControl) {
                    basementFinishedAreaControl.valueChanges.subscribe(() => {
                        this.basementFloorAreaFactorsChanged();
                    });
                }
                if (basementFloorAreaControl) {
                    basementFloorAreaControl.setValue(this.basementFloorAreaFactorsChanged());
                }
                if (contentCodeControl) {
                    contentCodeControl.valueChanges.subscribe((contentCode) => {
                        this.contentCodeChanged(contentCode);
                    });
                }
                if (contentQualityControl) {
                    contentQualityControl.valueChanges.subscribe(() => {
                        if (contentCodeControl && !!contentCodeControl.value) {
                            this.contentCodeChanged(contentCodeControl.value);
                        }
                    });
                }
                if (floorAreaControl) {
                    floorAreaControl.valueChanges.subscribe(() => {
                        if (contentCodeControl && !!contentCodeControl.value) {
                            this.contentCodeChanged(contentCodeControl.value);
                        }
                    });
                }
                setTimeout(() => {
                    if (this.formNavigation) {
                        const ms = new menuspy__WEBPACK_IMPORTED_MODULE_13__(this.formNavigation.nativeElement, { activeClass: 'current-item',
                            enableLocationHash: false });
                    }
                }, 2000);
            }
            if (buildingPerimeterAdjustmentMethods) {
                const perimeterAdjustmentMethodControl = this.formGroup.get('buildingPerimeterAdjustmentMethod');
                if (perimeterAdjustmentMethodControl) {
                    if (perimeterAdjustmentMethodControl.value === '') {
                        perimeterAdjustmentMethodControl.setValue(_api_runtime_enums_perimeter_adjustment_method__WEBPACK_IMPORTED_MODULE_23__["PerimeterAdjustmentMethod"].Calculated);
                    }
                    perimeterAdjustmentMethodControl.valueChanges.subscribe(() => {
                        this.PerimeterAdjustmentMethodChanged();
                    });
                }
            }
        });
        this.buildingService.buildingRequest$.subscribe(buildingDto => {
            this.buildingDto = buildingDto;
            if (!this.buildingDto.id) {
                // set new building default fields
                this.buildingDto.activityCode = '0';
                this.buildingDto.overheadPercent = '20';
                this.buildingDto.architectPercent = '7';
            }
        });
    }
    mapCustomColumns(buildingCustomColumns) {
        const customFields = buildingCustomColumns.fields.filter(bf => bf.isCustom);
        let left = true;
        customFields.forEach(bf => {
            this.customFields.push(bf.name);
            const customField = {
                name: bf.name,
                displayName: bf.displayName.replace(/_|-|\./g, ' '),
                type: bf.fieldType,
                id: bf.name,
                required: false,
                fieldCategory: _enums_field_category__WEBPACK_IMPORTED_MODULE_24__["FieldCategory"].CustomFields
            };
            this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].AdditionalDataFields].push(customField);
            if (left) {
                this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].AdditionalDataFields].left.push(customField.name);
            }
            else {
                this.formLayouts[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].AdditionalDataFields].right.push(customField.name);
            }
            left = !left;
        });
    }
    ngOnChanges(changes) {
        this.savingForm = changes.savingForm.currentValue;
    }
    save(buildingForm) {
        this.closeForm = false;
        this.onSubmit(buildingForm);
        this.isSaving = false;
    }
    onSubmit(buildingForm) {
        this.isSaving = true;
        const formToSubmit = buildingForm.value;
        // Setting siteId to the last most item in the cascading select list
        buildingForm = this.setSiteId(buildingForm);
        if (!this.checkIsValidLatLon(buildingForm)) {
            return;
        }
        const saveDto = this.mapToBuildingDto(buildingForm.value);
        saveDto.customColumns = this.editedCustomFields;
        if (buildingForm.valid) {
            if (this.isEditing) {
                this.saveEdit(saveDto);
            }
            else {
                this.saveNewBuilding(saveDto);
            }
        }
        else {
            this.alertService.error('Missing required fields');
            this.isSaving = false;
        }
    }
    cancel() {
        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 1 } });
    }
    preventDefault(event) {
        event.preventDefault();
    }
    saveEdit(buildingDto) {
        this.buildingService.updateBuilding(buildingDto.id, buildingDto).subscribe(buildingResult => {
            if (this.closeForm) {
                this.formGroup = null;
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 1 } });
            }
            this.alertService.success('Building edit successful');
        }, error => {
            if (error.status !== 458) {
                this.alertService.error(!!error.error ? error.error : 'An error has occurred saving the building');
            }
        });
    }
    saveNewBuilding(buildingDto) {
        this.buildingService.createBuilding(buildingDto, this.qualityControlService.groupId).subscribe(result => {
            this.buildingId = result.id;
            if (this.closeForm) {
                this.formGroup = null;
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 1 } });
            }
            else {
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/EditBuilding/${this.buildingId}`], {
                    queryParams: { mode: 1 }
                });
            }
            this.alertService.success('Building Added Successfully');
        }, error => {
            if (error.status !== 458) {
                this.alertService.error(!!error.error ? error.error : 'An error has occurred saving the building');
            }
        });
    }
    contentCodeChanged(contentCode) {
        const floorAreaValue = this.formGroup.get('floorArea').value;
        const contentQuality = this.formGroup.get('contentQuality').value;
        if (!floorAreaValue) {
            this.formGroup.get('contentCostReproductionNew').setValue(0);
            this.alertService.warn('The Content CRN could not be calculated as the Floor Area has not been provided.');
        }
        else if (contentCode === '-') {
            // Do nothing
        }
        else if (!contentQuality) {
            this.formGroup.get('contentCostReproductionNew').setValue(0);
            this.alertService.warn('The Content CRN could not be calculated as the Content Quality has not been provided or value should be greater than zero.');
        }
        else {
            this.qualityControlService.calculateContentCostReproductionNew(contentCode, contentQuality, floorAreaValue).subscribe(result => {
                const contentCostReproductionNew = this.intl.parseNumber(result);
                this.formGroup.get('contentCostReproductionNew').setValue(contentCostReproductionNew);
            });
        }
    }
    PerimeterAdjustmentMethodChanged() {
        const perimeterAdjustmentMethodValue = this.formGroup.get('buildingPerimeterAdjustmentMethod').value;
        const calculatedPerimeterControl = this.formGroup.get('perimeter');
        if (perimeterAdjustmentMethodValue == _api_runtime_enums_perimeter_adjustment_method__WEBPACK_IMPORTED_MODULE_23__["PerimeterAdjustmentMethod"].Calculated) {
            calculatedPerimeterControl.enable();
        }
        else {
            calculatedPerimeterControl.disable();
        }
    }
    calculateCostReproductionNewLessDepreciation() {
        const depreciationPercent = this.formGroup.get('depreciationPercent').value;
        const costReproductionNew = this.formGroup.get('costReproductionNew').value;
        const valuationActualCashValue = this.buildingDto.valuationActualCashValue;
        let costReproductionNewLessDepreciation = '';
        if (costReproductionNew && costReproductionNew > 0 && depreciationPercent && depreciationPercent !== 0) {
            costReproductionNewLessDepreciation = costReproductionNew * (1 - (depreciationPercent / 100));
        }
        else {
            costReproductionNewLessDepreciation = valuationActualCashValue ? this.intl.parseNumber(valuationActualCashValue) : '';
        }
        this.formGroup.get('costReproductionNewLessDepreciation').setValue(costReproductionNewLessDepreciation);
    }
    basementFloorAreaFactorsChanged() {
        let basementUnfinishedArea = this.formGroup.get('basementUnfinishedArea').value;
        let basementFinishedArea = this.formGroup.get('basementFinishedArea').value;
        if (basementFinishedArea == null || basementFinishedArea === '') {
            basementFinishedArea = 0;
        }
        if (basementUnfinishedArea == null || basementUnfinishedArea === '') {
            basementUnfinishedArea = 0;
        }
        this.qualityControlService.calculateBasementFloorArea(basementFinishedArea, basementUnfinishedArea).subscribe(result => {
            const basementFloorAreaNew = this.intl.parseNumber(result);
            this.formGroup.get('basementFloorArea').setValue(basementFloorAreaNew);
        });
    }
    mapToBuildingDto(formValue) {
        // Deep copy of the current Building DTO
        const buildingDto = JSON.parse(JSON.stringify(this.buildingDto));
        // Mapping form value to building DTO
        Object.keys(formValue).forEach(key => {
            if (key !== 'undefined') {
                buildingDto[key] = formValue[key];
            }
        });
        buildingDto.buildingAttributes
            .filter(c => !!c.isAdded)
            .forEach(attribute => {
            delete attribute.attributeType;
            delete attribute.id;
        });
        buildingDto.occupancyCodes.forEach(occupancyCode => {
            delete occupancyCode.description;
        });
        return buildingDto;
    }
    setSiteId(form) {
        if (form.value.siteId && form.value.siteId.indexOf(',') > 0) {
            form.value.siteId = form.value.siteId.split(',')[1];
        }
        return form;
    }
    checkIsValidLatLon(form) {
        let validLatLon = true;
        const formValue = form.value;
        if (formValue.latitude !== '' && formValue.longitude !== '' && formValue.latitude !== null && formValue.longitude !== null) {
            formValue.latitude = parseFloat(formValue.latitude).toFixed(8);
            formValue.longitude = parseFloat(formValue.longitude).toFixed(8);
            if (!formValue.latitude.match(/^(-?[1-8]?\d(?:\.\d{6,8})|90(?:\.0{6,8})?)$/)) {
                this.alertService.error('Latitude value out of valid range (-90.000000 : 90.000000)');
                validLatLon = false;
            }
            if (!formValue.longitude.match(/^(-?(?:1[0-7]|[1-9])?\d(?:\.\d{6,8})|180(?:\.0{6,8})?)$/)) {
                this.alertService.error('Longitude value out of valid range (-180.000000 : 180.000000)');
                validLatLon = false;
            }
        }
        return validLatLon;
    }
    combineForms() {
        let combinedForms = new Array();
        this.formModels.forEach(model => {
            combinedForms = combinedForms.concat(model);
        });
        return combinedForms;
    }
    mapContentCodes(contentCodes) {
        const contentCodeControlIndex = this.formModels[this.formModelEnum.BuildingValuationFields].findIndex(c => c.id === 'contentCode');
        if (contentCodeControlIndex) {
            const options = this.buildingInfoService.mapContentCodeToFieldOptions(contentCodes);
            this.formModels[this.formModelEnum.BuildingValuationFields][contentCodeControlIndex].options = options;
        }
    }
    mapSiteId(buildingDto, buildingHierarchyByGroupId) {
        const siteIdControlIndex = this.formModels[this.formModelEnum.PrimaryInfoFields].findIndex(c => c.id === 'siteId');
        if (buildingDto && siteIdControlIndex !== -1) {
            this.formModels[this.formModelEnum.PrimaryInfoFields][siteIdControlIndex].cascadedValueOptions = this.buildingInfoService.mapSitesToSelectOptions(buildingHierarchyByGroupId);
            this.buildingDto.siteId = this.buildingInfoService.mapMemberSiteSelection(buildingDto.siteId, this.formModels[this.formModelEnum.PrimaryInfoFields][siteIdControlIndex].cascadedValueOptions);
        }
    }
    mapAttributeTypesAndCodes(attributeTypesAndCodes) {
        attributeTypesAndCodes.forEach(attributeType => {
            for (let i = 0, len = this.formModels.length - 1; i < len; i++) {
                if (this.formModels[i]) {
                    const index = this.formModels[i].findIndex(c => c.attributeTypeId === attributeType.value);
                    if (index !== -1) {
                        this.formModels[i][index].options = this.mapToFieldOptions(attributeType.options);
                    }
                }
            }
            const index = this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingAttributeFields].findIndex(c => c.attributeTypeId === attributeType.value);
            if (index !== -1) {
                this.formModels[_form_models_primary_info_primaryinfo_model__WEBPACK_IMPORTED_MODULE_8__["FormModelEnum"].BuildingAttributeFields][index].options = this.mapToFieldOptions(attributeType.options);
            }
            if (attributeType.value === _form_models_building_attributes_model__WEBPACK_IMPORTED_MODULE_2__["OccupancyCodeBuildingAttributeTypeId"]) {
                this.occupancyCodeOptions = attributeType.options;
            }
            const attributeIndex = this.buildingAttributes.findIndex(c => c.attributeType === attributeType.value);
            if (attributeIndex !== -1) {
                this.buildingAttributes[attributeIndex].attributeValueOptions = attributeType.options;
            }
        });
    }
    mapToFieldOptions(options) {
        const fieldOptions = new Array();
        options.forEach(option => {
            fieldOptions.push({
                displayName: option.description,
                key: option.buildingAttributeCodeId
            });
        });
        return fieldOptions;
    }
    mapValues(currentFormModel) {
        if (!this.buildingDto) {
            return currentFormModel;
        }
        for (const prop of Object.keys(this.buildingDto).concat(this.customFields)) {
            const formControl = currentFormModel.find(c => c.id === prop);
            // If this property maps to a dropdown and the type is string, make sure its lowercase to account for GUIDs in uppercase.
            if (_form_models_primary_info_primaryinfo_dropdown_model__WEBPACK_IMPORTED_MODULE_10__["PrimaryInfoDropDownModel"].findIndex(pi => pi.name === prop) !== -1 && typeof this.buildingDto[prop] === 'string') {
                this.buildingDto[prop] = this.buildingDto[prop].toLowerCase();
            }
            if (formControl) {
                formControl.value = this.mapValue(prop, formControl, formControl.value);
                if (formControl.type === _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].DropDown && formControl.options.length > 0) {
                    formControl.options = this.helperService.sortCollection(formControl.options, 'displayName');
                }
            }
        }
        return currentFormModel;
    }
    mapValidators(validators) {
        const formValidators = [];
        if (validators) {
            for (const validation of Object.keys(validators)) {
                if (validation === 'required') {
                    formValidators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_17__["Validators"].required);
                }
                else if (validation === 'min') {
                    formValidators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_17__["Validators"].min(validators[validation]));
                }
            }
        }
        return formValidators;
    }
    mapValue(prop, formControl, formControlValue) {
        if (formControl) {
            if (formControl.type === _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].DateTime) {
                return this.buildingDto
                    ? this.intl.parseDate(this.buildingDto[prop])
                    : this.intl.parseDate(formControlValue);
            }
            if (formControl.type === _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Percent) {
                return this.buildingDto
                    ? this.intl.parseNumber(this.buildingDto[prop], 'p2', 'en')
                    : this.intl.parseNumber(formControlValue, 'p2', 'en');
            }
            if (formControl.type === _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Double) {
                return this.buildingDto
                    ? this.intl.parseNumber(this.buildingDto[prop], 'n2', 'en')
                    : this.intl.parseNumber(formControlValue, 'n2', 'en');
            }
            if (formControl.type === _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Integer) {
                return this.buildingDto
                    ? this.intl.parseNumber(this.buildingDto[prop], 'n', 'en')
                    : this.intl.parseNumber(formControlValue, 'n', 'en');
            }
        }
        return this.buildingDto ? this.buildingDto[prop] : formControlValue;
    }
    handleAction(response) {
        this.showValuationErrorsButton = response;
    }
    valuateBuilding() {
        this.buildingValuationComponent.open(false, this.selectedBuildings);
    }
    handleCustomFieldLabelChange(field) {
        const existingCustomField = this.editedCustomFields.find(f => f.name === field.name);
        if (existingCustomField) {
            existingCustomField.displayName = field.displayName;
        }
        else {
            this.editedCustomFields.push(field);
        }
    }
};
UpsertBuildingComponent.ctorParameters = () => [
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__["BuildingsService"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_4__["QualityControlService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_6__["BuildingInfoService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_19__["Router"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_20__["IntlService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_19__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
], UpsertBuildingComponent.prototype, "savingForm", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewChild"])('formNavigation', { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ElementRef"])
], UpsertBuildingComponent.prototype, "formNavigation", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewChild"])(_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_22__["BuildingValuationComponent"], { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_22__["BuildingValuationComponent"])
], UpsertBuildingComponent.prototype, "buildingValuationComponent", void 0);
UpsertBuildingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Component"])({
        selector: 'building-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./building-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/building-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_buildings_service__WEBPACK_IMPORTED_MODULE_3__["BuildingsService"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_4__["QualityControlService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_6__["BuildingInfoService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_19__["Router"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_20__["IntlService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_19__["ActivatedRoute"]])
], UpsertBuildingComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component.ts":
/*!****************************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component.ts ***!
  \****************************************************************************************************************************************************/
/*! exports provided: AdditionalBuildingEquipmentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalBuildingEquipmentComponent", function() { return AdditionalBuildingEquipmentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_additional_data_additional_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../services/additional-data/additional-data.service */ "./client-src/app/quality-control/services/additional-data/additional-data.service.ts");
/* harmony import */ var _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../services/additional-data/additional-data-grid.service */ "./client-src/app/quality-control/services/additional-data/additional-data-grid.service.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _upsert_building_addition_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./upsert-building-addition.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");











let AdditionalBuildingEquipmentComponent = class AdditionalBuildingEquipmentComponent {
    constructor(famisGridService, additionalDataService, additionalDataGridService, windowManager, buildingService) {
        this.famisGridService = famisGridService;
        this.additionalDataService = additionalDataService;
        this.additionalDataGridService = additionalDataGridService;
        this.windowManager = windowManager;
        this.buildingService = buildingService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.isReadOnly = false;
        this.windowSize = 500;
        this.selectedAdditions = new Array();
        this.groups = new Array();
        this.flattendGroups = new Array();
    }
    ngOnInit() {
        this.additionalEquipmentGrid = {
            height: 300,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'additionalEquipmentGrid',
            hideTitle: true,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_9__["FamisGridFeature"].HideTableCounts],
            actions: this.isReadOnly ? ['View'] : ['Edit', 'Delete'],
            translationBaseKey: this.i18n.building,
            scrollingMode: 'normal',
        };
        this.additionalEquipmentGrid.columnHeaders = [
            {
                name: 'description',
                order: 0,
                displayName: 'Description',
                isSearchable: false,
                isFilterable: false,
                isSortable: true,
                isFacetable: false,
                isKey: false,
                isCustom: false,
                isEditable: false,
                fieldType: 'template',
                format: ''
            }
        ];
        this.additionalEquipmentGrid.selectedHeaders = ['description'];
        this.additionalDataService.initBuildingAdditionGroups();
        this.additionalEquipmentGrid.loading = this.additionalDataService.buildingAdditionGroups$.subscribe(groups => {
            this.groups = groups;
            this.flattendGroups = this.additionalDataService.flattenedData;
            if (this.buildingDto) {
                this.updateAdditionsGrid();
            }
        });
        this.buildingService.buildingRequest$.subscribe(buildingDto => {
            if (buildingDto) {
                this.additionalEquipmentGrid.loading = this.updateAdditionsGrid();
            }
        });
    }
    addAddition() {
        const addAdditionModal = this.windowManager.open(_upsert_building_addition_component__WEBPACK_IMPORTED_MODULE_6__["UpsertBuildingAdditionComponent"], 'Add Additional Building Equipment and Features', { isModal: true });
        addAdditionModal.content.instance.groups = this.groups;
        addAdditionModal.content.instance.addition = {
            groupDescription: '',
            categoryCode: null,
            categoryDescription: ''
        };
        addAdditionModal.content.instance.buildingDto = this.buildingDto;
        addAdditionModal.content.instance.referenceData = this.flattendGroups;
        addAdditionModal.result.subscribe(result => {
            if (addAdditionModal.content.instance.action === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Save) {
                this.mapCriterion(addAdditionModal.content.instance.result.criterion);
                this.buildingService.setBuildingRequestSource(this.buildingDto);
            }
        });
        addAdditionModal.content.instance.result.subscribe(modalResult => {
            if (modalResult.action === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Save) {
                this.mapCriterion(modalResult.criterion);
                this.buildingService.setBuildingRequestSource(this.buildingDto);
            }
            this.windowManager.close();
        });
    }
    handleActionEvent(event) {
        switch (event.action) {
            case 'Edit':
                const additionToEdit = this.buildingDto.buildingSelectedAdditions.find(c => c.id === event.item.description.id);
                if (additionToEdit) {
                    const editAdditionModal = this.windowManager.open(_upsert_building_addition_component__WEBPACK_IMPORTED_MODULE_6__["UpsertBuildingAdditionComponent"], 'Edit Additional Building Equipment and Features', { isModal: true });
                    editAdditionModal.content.instance.groups = this.groups;
                    editAdditionModal.content.instance.addition = additionToEdit;
                    editAdditionModal.content.instance.buildingDto = this.buildingDto;
                    editAdditionModal.content.instance.referenceData = this.flattendGroups;
                    editAdditionModal.content.instance.result.subscribe(modalResult => {
                        if (modalResult.action === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Save) {
                            if (modalResult.criteriaToDelete) {
                                this.deleteAdditions(modalResult.criteriaToDelete);
                            }
                            this.mapCriterion(modalResult.criterion);
                            this.buildingService.setBuildingRequestSource(this.buildingDto);
                        }
                        this.windowManager.close();
                    });
                }
                break;
            case 'Delete':
                this.deleteAdditions(event.item.description.criteriaSummary);
                this.buildingService.setBuildingRequestSource(this.buildingDto);
                break;
            default:
                break;
        }
    }
    updateAdditionsGrid() {
        const s = this;
        return this.additionalDataGridService.initBuildingAdditionGrid(this.buildingDto, this.flattendGroups).subscribe(result => {
            this.additionalEquipmentGrid.totalRecordCount = result.length;
            s.famisGridService.setCacheRecords(this.mapToDescription(result), s.additionalEquipmentGrid.gridId, s.famisGridService.defaultSkip, result.length, this.additionalEquipmentGrid.windowSize);
        });
    }
    mapToDescription(additions) {
        const descriptions = new Array();
        const cost = new Array();
        additions.forEach(addition => {
            descriptions.push({ description: addition });
        });
        return descriptions;
    }
    mapCriterion(criterion) {
        criterion.forEach((criteria, i) => {
            if (i < criterion.length - 1) {
                criteria.childAdditionCriterionId = criterion[i + 1] ? criterion[i + 1].id : null;
            }
            const index = this.buildingDto.buildingSelectedAdditions.findIndex(c => c.id === criteria.id);
            if (index !== -1) {
                this.buildingDto.buildingSelectedAdditions[index] = criteria;
            }
            else {
                this.buildingDto.buildingSelectedAdditions.push(criteria);
            }
        });
    }
    deleteAdditions(criteriaSummary) {
        criteriaSummary.forEach(criteria => {
            const index = this.buildingDto.buildingSelectedAdditions.findIndex(c => c.id === criteria.id);
            if (index !== -1) {
                this.buildingDto.buildingSelectedAdditions.splice(index, 1);
            }
        });
    }
};
AdditionalBuildingEquipmentComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _services_additional_data_additional_data_service__WEBPACK_IMPORTED_MODULE_3__["AdditionalDataService"] },
    { type: _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_4__["AdditionalDataGridService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__["WindowManager"] },
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_5__["BuildingsService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AdditionalBuildingEquipmentComponent.prototype, "buildingDto", void 0);
AdditionalBuildingEquipmentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'additional-building-equipment-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./additional-building-equipment-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _services_additional_data_additional_data_service__WEBPACK_IMPORTED_MODULE_3__["AdditionalDataService"],
        _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_4__["AdditionalDataGridService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__["WindowManager"],
        _services_buildings_service__WEBPACK_IMPORTED_MODULE_5__["BuildingsService"]])
], AdditionalBuildingEquipmentComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.ts":
/*!******************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.ts ***!
  \******************************************************************************************************************************************/
/*! exports provided: UpsertBuildingAdditionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertBuildingAdditionComponent", function() { return UpsertBuildingAdditionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../services/additional-data/additional-data-grid.service */ "./client-src/app/quality-control/services/additional-data/additional-data-grid.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");








let UpsertBuildingAdditionComponent = class UpsertBuildingAdditionComponent {
    constructor(intl, helperService, additionalDataGridService) {
        this.intl = intl;
        this.helperService = helperService;
        this.additionalDataGridService = additionalDataGridService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.showValidationError = false;
        this.selectedCategoryId = '';
        this.selectedGroupId = '';
        this.hideSubmit = false;
        this.modalTitle = null;
        this.groups = new Array();
        this.modalEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.categories = new Array();
        this.criteriaForCategory = new Array();
        this.adjustmentsForCategory = new Array();
        this.formControlTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_6__["FieldType"];
        this.initialCriteria = new Array();
        this.selectedCriteria = new Array();
        this.selectedAdjustments = new Array();
        this.result = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() {
        let selectedCriteria = this.referenceData.find(c => c.criteria.id === this.addition.referenceBuildingAdditionCriterionId);
        if (selectedCriteria) {
            this.selectedGroupId = selectedCriteria.groupDto.id;
            this.selectedCategoryId = selectedCriteria.categoryDto.id;
            this.setCategories();
            this.setCriteriaAndAdjustments();
            this.setValue(this.addition, selectedCriteria);
            let currentAddition = this.additionalDataGridService.getAdditionById(this.addition.childAdditionCriterionId);
            while (currentAddition) {
                selectedCriteria = this.referenceData.find(c => c.criteria.id === currentAddition.referenceBuildingAdditionCriterionId);
                this.setValue(currentAddition, selectedCriteria);
                currentAddition = this.additionalDataGridService.getAdditionById(currentAddition.childAdditionCriterionId);
            }
            this.initialCriteria = this.selectedCriteria;
        }
        if (this.selectedQuantity == null) {
            this.selectedQuantity = 1;
        }
    }
    dismiss() {
        this.result.emit({ action: _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__["ModalFormEvent"].Dismiss });
    }
    save(form) {
        if (form.valid) {
            const s = this;
            let criteriaToDelete = new Array();
            criteriaToDelete = this.initialCriteria.filter(function (x) {
                return s.selectedCriteria.findIndex(c => !!c && c.id === x.id) === -1;
            });
            if (this.selectedCriteria.length > 1) {
                if (this.selectedCriteria[1]) {
                    this.selectedCriteria[1].buildingSelectedAdjustments = Object.assign([], this.selectedAdjustments);
                    this.selectedCriteria[1].quantity = this.selectedQuantity;
                }
            }
            else {
                if (this.selectedCriteria[0]) {
                    this.selectedCriteria[0].buildingSelectedAdjustments = Object.assign([], this.selectedAdjustments);
                    this.selectedCriteria[0].quantity = this.selectedQuantity;
                }
            }
            this.result.emit({
                action: _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__["ModalFormEvent"].Save,
                criterion: this.selectedCriteria,
                criteriaToDelete: criteriaToDelete
            });
        }
        else {
            this.showValidationError = true;
        }
    }
    changeGroup() {
        this.selectedCategoryId = undefined;
        this.criteriaForCategory = new Array();
        this.selectedCriteria = new Array();
        this.adjustmentsForCategory = new Array();
        this.selectedAdjustments = new Array();
        this.setCategories();
    }
    setCategories() {
        const group = this.groups.find(c => c.id === this.selectedGroupId);
        if (group) {
            this.categories = group.referenceBuildingAdditionCategoryDtos;
        }
    }
    setCriteriaAndAdjustments() {
        this.criteriaForCategory = new Array();
        this.selectedCriteria = new Array();
        this.adjustmentsForCategory = new Array();
        this.selectedAdjustments = new Array();
        const category = this.categories.find(c => c.id === this.selectedCategoryId);
        if (category) {
            this.criteriaForCategory = this.helperService.groupBy(category.referenceBuildingAdditionCriterionDtos, 'index');
            this.criteriaForCategory.forEach(option => {
                this.selectedCriteria[option[0].index] = {
                    id: this.helperService.generateGuid(),
                    buildingId: this.buildingDto.id,
                    referenceBuildingAdditionCriterionId: option[0].id,
                    childAdditionCriterionId: null,
                    buildingSelectedAdjustments: new Array(),
                    criterionValue: null,
                    quantity: null,
                    totalCost: null
                };
            });
            this.adjustmentsForCategory = category.referenceBuildingAdditionAdjustmentDtos.map(c => c.referenceBuildingAdjustmentDto);
            category.referenceBuildingAdditionAdjustmentDtos.forEach(aa => {
                this.selectedAdjustments.push({
                    id: this.helperService.generateGuid(),
                    referenceBuildingAdditionAdjustmentId: aa.id,
                    value: null
                });
            });
        }
    }
    setValue(criteria, referenceItem) {
        if (criteria.buildingSelectedAdjustments) {
            for (let i = 0; i < this.selectedAdjustments.length; i++) {
                const existing = criteria.buildingSelectedAdjustments
                    .find(b => b.referenceBuildingAdditionAdjustmentId === this.selectedAdjustments[i].referenceBuildingAdditionAdjustmentId);
                if (existing) {
                    this.selectedAdjustments[i] = existing;
                }
            }
        }
        if (criteria.quantity != null) {
            this.selectedQuantity = criteria.quantity;
        }
        this.selectedCriteria[referenceItem.criteria.index] = {
            id: criteria.id,
            buildingId: this.buildingDto.id,
            referenceBuildingAdditionCriterionId: criteria.referenceBuildingAdditionCriterionId,
            childAdditionCriterionId: criteria.childAdditionCriterionId,
            buildingSelectedAdjustments: new Array(),
            criterionValue: null,
            quantity: criteria.quantity,
            totalCost: criteria.totalCost
        };
        if (!!criteria.criterionValue) {
            this.selectedCriteria[referenceItem.criteria.index].criterionValue = this.intl.parseNumber(criteria.criterionValue, 'n', 'en');
        }
    }
};
UpsertBuildingAdditionComponent.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] },
    { type: _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_3__["AdditionalDataGridService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAdditionComponent.prototype, "hideSubmit", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], UpsertBuildingAdditionComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAdditionComponent.prototype, "buildingDto", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAdditionComponent.prototype, "addition", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], UpsertBuildingAdditionComponent.prototype, "referenceData", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAdditionComponent.prototype, "groups", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAdditionComponent.prototype, "modalEvent", void 0);
UpsertBuildingAdditionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'upsert-building-addition',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-building-addition.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"],
        _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_3__["AdditionalDataGridService"]])
], UpsertBuildingAdditionComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component.ts":
/*!**********************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component.ts ***!
  \**********************************************************************************************************************************************/
/*! exports provided: BuildingAttributesGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingAttributesGridComponent", function() { return BuildingAttributesGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _upsert_building_attribute_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./upsert-building-attribute.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");











let BuildingAttributesGridComponent = class BuildingAttributesGridComponent {
    constructor(famisGridService, buildingService, windowManager, helperService) {
        this.famisGridService = famisGridService;
        this.buildingService = buildingService;
        this.windowManager = windowManager;
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.isReadOnly = false;
        this.windowSize = 500;
        this.groups = new Array();
        this.flattendGroups = new Array();
        this.flattenedBuildingAttributeTypes = new Array();
        this.buildingAttributes = new Array();
    }
    ngOnInit() {
        this.additionalEquipmentGrid = {
            height: 350,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'ConstructionCodes',
            hideTitle: true,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_8__["FamisGridFeature"].HideTableCounts],
            actions: this.isReadOnly ? ['View'] : ['Edit'],
            translationBaseKey: this.i18n.building,
            scrollingMode: 'normal'
        };
        this.additionalEquipmentGrid.columnHeaders = [
            {
                name: 'attributeTypeName',
                order: 0,
                displayName: 'Type',
                isSearchable: false,
                isFilterable: false,
                isSortable: true,
                isFacetable: false,
                isKey: false,
                isCustom: false,
                isEditable: false,
                fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_9__["FieldType"].String,
                format: '',
                width: '244',
            },
            {
                name: 'valueSummary',
                order: 0,
                displayName: 'Value',
                isSearchable: false,
                isFilterable: false,
                isSortable: true,
                isFacetable: false,
                isKey: false,
                isCustom: false,
                isEditable: false,
                fieldType: 'buildingAttribute',
                format: '',
                width: '244'
            }
        ];
        this.additionalEquipmentGrid.selectedHeaders = ['attributeTypeName', 'valueSummary'];
        this.buildingAttributes.forEach(attribute => {
            if (attribute.attributeValueOptions) {
                attribute.attributeValueOptions.forEach(option => {
                    this.flattenedBuildingAttributeTypes.push(option);
                });
            }
        });
        this.updateGrid();
        this.buildingService.buildingRequest$.subscribe(buildingDto => {
            this.buildingDto = buildingDto;
            this.updateGrid();
        });
    }
    handleActionEvent(event) {
        switch (event.action) {
            case 'Edit':
                this.editAttribute(event.item);
                break;
            case 'Delete':
                break;
            default:
                break;
        }
    }
    editAttribute(attributeToEdit) {
        const upsertBuildingAttribute = this.windowManager.open(_upsert_building_attribute_component__WEBPACK_IMPORTED_MODULE_4__["UpsertBuildingAttributeComponent"], 'Edit Building Attribute', {
            isModal: true
        });
        upsertBuildingAttribute.content.instance.attribute = attributeToEdit;
        upsertBuildingAttribute.content.instance.buildingDto = this.buildingDto;
        upsertBuildingAttribute.content.instance.result.subscribe(modalResult => {
            if (modalResult.action === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Save) {
                modalResult.selectedAttributes.forEach(attribute => {
                    const index = this.buildingDto.buildingAttributes.findIndex(c => c.id === attribute.id);
                    if (index !== -1) {
                        this.buildingDto.buildingAttributes[index] = attribute;
                    }
                    else {
                        attribute.isAdded = true;
                        delete attribute.id;
                        this.buildingDto.buildingAttributes.push(attribute);
                    }
                });
                modalResult.attributesToDelete.forEach(attribute => {
                    const index = this.buildingDto.buildingAttributes.findIndex(c => c.id === attribute.id);
                    if (index !== -1) {
                        this.buildingDto.buildingAttributes.splice(index, 1);
                    }
                });
                this.buildingService.setBuildingRequestSource(this.buildingDto);
            }
            this.windowManager.close();
        });
    }
    updateGrid(sortDescriptor) {
        const sortField = 'order';
        const sortDir = sortDescriptor && sortDescriptor[0] ? sortDescriptor[0].dir : 'asc';
        this.famisGridService.setCacheRecords(this.helperService.sortCollection(this.buildingDto ? this.mapValues(this.buildingAttributes) : this.buildingAttributes, sortField, sortDir), this.additionalEquipmentGrid.gridId, this.famisGridService.defaultSkip, this.buildingAttributes.length, this.additionalEquipmentGrid.windowSize);
    }
    mapValues(attributes) {
        const mappedValues = new Array();
        attributes.forEach(a => {
            const values = this.buildingDto.buildingAttributes.filter(c => c.attributeType === a.attributeType);
            a.selectedValues = values;
            a.valueSummary = this.mapSummary(values);
            mappedValues.push(a);
        });
        return mappedValues;
    }
    mapSummary(selectedAttributes) {
        const attributeSummary = new Array();
        selectedAttributes.forEach(selectedAttribute => {
            const a = this.flattenedBuildingAttributeTypes.find(c => c.buildingAttributeCodeId === selectedAttribute.buildingAttributeCodeId);
            if (a) {
                attributeSummary.push({
                    description: a.description,
                    value: selectedAttribute.value
                });
            }
        });
        return attributeSummary;
    }
};
BuildingAttributesGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"] },
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__["BuildingsService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], BuildingAttributesGridComponent.prototype, "buildingAttributes", void 0);
BuildingAttributesGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'building-attributes-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./building-attributes-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"],
        _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__["BuildingsService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"]])
], BuildingAttributesGridComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.ts":
/*!***********************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.ts ***!
  \***********************************************************************************************************************************************/
/*! exports provided: UpsertBuildingAttributeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertBuildingAttributeComponent", function() { return UpsertBuildingAttributeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");






let UpsertBuildingAttributeComponent = class UpsertBuildingAttributeComponent {
    constructor(activeModal, helperService) {
        this.activeModal = activeModal;
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.modalTitle = null;
        this.selectedValues = new Array();
        this.valuesToDelete = new Array();
        this.result = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.showValidationError = false;
    }
    ngOnInit() {
        this.selectedValues = JSON.parse(JSON.stringify(this.attribute.selectedValues));
        if (this.attribute.selectedValues.length === 0) {
            this.add();
        }
    }
    save(form) {
        if (form.valid) {
            this.result.emit({
                action: _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__["ModalFormEvent"].Save,
                selectedAttributes: this.selectedValues,
                attributesToDelete: this.valuesToDelete
            });
        }
        else {
            this.showValidationError = true;
        }
    }
    remove(index) {
        this.valuesToDelete.push(this.selectedValues[index]);
        this.selectedValues.splice(index, 1);
    }
    add() {
        this.selectedValues.push({
            id: this.helperService.generateGuid(),
            buildingAttributeCodeId: '',
            value: null,
            attributeType: this.attribute.attributeType
        });
    }
    dismiss() {
        this.result.emit({});
    }
};
UpsertBuildingAttributeComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], UpsertBuildingAttributeComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAttributeComponent.prototype, "buildingDto", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertBuildingAttributeComponent.prototype, "attribute", void 0);
UpsertBuildingAttributeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'upsert-building-addition',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-building-attribute.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"]])
], UpsertBuildingAttributeComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.ts":
/*!************************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.ts ***!
  \************************************************************************************************************************************************/
/*! exports provided: RemoveCustomAdditionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveCustomAdditionComponent", function() { return RemoveCustomAdditionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");





let RemoveCustomAdditionComponent = class RemoveCustomAdditionComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.customAdditionDto = {};
        this.fieldMetaData = new Array();
        this.submitResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.fields = new Array();
    }
    ngOnInit() {
        this.fieldMetaData.forEach((field, index) => {
            this.defaultFormFields.push(this.mapMetaDataToField(field, index + 1));
        });
        this.form = this.helperService.toFormGroup(this.defaultFormFields);
    }
    remove() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Remove, formGroup: this.form, dto: '' });
    }
    cancel() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Cancel });
    }
    mapMetaDataToField(field, defaultOrder) {
        return {
            id: field.name,
            type: field.fieldType,
            value: this.customAdditionDto ? this.customAdditionDto[field.name] : '',
            displayName: field.displayName,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder
        };
    }
};
RemoveCustomAdditionComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] }
];
RemoveCustomAdditionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'remove-customaddition',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./remove-customaddition.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"]])
], RemoveCustomAdditionComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.ts":
/*!************************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.ts ***!
  \************************************************************************************************************************************************/
/*! exports provided: UpsertCustomAdditionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertCustomAdditionComponent", function() { return UpsertCustomAdditionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");





let UpsertCustomAdditionComponent = class UpsertCustomAdditionComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.fieldMetaData = new Array();
        this.submitResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.fields = new Array();
    }
    ngOnInit() {
        this.fieldMetaData.forEach((field, index) => {
            this.defaultFormFields.push(this.mapMetaDataToField(field, index + 1));
        });
        this.action = this.formAction === 0 ? 'Add' : 'Edit';
        this.form = this.helperService.toFormGroup(this.defaultFormFields);
    }
    save() {
        if (!this.customAdditionDto) {
            this.customAdditionDto = {};
        }
        this.customAdditionDto.cost = this.form.value.cost;
        this.customAdditionDto.description = this.form.value.description;
        this.submitResponse.emit({ action: this.formAction, formGroup: this.form, dto: this.customAdditionDto });
    }
    cancel() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Cancel });
    }
    mapMetaDataToField(field, defaultOrder) {
        return {
            id: field.name,
            type: field.fieldType,
            value: this.customAdditionDto ? this.mapFieldToValue(field) : '',
            displayName: field.displayName,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder,
            required: true
        };
    }
    mapFieldToValue(field) {
        let cost;
        if (field.name === 'cost') {
            cost = parseFloat(this.customAdditionDto[field.name]);
        }
        return cost !== undefined ? cost : this.customAdditionDto[field.name];
    }
};
UpsertCustomAdditionComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] }
];
UpsertCustomAdditionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'upsert-customaddition',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-customaddition.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"]])
], UpsertCustomAdditionComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component.ts":
/*!****************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component.ts ***!
  \****************************************************************************************************************************************/
/*! exports provided: CustomAdditionsGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomAdditionsGridComponent", function() { return CustomAdditionsGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _actions_upsert_customaddition_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/upsert-customaddition.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.ts");
/* harmony import */ var _actions_remove_customaddition_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions/remove-customaddition.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.ts");
/* harmony import */ var _processing_default_values_custom_addition_headers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../processing/default-values/custom-addition-headers */ "./client-src/app/processing/default-values/custom-addition-headers.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _form_models_custom_addition_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../form-models/custom-addition-model */ "./client-src/app/quality-control/components/building/form/form-models/custom-addition-model.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");
















let CustomAdditionsGridComponent = class CustomAdditionsGridComponent {
    constructor(famisGridService, windowManager, buildingService, route) {
        this.famisGridService = famisGridService;
        this.windowManager = windowManager;
        this.buildingService = buildingService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.windowSize = 500;
        this.destoryed$ = new rxjs__WEBPACK_IMPORTED_MODULE_13__["Subject"]();
    }
    ngOnInit() {
        this.buildingId = this.route.snapshot.paramMap.get('buildingId');
        this.customAdditionsGrid = {
            height: 175,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'customAdditions',
            hideTitle: true,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_12__["FamisGridFeature"].HideTableCounts],
            actions: ['Edit', 'Remove'],
            translationBaseKey: this.i18n.customAdditions,
        };
        this.customAdditionsGrid.columnHeaders = _processing_default_values_custom_addition_headers__WEBPACK_IMPORTED_MODULE_6__["customAdditionsHeaders"];
        this.customAdditionsGrid.selectedHeaders = ['description', 'cost'];
        this.processCacheUpdate();
    }
    ngOnDestroy() {
        this.destoryed$.next();
    }
    onFormActionEvent(response, modal, itemIndex) {
        switch (response.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_15__["FormAction"].Save:
                this.buildingDto.customAdditions.push(response.dto);
                this.updateBuilding();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_15__["FormAction"].Edit:
                const index = this.buildingDto.customAdditions.findIndex(a => a.id === response.dto.id);
                this.buildingDto.customAdditions[index] = response.dto;
                this.updateBuilding();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_15__["FormAction"].Remove:
                this.buildingDto.customAdditions.splice(itemIndex, 1);
                this.updateBuilding();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_15__["FormAction"].Cancel:
                modal.close();
                break;
            default:
                throw new Error(`Action ${response.action} not implemented.`);
        }
        modal.close();
    }
    updateBuilding() {
        if (this.buildingId) {
            this.customAdditionsGrid.loading = this.buildingService
                .updateBuilding(this.buildingId, this.buildingDto)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["takeUntil"])(this.destoryed$))
                .subscribe(result => {
                this.buildingService.setBuildingRequestSource(result);
                this.buildingDto = result;
                this.updateCache();
            });
        }
        else {
            this.buildingService.setBuildingRequestSource(this.buildingDto);
            this.updateCache();
        }
    }
    handleActionEvent(event) {
        const s = this;
        switch (event.action) {
            case 'Edit':
                const upsertCustomAdditionModal = this.windowManager.open(_actions_upsert_customaddition_component__WEBPACK_IMPORTED_MODULE_4__["UpsertCustomAdditionComponent"], 'Edit Custom Addition', {
                    isModal: true
                });
                upsertCustomAdditionModal.content.instance.fieldMetaData = _form_models_custom_addition_model__WEBPACK_IMPORTED_MODULE_8__["customAdditionFormModel"];
                upsertCustomAdditionModal.content.instance.customAdditionDto = event.item;
                upsertCustomAdditionModal.content.instance.formAction = _enums_form_action__WEBPACK_IMPORTED_MODULE_15__["FormAction"].Edit;
                upsertCustomAdditionModal.content.instance.submitResponse.subscribe(response => {
                    s.onFormActionEvent(response, upsertCustomAdditionModal, event.rowIndex);
                });
                break;
            case 'Remove':
                const removeCustomAdditionModal = this.windowManager.open(_actions_remove_customaddition_component__WEBPACK_IMPORTED_MODULE_5__["RemoveCustomAdditionComponent"], 'Remove Custom Addition', {
                    isModal: true
                });
                removeCustomAdditionModal.content.instance.fieldMetaData = _form_models_custom_addition_model__WEBPACK_IMPORTED_MODULE_8__["customAdditionFormModel"];
                removeCustomAdditionModal.content.instance.customAdditionDto = event.item;
                removeCustomAdditionModal.content.instance.submitResponse.subscribe(response => {
                    s.onFormActionEvent(response, removeCustomAdditionModal, event.rowIndex);
                });
                break;
            default:
                break;
        }
    }
    addCustomAddition() {
        const s = this;
        const addCustomAdditionModal = this.windowManager.open(_actions_upsert_customaddition_component__WEBPACK_IMPORTED_MODULE_4__["UpsertCustomAdditionComponent"], 'Add Custom Addition', {
            isModal: true
        });
        addCustomAdditionModal.content.instance.fieldMetaData = _form_models_custom_addition_model__WEBPACK_IMPORTED_MODULE_8__["customAdditionFormModel"];
        addCustomAdditionModal.content.instance.formAction = _enums_form_action__WEBPACK_IMPORTED_MODULE_15__["FormAction"].Save;
        addCustomAdditionModal.content.instance.submitResponse.subscribe(response => {
            s.onFormActionEvent(response, addCustomAdditionModal, 0);
        });
    }
    updateCache(request) {
        this.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        if (this.buildingDto) {
            this.customAdditionsGrid.totalRecordCount = this.buildingDto.customAdditions.length;
            this.famisGridService.setCacheRecords(this.buildingDto.customAdditions, this.customAdditionsGrid.gridId, 0, this.buildingDto.customAdditions.length, this.customAdditionsGrid.windowSize);
        }
    }
};
CustomAdditionsGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_3__["FamisGridService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_9__["WindowManager"] },
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_7__["BuildingsService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CustomAdditionsGridComponent.prototype, "buildingDto", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_1__["FamisGridComponent"], { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_1__["FamisGridComponent"])
], CustomAdditionsGridComponent.prototype, "famisGrid", void 0);
CustomAdditionsGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["Component"])({
        selector: 'custom-additions-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./custom-additions-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_3__["FamisGridService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_9__["WindowManager"],
        _services_buildings_service__WEBPACK_IMPORTED_MODULE_7__["BuildingsService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["ActivatedRoute"]])
], CustomAdditionsGridComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: OccupancyCodesGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OccupancyCodesGridComponent", function() { return OccupancyCodesGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _upsert_occupancy_code_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./upsert-occupancy-code.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");











let OccupancyCodesGridComponent = class OccupancyCodesGridComponent {
    constructor(famisGridService, buildingService, windowManager, helperService, container) {
        this.famisGridService = famisGridService;
        this.buildingService = buildingService;
        this.windowManager = windowManager;
        this.helperService = helperService;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.isReadOnly = false;
        this.windowSize = 250;
        this.groups = new Array();
        this.flattendGroups = new Array();
        this.occupancyCodeOptions = new Array();
    }
    ngOnInit() {
        this.additionalEquipmentGrid = {
            height: 155,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'occupancyCodes',
            hideTitle: true,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_8__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_8__["FamisGridFeature"].HideTableCounts],
            actions: this.isReadOnly ? ['View'] : ['Edit', 'Delete'],
            translationBaseKey: this.i18n.building,
        };
        this.additionalEquipmentGrid.columnHeaders = [
            {
                name: 'description',
                order: 0,
                displayName: 'Occupancy Code',
                isSearchable: false,
                isFilterable: false,
                isSortable: true,
                isFacetable: false,
                isKey: false,
                isCustom: false,
                isEditable: false,
                fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_9__["FieldType"].String,
                format: ''
            },
            {
                name: 'storyHeight',
                order: 0,
                displayName: 'Story Height',
                isSearchable: false,
                isFilterable: false,
                isSortable: true,
                isFacetable: false,
                isKey: false,
                isCustom: false,
                isEditable: false,
                fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_9__["FieldType"].Double,
                format: ''
            },
            {
                name: 'percent',
                order: 0,
                displayName: 'Percent',
                isSearchable: false,
                isFilterable: false,
                isSortable: true,
                isFacetable: false,
                isKey: false,
                isCustom: false,
                isEditable: false,
                fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_9__["FieldType"].Double,
                format: ''
            }
        ];
        this.additionalEquipmentGrid.selectedHeaders = ['description', 'storyHeight', 'percent'];
        this.buildingService.buildingRequest$.subscribe(buildingDto => {
            if (buildingDto) {
                this.buildingDto = buildingDto;
                this.updateGrid();
            }
        });
    }
    handleActionEvent(event) {
        switch (event.action) {
            case 'Edit':
                this.upsert(event.item);
                break;
            case 'Delete':
                const index = this.buildingDto.occupancyCodes.findIndex(c => c.buildingAttributeCodeId === event.item.id);
                this.buildingDto.occupancyCodes.splice(index, 1);
                this.buildingService.setBuildingRequestSource(this.buildingDto);
                break;
            default:
                break;
        }
    }
    upsert(itemToEdit) {
        const upsertOccupancyCodesModal = this.windowManager.open(_upsert_occupancy_code_component__WEBPACK_IMPORTED_MODULE_5__["UpsertOccupancyCodesComponent"], itemToEdit ? 'Edit Occupancy Code' : 'Add Occupancy Code', {
            isModal: true
        });
        upsertOccupancyCodesModal.window.instance.focus();
        upsertOccupancyCodesModal.content.instance.occupancyCode = itemToEdit;
        upsertOccupancyCodesModal.content.instance.modalTitle = itemToEdit ? 'Edit' : 'Add';
        upsertOccupancyCodesModal.content.instance.buildingDto = this.buildingDto;
        upsertOccupancyCodesModal.content.instance.options = this.occupancyCodeOptions;
        upsertOccupancyCodesModal.content.instance.result.subscribe(modalResult => {
            if (modalResult.action === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_10__["ModalFormEvent"].Save) {
                const index = this.buildingDto.occupancyCodes.findIndex(c => c.id === modalResult.occupancyCode.id);
                if (index !== -1) {
                    this.buildingDto.occupancyCodes[index] = modalResult.occupancyCode;
                }
                else {
                    this.buildingDto.occupancyCodes.push(modalResult.occupancyCode);
                }
                this.buildingService.setBuildingRequestSource(this.buildingDto);
            }
            this.windowManager.close();
        });
    }
    addOccupancyCode() {
        this.upsert();
    }
    updateGrid(sortDescriptor) {
        const sortField = sortDescriptor && sortDescriptor[0] ? sortDescriptor[0].field : 'description';
        const sortDir = sortDescriptor && sortDescriptor[0] ? sortDescriptor[0].dir : 'asc';
        this.famisGridService.setCacheRecords(this.helperService.sortCollection(this.mapvalues(this.buildingDto.occupancyCodes), sortField, sortDir), this.additionalEquipmentGrid.gridId, this.famisGridService.defaultSkip, this.buildingDto.occupancyCodes.length, this.additionalEquipmentGrid.windowSize);
    }
    mapvalues(occupancyCodes) {
        const gridItems = new Array();
        occupancyCodes.forEach(occupancyCode => {
            const option = this.occupancyCodeOptions.find(c => c.buildingAttributeCodeId === occupancyCode.buildingAttributeCodeId);
            if (option) {
                gridItems.push({
                    id: occupancyCode.id,
                    description: option.description,
                    percent: occupancyCode.percent,
                    storyHeight: occupancyCode.storyHeight,
                    buildingAttributeCodeId: occupancyCode.buildingAttributeCodeId
                });
            }
        });
        return gridItems;
    }
};
OccupancyCodesGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"] },
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__["BuildingsService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], OccupancyCodesGridComponent.prototype, "occupancyCodeOptions", void 0);
OccupancyCodesGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'occupancy-codes-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./occupancy-codes-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"],
        _services_buildings_service__WEBPACK_IMPORTED_MODULE_3__["BuildingsService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"]])
], OccupancyCodesGridComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.ts":
/*!***************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.ts ***!
  \***************************************************************************************************************************************/
/*! exports provided: UpsertOccupancyCodesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertOccupancyCodesComponent", function() { return UpsertOccupancyCodesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _form_models_building_attributes_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../form-models/building-attributes-model */ "./client-src/app/quality-control/components/building/form/form-models/building-attributes-model.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");






let UpsertOccupancyCodesComponent = class UpsertOccupancyCodesComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.modalTitle = null;
        this.options = new Array();
        this.showValidationError = false;
        this.result = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    ngOnInit() {
        if (!this.occupancyCode) {
            this.occupancyCode = {
                id: this.helperService.generateGuid(),
                buildingAttributeCodeId: '',
                storyHeight: null,
                percent: null
            };
        }
        else {
            this.occupancyCode = Object.assign({}, this.occupancyCode);
        }
        this.occupancyCode.attributeType = _form_models_building_attributes_model__WEBPACK_IMPORTED_MODULE_3__["OccupancyCodeBuildingAttributeTypeId"];
    }
    save(form) {
        if (form.valid) {
            this.result.emit({ action: _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_5__["ModalFormEvent"].Save, occupancyCode: this.occupancyCode });
        }
        else {
            this.showValidationError = true;
        }
    }
    dismiss() {
        this.result.emit({});
    }
};
UpsertOccupancyCodesComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], UpsertOccupancyCodesComponent.prototype, "modalTitle", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertOccupancyCodesComponent.prototype, "buildingDto", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertOccupancyCodesComponent.prototype, "occupancyCode", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertOccupancyCodesComponent.prototype, "options", void 0);
UpsertOccupancyCodesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'upsert-occupancy-code',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-occupancy-code.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"]])
], UpsertOccupancyCodesComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component.ts":
/*!********************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component.ts ***!
  \********************************************************************************************************************************************/
/*! exports provided: RemoveUserFactorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveUserFactorComponent", function() { return RemoveUserFactorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");





let RemoveUserFactorComponent = class RemoveUserFactorComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.userFactorDto = {};
        this.fieldMetaData = new Array();
        this.submitResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.fields = new Array();
    }
    ngOnInit() {
        this.fieldMetaData.forEach((field, index) => {
            this.defaultFormFields.push(this.mapMetaDataToField(field, index + 1));
        });
        this.form = this.helperService.toFormGroup(this.defaultFormFields);
    }
    remove() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Remove, formGroup: this.form, dto: '' });
    }
    cancel() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Cancel });
    }
    mapMetaDataToField(field, defaultOrder) {
        return {
            id: field.name,
            type: field.fieldType,
            value: this.userFactorDto ? this.userFactorDto[field.name] : '',
            displayName: field.displayName,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder
        };
    }
};
RemoveUserFactorComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] }
];
RemoveUserFactorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'remove-userfactor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./remove-userfactor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"]])
], RemoveUserFactorComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.ts":
/*!********************************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.ts ***!
  \********************************************************************************************************************************************/
/*! exports provided: UpsertUserFactorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertUserFactorComponent", function() { return UpsertUserFactorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");





let UpsertUserFactorComponent = class UpsertUserFactorComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.fieldMetaData = new Array();
        this.submitResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.fields = new Array();
    }
    ngOnInit() {
        this.fieldMetaData.forEach((field, index) => {
            this.defaultFormFields.push(this.mapMetaDataToField(field, index + 1));
        });
        this.action = this.formAction === 0 ? 'Add' : 'Edit';
        this.form = this.helperService.toFormGroup(this.defaultFormFields);
    }
    save() {
        if (!this.userFactorDto) {
            this.userFactorDto = {};
        }
        this.userFactorDto.factor = this.form.value.factor;
        this.userFactorDto.description = this.form.value.description;
        this.submitResponse.emit({ action: this.formAction, formGroup: this.form, dto: this.userFactorDto });
    }
    cancel() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Cancel });
    }
    mapMetaDataToField(field, defaultOrder) {
        return {
            id: field.name,
            type: field.fieldType,
            value: this.userFactorDto ? this.mapFieldToValue(field) : '',
            displayName: field.displayName,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder,
            required: true
        };
    }
    mapFieldToValue(field) {
        let factor;
        if (field.name === 'factor') {
            factor = parseFloat(this.userFactorDto[field.name]);
        }
        return factor !== undefined ? factor : this.userFactorDto[field.name];
    }
};
UpsertUserFactorComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"] }
];
UpsertUserFactorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'upsert-userfactor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-userfactor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"]])
], UpsertUserFactorComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component.ts":
/*!***********************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component.ts ***!
  \***********************************************************************************************************************************/
/*! exports provided: UserFactorGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFactorGridComponent", function() { return UserFactorGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _processing_default_values_user_factor_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../processing/default-values/user-factor-headers */ "./client-src/app/processing/default-values/user-factor-headers.ts");
/* harmony import */ var _actions_upsert_userfactor_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/upsert-userfactor.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _form_models_user_factor_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../form-models/user-factor-model */ "./client-src/app/quality-control/components/building/form/form-models/user-factor-model.ts");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");















let UserFactorGridComponent = class UserFactorGridComponent {
    constructor(famisGridService, windowManager, buildingService, route) {
        this.famisGridService = famisGridService;
        this.windowManager = windowManager;
        this.buildingService = buildingService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.windowSize = 300;
        this.destoryed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
    }
    ngOnInit() {
        this.buildingId = this.route.snapshot.paramMap.get('buildingId');
        this.userFactorsGrid = {
            height: 150,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'userFactor',
            hideTitle: true,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__["FamisGridFeature"].HideTableCounts],
            actions: ['Edit', 'Remove'],
            translationBaseKey: this.i18n.userFactors,
        };
        this.userFactorsGrid.columnHeaders = _processing_default_values_user_factor_headers__WEBPACK_IMPORTED_MODULE_3__["userFactorHeaders"];
        this.userFactorsGrid.selectedHeaders = ['description', 'factor'];
        this.processCacheUpdate();
    }
    ngOnDestroy() {
        this.destoryed$.next();
    }
    onFormActionEvent(response, modal, itemIndex) {
        switch (response.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_14__["FormAction"].Save:
                this.buildingDto.userFactors.push(response.dto);
                this.updateBuilding();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_14__["FormAction"].Edit:
                const index = this.buildingDto.userFactors.findIndex(a => a.id === response.dto.id);
                this.buildingDto.userFactors[index] = response.dto;
                this.updateBuilding();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_14__["FormAction"].Cancel:
                modal.close();
                break;
            default:
                throw new Error(`Action ${response.action} not implemented.`);
        }
        modal.close();
    }
    updateBuilding() {
        if (this.buildingId) {
            this.userFactorsGrid.loading = this.buildingService
                .updateBuilding(this.buildingId, this.buildingDto)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["takeUntil"])(this.destoryed$))
                .subscribe(result => {
                this.buildingService.setBuildingRequestSource(result);
                this.buildingDto = result;
                this.updateCache();
            });
        }
        else {
            this.buildingService.setBuildingRequestSource(this.buildingDto);
            this.updateCache();
        }
    }
    handleActionEvent(event) {
        const s = this;
        switch (event.action) {
            case 'Edit':
                const upsertUserFactorModal = this.windowManager.open(_actions_upsert_userfactor_component__WEBPACK_IMPORTED_MODULE_4__["UpsertUserFactorComponent"], 'Edit User Factor', {
                    isModal: true
                });
                upsertUserFactorModal.content.instance.fieldMetaData = _form_models_user_factor_model__WEBPACK_IMPORTED_MODULE_6__["userFactorFormModel"];
                upsertUserFactorModal.content.instance.userFactorDto = event.item;
                upsertUserFactorModal.content.instance.formAction = _enums_form_action__WEBPACK_IMPORTED_MODULE_14__["FormAction"].Edit;
                upsertUserFactorModal.content.instance.submitResponse.subscribe(response => {
                    s.onFormActionEvent(response, upsertUserFactorModal, event.rowIndex);
                });
                break;
            case 'Remove':
                this.buildingDto.userFactors.splice(event.rowIndex, 1);
                this.updateBuilding();
                break;
            default:
                break;
        }
    }
    addUserFactor() {
        const s = this;
        const addUserFactorModal = this.windowManager.open(_actions_upsert_userfactor_component__WEBPACK_IMPORTED_MODULE_4__["UpsertUserFactorComponent"], 'Add User Factor', {
            isModal: true
        });
        addUserFactorModal.content.instance.fieldMetaData = _form_models_user_factor_model__WEBPACK_IMPORTED_MODULE_6__["userFactorFormModel"];
        addUserFactorModal.content.instance.formAction = _enums_form_action__WEBPACK_IMPORTED_MODULE_14__["FormAction"].Save;
        addUserFactorModal.content.instance.submitResponse.subscribe(response => {
            s.onFormActionEvent(response, addUserFactorModal, 0);
        });
    }
    updateCache(request) {
        this.processCacheUpdate(request);
    }
    processCacheUpdate(cacheUpdateRequest) {
        if (this.buildingDto) {
            this.userFactorsGrid.totalRecordCount = this.buildingDto.userFactors.length;
            this.famisGridService.setCacheRecords(this.buildingDto.userFactors, this.userFactorsGrid.gridId, 0, this.buildingDto.userFactors.length, this.userFactorsGrid.windowSize);
        }
    }
};
UserFactorGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_8__["WindowManager"] },
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_5__["BuildingsService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["ActivatedRoute"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UserFactorGridComponent.prototype, "buildingDto", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_7__["FamisGridComponent"], { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_7__["FamisGridComponent"])
], UserFactorGridComponent.prototype, "famisGrid", void 0);
UserFactorGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["Component"])({
        selector: 'user-factor-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./user-factor-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_8__["WindowManager"],
        _services_buildings_service__WEBPACK_IMPORTED_MODULE_5__["BuildingsService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["ActivatedRoute"]])
], UserFactorGridComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/building-attributes-model.ts":
/*!**********************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/building-attributes-model.ts ***!
  \**********************************************************************************************************/
/*! exports provided: OccupancyCodeBuildingAttributeTypeId, BuildingAttributes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OccupancyCodeBuildingAttributeTypeId", function() { return OccupancyCodeBuildingAttributeTypeId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingAttributes", function() { return BuildingAttributes; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const OccupancyCodeBuildingAttributeTypeId = 101;
const BuildingAttributes = [
    {
        attributeType: 103,
        attributeTypeName: 'ISO Codes',
        valueName: 'ISO Code',
        order: 1
    },
    {
        attributeType: 16,
        attributeTypeName: 'Exterior Wall Finishes',
        valueName: 'Exterior Wall Finish',
        order: 2
    },
    {
        attributeType: 21,
        attributeTypeName: 'Roof Materials',
        valueName: 'Roof Material',
        order: 3
    },
    {
        attributeType: 22,
        attributeTypeName: 'Roof Pitches',
        valueName: 'Roof Pitch',
        order: 4
    },
    {
        attributeType: 18,
        attributeTypeName: 'Heating Systems',
        valueName: 'Heating System',
        order: 5
    },
    {
        attributeType: 14,
        attributeTypeName: 'Cooling Systems',
        valueName: 'Cooling System',
        order: 6
    },
    {
        attributeType: 15,
        attributeTypeName: 'Electrical Qualities',
        valueName: 'Electrical Quality',
        order: 7
    },
    {
        attributeType: 20,
        attributeTypeName: 'Partition Wall Structures',
        valueName: 'Partition Wall Structure',
        order: 8
    },
    {
        attributeType: 19,
        attributeTypeName: 'Partition Wall Finishes',
        valueName: 'Partition Wall Finish',
        order: 9
    },
    {
        attributeType: 17,
        attributeTypeName: 'Floor Finishes',
        valueName: 'Floor Finish',
        order: 10
    },
    {
        attributeType: 13,
        attributeTypeName: 'Ceiling Finishes',
        valueName: 'Ceiling Finish',
        order: 11
    }
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/building-flood-plain-model.ts":
/*!***********************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/building-flood-plain-model.ts ***!
  \***********************************************************************************************************/
/*! exports provided: InitialFloodPlainFieldLayout, InitialFloodPlainFields, BuildingFloodPlainFieldLayout, BuildingFloodPlainModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitialFloodPlainFieldLayout", function() { return InitialFloodPlainFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitialFloodPlainFields", function() { return InitialFloodPlainFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingFloodPlainFieldLayout", function() { return BuildingFloodPlainFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingFloodPlainModel", function() { return BuildingFloodPlainModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const InitialFloodPlainFieldLayout = {
    left: ['floodPlainFloodZoneIdentifier',
        'baseFloodElevation'],
    right: ['floodZoneCertificateNo',
        'floodZoneLoadDate']
};
const InitialFloodPlainFields = [
    {
        id: 'floodPlainFloodZoneIdentifier',
        required: false,
        displayName: 'Flood Zone Identifier',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
    },
    {
        id: 'baseFloodElevation',
        required: false,
        displayName: 'Base Flood Elevation',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodZoneCertificateNo',
        required: false,
        displayName: 'Flood Zone Certificate No',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodZoneLoadDate',
        required: false,
        displayName: 'Flood Zone Load Date',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    }
];
const BuildingFloodPlainFieldLayout = {
    left: ['floodPlainStatusCode',
        'floodPlainDescription',
        'floodPlainNFIPCommunityFirmDate',
        'floodPlainNFIPCommunityName',
        'floodPlainNFIPCommunityParticipationStartDate',
        'floodPlainNFIPCounty',
        'floodPlainNFIPState',
        'floodPlainFloodDepth',
        'floodPlainFloodZoneboundary1Identifier',
        'floodPlainFloodZoneboundary1Distance',
        'floodPlainFloodZoneboundary2Identifier'],
    right: ['floodPlainFloodZoneboundary2Distance',
        'floodZone',
        'floodPlainMapIdentifier',
        'floodPlainMapIndicator',
        'floodPlainMapPanelDate',
        'floodPlainMapPanelIdentifier',
        'floodPlainMapPanelSuffixIdentifier',
        'floodPlainSpecialFloodHazardAreaDistanceFeetCount',
        'floodPlainPartialIndicator',
        'floodPlainSpecialFloodHazardAreaIndicator']
};
const BuildingFloodPlainModel = [
    {
        id: 'floodPlainStatusCode',
        required: false,
        displayName: 'Flood Plain Status Code',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainDescription',
        required: false,
        displayName: 'Flood Plain Description',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainNFIPCommunityFirmDate',
        required: false,
        displayName: 'Flood Plain NFIP Community Identifier',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        name: ''
    },
    {
        id: 'floodPlainNFIPCommunityName',
        required: false,
        displayName: 'Flood Plain NFIP Community Name',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainNFIPCommunityParticipationStartDate',
        required: false,
        displayName: 'Flood Plain NFIP Community Participation Start Date',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        name: ''
    },
    {
        id: 'floodPlainNFIPCounty',
        required: false,
        displayName: 'Flood Plain NFIP County',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainNFIPState',
        required: false,
        displayName: 'Flood Plain NFIP State',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainFloodDepth',
        required: false,
        displayName: 'Flood Plain Flood Depth',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        name: ''
    },
    {
        id: 'floodPlainFloodZoneboundary1Identifier',
        required: false,
        displayName: 'Flood Plain Flood Zone Boundary 1 Identifier',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainFloodZoneboundary1Distance',
        required: false,
        displayName: 'Flood Plain Flood Zone Boundary 1 Distance',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        name: ''
    },
    {
        id: 'floodPlainFloodZoneboundary2Identifier',
        required: false,
        displayName: 'Flood Plain Flood Zone Boundary 2 Identifier',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainFloodZoneboundary2Distance',
        required: false,
        displayName: 'Flood Plain Flood Zone Boundary 2 Distance',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        name: ''
    },
    {
        id: 'floodZone',
        required: false,
        displayName: 'Flood Zone',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true,
        name: ''
    },
    {
        id: 'floodPlainMapIdentifier',
        required: false,
        displayName: 'Flood Plain Map Identifier',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainMapIndicator',
        required: false,
        displayName: 'Flood Plain Map Indicator',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainMapPanelDate',
        required: false,
        displayName: 'Flood Plain Map Panel Date',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        name: ''
    },
    {
        id: 'floodPlainMapPanelIdentifier',
        required: false,
        displayName: 'Flood Plain Map Panel Identifier',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainMapPanelSuffixIdentifier',
        required: false,
        displayName: 'Flood Plain Map Panel Suffix Identifier',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainSpecialFloodHazardAreaDistanceFeetCount',
        required: false,
        displayName: 'Flood Plain Special Flood Hazard Area Distance Feet Count',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        name: ''
    },
    {
        id: 'floodPlainPartialIndicator',
        required: false,
        displayName: 'Flood Plain Partial Indicator',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    },
    {
        id: 'floodPlainSpecialFloodHazardAreaIndicator',
        required: false,
        displayName: 'Flood Plain Special Flood Hazard Area Indicator',
        value: '',
        isReadOnly: true,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        name: ''
    }
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/copedata-model.ts":
/*!***********************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/copedata-model.ts ***!
  \***********************************************************************************************/
/*! exports provided: CopedataWindFieldLayout, CopedataWindFields, CopeDataEarthquakeFieldLayout, CopeDataEarthquakeFields */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopedataWindFieldLayout", function() { return CopedataWindFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopedataWindFields", function() { return CopedataWindFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopeDataEarthquakeFieldLayout", function() { return CopeDataEarthquakeFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopeDataEarthquakeFields", function() { return CopeDataEarthquakeFields; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const CopedataWindFieldLayout = {
    left: [
        'secondaryATCOccupancyCode',
        'secondaryRMSConstructionCode',
        'secondaryConstructionQuality',
        'secondaryRoofCovering',
        'secondaryRoofAgeCondition',
        'secondaryRoofGeometry',
        'secondaryRoofAnchor',
        'secondaryRoofSheathingAttachment',
        'secondaryRoofEquipmentBracing',
        'secondaryRoofMaintenance',
        'secondaryRoofFramingType',
        'secondaryBasement',
        'secondaryCommercialAppurtenantStructures',
        'secondaryResidentialAppurtenantStructures',
        'secondaryCladdingType',
        'secondaryFrameFoundationConnection'
    ],
    right: [
        'secondaryGroundLevelEquipment',
        'secondaryOpeningProtection',
        'secondaryFlashingAndCopingQuality',
        'secondaryContentGrade',
        'secondaryAtticInsulation',
        'secondaryFireAlarm',
        'secondaryFloodProtection',
        'secondaryMechanicalElectricalEquipment',
        'secondaryPlumbingInsulation',
        'secondaryResistanceDoors',
        'secondaryIceDamProtection',
        'secondaryTreeDensity',
        'secondaryWindMissiles',
        'secondaryRoofVentilation',
        'secondaryRoofParapetsChimneys',
        'secondarySprinklerType',
        'secondarySnowGuards'
    ]
};
const CopedataWindFields = [
    {
        id: 'secondaryATCOccupancyCode',
        required: false,
        displayName: 'ATC Occupancy Code',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRMSConstructionCode',
        required: false,
        displayName: 'RMS Construction Code',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryConstructionQuality',
        required: false,
        displayName: 'Construction Quality',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofCovering',
        required: false,
        displayName: 'Roof Covering',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofAgeCondition',
        required: false,
        displayName: 'Roof Age/Condition',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofGeometry',
        required: false,
        displayName: 'Roof Geometry',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofAnchor',
        required: false,
        displayName: 'Roof Anchor',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofSheathingAttachment',
        required: false,
        displayName: 'Roof Sheathing Attachment',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofEquipmentBracing',
        required: false,
        displayName: 'Roof Equipment Bracing',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofMaintenance',
        required: false,
        displayName: 'Roof Maintenance',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofFramingType',
        required: false,
        displayName: 'Roof Framing Type',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryBasement',
        required: false,
        displayName: 'Basement',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryCommercialAppurtenantStructures',
        required: false,
        displayName: 'Commercial Appurtenant Structures',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryResidentialAppurtenantStructures',
        required: false,
        displayName: 'Residential Appurtenant Structures',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryCladdingType',
        required: false,
        displayName: 'Cladding Type',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryFrameFoundationConnection',
        required: false,
        displayName: 'Frame-Foundation Connection',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryGroundLevelEquipment',
        required: false,
        displayName: 'Ground Level Equipment',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryOpeningProtection',
        required: false,
        displayName: 'Opening Protection',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryFlashingAndCopingQuality',
        required: false,
        displayName: 'Flashing and Coping Quality',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryContentGrade',
        required: false,
        displayName: 'Content Grade',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryAtticInsulation',
        required: false,
        displayName: 'Attic Insulation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryFireAlarm',
        required: false,
        displayName: 'Fire Alarm',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryFloodProtection',
        required: false,
        displayName: 'Flood Protection',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryMechanicalElectricalEquipment',
        required: false,
        displayName: 'Mechanical/Electrical Equipment',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryPlumbingInsulation',
        required: false,
        displayName: 'Plumbing Insulation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryResistanceDoors',
        required: false,
        displayName: 'Resistance Doors',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryIceDamProtection',
        required: false,
        displayName: 'Ice Dam Protection',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryTreeDensity',
        required: false,
        displayName: 'Tree Density',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryWindMissiles',
        required: false,
        displayName: 'Wind Missles',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofVentilation',
        required: false,
        displayName: 'Roof Ventilation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryRoofParapetsChimneys',
        required: false,
        displayName: 'Roof Parapets/Chimneys',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondarySprinklerType',
        required: false,
        displayName: 'Sprinkler Type',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondarySnowGuards',
        required: false,
        displayName: 'Snow Guards',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    }
];
const CopeDataEarthquakeFieldLayout = {
    left: [
        'secondaryEQAsymmetryandTorsion',
        'secondaryEQBuildingExterior50PercentRule',
        'secondaryEQEngineeredFoundations',
        'secondaryEQEquipmentSupportMaintenance',
        'secondaryEQFrameBoltedToFoundation',
        'secondaryEQInteriorWallsOrPartitions',
        'secondaryEQPoundingandImpact',
        'secondaryEQRedundancy',
        'secondaryEQSoftStory',
        'secondaryEQTank',
        'secondaryEQURMRetrofit'
    ],
    right: [
        'secondaryEQAppendagesandOrnamentation',
        'secondaryEQVerticalIrregularity',
        'secondaryEQTiltUpRetrofitAnchoring',
        'secondaryEQStructuralUpgradeNonURM',
        'secondaryEQShortColumnCondition',
        'secondaryEQQualityofConstruction',
        'secondaryEQPlanIrregularity',
        'secondaryEQGaraging',
        'secondaryEQExteriorWallsOrCladding',
        'secondaryEQEquipmentEQBracing',
        'secondaryEQCrippleWalls',
        'secondaryEQBaseIsolation'
    ]
};
const CopeDataEarthquakeFields = [
    {
        id: 'id',
        required: false,
        displayName: '',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Hidden
    },
    {
        id: 'secondaryEQAsymmetryandTorsion',
        required: false,
        displayName: 'EQ Asymmetry and Torsion',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQBuildingExterior50PercentRule',
        required: false,
        displayName: 'EQ Building Exterior - 50% Rule',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQEngineeredFoundations',
        required: false,
        displayName: 'EQ Engineered Foundations',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQEquipmentSupportMaintenance',
        required: false,
        displayName: 'EQ Equipment Support Maintenance',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQFrameBoltedToFoundation',
        required: false,
        displayName: 'EQ Frame Bolted to Foundation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQInteriorWallsOrPartitions',
        required: false,
        displayName: 'EQ Interior Walls/Partitions',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQPoundingandImpact',
        required: false,
        displayName: 'EQ Pounding and Impact',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQRedundancy',
        required: false,
        displayName: 'EQ Redundancy',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQSoftStory',
        required: false,
        displayName: 'EQ Soft Story',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQTank',
        required: false,
        displayName: 'EQ Tank',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQURMRetrofit',
        required: false,
        displayName: 'EQ URM Retrofit',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQAppendagesandOrnamentation',
        required: false,
        displayName: 'EQ Appendages and Ornamentation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQVerticalIrregularity',
        required: false,
        displayName: 'EQ Vertical Irregularity',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQTiltUpRetrofitAnchoring',
        required: false,
        displayName: 'EQ Tilt-up Retrofit (Anchoring)',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQStructuralUpgradeNonURM',
        required: false,
        displayName: 'EQ Structural Upgrade (non-URM)',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQShortColumnCondition',
        required: false,
        displayName: 'EQ Short Column Condition',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQQualityofConstruction',
        required: false,
        displayName: 'EQ Quality of Construction',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQPlanIrregularity',
        required: false,
        displayName: 'EQ Plan Irregularity',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQGaraging',
        required: false,
        displayName: 'EQ Garaging',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQExteriorWallsOrCladding',
        required: false,
        displayName: 'EQ Exterior Walls/Cladding',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQEquipmentEQBracing',
        required: false,
        displayName: 'EQ Equipment EQ Bracing',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQCrippleWalls',
        required: false,
        displayName: 'EQ Cripple Walls',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'secondaryEQBaseIsolation',
        required: false,
        displayName: 'EQ Base Isolation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    }
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/custom-addition-model.ts":
/*!******************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/custom-addition-model.ts ***!
  \******************************************************************************************************/
/*! exports provided: customAdditionFormModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customAdditionFormModel", function() { return customAdditionFormModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const customAdditionFormModel = [
    {
        name: 'description',
        displayName: 'Description',
        fieldType: 0,
        required: true,
    },
    {
        name: 'cost',
        displayName: 'Cost',
        fieldType: 1,
        required: true,
    },
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/primary-info/building-attributes-model.ts":
/*!***********************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/primary-info/building-attributes-model.ts ***!
  \***********************************************************************************************************************/
/*! exports provided: OccupancyCodeBuildingAttributeTypeId, BuildingAttributeFields */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OccupancyCodeBuildingAttributeTypeId", function() { return OccupancyCodeBuildingAttributeTypeId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingAttributeFields", function() { return BuildingAttributeFields; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const OccupancyCodeBuildingAttributeTypeId = 101;
const BuildingAttributeFields = [
    {
        attributeType: 16,
        attributeTypeName: 'Exterior Wall Finishes',
        valueName: 'Exterior Wall Finish',
        order: 1
    },
    {
        attributeType: 21,
        attributeTypeName: 'Roof Materials',
        valueName: 'Roof Material',
        order: 2
    },
    {
        attributeType: 22,
        attributeTypeName: 'Roof Pitches',
        valueName: 'Roof Pitch',
        order: 3
    },
    {
        attributeType: 18,
        attributeTypeName: 'Heating Systems',
        valueName: 'Heating System',
        order: 4
    },
    {
        attributeType: 14,
        attributeTypeName: 'Cooling Systems',
        valueName: 'Cooling System',
        order: 5
    },
    {
        attributeType: 15,
        attributeTypeName: 'Electrical Qualities',
        valueName: 'Electrical Quality',
        order: 6
    },
    {
        attributeType: 103,
        attributeTypeName: 'ISO Codes',
        valueName: 'ISO Code',
        order: 7
    },
    {
        attributeType: 20,
        attributeTypeName: 'Partition Wall Structures',
        valueName: 'Partition Wall Structure',
        order: 8
    },
    {
        attributeType: 19,
        attributeTypeName: 'Partition Wall Finishes',
        valueName: 'Partition Wall Finish',
        order: 9
    },
    {
        attributeType: 17,
        attributeTypeName: 'Floor Finishes',
        valueName: 'Floor Finish',
        order: 10
    },
    {
        attributeType: 13,
        attributeTypeName: 'Ceiling Finishes',
        valueName: 'Ceiling Finish',
        order: 11
    }
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-dropdown-model.ts":
/*!************************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-dropdown-model.ts ***!
  \************************************************************************************************************************/
/*! exports provided: PrimaryInfoDropDownModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrimaryInfoDropDownModel", function() { return PrimaryInfoDropDownModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const PrimaryInfoDropDownModel = [
    {
        id: '109',
        order: 5,
        displayName: 'Unit of Measure',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'unitOfMeasure'
    },
    {
        id: '110',
        order: 24,
        displayName: 'Basement Construction Class',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'basementConstructionClass'
    },
    {
        id: '111',
        order: 25,
        displayName: 'Basement Occupancy Code',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'basementOccupancyCode'
    },
    {
        id: '108',
        order: 45,
        displayName: 'Entry Alarm',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'entryAlarm'
    },
    {
        id: '112',
        order: 58,
        displayName: 'Degree Slope',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'degreeSlope'
    },
    {
        id: '113',
        order: 59,
        displayName: 'Site Position',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'sitePosition'
    },
    {
        id: '115',
        order: 60,
        displayName: 'Soil Condition',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'soilCondition'
    },
    {
        id: '114',
        order: 61,
        displayName: 'Site Accessibility',
        value: null,
        required: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: 'siteAccessibility'
    }
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-model.ts":
/*!***************************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/primary-info/primaryinfo-model.ts ***!
  \***************************************************************************************************************/
/*! exports provided: FormModelEnum, PrimaryInfoFieldLayout, PrimaryInfoFields, BuildingLocationFieldLayout, BuildingLocationFields, BuildingValuationFieldLayout, BuildingValuationFields, BuildingSuperstructureFieldLayout, BuildingSuperstructureFields, BuildingSubStructureFieldLayout, BuildingSubStructureFields, AdditionalDataFieldLayout, AdditionalDataFields, BuildingSiteAttributeFieldLayout, BuildingSiteAttributeFields, CoreLogicFieldLayout, CoreLogicFields, BuildingSystemFieldLayout, BuildingSystemFields, buildingImages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormModelEnum", function() { return FormModelEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrimaryInfoFieldLayout", function() { return PrimaryInfoFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrimaryInfoFields", function() { return PrimaryInfoFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingLocationFieldLayout", function() { return BuildingLocationFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingLocationFields", function() { return BuildingLocationFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingValuationFieldLayout", function() { return BuildingValuationFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingValuationFields", function() { return BuildingValuationFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSuperstructureFieldLayout", function() { return BuildingSuperstructureFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSuperstructureFields", function() { return BuildingSuperstructureFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSubStructureFieldLayout", function() { return BuildingSubStructureFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSubStructureFields", function() { return BuildingSubStructureFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalDataFieldLayout", function() { return AdditionalDataFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalDataFields", function() { return AdditionalDataFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSiteAttributeFieldLayout", function() { return BuildingSiteAttributeFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSiteAttributeFields", function() { return BuildingSiteAttributeFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreLogicFieldLayout", function() { return CoreLogicFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreLogicFields", function() { return CoreLogicFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSystemFieldLayout", function() { return BuildingSystemFieldLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingSystemFields", function() { return BuildingSystemFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildingImages", function() { return buildingImages; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


var FormModelEnum;
(function (FormModelEnum) {
    FormModelEnum[FormModelEnum["PrimaryInfoFields"] = 0] = "PrimaryInfoFields";
    FormModelEnum[FormModelEnum["BuildingFloodPlainModelFields"] = 1] = "BuildingFloodPlainModelFields";
    FormModelEnum[FormModelEnum["CopeDataModelFields"] = 2] = "CopeDataModelFields";
    FormModelEnum[FormModelEnum["BuildingLocationFields"] = 3] = "BuildingLocationFields";
    FormModelEnum[FormModelEnum["BuildingValuationFields"] = 4] = "BuildingValuationFields";
    FormModelEnum[FormModelEnum["BuildingSuperstructureFields"] = 5] = "BuildingSuperstructureFields";
    FormModelEnum[FormModelEnum["BuildingSubstructureFields"] = 6] = "BuildingSubstructureFields";
    FormModelEnum[FormModelEnum["BuildingOccupancyFields"] = 7] = "BuildingOccupancyFields";
    FormModelEnum[FormModelEnum["BuildingConstructionFields"] = 8] = "BuildingConstructionFields";
    FormModelEnum[FormModelEnum["BuildingSystemsFields"] = 9] = "BuildingSystemsFields";
    FormModelEnum[FormModelEnum["BuildingSiteAttributeFields"] = 10] = "BuildingSiteAttributeFields";
    FormModelEnum[FormModelEnum["AdditionalDataFields"] = 11] = "AdditionalDataFields";
    FormModelEnum[FormModelEnum["CoreLogicFields"] = 12] = "CoreLogicFields";
    FormModelEnum[FormModelEnum["BuildingAttributeFields"] = 13] = "BuildingAttributeFields";
    FormModelEnum[FormModelEnum["BuildingImages"] = 14] = "BuildingImages";
    FormModelEnum[FormModelEnum["CopedataWindFields"] = 15] = "CopedataWindFields";
    FormModelEnum[FormModelEnum["CopeDataEarthquakeFields"] = 16] = "CopeDataEarthquakeFields";
    FormModelEnum[FormModelEnum["InitialFloodPlainFields"] = 17] = "InitialFloodPlainFields";
})(FormModelEnum || (FormModelEnum = {}));
const PrimaryInfoFieldLayout = {
    left: ['siteId', 'buildingNumber', 'buildingName', 'clientUniqueIdentifier', 'buildingImages'],
    right: ['type', 'inspectionDate', 'scopeOfService', 'unitOfMeasure', 'activityCode']
};
const PrimaryInfoFields = [
    {
        id: 'siteId',
        required: false,
        displayName: 'Member Name',
        value: '',
        cascadedValues: [
            { name: 'memberId', displayName: 'Member Name' },
            { name: 'siteId', displayName: 'Site Name' }
        ],
        cascadedValueOptions: new Array(),
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].CascadingComboBox
    },
    {
        id: 'buildingNumber',
        required: true,
        displayName: 'Building Number',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'buildingName',
        required: true,
        displayName: 'Building Name',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'clientUniqueIdentifier',
        required: false,
        displayName: 'Client Unique ID',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'type',
        required: false,
        displayName: 'Building Type',
        value: '',
        options: [
            { key: '0', displayName: 'Building' },
            { key: '1', displayName: 'Minor Building' },
            { key: '2', displayName: 'Land Improvement' }
        ],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: ''
    },
    {
        id: 'inspectionDate',
        required: true,
        displayName: 'Date Of Inspection',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime
    },
    {
        id: 'scopeOfService',
        required: false,
        displayName: 'Scope of Service',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'unitOfMeasure',
        required: false,
        displayName: 'Unit of Measure',
        value: '',
        options: [{ key: '1', displayName: 'Meters' }, { key: '2', displayName: 'Feet' }],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 109
    },
    {
        id: 'activityCode',
        required: false,
        displayName: 'Activity Code',
        value: '',
        options: [
            { key: '0', displayName: 'New' },
            { key: '1', displayName: 'Active' },
            { key: '2', displayName: 'Deactivated' },
            { key: '3', displayName: 'Retired' }
        ],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: ''
    },
    {
        id: 'buildingImages',
        required: false,
        displayName: 'Building Images',
        value: '',
        validation: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Image
    }
];
const BuildingLocationFieldLayout = {
    left: ['addressLine1', 'addressLine2', 'latitude', 'longitude'],
    right: ['city', 'state', 'zipCode', 'country']
};
const BuildingLocationFields = [
    {
        id: 'addressLine1',
        required: false,
        displayName: 'Address Line 1',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'addressLine2',
        required: false,
        displayName: 'Address Line 2',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'city',
        required: false,
        displayName: 'City',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'state',
        required: false,
        displayName: 'State',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'zipCode',
        required: false,
        displayName: 'Zip Code',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'country',
        required: false,
        displayName: 'Country',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'latitude',
        required: false,
        displayName: 'Latitude',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        decimalLength: 15,
        format: 'n15'
    },
    {
        id: 'longitude',
        required: false,
        displayName: 'Longitude',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        decimalLength: 15,
        format: 'n15'
    },
    {
        required: false,
        displayName: '',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].EmptySpace
    }
];
const BuildingValuationFieldLayout = {
    left: ['costReproductionNew',
        'buildingOverride',
        'valuationCreatedDate',
        'costReplacementNew',
        'costReproductionNewLessDepreciation',
        'previousDPBuildingCostReplacementNew',
        'previousDPContentCostReproductionNew',
        'previousDPSF'
    ],
    right: ['contentCostReproductionNew',
        'contentOverride',
        'contentCode',
        'contentQuality',
        'depreciationPercent',
        'clientBuildingCRN',
        'clientContentCRN',
        'clientSF']
};
const BuildingValuationFields = [
    {
        id: 'costReproductionNew',
        required: false,
        displayName: 'Cost Reproduction New',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'depreciationPercent',
        required: false,
        displayName: 'Depreciation Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Percent
    },
    {
        id: 'buildingOverride',
        required: false,
        displayName: 'Building Override',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'valuationCreatedDate',
        required: false,
        displayName: 'Valuation Created Date',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isReadOnly: true,
        format: 'MM/dd/yyyy HH:mm'
    },
    {
        id: 'costReplacementNew',
        required: false,
        displayName: 'Cost of Replacement New',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'costReproductionNewLessDepreciation',
        required: false,
        displayName: 'Cost of Reproduction New Less Depreciation',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'previousDPBuildingCostReplacementNew',
        required: false,
        displayName: 'Previous DP Building CRN',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'previousDPContentCostReproductionNew',
        required: false,
        displayName: 'Previous DP Content CRN',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'previousDPSF',
        required: false,
        displayName: 'Previous DP SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'contentCostReproductionNew',
        required: false,
        displayName: 'Content Cost Reproduction New',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'contentOverride',
        required: false,
        displayName: 'Content Override',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'contentCode',
        required: false,
        displayName: 'Content Code',
        value: '',
        options: [],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        name: ''
    },
    {
        id: 'contentQuality',
        required: false,
        displayName: 'Content Quality',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'clientBuildingCRN',
        required: false,
        displayName: 'Client Building CRN',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'clientContentCRN',
        required: false,
        displayName: 'Client Content CRN',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'clientSF',
        required: false,
        displayName: 'Client SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
];
const BuildingSuperstructureFieldLayout = {
    left: ['quality',
        'floorArea',
        'buildingPerimeterAdjustmentMethod',
        'perimeter',
        'numberOfStories',
        'avgStoryHeight',
    ],
    right: ['yearBuilt',
        'architectPercent',
        'overheadPercent',
        'effectiveAge',
        'buildingCondition',
        'buildingOccupancy'
    ]
};
const BuildingSuperstructureFields = [
    {
        id: 'floorArea',
        required: false,
        displayName: 'Floor Area',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'perimeter',
        required: false,
        displayName: 'Perimeter',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'yearBuilt',
        required: false,
        displayName: 'Year Built',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'architectPercent',
        required: false,
        displayName: 'Architect Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Percent
    },
    {
        id: 'buildingCondition',
        required: false,
        displayName: 'Building Condition',
        value: '',
        options: [
            { key: 1, displayName: 'Excellent' },
            { key: 2, displayName: 'Good' },
            { key: 3, displayName: 'Average' },
            { key: 4, displayName: 'Fair' },
            { key: 5, displayName: 'Poor' },
            { key: 6, displayName: 'Dilapidated' },
            { key: 7, displayName: 'N/A' }
        ],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown
    },
    {
        id: 'quality',
        required: false,
        displayName: 'Quality',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'numberOfStories',
        required: false,
        displayName: 'Number of Stories',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer,
        min: 0
    },
    {
        id: 'avgStoryHeight',
        required: false,
        displayName: 'Average Story Height',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double
    },
    {
        id: 'overheadPercent',
        required: false,
        displayName: 'Overhead & Profile Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Percent
    },
    {
        id: 'effectiveAge',
        required: false,
        displayName: 'Effective Age',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'buildingPerimeterAdjustmentMethod',
        required: true,
        displayName: 'Perimeter Adjustment Method',
        value: '',
        options: [
            { key: 0, displayName: 'None' },
            { key: 1, displayName: 'Calculated' },
            { key: 2, displayName: 'Irregular Shape' },
            { key: 3, displayName: 'Very Irregular Shape' },
        ],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown
    },
    {
        id: 'buildingOccupancy',
        required: false,
        displayName: 'Building Occupancy Override',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
];
const BuildingSubStructureFieldLayout = {
    left: ['basementFinishedArea', 'basementUnfinishedArea', 'basementFloorArea', 'crawlspaceArea', 'removeSlabArea'],
    right: ['basementConstructionClass', 'basementOccupancyCode', 'basementDepth', 'stiltsWoodArea', 'stiltsConcreteArea']
};
const BuildingSubStructureFields = [
    {
        id: 'basementFinishedArea',
        required: false,
        displayName: 'Basement Finished SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'basementUnfinishedArea',
        required: false,
        displayName: 'Basement Unfinished SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'basementFloorArea',
        required: false,
        displayName: 'Basement Floor Area',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'crawlspaceArea',
        required: false,
        displayName: 'Crawlspace SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'removeSlabArea',
        required: false,
        displayName: 'Remove Slab SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'basementConstructionClass',
        required: false,
        displayName: 'Basement Construction Class',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 110
    },
    {
        id: 'basementOccupancyCode',
        required: false,
        displayName: 'Basement Occupancy Code',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 111
    },
    {
        id: 'basementDepth',
        required: false,
        displayName: 'Basement Depth',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'stiltsWoodArea',
        required: false,
        displayName: 'Stilts Wood SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    },
    {
        id: 'stiltsConcreteArea',
        required: false,
        displayName: 'Stilts Concrete SF',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer
    }
];
const AdditionalDataFieldLayout = {
    left: [
        'dateEntered',
        'employee',
        'fireDepartment',
        'distanceToFireHydrant',
        'distanceToFireStation',
        'distanceToCoast',
        'legacyPhotoLocation',
        'iRISRowID'
    ],
    right: [
        'exclusionsPercent',
        'leasedBuilding',
        'vacantBuilding',
        'acquiredDate',
        'historicRegisterNational',
        'historicRegisterState',
        'historicRegisterOther',
        'protectionClass',
    ]
};
const AdditionalDataFields = [
    {
        id: 'dateEntered',
        required: false,
        displayName: 'Date Entered',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime
    },
    {
        id: 'acquiredDate',
        required: false,
        displayName: 'Acquired Date',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime
    },
    {
        id: 'employee',
        required: false,
        displayName: 'Employee',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'fireDepartment',
        required: false,
        displayName: 'Fire Department',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'distanceToFireHydrant',
        required: false,
        displayName: 'Distance To Fire Hydrant',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
    },
    {
        id: 'distanceToFireStation',
        required: false,
        displayName: 'Distance To Fire Station',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
    },
    {
        id: 'distanceToCoast',
        required: false,
        displayName: 'Distance To Coast',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
    },
    {
        id: 'legacyPhotoLocation',
        required: false,
        displayName: 'Legacy Photo Location',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'iRISRowID',
        required: false,
        displayName: 'IRIS Row ID',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'leasedBuilding',
        required: false,
        displayName: 'Leased Building',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Boolean
    },
    {
        id: 'vacantBuilding',
        required: false,
        displayName: 'Vacant Building',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'historicRegisterNational',
        required: false,
        displayName: 'Historic Register National',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'historicRegisterState',
        required: false,
        displayName: 'Historic Register State',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'historicRegisterOther',
        required: false,
        displayName: 'Historic Register Other',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'protectionClass',
        required: false,
        displayName: 'Protection Class',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String
    },
    {
        id: 'valuationEffectiveDate',
        required: false,
        displayName: 'Valuation Eff Date',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isReadOnly: true
    },
    {
        id: 'exclusionsPercent',
        required: false,
        displayName: 'Exclusions Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Percent
    },
];
const BuildingSiteAttributeFieldLayout = {
    left: ['degreeSlope',
        'soilCondition',
        'seismic'],
    right: ['siteAccessibility',
        'sitePosition',
        'wind']
};
const BuildingSiteAttributeFields = [
    {
        id: 'degreeSlope',
        required: false,
        displayName: 'Degree Slope',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 112
    },
    {
        id: 'soilCondition',
        required: false,
        displayName: 'Soil Condition',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 115
    },
    {
        id: 'seismic',
        required: false,
        displayName: 'Seismic',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'siteAccessibility',
        required: false,
        displayName: 'Site Accessibility',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 114
    },
    {
        id: 'wind',
        required: false,
        displayName: 'Wind Zone',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'sitePosition',
        required: false,
        displayName: 'Site Position',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 113
    }
];
const CoreLogicFieldLayout = {
    left: [
        'valuationId',
        'valuationNumber',
    ],
    right: [
        'valuationLastUpdateMultiplier',
        'valuationErrorCode',
        'valuationErrorDescription'
    ]
};
const CoreLogicFields = [
    {
        id: 'valuationId',
        required: false,
        displayName: 'Valuation ID',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'valuationNumber',
        required: false,
        displayName: 'Valuation Number',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'valuationLastUpdateMultiplier',
        required: false,
        displayName: 'Valuation Last Update Multiplier',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'valuationErrorCode',
        required: false,
        displayName: 'Valuation Error Code',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        id: 'valuationErrorDescription',
        required: false,
        displayName: 'Valuation Error Description',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isReadOnly: true
    },
    {
        required: false,
        displayName: '',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].EmptySpace,
        isReadOnly: true
    }
];
const BuildingSystemFieldLayout = {
    left: ['entryAlarm',
        'manualFireAlarm',
        'autoFireAlarm',
        'sprinkler'],
    right: ['passengerElevator',
        'freightElevator',
        'plumbingFixtures']
};
const BuildingSystemFields = [
    {
        id: 'entryAlarm',
        required: false,
        displayName: 'Entry Alarm',
        value: '',
        options: [
            { key: '1', displayName: 'Yes' },
            { key: '2', displayName: 'No' },
            { key: '3', displayName: 'Partial' }
        ],
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        attributeTypeId: 108
    },
    {
        id: 'manualFireAlarm',
        required: false,
        displayName: 'Manual Fire Alarm Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        min: 0
    },
    {
        id: 'autoFireAlarm',
        required: false,
        displayName: 'Auto Fire Alarm Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        min: 0
    },
    {
        id: 'sprinkler',
        required: false,
        displayName: 'Sprinkler Percent',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        min: 0
    },
    {
        id: 'passengerElevator',
        required: false,
        displayName: 'Passenger Elevator',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer,
        min: 0
    },
    {
        id: 'freightElevator',
        required: false,
        displayName: 'Freight Elevator',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer,
        min: 0
    },
    {
        id: 'plumbingFixtures',
        required: false,
        displayName: 'Plumbing Fixtures',
        value: '',
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Integer,
        min: 0
    }
];
const buildingImages = [
    {
        id: 'buildingImages',
        required: false,
        displayName: 'Building Images',
        value: '',
        validation: false,
        type: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Image
    }
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/form/form-models/user-factor-model.ts":
/*!**************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/form/form-models/user-factor-model.ts ***!
  \**************************************************************************************************/
/*! exports provided: userFactorFormModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "userFactorFormModel", function() { return userFactorFormModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const userFactorFormModel = [
    {
        name: 'description',
        displayName: 'Description',
        fieldType: 0,
        required: true,
    },
    {
        name: 'factor',
        displayName: 'Factor',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].Double,
        required: true
    },
];


/***/ }),

/***/ "./client-src/app/quality-control/components/building/quality-control-building-grid.component.ts":
/*!*******************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/building/quality-control-building-grid.component.ts ***!
  \*******************************************************************************************************/
/*! exports provided: QualityControlBuildingGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlBuildingGridComponent", function() { return QualityControlBuildingGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _shared_components_grid_actions_view_map_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_shared/components/grid-actions/view-map.component */ "./client-src/app/_shared/components/grid-actions/view-map.component.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");


















let QualityControlBuildingGridComponent = class QualityControlBuildingGridComponent {
    constructor(qualityControlService, famisGridService, windowManager, container, helperService, buildingInfoService, alertService, buildingService, router) {
        this.qualityControlService = qualityControlService;
        this.famisGridService = famisGridService;
        this.windowManager = windowManager;
        this.container = container;
        this.helperService = helperService;
        this.buildingInfoService = buildingInfoService;
        this.alertService = alertService;
        this.buildingService = buildingService;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_8__["TranslationBaseKeys"];
        this.percentageFieldsArray = [
            'Architect Percent',
            'Depreciation Percent',
            'Overhead Percent',
            'Exclusions Percent',
            'Exterior Wall Openings Percent'
        ];
        this.nonNegativeFields = [
            'numberOfStories',
            'manualFireAlarm',
            'autoFireAlarm',
            'sprinkler',
            'passengerElevator',
            'freightElevator',
            'plumbingFixtures'
        ];
        this.gridSelections = new _angular_core__WEBPACK_IMPORTED_MODULE_12__["EventEmitter"]();
        this.selectedBuildings = new Array();
        this.isReadOnly = true;
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__["Subject"]();
    }
    ngOnInit() {
        this.famisGridService.clearEditedRecords();
        this.state = {
            skip: 0,
            take: 84
        };
        this.buildingGrid = {
            height: 600,
            gridId: this.famisGridService.createGrid(),
            totalRecordCount: 0,
            name: 'Buildings',
            supportedOperators: this.isReadOnly
                ? [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].MultiSelectable, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].ColumnSelection, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Sort]
                : [
                    _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].MultiSelectable,
                    _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].ColumnSelection,
                    _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Sort,
                    _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].InGridEditable,
                    _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Filter
                ],
            actions: this.isReadOnly ? ['Map', 'View', 'Image'] : ['Map', 'Edit', 'Image'],
            translationBaseKey: this.i18n.building,
            dataSource: _enums_data_target_name__WEBPACK_IMPORTED_MODULE_15__["DataTargetName"].building,
            groupId: this.qualityControlService.groupId,
            defaultSort: [{ field: 'displayId', dir: 'asc' }]
        };
        this.famisGridService.setUserId();
        this.buildingGrid.loading =
            this.qualityControlService.getBuildingSearchMetadataByGroupId(this.qualityControlService.groupId).subscribe(buildingMetadata => {
                this.mapMetaDataPercentFields(buildingMetadata.fields);
                buildingMetadata.fields.forEach(field => {
                    if (field.name === 'valuationCreatedDate') {
                        field.fieldType = 15;
                    }
                });
                this.buildingGrid.columnHeaders =
                    this.helperService.mapHeaders(buildingMetadata.fields, this.buildingInfoService.GetInternalColumns());
                this.buildingGrid.selectedHeaders = this.buildingInfoService.GetDefaultColumns();
            });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    updateCache(request) {
        const s = this;
        this.buildingGrid.loading = s.processCacheUpdateBuilding(request);
        this.buildingGrid.cacheLoading = this.buildingGrid.loading;
    }
    handleSelectionChanged(event) {
        this.selectedBuildings = this.selectedBuildings.concat(event.itemsAdded.map(c => c.dataItem));
        event.itemsRemoved.forEach(item => {
            const index = this.selectedBuildings.indexOf(item.dataItem);
            if (index !== -1) {
                this.selectedBuildings.splice(index, 1);
            }
        });
        this.gridSelections.emit(this.selectedBuildings);
    }
    handleCellValueChanged(result) {
        const resultToSave = JSON.parse(JSON.stringify(result));
        console.log(event, 'handleCellValueChanged');
        resultToSave.forEach(editItem => {
            delete editItem.dataItem.imageCollection;
            const buildingDto = this.buildingInfoService.convertStringsToEnum(editItem.dataItem);
            this.buildingService.updateBuilding(editItem.itemId, buildingDto).subscribe(() => {
                this.alertService.success('Building(s) edited successfuly');
                this.famisGridService.removeEditedRecord(editItem.itemId);
                this.famisGridService.removeRecordWithErrors(editItem.itemId);
            }, error => {
                this.alertService.error(!!error.error ? error.error : 'An error has occurred saving the building');
                this.famisGridService.addRecordsWithErrors(editItem.itemId, editItem.dataItem);
            });
        });
    }
    handleActionEvent(event) {
        switch (event.action) {
            case 'Map':
                const viewMapModal = this.windowManager.open(_shared_components_grid_actions_view_map_component__WEBPACK_IMPORTED_MODULE_6__["ViewMapComponent"], 'Map', {
                    isModal: true
                });
                viewMapModal.content.instance.latitude = parseFloat(event.item.latitude);
                viewMapModal.content.instance.longitude = parseFloat(event.item.longitude);
                viewMapModal.content.instance.buildingName = event.item.buildingName;
                break;
            case 'Edit':
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/EditBuilding/${event.item.id}`]);
                break;
            case 'View':
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/ViewBuilding/${event.item.id}`]);
                break;
            default:
                break;
        }
    }
    handleDataStateChanged(state) {
        const s = this;
        this.state = state;
        this.famisGridService
            .update(s.buildingGrid.gridId, s.state.skip, s.state.take, s.buildingGrid.totalRecordCount, s.famisGridService.currentSort[s.buildingGrid.gridId], true)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            if (result.updateCache) {
                s.updateCache(result);
            }
            else {
                if (result.gridId === s.buildingGrid.gridId) {
                    s.buildingGrid.gridData = Object(rxjs__WEBPACK_IMPORTED_MODULE_11__["of"])(result.cachedData);
                }
            }
        });
    }
    handleSortChanged(sort) {
        const s = this;
        this.sort = sort;
        const sortTerms = new Array();
        const orderCount = 0;
        sort.forEach(c => {
            const sortTerm = {
                termOrder: orderCount,
                sortDirection: c.dir === 'asc' ? 0 : 1,
                field: c.field
            };
            sortTerms.push(sortTerm);
        });
        this.famisGridService.currentSort[this.buildingGrid.gridId] = sortTerms;
        s.famisGridService
            .update(s.buildingGrid.gridId, s.state.skip, s.state.take, s.buildingGrid.totalRecordCount, s.famisGridService.currentSort[s.buildingGrid.gridId], true)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            s.updateCache(result);
        });
    }
    mapMetaDataPercentFields(metaDataFields) {
        metaDataFields.map((field) => {
            if (this.percentageFieldsArray.some((percentageField) => percentageField === field.displayName)) {
                field.fieldType = _enums_field_type__WEBPACK_IMPORTED_MODULE_16__["FieldType"].Percent.valueOf();
            }
        });
    }
    processCacheUpdateBuilding(cacheUpdateRequest) {
        const s = this;
        this.selectedBuildings = new Array();
        if (this.famisGrid) {
            this.famisGrid.selectedRows = [];
        }
        return this.qualityControlService
            .updateBuildingData(s.qualityControlService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.buildingGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(s.buildingInfoService.mapGridColumns(dto.buildings), s.buildingGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.totalInRecordSet, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultTake);
            this.famisGrid.dataLoading = false;
        });
    }
};
QualityControlBuildingGridComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_9__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewContainerRef"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_5__["BuildingInfoService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _services_buildings_service__WEBPACK_IMPORTED_MODULE_7__["BuildingsService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__["Router"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], QualityControlBuildingGridComponent.prototype, "gridSelections", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_17__["FamisGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_17__["FamisGridComponent"])
], QualityControlBuildingGridComponent.prototype, "famisGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], QualityControlBuildingGridComponent.prototype, "isReadOnly", void 0);
QualityControlBuildingGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Component"])({
        selector: 'quality-control-building-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./quality-control-building-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/quality-control-building-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_9__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewContainerRef"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_4__["HelperService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_5__["BuildingInfoService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _services_buildings_service__WEBPACK_IMPORTED_MODULE_7__["BuildingsService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["Router"]])
], QualityControlBuildingGridComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/content/actions/add-content.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/content/actions/add-content.component.ts ***!
  \********************************************************************************************/
/*! exports provided: AddContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddContentComponent", function() { return AddContentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");













let AddContentComponent = class AddContentComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__["ComponentCanDeactivate"] {
    constructor(qualityControlService, assetFileInfoService, router, alertService, inventoryServiceRuntime, canDeactivateService) {
        super();
        this.qualityControlService = qualityControlService;
        this.assetFileInfoService = assetFileInfoService;
        this.router = router;
        this.alertService = alertService;
        this.inventoryServiceRuntime = inventoryServiceRuntime;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.fields = new Array();
        this.groupId = this.qualityControlService.groupId;
        this.imageEntityType = _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_8__["ImageEntityType"].Asset;
        this.assetFileSummary = {};
        this.breadCrumbs = [
            { name: 'Quality Control Overview', routerLink: '../../QualityControl' },
            { name: 'Add Content', routerLink: '../AddContent', isDisabled: true }
        ];
    }
    ngOnInit() {
        const s = this;
        s.fields = this.qualityControlService.assetFileSummary.fields.filter(function (x) {
            const internalFields = s.assetFileInfoService.GetInternalColumns();
            // TODO Possibily Add the columns that are excluded to the internalFields list.
            return (internalFields.findIndex(c => c === x.name) === -1 &&
                x.name !== 'siteIdentifier' &&
                x.name !== 'activityCode' &&
                x.name !== 'memberName' &&
                x.name !== 'memberNumber' &&
                x.name !== 'buildingName' &&
                x.name !== 'buildingNumber' &&
                x.name !== 'siteNumber' &&
                x.name !== 'siteName' &&
                x.name !== 'departmentNumber' &&
                x.name !== 'accountNumber' &&
                x.name !== 'accountDescription');
        });
        const buildingSelection = {
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].CascadingComboBox,
            displayName: 'Member',
            name: 'buildingId',
            cascadedValues: [
                { displayName: 'Member', name: 'member' },
                { displayName: 'Site', name: 'siteId' },
                { displayName: 'Building', name: 'buildingId' }
            ],
            cascadedValueOptions: this.qualityControlService.buildingSelectionOptions,
            required: true
        };
        s.fields.push(buildingSelection);
        // console.log(this.qualityControlService.groupDepartmentOptions, 'groupDepartmentOptions');
        const departmentSelection = {
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].DropDown,
            displayName: 'Department',
            name: 'departmentId',
            options: this.qualityControlService.groupDepartmentOptions
        };
        s.fields.push(departmentSelection);
        const accountSelections = {
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].DropDown,
            displayName: 'Account',
            name: 'accountId',
            options: this.qualityControlService.accountOptions
        };
        s.fields.push(accountSelections);
        const nonTranslatedFields = this.assetFileInfoService.GetNonTranslatedFields();
        s.fields.forEach(field => {
            if (field.name === 'depreciationConvention') {
                field.options = this.qualityControlService.depreciationConventionOptions;
            }
            if (nonTranslatedFields.findIndex(x => x === field.name) === -1) {
                field.translationKey = this.i18n.asset;
            }
            else {
                field.translationKey = this.i18n.noTranslate;
            }
        });
    }
    onFormActionEvent(event) {
        switch (event.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].Cancel:
                this.cancel();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].Save:
                this.keepFormOpen = false;
                this.save(event.formGroup, event.dto);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].ValueChange:
                this.formInProgress = event.form;
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].KeepOpen:
                this.keepFormOpen = true;
                this.save(event.formGroup, event.dto);
                break;
            default:
                throw new Error(`Action ${event.action} not implemented.`);
        }
    }
    save(form, assetDto) {
        if (form.valid) {
            assetDto.activityCode = 0;
            this.assetFileSummary.id = this.qualityControlService.assetFileSummary.id;
            this.inventoryServiceRuntime.createAssetRecord(this.assetFileSummary.id, assetDto).subscribe(result => {
                this.alertService.success('Content created successfully');
                if (!this.keepFormOpen) {
                    this.formInProgress = null;
                    this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
                }
                else {
                    this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/EditContent/${result.id}`], { queryParams: { mode: 0 } });
                }
            }, error => {
                this.alertService.error('An error has occurred saving this Content');
            }, () => { });
        }
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateForm(this.formInProgress);
    }
    cancel() {
        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
    }
};
AddContentComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_2__["AssetFileInfoService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__["InventoryService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"] }
];
AddContentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'add-content',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./add-content.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/add-content.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_2__["AssetFileInfoService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__["InventoryService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"]])
], AddContentComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/content/actions/edit-content.component.ts":
/*!*********************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/content/actions/edit-content.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: EditContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditContentComponent", function() { return EditContentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../_core/services/image.service */ "./client-src/app/_core/services/image.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../_api/_runtime/services/image-api.service */ "./client-src/app/_api/_runtime/services/image-api.service.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");


















let EditContentComponent = class EditContentComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__["ComponentCanDeactivate"] {
    constructor(qualityControlService, assetFileInfoService, router, alertService, route, inventoryServiceRuntime, canDeactivateService, imageApiService, imageService, inventoryService) {
        super();
        this.qualityControlService = qualityControlService;
        this.assetFileInfoService = assetFileInfoService;
        this.router = router;
        this.alertService = alertService;
        this.route = route;
        this.inventoryServiceRuntime = inventoryServiceRuntime;
        this.canDeactivateService = canDeactivateService;
        this.imageApiService = imageApiService;
        this.imageService = imageService;
        this.inventoryService = inventoryService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.fields = new Array();
        this.imageEntityType = _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_10__["ImageEntityType"].Asset;
        this.groupId = this.qualityControlService.groupId;
        this.formModels = [];
        this.assetFileSummary = {};
        this.savingForm = false;
        this.depreciationFields = new Array();
        this.breadCrumbs = [
            { name: 'Quality Control Overview', routerLink: '../../' },
            { name: 'Edit Content', routerLink: 'EditContent', isDisabled: true }
        ];
    }
    ngOnInit() {
        const s = this;
        const contentId = this.route.snapshot.paramMap.get('contentId');
        this.isDuplicate = this.route.snapshot.queryParamMap.get('isDuplicate');
        if (contentId) {
            this.contentId = contentId;
            this.inventoryServiceRuntime.getAssetRecord(contentId).subscribe(assetDto => {
                this.assetDto = assetDto;
                this.fields = this.qualityControlService.assetFileSummary.fields.filter(function (x) {
                    if ('depreciationAsOfDate, periodDepreciation, lifeMonths, accumulatedDepreciation'.indexOf(x.name) !== -1) {
                        s.depreciationFields.push(x);
                    }
                    const internalFields = s.assetFileInfoService.GetInternalColumns();
                    return (internalFields.findIndex(c => c === x.name) === -1 &&
                        x.name !== 'siteIdentifier' &&
                        x.name !== 'activityCode' &&
                        x.name !== 'memberName' &&
                        x.name !== 'memberNumber' &&
                        x.name !== 'buildingName' &&
                        x.name !== 'buildingNumber' &&
                        x.name !== 'siteNumber' &&
                        x.name !== 'siteName' &&
                        x.name !== 'departmentNumber' &&
                        x.name !== 'accountNumber' &&
                        x.name !== 'accountDescription' &&
                        x.name !== 'departmentName');
                });
                const buildingSelection = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_15__["FieldType"].CascadingComboBox,
                    displayName: 'Member',
                    name: 'buildingId',
                    cascadedValues: [
                        { displayName: 'Member', name: 'member' },
                        { displayName: 'Site', name: 'siteId' },
                        { displayName: 'Building', name: 'buildingId' }
                    ],
                    cascadedValueOptions: this.qualityControlService.buildingSelectionOptions,
                    required: true
                };
                s.fields.push(buildingSelection);
                const departmentSelection = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_15__["FieldType"].DropDown,
                    displayName: 'Department',
                    name: 'departmentId',
                    options: this.qualityControlService.groupDepartmentOptions,
                };
                s.fields.push(departmentSelection);
                const accountSelections = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_15__["FieldType"].DropDown,
                    displayName: 'Account',
                    name: 'accountId',
                    options: this.qualityControlService.accountOptions
                };
                s.fields.push(accountSelections);
                const activityCodeSelections = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_15__["FieldType"].DropDown,
                    displayName: 'Activity Code',
                    name: 'activityCode',
                    options: this.qualityControlService.activityCodeOptions
                };
                s.fields.push(activityCodeSelections);
                const nonTranslatedFields = this.assetFileInfoService.GetNonTranslatedFields();
                s.fields.forEach(field => {
                    if (field.name === 'depreciationConvention') {
                        field.options = this.qualityControlService.depreciationConventionOptions;
                    }
                    else if (field.name === 'depreciationMethod') {
                        field.options = this.qualityControlService.depreciationMethodOptions;
                    }
                    if (nonTranslatedFields.findIndex(x => x === field.name) === -1) {
                        field.translationKey = this.i18n.asset;
                    }
                    else {
                        field.translationKey = this.i18n.noTranslate;
                    }
                });
            });
        }
    }
    onFormActionEvent(event) {
        switch (event.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Cancel:
                this.cancel();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Save:
                this.keepFormOpen = false;
                this.save(event.formGroup, event.dto);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].ValueChange:
                this.formInProgress = event.form;
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].KeepOpen:
                this.keepFormOpen = true;
                this.save(event.formGroup, event.dto);
                break;
            default:
                throw new Error(`Action ${event.action} not implemented.`);
        }
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateForm(this.formInProgress);
    }
    save(form, assetDto) {
        this.savingForm = true;
        if (form.valid) {
            assetDto.id = this.contentId;
            if (this.isDuplicate === 'true') {
                assetDto.activityCode = 0;
                this.assetFileSummary.id = this.qualityControlService.assetFileSummary.id;
                this.inventoryService.createAssetRecord(this.assetFileSummary.id, assetDto).subscribe(result => {
                    this.alertService.success('Content created successfully');
                    if (!this.keepFormOpen) {
                        this.formInProgress = null;
                        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
                    }
                    else {
                        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/EditContent/${result.id}`], {
                            queryParams: { mode: 0 }
                        });
                    }
                }, error => {
                    this.alertService.error('An error has occurred saving this Content');
                }, () => { });
            }
            else {
                Object(rxjs__WEBPACK_IMPORTED_MODULE_17__["forkJoin"])(this.inventoryServiceRuntime.updateAssetRecord(this.contentId, assetDto).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["first"])()), this.imageApiService.updateAssetImages(this.contentId, this.imageService.imageCollection).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["first"])())).subscribe((res) => {
                    this.alertService.success('Content edit successfully');
                    if (!this.keepFormOpen) {
                        this.formInProgress = null;
                        this.savingForm = false;
                        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
                    }
                    else {
                        this.savingForm = false;
                    }
                }, error => {
                    this.alertService.error('An error has occurred saving this content');
                });
            }
        }
        else {
            this.savingForm = false;
            this.alertService.error('Missing required fields');
        }
    }
    cancel() {
        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
    }
};
EditContentComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_12__["InventoryApiService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"] },
    { type: _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_13__["ImageApiService"] },
    { type: _core_services_image_service__WEBPACK_IMPORTED_MODULE_7__["ImageService"] },
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_14__["InventoryService"] }
];
EditContentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'edit-content',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./edit-content.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/edit-content.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_12__["InventoryApiService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"],
        _api_runtime_services_image_api_service__WEBPACK_IMPORTED_MODULE_13__["ImageApiService"],
        _core_services_image_service__WEBPACK_IMPORTED_MODULE_7__["ImageService"],
        _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_14__["InventoryService"]])
], EditContentComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/content/actions/mass-update-content.component.ts":
/*!****************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/content/actions/mass-update-content.component.ts ***!
  \****************************************************************************************************/
/*! exports provided: MassUpdateContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassUpdateContentComponent", function() { return MassUpdateContentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../enums/quality-control-modes */ "./client-src/app/quality-control/enums/quality-control-modes.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");








let MassUpdateContentComponent = class MassUpdateContentComponent {
    constructor(qualityControlService, assetFileInfoService) {
        this.qualityControlService = qualityControlService;
        this.assetFileInfoService = assetFileInfoService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
        this.defaultFilterTerm = [
            {
                term: {
                    dataTarget: this.qualityControlService.dataTarget, field: '', value: ''
                },
                operation: 'noop'
            }
        ];
        this.mode = _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_3__["QualityControlModes"].Content;
        this.breadCrumbs = [
            { name: 'Quality Control', routerLink: '../../', queryParams: { mode: this.mode } },
            { name: 'Mass Update Criteria', routerLink: '../../MassUpdate/Content', queryParams: { mode: this.mode } },
            { name: 'View Results', routerLink: '../../MassUpdate/Results', queryParams: { mode: this.mode } }
        ];
    }
    ngOnInit() {
        const getFilterDataSource = this.qualityControlService.
            getSearchMetadataByGroupId(this.qualityControlService.groupId, this.qualityControlService.dataTarget);
        getFilterDataSource.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeUntil"])(this.destroyed$))
            .subscribe((filterDataSource) => {
            let assetFileFields = filterDataSource.fields;
            const internalColumns = this.assetFileInfoService.GetInternalColumns();
            assetFileFields = assetFileFields.filter(field => {
                return !internalColumns.includes(field.name);
            });
            this.filterMetaData = assetFileFields;
            const hiddenFields = this.assetFileInfoService.GetInternalAndHiddenFields();
            assetFileFields = filterDataSource.fields;
            assetFileFields = assetFileFields.filter(field => {
                return !hiddenFields.includes(field.name);
            });
            this.replaceMetaData = assetFileFields;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
};
MassUpdateContentComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_2__["AssetFileInfoService"] }
];
MassUpdateContentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'mass-update-content',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mass-update-content.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/mass-update-content.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_2__["AssetFileInfoService"]])
], MassUpdateContentComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/content/actions/view-content.component.ts":
/*!*********************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/content/actions/view-content.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: ViewContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContentComponent", function() { return ViewContentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");













let ViewContentComponent = class ViewContentComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_4__["ComponentCanDeactivate"] {
    constructor(qualityControlService, assetFileInfoService, router, alertService, route, inventoryServiceRuntime, canDeactivateService) {
        super();
        this.qualityControlService = qualityControlService;
        this.assetFileInfoService = assetFileInfoService;
        this.router = router;
        this.alertService = alertService;
        this.route = route;
        this.inventoryServiceRuntime = inventoryServiceRuntime;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.fields = new Array();
        this.imageEntityType = _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_8__["ImageEntityType"].Asset;
        this.groupId = this.qualityControlService.groupId;
        this.formModels = [];
        this.assetFileSummary = {};
        this.breadCrumbs = [
            { name: 'Quality Control Overview', routerLink: '../../' },
            { name: 'Edit Content', routerLink: 'EditContent', isDisabled: true }
        ];
    }
    ngOnInit() {
        const s = this;
        const contentId = this.route.snapshot.paramMap.get('contentId');
        if (contentId) {
            this.contentId = contentId;
            this.inventoryServiceRuntime.getAssetRecord(contentId).subscribe(assetDto => {
                this.assetDto = assetDto;
                this.fields = this.qualityControlService.assetFileSummary.fields.filter(function (x) {
                    const internalFields = s.assetFileInfoService.GetInternalColumns();
                    return (internalFields.findIndex(c => c === x.name) === -1 &&
                        x.name !== 'siteIdentifier' &&
                        x.name !== 'activityCode' &&
                        x.name !== 'memberName' &&
                        x.name !== 'memberNumber' &&
                        x.name !== 'buildingName' &&
                        x.name !== 'buildingNumber' &&
                        x.name !== 'siteNumber' &&
                        x.name !== 'siteName' &&
                        x.name !== 'departmentNumber' &&
                        x.name !== 'accountNumber' &&
                        x.name !== 'accountDescription');
                });
                const buildingSelection = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_11__["FieldType"].CascadingComboBox,
                    displayName: 'Member',
                    name: 'buildingId',
                    cascadedValues: [
                        { displayName: 'Member', name: 'member' },
                        { displayName: 'Site', name: 'siteId' },
                        { displayName: 'Building', name: 'buildingId' }
                    ],
                    cascadedValueOptions: this.qualityControlService.buildingSelectionOptions,
                    required: true
                };
                s.fields.push(buildingSelection);
                const departmentSelection = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_11__["FieldType"].DropDown,
                    displayName: 'Department Name',
                    name: 'departmentId',
                    options: this.qualityControlService.groupDepartmentOptions
                };
                s.fields.push(departmentSelection);
                const accountSelections = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_11__["FieldType"].DropDown,
                    displayName: 'Account Description',
                    name: 'accountId',
                    options: this.qualityControlService.accountOptions
                };
                s.fields.push(accountSelections);
                const activityCodeSelections = {
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_11__["FieldType"].DropDown,
                    displayName: 'ActivityCode',
                    name: 'activityCode',
                    options: this.qualityControlService.activityCodeOptions
                };
                s.fields.push(activityCodeSelections);
                const nonTranslatedFields = this.assetFileInfoService.GetNonTranslatedFields();
                s.fields.forEach(field => {
                    if (nonTranslatedFields.findIndex(x => x === field.name) === -1) {
                        field.translationKey = this.i18n.asset;
                    }
                    else {
                        field.translationKey = this.i18n.noTranslate;
                    }
                });
            });
        }
    }
    onFormActionEvent(event) {
        switch (event.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_12__["FormAction"].Cancel:
                this.cancel();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_12__["FormAction"].Save:
                this.keepFormOpen = false;
                this.save(event.formGroup, event.dto);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_12__["FormAction"].ValueChange:
                this.formInProgress = event.form;
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_12__["FormAction"].KeepOpen:
                this.keepFormOpen = true;
                this.save(event.formGroup, event.dto);
                break;
            default:
                throw new Error(`Action ${event.action} not implemented.`);
        }
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateForm(this.formInProgress);
    }
    save(form, assetDto) {
        if (form.valid) {
            assetDto.id = this.contentId;
            this.inventoryServiceRuntime.updateAssetRecord(this.contentId, assetDto).subscribe(() => {
                this.alertService.success('Content edit successfully');
                if (!this.keepFormOpen) {
                    this.formInProgress = null;
                    this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
                }
            }, error => {
                this.alertService.error('An error has occurred saving this content');
            }, () => { });
        }
        else {
            this.alertService.error('Missing required fields');
        }
    }
    cancel() {
        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: 0 } });
    }
};
ViewContentComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_10__["InventoryApiService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"] }
];
ViewContentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'view-content',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./view-content.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/view-content.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_10__["InventoryApiService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"]])
], ViewContentComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/content/quality-control-content-grid.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/content/quality-control-content-grid.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: QualityControlContentGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlContentGridComponent", function() { return QualityControlContentGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _api_runtime_enums_field_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_api/_runtime/enums/field-type */ "./client-src/app/_api/_runtime/enums/field-type.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _reconciliation_services_inventory_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../reconciliation/services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _api_configuration_enums_filterSource_enum__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../_api/_configuration/enums/filterSource.enum */ "./client-src/app/_api/_configuration/enums/filterSource.enum.ts");

















let QualityControlContentGridComponent = class QualityControlContentGridComponent {
    constructor(qualityControlService, famisGridService, helperService, assetFileInfoService, inventoryService, alertService, router) {
        this.qualityControlService = qualityControlService;
        this.famisGridService = famisGridService;
        this.helperService = helperService;
        this.assetFileInfoService = assetFileInfoService;
        this.inventoryService = inventoryService;
        this.alertService = alertService;
        this.router = router;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.selectedAssets = new Array();
        this.enumDtos = new Array();
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
        this.gridSelections = new _angular_core__WEBPACK_IMPORTED_MODULE_10__["EventEmitter"]();
        this.isReadOnly = true;
    }
    ngOnInit() {
        this.famisGridService.clearEditedRecords();
        this.state = {
            skip: 0,
            take: 84
        };
        this.dataGrid = {
            height: 600,
            gridId: this.famisGridService.createGrid(),
            totalRecordCount: 0,
            name: this.qualityControlService.dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_15__["DataTargetName"].inventory ? 'Actual Inventory' : 'Consolidated File',
            dataSource: this.qualityControlService.dataTarget,
            supportedOperators: [
                _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__["FamisGridFeature"].MultiSelectable,
                _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__["FamisGridFeature"].ColumnSelection,
                _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__["FamisGridFeature"].Sort,
                _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__["FamisGridFeature"].InGridEditable,
                _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_11__["FamisGridFeature"].Filter
            ],
            actions: this.isReadOnly ? ['View', 'Image'] : ['Edit', 'Image'],
            translationBaseKey: this.i18n.asset,
            defaultSort: [{ field: 'displayId', dir: 'asc' }]
        };
        this.famisGridService.setUserId();
        const getActivityCodes = this.qualityControlService.getActivityCodes();
        const getDepreciationConventions = this.qualityControlService.getDepreciationConventions();
        const getDepreciationMethods = this.qualityControlService.getDepreciationMethods();
        const getSearchMetadataByGroupId = this.qualityControlService.getSearchMetadataByGroupId(this.qualityControlService.groupId, this.qualityControlService.dataTarget);
        this.dataGrid.loading = Object(rxjs__WEBPACK_IMPORTED_MODULE_12__["forkJoin"])(getActivityCodes, getDepreciationConventions, getDepreciationMethods, getSearchMetadataByGroupId)
            .subscribe(([activityCodes, depreciationConventions, depreciationMethods, searchMetadata]) => {
            searchMetadata.fields.forEach(field => {
                if (field.name.indexOf('assetImages') > -1) {
                    field.fieldType = _api_runtime_enums_field_type__WEBPACK_IMPORTED_MODULE_2__["FieldType"].Image;
                }
            });
            this.enumDtos.push(activityCodes.result, depreciationConventions.result, depreciationMethods.result);
            this.qualityControlService.assetFileSummary = searchMetadata;
            this.dataGrid.fileId = searchMetadata.id;
            this.dataGrid.columnHeaders = this.helperService.mapHeaders(searchMetadata.fields, this.assetFileInfoService.GetInternalColumns(), undefined, this.enumDtos);
            this.dataGrid.selectedHeaders = this.assetFileInfoService.GetDefaultColumns();
            this.assetFileInfoService.updateReferenceData(activityCodes.result.enumOptions, 'ActivityCodes');
            this.assetFileInfoService.updateReferenceData(depreciationConventions.result.enumOptions, 'DepreciationConventions');
            this.assetFileInfoService.updateReferenceData(depreciationMethods.result.enumOptions, 'DepreciationMethods');
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    updateCache(request) {
        const s = this;
        this.dataGrid.loading = s.processCacheUpdate(request);
        this.dataGrid.cacheLoading = this.dataGrid.loading;
    }
    handleSelectionChanged(event) {
        event.itemsAdded.forEach(item => {
            const index = this.selectedAssets.indexOf(item.dataItem);
            if (index === -1) {
                this.selectedAssets.push(item.dataItem);
            }
        });
        event.itemsRemoved.forEach(item => {
            const index = this.selectedAssets.indexOf(item.dataItem);
            if (index !== -1) {
                this.selectedAssets.splice(index, 1);
            }
        });
        this.gridSelections.emit(this.selectedAssets);
    }
    handleCellValueChanged(result) {
        const resultToSave = JSON.parse(JSON.stringify(result));
        resultToSave.forEach(editItem => {
            delete editItem.dataItem.imageCollection;
            this.inventoryService.updateAssetRecord(editItem.itemId, editItem.dataItem)
                .subscribe(() => {
                this.alertService.success('Asset(s) edited successfully');
                this.famisGridService.removeEditedRecord(editItem.itemId);
                this.famisGridService.removeRecordWithErrors(editItem.itemId);
            }, error => {
                this.alertService.error(!!error.error ? error.error : 'An error has occurred saving the asset');
                this.famisGridService.addRecordsWithErrors(editItem.itemId, editItem.dataItem);
            });
        });
    }
    handleActionEvent(event) {
        switch (event.action) {
            case 'Edit':
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/EditContent/${event.item.id}`]);
                break;
            case 'View':
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/ViewContent/${event.item.id}`]);
                break;
            default:
                break;
        }
    }
    // TODO Consider moving this method to the famis shared grid service
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        this.selectedAssets = new Array();
        if (this.famisGrid) {
            this.famisGrid.selectedRows = [];
        }
        return this.qualityControlService
            .updateData(s.qualityControlService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : s.famisGridService.currentSort[this.dataGrid.gridId], cacheUpdateRequest ? cacheUpdateRequest.filters : null, _api_configuration_enums_filterSource_enum__WEBPACK_IMPORTED_MODULE_16__["FilterSourceEnum"].QualityControlGrid)
            .subscribe(dto => {
            this.dataGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(this.assetFileInfoService.mapEnums(dto.assets.map(asset => {
                asset.assetData.imageCollection = !!asset.assetData.assetImages ? asset.assetData.assetImages : [];
                return asset.assetData;
            })), s.dataGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.totalInRecordSet, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake);
            this.famisGrid.dataLoading = false;
        }, error => {
            if (error['error']) {
                if (error['error'] === 'Unable to filter records')
                    this.alertService.error('unabletofilterrecords');
                else if (error['error'] === 'Unable to sort records')
                    this.alertService.error('unabletosortrecords');
            }
            else
                this.alertService.error('anunexpectederrorhasoccurred.');
        });
    }
    handleSortChanged(sort) {
        const s = this;
        this.sort = sort;
        const sortTerms = new Array();
        const orderCount = 0;
        sort.forEach(c => {
            const sortTerm = {
                termOrder: orderCount,
                sortDirection: c.dir === 'asc' ? 0 : 1,
                field: c.field
            };
            sortTerms.push(sortTerm);
        });
        this.famisGridService.currentSort[this.dataGrid.gridId] = sortTerms;
        s.famisGridService
            .update(s.dataGrid.gridId, s.state.skip, s.state.take, s.dataGrid.totalRecordCount, s.famisGridService.currentSort[s.dataGrid.gridId], true)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            s.updateCache(result);
        });
    }
};
QualityControlContentGridComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"] },
    { type: _reconciliation_services_inventory_service__WEBPACK_IMPORTED_MODULE_13__["ReconciliationInventoryService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__["Router"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], QualityControlContentGridComponent.prototype, "gridSelections", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_6__["FamisGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_6__["FamisGridComponent"])
], QualityControlContentGridComponent.prototype, "famisGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], QualityControlContentGridComponent.prototype, "isReadOnly", void 0);
QualityControlContentGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_10__["Component"])({
        selector: 'quality-control-content-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./quality-control-content-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/quality-control-content-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"],
        _reconciliation_services_inventory_service__WEBPACK_IMPORTED_MODULE_13__["ReconciliationInventoryService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["Router"]])
], QualityControlContentGridComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.ts":
/*!************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.ts ***!
  \************************************************************************************************/
/*! exports provided: DuplicateCheckComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DuplicateCheckComponent", function() { return DuplicateCheckComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _services_duplicate_check_duplicate_check_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/duplicate-check/duplicate-check.service */ "./client-src/app/quality-control/services/duplicate-check/duplicate-check.service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_shared/components/replace-field.component */ "./client-src/app/_shared/components/replace-field.component.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../_api/_runtime/services/quality-control-api.service */ "./client-src/app/_api/_runtime/services/quality-control-api.service.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
















let DuplicateCheckComponent = class DuplicateCheckComponent {
    constructor(router, route, componentResolver, qualityControlService, qualityControlApiService, duplicateCheckService, famisGridService, assetFileInfoService, helperService, alertService) {
        this.router = router;
        this.route = route;
        this.componentResolver = componentResolver;
        this.qualityControlService = qualityControlService;
        this.qualityControlApiService = qualityControlApiService;
        this.duplicateCheckService = duplicateCheckService;
        this.famisGridService = famisGridService;
        this.assetFileInfoService = assetFileInfoService;
        this.helperService = helperService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_9__["TranslationBaseKeys"];
        this.selectedField = '';
        this.windowSize = 500;
        this.inventoryMetadata = new Array();
        this.isProcessing = false;
        this.isLoading = false;
        this.replaceFieldState = {};
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.breadCrumbs = [
            { name: 'Quality Control', routerLink: '../../QualityControl' },
            { name: 'Duplicate Check', routerLink: '../DuplicateCheck', isDisabled: true }
        ];
    }
    ngOnInit() {
        const s = this;
        // Initialize base request data
        this.request = {
            textReplaceValue: null,
            field: '',
            filterConjunction: 'and',
            sortTerms: [{ field: 'id', sortDirection: 0, termOrder: 0 }],
            filterTerms: []
        };
        this.replaceFieldState.replacementField = this.request.field;
        this.replaceFieldState.replacementValue = this.request.textReplaceValue;
        this.duplicateGrid = {
            height: 300,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            columnToSelectBy: 'fieldValue',
            name: 'Duplicates',
            columnHeaders: [
                {
                    name: 'fieldValue',
                    displayName: 'Duplicate Value',
                    fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_15__["FieldType"].String,
                    isSearchable: true,
                    isFilterable: true,
                    isSortable: true,
                    isFacetable: false,
                    isKey: false,
                    isCustom: false
                },
                {
                    name: 'count',
                    displayName: '# of Duplicates',
                    fieldType: 'count',
                    isSearchable: true,
                    isFilterable: true,
                    isSortable: true,
                    isFacetable: false,
                    isKey: false,
                    isCustom: false
                }
            ],
            selectedHeaders: ['fieldValue', 'count'],
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_12__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.i18n.asset,
        };
        this.summaryGrid = {
            height: 300,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'Summary',
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_12__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.i18n.asset
        };
        this.qualityControlService
            .getSearchMetadataByGroupId(this.qualityControlService.groupId, this.qualityControlService.dataTarget)
            .subscribe(metaData => {
            this.summaryGrid.columnHeaders = s.helperService.mapHeaders(metaData.fields, this.assetFileInfoService.GetInternalColumns());
            this.summaryGrid.selectedHeaders = this.assetFileInfoService.GetDefaultDuplicateCheckColumns();
        });
        const getFilterDataSource = this.qualityControlService.getSearchMetadataByGroupId(this.qualityControlService.groupId, this.qualityControlService.dataTarget);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])(getFilterDataSource)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["takeUntil"])(this.destroyed$))
            .subscribe(([filterDataSource]) => {
            this.inventoryMetadata = this.helperService.sortCollection(filterDataSource.fields, 'displayName', 'ASC');
            this.replaceFieldState.collection = filterDataSource.fields;
        }, error => { }, () => {
            // Anything on finish?
        });
        // Subscribe for when the replacement field and value change
        this.replaceFieldComponent.modelChanged.subscribe(model => {
            this.request.textReplaceValue = model.replacementValue;
            this.request.field = model.replacementField;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    runDuplicateCheck() {
        this.duplicateGrid.loading = this.processDuplicateCacheUpdate();
    }
    processDuplicateCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.duplicateCheckService
            .updateDuplicateCheckResults(s.qualityControlService.groupId, s.selectedField, s.qualityControlService.dataTarget, !!cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : 0, !!cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : 0, !!cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, !!cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.duplicateGrid.totalRecordCount = dto.totalRecords;
            this.famisGridService.setCacheRecords(dto.results, this.duplicateGrid.gridId, 0, dto.totalRecords, this.duplicateGrid.windowSize);
        });
    }
    handleDuplicateSelectionChanged(event) {
        const s = this;
        const filter = [
            {
                term: {
                    dataTarget: s.qualityControlService.dataTarget,
                    field: s.selectedField,
                    value: event.itemsAdded[0].dataItem.fieldValue
                },
                operation: 'eq'
            }
        ];
        this.request.filterTerms = filter;
        this.summaryGrid.loading = this.duplicateCheckService
            .updateDuplicateSummary(s.qualityControlService.groupId, 0, 0, null, filter)
            .subscribe(dto => {
            this.summaryGrid.totalRecordCount = dto.totalInRecordSet;
            this.famisGridService.setCacheRecords(dto.assets.map(c => c.assetData), this.summaryGrid.gridId, 0, dto.totalInRecordSet, this.summaryGrid.windowSize);
        });
    }
    onSubmit(form) {
        if (form.valid && this.request.field && this.request.textReplaceValue) {
            this.qualityControlApiService.executeMassContentUpdate(this.qualityControlService.groupId, this.request).subscribe(result => {
                if (result.code === 6) {
                    this.alertService.error('Mass Update failed. Attempted to divide by zero');
                }
                else {
                    this.alertService.success('{{field}} has been updated for {{totalRecords}} records.', true, { field: result.result.field, totalRecords: result.result.totalRecords });
                }
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`]);
            });
        }
    }
    cancel() {
        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`]);
    }
};
DuplicateCheckComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["ActivatedRoute"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_11__["ComponentFactoryResolver"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"] },
    { type: _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_14__["QualityControlApiService"] },
    { type: _services_duplicate_check_duplicate_check_service__WEBPACK_IMPORTED_MODULE_3__["DuplicateCheckService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ViewChild"])(_shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_5__["ReplaceFieldComponent"], { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_5__["ReplaceFieldComponent"])
], DuplicateCheckComponent.prototype, "replaceFieldComponent", void 0);
DuplicateCheckComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["Component"])({
        selector: 'duplicate-check',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./duplicate-check.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["ActivatedRoute"],
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ComponentFactoryResolver"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"],
        _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_14__["QualityControlApiService"],
        _services_duplicate_check_duplicate_check_service__WEBPACK_IMPORTED_MODULE_3__["DuplicateCheckService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"]])
], DuplicateCheckComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.ts":
/*!*************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: MassUpdateCriteriaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassUpdateCriteriaComponent", function() { return MassUpdateCriteriaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_shared/components/filter-criteria-builder.component */ "./client-src/app/_shared/components/filter-criteria-builder.component.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _services_mass_update_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/mass-update.service */ "./client-src/app/quality-control/services/mass-update.service.ts");
/* harmony import */ var _shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_shared/components/replace-field.component */ "./client-src/app/_shared/components/replace-field.component.ts");
/* harmony import */ var _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../enums/quality-control-modes */ "./client-src/app/quality-control/enums/quality-control-modes.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");












let MassUpdateCriteriaComponent = class MassUpdateCriteriaComponent {
    constructor(router, componentResolver, qualityControlService, massUpdateService, route, buildingInfoService) {
        this.router = router;
        this.componentResolver = componentResolver;
        this.qualityControlService = qualityControlService;
        this.massUpdateService = massUpdateService;
        this.route = route;
        this.buildingInfoService = buildingInfoService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.isAdvanced = false;
        this.mode = Number(this.route.snapshot.queryParamMap.get('mode'));
        this.replaceFieldState = {};
        this.massUpdateRequest = {};
        this.inventoryMetadata = new Array();
        this.isProcessing = false;
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_9__["Subject"]();
        this.siteAttributeFields = this.buildingInfoService.GetSiteAttributeFields();
    }
    ngOnInit() {
        this.replaceSelectionInfo = new Array();
        this.massUpdateService.massUpdateRequest$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(request => {
            this.massUpdateRequest = request;
            this.replaceFieldState.replacementField = request.field;
            this.replaceFieldState.replacementValue = request.textReplaceValue;
            if (this.replaceFieldComponent.replaceValue) {
                this.replaceFieldComponent.replaceValue.nativeElement.innerHTML = this.replaceFieldState.advancedReplacementHtml;
            }
        });
        this.setExistingFilters();
        this.replaceFieldState.collection = this.replaceMetaData;
        this.massUpdateService.updateContextSource(this.defaultFilterTerm, this.filterMetaData);
        this.massUpdateService.defaultFilterTerms = this.defaultFilterTerm;
        this.replaceFieldState.isAdvanced = true;
        this.replaceFieldComponent.state = this.replaceFieldState;
        this.replaceFieldComponent.modelChanged.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(model => {
            this.replaceFieldState = model;
            this.massUpdateRequest.field = this.replaceFieldState.replacementField;
            this.massUpdateRequest.textReplaceValue = this.replaceFieldState.replacementValue;
            this.massUpdateRequest.advancedReplaceOperation = this.replaceFieldState.advancedReplacementValue;
        });
        this.qualityControlService
            .getAccountData(this.qualityControlService.groupId)
            .subscribe(accounts => {
            this.replaceSelectionInfo.push(this.qualityControlService.mapAccounts(accounts));
            this.replaceFieldComponent.selectionFieldInfo = this.replaceSelectionInfo;
        });
        this.qualityControlService
            .getDepartmentData(this.qualityControlService.groupId)
            .subscribe(departments => {
            this.replaceSelectionInfo.push(this.qualityControlService.mapDepartments(departments));
            this.replaceFieldComponent.selectionFieldInfo = this.replaceSelectionInfo;
        });
        this.qualityControlService
            .getAttributeTypesAndCodes()
            .subscribe(attributeTypesAndCodes => {
            const siteAttributeTypeaAndCodes = this.getSelectedSiteAttributeOptions(attributeTypesAndCodes, this.siteAttributeFields);
            const siteAttributesWithOptions = this.qualityControlService.mapSiteAttributeTypesAndCodes(siteAttributeTypeaAndCodes);
            this.replaceSelectionInfo.push(...siteAttributesWithOptions);
            this.replaceFieldComponent.selectionFieldInfo = this.replaceSelectionInfo;
        });
        this.massUpdateService.currentReplaceComponentState.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$)).subscribe(state => {
            if (state.replacementField) {
                this.replaceFieldState = state;
                this.replaceFieldComponent.state = state;
                this.massUpdateRequest.field = this.replaceFieldState.replacementField;
                this.massUpdateRequest.textReplaceValue = this.replaceFieldState.replacementValue;
                this.massUpdateRequest.advancedReplaceOperation = this.replaceFieldState.advancedReplacementValue;
                this.isAdvanced = !!state.advancedReplacementValue;
            }
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    onSubmit(form) {
        if (form.valid) {
            if (this.replaceFieldState.isAdvanced) {
                this.replaceFieldComponent.updateAdvancedModel();
            }
            if (this.massUpdateRequest.field &&
                (this.massUpdateRequest.textReplaceValue ||
                    this.massUpdateRequest.textReplaceValue == null || !this.massUpdateRequest.textReplaceValue)) {
                this.massUpdateService.updateReplaceComponentState(this.replaceFieldComponent.state);
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/MassUpdate/Results`], { queryParams: { mode: this.mode }
                });
            }
        }
    }
    cancel() {
        this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: this.mode }
        });
    }
    addFilter(filter) {
        const comp = this.componentResolver.resolveComponentFactory(_shared_components_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_1__["FilterCriteriaBuilderComponent"]);
        const filterCriteria = this.filterCriteriaContainer.createComponent(comp);
        filterCriteria.instance.translationKeyBase = this.translatedBaseKey;
        // Setting reference to close/remove
        filterCriteria.instance.ref = filterCriteria;
        filterCriteria.instance.filterMetadata = this.filterMetaData;
        if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_5__["QualityControlModes"].Content) {
            filterCriteria.instance.dataTarget = this.qualityControlService.dataTarget;
        }
        filterCriteria.instance.criteriaChangedEvent.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(filterChanged => {
            this.massUpdateService.addOrUpdateFilter(filterChanged);
        });
        filterCriteria.instance.filterRemovedEvent.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeUntil"])(this.destroyed$))
            .subscribe(filterRemove => {
            this.massUpdateService.removeFilter(filterRemove.id);
        });
        if (filter) {
            filterCriteria.instance.filter = filter;
        }
    }
    setExistingFilters() {
        if (!this.massUpdateRequest.filterTerms.length) {
            this.addFilter();
        }
        else {
            this.massUpdateRequest.filterTerms.forEach(filter => {
                this.addFilter(filter);
            });
        }
    }
    getSelectedSiteAttributeOptions(attributeTypesAndCodesResult, siteAttributes) {
        const siteAttribOptions = [];
        siteAttributes.forEach(siteAttribute => {
            const siteAttribOption = attributeTypesAndCodesResult.result.find(c => c.name.toLowerCase() === siteAttribute.toLowerCase());
            siteAttribOptions.push(siteAttribOption);
        });
        return siteAttribOptions;
    }
};
MassUpdateCriteriaComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_8__["ComponentFactoryResolver"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"] },
    { type: _services_mass_update_service__WEBPACK_IMPORTED_MODULE_3__["MassUpdateService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_11__["BuildingInfoService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], MassUpdateCriteriaComponent.prototype, "defaultFilterTerm", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], MassUpdateCriteriaComponent.prototype, "filterMetaData", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], MassUpdateCriteriaComponent.prototype, "replaceMetaData", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], MassUpdateCriteriaComponent.prototype, "translatedBaseKey", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])('filterCriteria', { read: _angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewContainerRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewContainerRef"])
], MassUpdateCriteriaComponent.prototype, "filterCriteriaContainer", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])(_shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_4__["ReplaceFieldComponent"], { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_4__["ReplaceFieldComponent"])
], MassUpdateCriteriaComponent.prototype, "replaceFieldComponent", void 0);
MassUpdateCriteriaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'mass-update-criteria',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mass-update-criteria.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"],
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ComponentFactoryResolver"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"],
        _services_mass_update_service__WEBPACK_IMPORTED_MODULE_3__["MassUpdateService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_11__["BuildingInfoService"]])
], MassUpdateCriteriaComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/mass-update/mass-update-form.component.ts":
/*!*********************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/mass-update/mass-update-form.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: MassUpdateFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassUpdateFormComponent", function() { return MassUpdateFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");




let MassUpdateFormComponent = class MassUpdateFormComponent {
    constructor(router, route) {
        this.router = router;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_1__["TranslationBaseKeys"];
        this.isLoading = false;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
    }
};
MassUpdateFormComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }
];
MassUpdateFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'mass-update-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mass-update-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]])
], MassUpdateFormComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/mass-update/mass-update-results.component.ts":
/*!************************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/mass-update/mass-update-results.component.ts ***!
  \************************************************************************************************/
/*! exports provided: MassUpdateResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassUpdateResultsComponent", function() { return MassUpdateResultsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_shared/components/replace-field.component */ "./client-src/app/_shared/components/replace-field.component.ts");
/* harmony import */ var _services_mass_update_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/mass-update.service */ "./client-src/app/quality-control/services/mass-update.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../enums/quality-control-modes */ "./client-src/app/quality-control/enums/quality-control-modes.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
















let MassUpdateResultsComponent = class MassUpdateResultsComponent {
    constructor(router, qualityControlService, massUpdateService, famisGridService, alertService, helperService, assetFileInfoService, route, buildingInfoService) {
        this.router = router;
        this.qualityControlService = qualityControlService;
        this.massUpdateService = massUpdateService;
        this.famisGridService = famisGridService;
        this.alertService = alertService;
        this.helperService = helperService;
        this.assetFileInfoService = assetFileInfoService;
        this.route = route;
        this.buildingInfoService = buildingInfoService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_10__["TranslationBaseKeys"];
        this.isAdvanced = false;
        // Observer Context
        this.mode = Number(this.route.snapshot.queryParamMap.get('mode'));
        this.filterMetaData = new Array();
        this.defaultFilterTerm = new Array();
        this.recordsFoundCount = 0;
        this.assets = new Array();
        this.replaceSelectionInfo = new Array();
        this.windowSize = 500;
        this.initWindowSize = 84;
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_14__["Subject"]();
        this.replaceFieldState = {};
        this.siteAttributeFields = this.buildingInfoService.GetSiteAttributeFields();
    }
    ngOnInit() {
        const parentThis = this;
        this.state = {
            skip: 0,
            take: 84
        };
        this.translatedBaseKey = this.mode === 0 ? this.i18n.asset : this.i18n.building;
        this.massUpdateService.massUpdateContext$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe((context) => {
            parentThis.defaultFilterTerm = context.defaultFilterTerm;
            parentThis.filterMetaData = context.filterMetaData;
            // If user loads reloads page
            if (!parentThis.filterMetaData) {
                this.back();
            }
            else {
                if (parentThis.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_8__["QualityControlModes"].Content) {
                    parentThis.assetData(parentThis.filterMetaData);
                }
                else {
                    parentThis.buildingData(parentThis.filterMetaData);
                }
                const sort = [{ field: 'displayId', dir: 'asc' }];
                this.handleSortChanged(sort);
            }
            this.qualityControlService
                .getAccountData(this.qualityControlService.groupId)
                .subscribe(accounts => {
                this.replaceSelectionInfo.push(this.qualityControlService.mapAccounts(accounts));
                this.replaceFieldComponent.selectionFieldInfo = this.replaceSelectionInfo;
            });
            this.qualityControlService
                .getDepartmentData(this.qualityControlService.groupId)
                .subscribe(departments => {
                this.replaceSelectionInfo.push(this.qualityControlService.mapDepartments(departments));
                this.replaceFieldComponent.selectionFieldInfo = this.replaceSelectionInfo;
            });
            this.qualityControlService
                .getAttributeTypesAndCodes()
                .subscribe(attributeTypesAndCodes => {
                const siteAttributeTypeaAndCodes = this.getSelectedSiteAttributeOptions(attributeTypesAndCodes, this.siteAttributeFields);
                const siteAttributesWithOptions = this.qualityControlService.mapSiteAttributeTypesAndCodes(siteAttributeTypeaAndCodes);
                this.replaceSelectionInfo.push(...siteAttributesWithOptions);
                this.replaceFieldComponent.selectionFieldInfo = this.replaceSelectionInfo;
            });
        });
        this.massUpdateService.massUpdateRequest$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe(request => {
            this.requestInProgress = request;
            this.replaceFieldState.replacementField = request.field;
            this.replaceFieldState.replacementValue = request.textReplaceValue;
            this.isAdvanced = !!request.advancedReplaceOperation;
        });
        // Subscribe for when the replacement field and value change
        this.massUpdateService.currentReplaceComponentState.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe(state => {
            if (state.replacementField) {
                this.replaceFieldState = state;
                this.replaceFieldComponent.state = state;
                this.requestInProgress.field = this.replaceFieldState.replacementField;
                this.requestInProgress.textReplaceValue = this.replaceFieldState.replacementValue;
                this.requestInProgress.advancedReplaceOperation = this.replaceFieldState.advancedReplacementValue;
                this.isAdvanced = !!state.advancedReplacementValue;
                this.massUpdateService.updateMassUpdateRequest(this.requestInProgress);
            }
        });
        this.replaceFieldComponent.state = this.replaceFieldState;
        this.replaceFieldComponent.modelChanged.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe(model => {
            this.replaceFieldState = model;
            this.requestInProgress.field = this.replaceFieldState.replacementField;
            this.requestInProgress.textReplaceValue = this.replaceFieldState.replacementValue;
            this.requestInProgress.advancedReplaceOperation = this.replaceFieldState.advancedReplacementValue;
            this.replaceFieldComponent.state.isAdvanced = !!this.replaceFieldState.advancedReplacementValue;
            this.massUpdateService.updateMassUpdateRequest(this.requestInProgress);
        });
    }
    updateCache(request) {
        if (request.gridId === this.resultsGrid.gridId) {
            if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_8__["QualityControlModes"].Content) {
                this.resultsGrid.cacheLoading = this.processCacheUpdate(request);
            }
            else {
                this.resultsGrid.cacheLoading = this.processCacheUpdateBuilding(request);
            }
        }
    }
    handleActionEvent(actionEvent) {
        if (actionEvent.action === 'Exclude') {
            // console.log('Exclude event', actionEvent);
        }
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    onSubmit(form) {
        if (form.valid) {
            // Clear the text replace field if we have an advaned field
            if (this.requestInProgress.advancedReplaceOperation) {
                this.requestInProgress.textReplaceValue = null;
                this.replaceFieldComponent.updateAdvancedModel();
            }
            this.massUpdateService.commitMassUpdate(this.mode).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe(result => {
                this.massUpdateService.clearMassUpdateRequest(this.defaultFilterTerm);
                this.massUpdateService.clearTermsForFilterCriteria();
                if (result && result.code === 6) {
                    this.alertService.error('Mass Update failed. Attempted to divide by zero');
                }
                else {
                    this.alertService.success('{{field}} has been updated for {{totalRecords}} records.', true, { field: result.result.field, totalRecords: result.result.totalRecords });
                }
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl`], { queryParams: { mode: this.mode }
                });
            });
        }
    }
    back() {
        if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_8__["QualityControlModes"].Content) {
            this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/MassUpdate/Content`], { queryParams: { mode: this.mode }
            });
        }
        else {
            this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/MassUpdate/Building`], { queryParams: { mode: this.mode }
            });
        }
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        const sortTerms = !!cacheUpdateRequest && !!cacheUpdateRequest.sortTerms ?
            cacheUpdateRequest.sortTerms : this.searchInProgress.sortTerms;
        const filterTerms = !!cacheUpdateRequest && !!cacheUpdateRequest.filters ?
            cacheUpdateRequest.filters : this.searchInProgress.filterTerms;
        const getActivityCodes = this.massUpdateService.getActivityCodes();
        getActivityCodes.subscribe((activityCodes) => {
            this.assetFileInfoService.updateReferenceData(activityCodes.result.enumOptions, 'ActivityCodes');
        });
        return this.qualityControlService
            .updateData(this.qualityControlService.groupId, 0, this.initWindowSize, sortTerms, filterTerms)
            .subscribe(result => {
            s.assets = result.assets.map(c => c.assetData);
            this.resultsGrid.totalRecordCount = result.totalInRecordSet;
            this.recordsFoundCount = result.totalInRecordSet;
            this.famisGridService.setCacheRecords(this.assetFileInfoService.mapEnums(s.assets), this.resultsGrid.gridId, 0, result.totalInRecordSet, this.initWindowSize);
        }, error => {
            if (error['error']) {
                if (error['error'] === 'Unable to filter records')
                    this.alertService.error('unabletofilterrecords');
                else if (error['error'] === 'Unable to sort records')
                    this.alertService.error('unabletosortrecords');
            }
            else
                this.alertService.error('anunexpectederrorhasoccurred.');
        }, () => { });
    }
    processCacheUpdateBuilding(cacheUpdateRequest) {
        const s = this;
        const sortTerms = !!cacheUpdateRequest && !!cacheUpdateRequest.sortTerms ?
            cacheUpdateRequest.sortTerms : this.buildingSearchInProgress.sortTerms;
        const filterTerms = !!cacheUpdateRequest && !!cacheUpdateRequest.filters ?
            cacheUpdateRequest.filters : this.buildingSearchInProgress.filterTerms;
        return this.qualityControlService
            .updateBuildingData(this.qualityControlService.groupId, 0, this.initWindowSize, sortTerms, filterTerms)
            .subscribe(result => {
            this.resultsGrid.totalRecordCount = result.totalInRecordSet;
            this.recordsFoundCount = result.totalInRecordSet;
            this.famisGridService.setCacheRecords(s.buildingInfoService.mapGridColumns(result.buildings), s.resultsGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, result.numberInThisPayload, this.resultsGrid.windowSize);
        }, error => { }, () => { });
    }
    assetData(filterMetaData) {
        this.resultsGrid = {
            gridId: this.famisGridService.createGrid(),
            dataSource: this.qualityControlService.dataTarget,
            windowSize: this.windowSize,
            totalRecordCount: 0,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Filter, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.translatedBaseKey
        };
        this.replaceFieldState.collection = filterMetaData;
        this.resultsGrid.columnHeaders = this.helperService.mapHeaders(filterMetaData, this.assetFileInfoService.GetInternalColumns());
        this.resultsGrid.selectedHeaders = this.assetFileInfoService.GetDefaultMassUpdateColumns();
        this.massUpdateService.massUpdateCriteriaSearch$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe(searchInProgress => {
            this.searchInProgress = searchInProgress;
            this.resultsGrid.loading = this.processCacheUpdate();
        });
    }
    handleSortChanged(sort) {
        const s = this;
        this.sort = sort;
        const sortTerms = new Array();
        const orderCount = 0;
        sort.forEach(c => {
            const sortTerm = {
                termOrder: orderCount,
                sortDirection: c.dir === 'asc' ? 0 : 1,
                field: c.field
            };
            sortTerms.push(sortTerm);
        });
        this.famisGridService.currentSort[this.resultsGrid.gridId] = sortTerms;
        s.famisGridService
            .update(s.resultsGrid.gridId, s.state.skip, s.state.take, s.resultsGrid.totalRecordCount, s.famisGridService.currentSort[s.resultsGrid.gridId], true)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(s.destroyed$))
            .subscribe(result => {
            s.updateCache(result);
        });
    }
    buildingData(filterMetaData) {
        this.resultsGrid = {
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Sort, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Filter, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].ColumnSelection],
            translationBaseKey: this.translatedBaseKey
        };
        this.replaceFieldState.collection = filterMetaData;
        this.resultsGrid.columnHeaders = this.helperService.mapHeaders(filterMetaData, this.buildingInfoService.GetInternalColumns());
        this.resultsGrid.selectedHeaders = this.buildingInfoService.GetDefaultColumns();
        this.massUpdateService.massUpdateCriteriaSearch$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$)).subscribe(searchInProgress => {
            this.buildingSearchInProgress = searchInProgress;
            this.resultsGrid.loading = this.processCacheUpdateBuilding();
        });
    }
    getSelectedSiteAttributeOptions(attributeTypesAndCodesResult, siteAttributes) {
        const siteAttribOptions = [];
        siteAttributes.forEach(siteAttribute => {
            const siteAttribOption = attributeTypesAndCodesResult.result.find(c => c.name.toLowerCase() === siteAttribute.toLowerCase());
            siteAttribOptions.push(siteAttribOption);
        });
        return siteAttribOptions;
    }
};
MassUpdateResultsComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_15__["Router"] },
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"] },
    { type: _services_mass_update_service__WEBPACK_IMPORTED_MODULE_5__["MassUpdateService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__["HelperService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_7__["AssetFileInfoService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_15__["ActivatedRoute"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_9__["BuildingInfoService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewChild"])(_shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_4__["ReplaceFieldComponent"], { static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_replace_field_component__WEBPACK_IMPORTED_MODULE_4__["ReplaceFieldComponent"])
], MassUpdateResultsComponent.prototype, "replaceFieldComponent", void 0);
MassUpdateResultsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Component"])({
        selector: 'mass-update-results',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mass-update-results.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-results.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_15__["Router"],
        _services_quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"],
        _services_mass_update_service__WEBPACK_IMPORTED_MODULE_5__["MassUpdateService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__["HelperService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_7__["AssetFileInfoService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_15__["ActivatedRoute"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_9__["BuildingInfoService"]])
], MassUpdateResultsComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/quality-control-form.component.ts":
/*!*************************************************************************************!*\
  !*** ./client-src/app/quality-control/components/quality-control-form.component.ts ***!
  \*************************************************************************************/
/*! exports provided: QualityControlFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlFormComponent", function() { return QualityControlFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _actions_asset_retirement_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions/asset-retirement.component */ "./client-src/app/quality-control/components/actions/asset-retirement.component.ts");
/* harmony import */ var _actions_asset_transfer_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/asset-transfer.component */ "./client-src/app/quality-control/components/actions/asset-transfer.component.ts");
/* harmony import */ var _actions_cost_adjustment_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions/cost-adjustment.component */ "./client-src/app/quality-control/components/actions/cost-adjustment.component.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../enums/quality-control-actions */ "./client-src/app/quality-control/enums/quality-control-actions.ts");
/* harmony import */ var _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../enums/quality-control-modes */ "./client-src/app/quality-control/enums/quality-control-modes.ts");
/* harmony import */ var _building_quality_control_building_grid_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./building/quality-control-building-grid.component */ "./client-src/app/quality-control/components/building/quality-control-building-grid.component.ts");
/* harmony import */ var _content_quality_control_content_grid_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./content/quality-control-content-grid.component */ "./client-src/app/quality-control/components/content/quality-control-content-grid.component.ts");
/* harmony import */ var _components_building_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/building/actions/building-valuation.component */ "./client-src/app/quality-control/components/building/actions/building-valuation.component.ts");
/* harmony import */ var _components_building_actions_floodplain_valuation_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/building/actions/floodplain-valuation.component */ "./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.ts");
/* harmony import */ var _core_user_permissions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_core/user/permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../_enums/modal-form-event */ "./client-src/app/_enums/modal-form-event.ts");






















let QualityControlFormComponent = class QualityControlFormComponent {
    constructor(qualityControlService, router, famisGridService, alertService, dropDownConfig, route, userStore, windowManager, container, canDeactivateService) {
        this.qualityControlService = qualityControlService;
        this.router = router;
        this.famisGridService = famisGridService;
        this.alertService = alertService;
        this.dropDownConfig = dropDownConfig;
        this.route = route;
        this.userStore = userStore;
        this.windowManager = windowManager;
        this.container = container;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_16__["TranslationBaseKeys"];
        this.modalActions = _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"];
        this.qualityControlModes = _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"];
        this.mode = _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Content;
        this.selectedAssets = new Array();
        this.selectedBuildings = new Array();
        this.showValuationErrorsButton = false;
        this.action = '';
        this.buildingGridInitialized = false;
        this.permissions = _core_user_permissions__WEBPACK_IMPORTED_MODULE_14__["SystemPermissionsEnum"];
        this.editedRecords = new Array();
        this.statusExists = true;
        this.isLoading = true;
        this.dropDownConfig.placement = 'bottom-right';
    }
    ngOnInit() {
        this.famisGridService.editedRecords$.subscribe(editedRecords => {
            this.editedRecords = editedRecords;
        });
        this.statusExists = this.qualityControlService.statisExists;
        const selectedMode = this.route.snapshot.queryParams['mode'];
        switch (selectedMode) {
            case '0':
                this.mode = _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Content;
                break;
            case '1':
                this.mode = _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Buildings;
                break;
        }
        this.userStore.user.subscribe(currentUser => {
            this.user = currentUser;
        });
    }
    ngOnDestroy() { }
    add() {
        if (this.checkIfCanNavigateAway()) {
            if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Content) {
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/AddContent`]);
            }
            if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Buildings) {
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/AddBuilding`]);
            }
        }
    }
    duplicate() {
        if (this.checkIfCanNavigateAway()) {
            if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Content) {
                this.router.navigate([
                    `/project-profile/${this.qualityControlService.groupId}/QualityControl/EditContent/${this.selectedAssets[0].id}`
                ], { queryParams: { isDuplicate: true } });
            }
        }
    }
    massUpdate() {
        if (this.checkIfCanNavigateAway()) {
            if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Content) {
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/MassUpdate/Content`], {
                    queryParams: { mode: 0 }
                });
            }
            if (this.mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_9__["QualityControlModes"].Buildings) {
                this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/MassUpdate/Building`], {
                    queryParams: { mode: 1 }
                });
            }
        }
    }
    duplicateCheck() {
        if (this.checkIfCanNavigateAway()) {
            this.router.navigate([`/project-profile/${this.qualityControlService.groupId}/QualityControl/DuplicateCheck`]);
        }
    }
    selectAction(action) {
        if (action === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].RetireAsset) {
            const assetRetirementWindow = this.windowManager.open(_actions_asset_retirement_component__WEBPACK_IMPORTED_MODULE_3__["AssetRetirementComponent"], 'Asset Retirement', {
                isModal: true
            });
            assetRetirementWindow.content.instance.assetsCollection = this.selectedAssets;
            assetRetirementWindow.result.subscribe(success => {
                if (assetRetirementWindow.content.instance.status === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_21__["ModalFormEvent"].Success) {
                    this.qualityControlContentGridComponent.updateCache();
                }
            });
        }
        if (action === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].TransferAsset) {
            const assetTransferWindow = this.windowManager.open(_actions_asset_transfer_component__WEBPACK_IMPORTED_MODULE_4__["AssetTransferComponent"], 'Asset Transfer', {
                isModal: true
            });
            assetTransferWindow.content.instance.assetsCollection = this.selectedAssets;
            assetTransferWindow.result.subscribe(success => {
                if (assetTransferWindow.content.instance.status === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_21__["ModalFormEvent"].Success) {
                    this.alertService.success((this.selectedAssets.length === 1 ? 'Asset' : 'Assets') + ' transferred successfully.');
                    this.qualityControlContentGridComponent.updateCache();
                }
            });
        }
        if (action === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].CostAdjustment) {
            const costAdjustmentWindow = this.windowManager.open(_actions_cost_adjustment_component__WEBPACK_IMPORTED_MODULE_5__["CostAdjustmentComponent"], 'Cost Adjustment', {
                isModal: true
            });
            costAdjustmentWindow.content.instance.selectedAsset = this.selectedAssets[0];
            costAdjustmentWindow.result.subscribe(success => {
                if (costAdjustmentWindow.content.instance.status === _enums_modal_form_event__WEBPACK_IMPORTED_MODULE_21__["ModalFormEvent"].Success) {
                    this.qualityControlContentGridComponent.updateCache();
                }
            });
        }
        if (action === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].BuildingValuation) {
            this.actionSelected = action;
            if (this.selectedBuildings.length > 0) {
                this.buildingValuationComponent.open(false, this.selectedBuildings);
            }
            else if (this.selectedBuildings.length === 0) {
                this.alertService.info('Please select a minimum of 1 building to submit for valuation', false);
            }
        }
        if (action === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].FloodPlanValuation) {
            this.actionSelected = action;
            if (this.selectedBuildings.length > 0) {
                this.floodPlainValuationComponent.open(false, this.selectedBuildings);
            }
            else if (this.selectedBuildings.length === 0) {
                this.alertService.info('Please select a minimum of 1 building to submit for valuation', false);
            }
        }
    }
    toggleQualityControlMode(mode) {
        if (this.canDeactivateService.canDeactivateComponent(this.editedRecords.length > 0)) {
            this.mode = mode;
        }
    }
    userCanWriteData() {
        let canWriteData = false;
        if (this.user) {
            const grantedPermissionIndex = this.user.permissions.permissionsGranted.findIndex(c => c === this.permissions.canWriteData);
            canWriteData = grantedPermissionIndex > -1;
        }
        return canWriteData;
    }
    handleAction(response) {
        this.showValuationErrorsButton = response;
    }
    openModal() {
        if (this.actionSelected === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].BuildingValuation) {
            this.buildingValuationComponent.open(true, this.selectedBuildings);
        }
        else if (this.actionSelected === _enums_quality_control_actions__WEBPACK_IMPORTED_MODULE_8__["QualityControlActions"].FloodPlanValuation) {
            this.floodPlainValuationComponent.open(true, this.selectedBuildings);
        }
    }
    contentReferenceDataLoaded() {
        return !!this.qualityControlService.status && !!this.qualityControlService.activityCodeOptions &&
            !!this.qualityControlService.assetFileSummary && !!this.qualityControlService.accountOptions;
    }
    buildingReferenceDataLoaded() {
        return !!this.qualityControlService.buildingSelectionOptions && !!this.qualityControlService.groupDepartmentOptions;
    }
    checkIfCanNavigateAway() {
        return this.canDeactivateService.canDeactivateComponent(this.editedRecords.length > 0);
    }
};
QualityControlFormComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_20__["Router"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbDropdownConfig"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_20__["ActivatedRoute"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_15__["UserStore"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_17__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_19__["ViewContainerRef"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_18__["CanDeactivateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_19__["ViewChild"])(_building_quality_control_building_grid_component__WEBPACK_IMPORTED_MODULE_10__["QualityControlBuildingGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _building_quality_control_building_grid_component__WEBPACK_IMPORTED_MODULE_10__["QualityControlBuildingGridComponent"])
], QualityControlFormComponent.prototype, "qualityControlBuildingGridComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_19__["ViewChild"])(_content_quality_control_content_grid_component__WEBPACK_IMPORTED_MODULE_11__["QualityControlContentGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _content_quality_control_content_grid_component__WEBPACK_IMPORTED_MODULE_11__["QualityControlContentGridComponent"])
], QualityControlFormComponent.prototype, "qualityControlContentGridComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_19__["ViewChild"])(_components_building_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_12__["BuildingValuationComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _components_building_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_12__["BuildingValuationComponent"])
], QualityControlFormComponent.prototype, "buildingValuationComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_19__["ViewChild"])(_components_building_actions_floodplain_valuation_component__WEBPACK_IMPORTED_MODULE_13__["FloodPlainValuationComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _components_building_actions_floodplain_valuation_component__WEBPACK_IMPORTED_MODULE_13__["FloodPlainValuationComponent"])
], QualityControlFormComponent.prototype, "floodPlainValuationComponent", void 0);
QualityControlFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_19__["Component"])({
        selector: 'quality-control-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./quality-control-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/quality-control-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_20__["Router"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbDropdownConfig"],
        _angular_router__WEBPACK_IMPORTED_MODULE_20__["ActivatedRoute"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_15__["UserStore"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_17__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_19__["ViewContainerRef"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_18__["CanDeactivateService"]])
], QualityControlFormComponent);



/***/ }),

/***/ "./client-src/app/quality-control/components/quality-control.component.ts":
/*!********************************************************************************!*\
  !*** ./client-src/app/quality-control/components/quality-control.component.ts ***!
  \********************************************************************************/
/*! exports provided: QualityControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlComponent", function() { return QualityControlComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _reconciliation_services_inventory_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../reconciliation/services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");















let QualityControlComponent = class QualityControlComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_7__["ComponentCanDeactivate"] {
    constructor(qualityControlService, route, inventoryServiceRuntime, buildingInfoService, inventoryService, assetFileInfoService, router, alertService, canDeactivateService, famisGridservice) {
        super();
        this.qualityControlService = qualityControlService;
        this.route = route;
        this.inventoryServiceRuntime = inventoryServiceRuntime;
        this.buildingInfoService = buildingInfoService;
        this.inventoryService = inventoryService;
        this.assetFileInfoService = assetFileInfoService;
        this.router = router;
        this.alertService = alertService;
        this.canDeactivateService = canDeactivateService;
        this.famisGridservice = famisGridservice;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.isLoading = true;
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
        this.editedRecords = new Array();
    }
    ngOnInit() {
        this.famisGridservice.editedRecords$.subscribe(editedRecords => {
            this.editedRecords = editedRecords;
        });
        this.qualityControlService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        // API querys
        this.qualityControlService.getStatus(this.qualityControlService.groupId).subscribe(status => {
            if (status) {
                this.qualityControlService.statisExists = status.exists;
                if (status.exists) {
                    this.qualityControlService.status = status;
                    this.inventoryServiceRuntime
                        .getSearchMetadataByGroupId(this.qualityControlService.groupId, status.dataTarget)
                        .subscribe(assetFileSummary => {
                        this.qualityControlService.assetFileSummary = assetFileSummary;
                    });
                }
            }
            const getActivityCodes = this.qualityControlService.getActivityCodes();
            const getDepreciationConventions = this.qualityControlService.getDepreciationConventions();
            const getDepreciationMethods = this.qualityControlService.getDepreciationMethods();
            const getBuildingHierarchy = this.buildingInfoService.getBuildingHierarchyByGroupId(this.qualityControlService.groupId);
            const getGroupDepartmentOptions = this.inventoryService.getGroupDepartmentsOptions(this.qualityControlService.groupId);
            const getAccountData = this.qualityControlService.getAccountData(this.qualityControlService.groupId);
            Object(rxjs__WEBPACK_IMPORTED_MODULE_12__["forkJoin"])(getActivityCodes, getBuildingHierarchy, getGroupDepartmentOptions, getAccountData, getDepreciationConventions, getDepreciationMethods)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["takeUntil"])(this.destroyed$))
                .subscribe(([activityCodes, buildingHierarchy, groupDepartmentOptions, accountData, depreciationConventions, depreciationMethods]) => {
                if (activityCodes && buildingHierarchy && groupDepartmentOptions && accountData && depreciationConventions && depreciationMethods) {
                    this.qualityControlService.buildingSelectionOptions = this.buildingInfoService.mapSitesToSelectOptions(buildingHierarchy);
                    this.qualityControlService.groupDepartmentOptions = groupDepartmentOptions;
                    this.qualityControlService.activityCodeOptions = this.assetFileInfoService.mapEnumResult(activityCodes.result.enumOptions);
                    this.qualityControlService.depreciationConventionOptions = this.assetFileInfoService.mapEnumResult(depreciationConventions.result.enumOptions);
                    this.qualityControlService.depreciationMethodOptions = this.assetFileInfoService.mapEnumResult(depreciationMethods.result.enumOptions);
                    if (!this.qualityControlService.accountOptions) {
                        this.qualityControlService.accountOptions = new Array();
                        accountData.forEach(account => {
                            this.qualityControlService.accountOptions.push({ key: account.id, displayName: account.accountDescription });
                        });
                    }
                }
            }, error => {
                this.alertService.error('An error has occurred');
            });
            this.dataTarget = status.dataTarget;
            this.qualityControlService.dataTarget = status.dataTarget;
            this.isLoading = false;
        });
    }
    ngOnDestroy() { }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateForm(null, this.editedRecords.length > 0);
    }
    navigateToImportData(event) {
        event.preventDefault();
        this.router.navigate([`project-profile/${this.qualityControlService.groupId}/DataImport`]);
    }
    hasRequiredData() {
        const hasRequiredData = !!this.qualityControlService.buildingSelectionOptions &&
            !!this.qualityControlService.groupDepartmentOptions &&
            !!this.qualityControlService.accountOptions &&
            !!this.qualityControlService.activityCodeOptions &&
            !!this.qualityControlService.depreciationConventionOptions;
        return hasRequiredData;
    }
};
QualityControlComponent.ctorParameters = () => [
    { type: _services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["ActivatedRoute"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_14__["InventoryApiService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_2__["BuildingInfoService"] },
    { type: _reconciliation_services_inventory_service__WEBPACK_IMPORTED_MODULE_3__["ReconciliationInventoryService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_4__["AssetFileInfoService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_8__["CanDeactivateService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_9__["FamisGridService"] }
];
QualityControlComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["Component"])({
        selector: 'quality-control',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./quality-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/quality-control.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["ActivatedRoute"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_14__["InventoryApiService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_2__["BuildingInfoService"],
        _reconciliation_services_inventory_service__WEBPACK_IMPORTED_MODULE_3__["ReconciliationInventoryService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_4__["AssetFileInfoService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_8__["CanDeactivateService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_9__["FamisGridService"]])
], QualityControlComponent);



/***/ }),

/***/ "./client-src/app/quality-control/enums/quality-control-actions.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/quality-control/enums/quality-control-actions.ts ***!
  \*************************************************************************/
/*! exports provided: QualityControlActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlActions", function() { return QualityControlActions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var QualityControlActions;
(function (QualityControlActions) {
    QualityControlActions[QualityControlActions["RetireAsset"] = 0] = "RetireAsset";
    QualityControlActions[QualityControlActions["TransferAsset"] = 1] = "TransferAsset";
    QualityControlActions[QualityControlActions["CostAdjustment"] = 2] = "CostAdjustment";
    QualityControlActions[QualityControlActions["BuildingValuation"] = 3] = "BuildingValuation";
    QualityControlActions[QualityControlActions["FloodPlanValuation"] = 4] = "FloodPlanValuation";
})(QualityControlActions || (QualityControlActions = {}));


/***/ }),

/***/ "./client-src/app/quality-control/enums/quality-control-modes.ts":
/*!***********************************************************************!*\
  !*** ./client-src/app/quality-control/enums/quality-control-modes.ts ***!
  \***********************************************************************/
/*! exports provided: QualityControlModes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlModes", function() { return QualityControlModes; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var QualityControlModes;
(function (QualityControlModes) {
    QualityControlModes[QualityControlModes["Content"] = 0] = "Content";
    QualityControlModes[QualityControlModes["Buildings"] = 1] = "Buildings";
})(QualityControlModes || (QualityControlModes = {}));


/***/ }),

/***/ "./client-src/app/quality-control/quality-control.module.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/quality-control/quality-control.module.ts ***!
  \******************************************************************/
/*! exports provided: QualityControlModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlModule", function() { return QualityControlModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var _services_quality_control_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _components_quality_control_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/quality-control.component */ "./client-src/app/quality-control/components/quality-control.component.ts");
/* harmony import */ var _components_quality_control_form_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/quality-control-form.component */ "./client-src/app/quality-control/components/quality-control-form.component.ts");
/* harmony import */ var _components_mass_update_mass_update_form_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/mass-update/mass-update-form.component */ "./client-src/app/quality-control/components/mass-update/mass-update-form.component.ts");
/* harmony import */ var _components_mass_update_mass_update_criteria_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/mass-update/mass-update-criteria.component */ "./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.ts");
/* harmony import */ var _components_mass_update_mass_update_results_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/mass-update/mass-update-results.component */ "./client-src/app/quality-control/components/mass-update/mass-update-results.component.ts");
/* harmony import */ var _services_mass_update_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/mass-update.service */ "./client-src/app/quality-control/services/mass-update.service.ts");
/* harmony import */ var _services_duplicate_check_duplicate_check_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/duplicate-check/duplicate-check.service */ "./client-src/app/quality-control/services/duplicate-check/duplicate-check.service.ts");
/* harmony import */ var _components_actions_asset_retirement_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/actions/asset-retirement.component */ "./client-src/app/quality-control/components/actions/asset-retirement.component.ts");
/* harmony import */ var _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/actions/quality-control-actions.service */ "./client-src/app/quality-control/services/actions/quality-control-actions.service.ts");
/* harmony import */ var _components_actions_asset_transfer_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/actions/asset-transfer.component */ "./client-src/app/quality-control/components/actions/asset-transfer.component.ts");
/* harmony import */ var _components_actions_cost_adjustment_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/actions/cost-adjustment.component */ "./client-src/app/quality-control/components/actions/cost-adjustment.component.ts");
/* harmony import */ var _components_duplicate_check_duplicate_check_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/duplicate-check/duplicate-check.component */ "./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.ts");
/* harmony import */ var _components_content_actions_add_content_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/content/actions/add-content.component */ "./client-src/app/quality-control/components/content/actions/add-content.component.ts");
/* harmony import */ var _components_content_quality_control_content_grid_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/content/quality-control-content-grid.component */ "./client-src/app/quality-control/components/content/quality-control-content-grid.component.ts");
/* harmony import */ var _components_building_quality_control_building_grid_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/building/quality-control-building-grid.component */ "./client-src/app/quality-control/components/building/quality-control-building-grid.component.ts");
/* harmony import */ var _services_buildings_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./services/buildings.service */ "./client-src/app/quality-control/services/buildings.service.ts");
/* harmony import */ var _components_content_actions_edit_content_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/content/actions/edit-content.component */ "./client-src/app/quality-control/components/content/actions/edit-content.component.ts");
/* harmony import */ var _components_content_actions_mass_update_content_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/content/actions/mass-update-content.component */ "./client-src/app/quality-control/components/content/actions/mass-update-content.component.ts");
/* harmony import */ var _components_building_actions_mass_update_building_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/building/actions/mass-update-building.component */ "./client-src/app/quality-control/components/building/actions/mass-update-building.component.ts");
/* harmony import */ var _services_valuation_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./services/valuation-service */ "./client-src/app/quality-control/services/valuation-service.ts");
/* harmony import */ var _components_building_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/building/actions/building-valuation.component */ "./client-src/app/quality-control/components/building/actions/building-valuation.component.ts");
/* harmony import */ var _components_building_actions_floodplain_valuation_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/building/actions/floodplain-valuation.component */ "./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _components_content_actions_view_content_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/content/actions/view-content.component */ "./client-src/app/quality-control/components/content/actions/view-content.component.ts");
/* harmony import */ var _progress_kendo_angular_inputs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @progress/kendo-angular-inputs */ "./node_modules/@progress/kendo-angular-inputs/dist/fesm2015/index.js");
/* harmony import */ var _services_additional_data_additional_data_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./services/additional-data/additional-data.service */ "./client-src/app/quality-control/services/additional-data/additional-data.service.ts");
/* harmony import */ var _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./services/additional-data/additional-data-grid.service */ "./client-src/app/quality-control/services/additional-data/additional-data-grid.service.ts");
/* harmony import */ var _services_building_attribute_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./services/building-attribute.service */ "./client-src/app/quality-control/services/building-attribute.service.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_additional_data_additional_building_equipment_grid_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component.ts");
/* harmony import */ var _components_building_form_building_form_group_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/building/form/building-form-group.component */ "./client-src/app/quality-control/components/building/form/building-form-group.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_user_factor_grid_user_factor_grid_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_custom_additions_actions_upsert_customaddition_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_user_factor_grid_actions_upsert_userfactor_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_custom_additions_actions_remove_customaddition_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_user_factor_grid_actions_remove_userfactor_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component.ts");
/* harmony import */ var _components_building_form_building_form_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./components/building/form/building-form.component */ "./client-src/app/quality-control/components/building/form/building-form.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_building_attributes_building_attributes_grid_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_building_attributes_upsert_building_attribute_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_additional_data_upsert_building_addition_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_occupancy_codes_upsert_occupancy_code_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_occupancy_codes_occupancy_codes_grid_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component.ts");
/* harmony import */ var _components_building_form_dynamic_data_grids_custom_additions_custom_additions_grid_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component */ "./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component.ts");
/* harmony import */ var _nicky_lenaers_ngx_scroll_to__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @nicky-lenaers/ngx-scroll-to */ "./node_modules/@nicky-lenaers/ngx-scroll-to/fesm2015/nicky-lenaers-ngx-scroll-to.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../_api/_runtime/services/quality-control-api.service */ "./client-src/app/_api/_runtime/services/quality-control-api.service.ts");
/* harmony import */ var _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../_api/_runtime/services/calculation-api.service */ "./client-src/app/_api/_runtime/services/calculation-api.service.ts");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");































// TODO: Refactor this
// import { ViewBuildingComponent } from './components/building/actions/view-building.component';



// tslint:disable-next-line:max-line-length




// tslint:disable-next-line:max-line-length


// tslint:disable-next-line:max-line-length

// tslint:disable-next-line:max-line-length


// tslint:disable-next-line:max-line-length


// tslint:disable-next-line:max-line-length



// tslint:disable-next-line:max-line-length











let QualityControlModule = class QualityControlModule {
};
QualityControlModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _core_core_module__WEBPACK_IMPORTED_MODULE_29__["CoreModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_4__["DateInputsModule"],
            _progress_kendo_angular_inputs__WEBPACK_IMPORTED_MODULE_31__["InputsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_50__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_51__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_51__["ReactiveFormsModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_52__["OrderModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_51__["FormsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_3__["SharedModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_53__["LaddaModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_4__["DatePickerModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_28__["NgbModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_54__["GridModule"],
            _nicky_lenaers_ngx_scroll_to__WEBPACK_IMPORTED_MODULE_49__["ScrollToModule"].forRoot(),
        ],
        declarations: [
            _components_quality_control_component__WEBPACK_IMPORTED_MODULE_6__["QualityControlComponent"],
            _components_quality_control_form_component__WEBPACK_IMPORTED_MODULE_7__["QualityControlFormComponent"],
            _components_mass_update_mass_update_form_component__WEBPACK_IMPORTED_MODULE_8__["MassUpdateFormComponent"],
            _components_mass_update_mass_update_criteria_component__WEBPACK_IMPORTED_MODULE_9__["MassUpdateCriteriaComponent"],
            _components_mass_update_mass_update_results_component__WEBPACK_IMPORTED_MODULE_10__["MassUpdateResultsComponent"],
            _components_actions_asset_retirement_component__WEBPACK_IMPORTED_MODULE_13__["AssetRetirementComponent"],
            _components_actions_asset_transfer_component__WEBPACK_IMPORTED_MODULE_15__["AssetTransferComponent"],
            _components_actions_cost_adjustment_component__WEBPACK_IMPORTED_MODULE_16__["CostAdjustmentComponent"],
            _components_duplicate_check_duplicate_check_component__WEBPACK_IMPORTED_MODULE_17__["DuplicateCheckComponent"],
            _components_content_actions_add_content_component__WEBPACK_IMPORTED_MODULE_18__["AddContentComponent"],
            _components_content_quality_control_content_grid_component__WEBPACK_IMPORTED_MODULE_19__["QualityControlContentGridComponent"],
            _components_building_quality_control_building_grid_component__WEBPACK_IMPORTED_MODULE_20__["QualityControlBuildingGridComponent"],
            _components_content_actions_edit_content_component__WEBPACK_IMPORTED_MODULE_22__["EditContentComponent"],
            _components_content_actions_mass_update_content_component__WEBPACK_IMPORTED_MODULE_23__["MassUpdateContentComponent"],
            _components_building_actions_mass_update_building_component__WEBPACK_IMPORTED_MODULE_24__["MassUpdateBuildingComponent"],
            _components_content_actions_view_content_component__WEBPACK_IMPORTED_MODULE_30__["ViewContentComponent"],
            // ViewBuildingComponent,
            _components_building_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_26__["BuildingValuationComponent"],
            _components_building_actions_floodplain_valuation_component__WEBPACK_IMPORTED_MODULE_27__["FloodPlainValuationComponent"],
            _components_building_form_dynamic_data_grids_additional_data_additional_building_equipment_grid_component__WEBPACK_IMPORTED_MODULE_35__["AdditionalBuildingEquipmentComponent"],
            _components_building_form_building_form_group_component__WEBPACK_IMPORTED_MODULE_36__["BuildingFormGroupComponent"],
            _components_building_form_dynamic_data_grids_user_factor_grid_user_factor_grid_component__WEBPACK_IMPORTED_MODULE_37__["UserFactorGridComponent"],
            _components_building_form_dynamic_data_grids_custom_additions_custom_additions_grid_component__WEBPACK_IMPORTED_MODULE_48__["CustomAdditionsGridComponent"],
            _components_building_form_dynamic_data_grids_custom_additions_actions_upsert_customaddition_component__WEBPACK_IMPORTED_MODULE_38__["UpsertCustomAdditionComponent"],
            _components_building_form_dynamic_data_grids_user_factor_grid_actions_upsert_userfactor_component__WEBPACK_IMPORTED_MODULE_39__["UpsertUserFactorComponent"],
            _components_building_form_dynamic_data_grids_custom_additions_actions_remove_customaddition_component__WEBPACK_IMPORTED_MODULE_40__["RemoveCustomAdditionComponent"],
            _components_building_form_dynamic_data_grids_user_factor_grid_actions_remove_userfactor_component__WEBPACK_IMPORTED_MODULE_41__["RemoveUserFactorComponent"],
            _components_building_form_building_form_component__WEBPACK_IMPORTED_MODULE_42__["UpsertBuildingComponent"],
            _components_building_form_dynamic_data_grids_building_attributes_building_attributes_grid_component__WEBPACK_IMPORTED_MODULE_43__["BuildingAttributesGridComponent"],
            _components_building_form_dynamic_data_grids_building_attributes_upsert_building_attribute_component__WEBPACK_IMPORTED_MODULE_44__["UpsertBuildingAttributeComponent"],
            _components_building_form_dynamic_data_grids_additional_data_upsert_building_addition_component__WEBPACK_IMPORTED_MODULE_45__["UpsertBuildingAdditionComponent"],
            _components_building_form_dynamic_data_grids_occupancy_codes_upsert_occupancy_code_component__WEBPACK_IMPORTED_MODULE_46__["UpsertOccupancyCodesComponent"],
            _components_building_form_dynamic_data_grids_occupancy_codes_occupancy_codes_grid_component__WEBPACK_IMPORTED_MODULE_47__["OccupancyCodesGridComponent"]
        ],
        entryComponents: [
            _components_actions_asset_retirement_component__WEBPACK_IMPORTED_MODULE_13__["AssetRetirementComponent"],
            _components_actions_asset_transfer_component__WEBPACK_IMPORTED_MODULE_15__["AssetTransferComponent"],
            _components_actions_cost_adjustment_component__WEBPACK_IMPORTED_MODULE_16__["CostAdjustmentComponent"],
            _components_building_actions_building_valuation_component__WEBPACK_IMPORTED_MODULE_26__["BuildingValuationComponent"],
            _components_building_actions_floodplain_valuation_component__WEBPACK_IMPORTED_MODULE_27__["FloodPlainValuationComponent"],
            _components_building_form_dynamic_data_grids_custom_additions_actions_upsert_customaddition_component__WEBPACK_IMPORTED_MODULE_38__["UpsertCustomAdditionComponent"],
            _components_building_form_dynamic_data_grids_user_factor_grid_actions_upsert_userfactor_component__WEBPACK_IMPORTED_MODULE_39__["UpsertUserFactorComponent"],
            _components_building_form_dynamic_data_grids_custom_additions_actions_remove_customaddition_component__WEBPACK_IMPORTED_MODULE_40__["RemoveCustomAdditionComponent"],
            _components_building_form_dynamic_data_grids_user_factor_grid_actions_remove_userfactor_component__WEBPACK_IMPORTED_MODULE_41__["RemoveUserFactorComponent"],
            _components_building_form_dynamic_data_grids_building_attributes_upsert_building_attribute_component__WEBPACK_IMPORTED_MODULE_44__["UpsertBuildingAttributeComponent"],
            _components_building_form_building_form_group_component__WEBPACK_IMPORTED_MODULE_36__["BuildingFormGroupComponent"],
            _components_building_form_dynamic_data_grids_additional_data_upsert_building_addition_component__WEBPACK_IMPORTED_MODULE_45__["UpsertBuildingAdditionComponent"],
            _components_building_form_dynamic_data_grids_occupancy_codes_upsert_occupancy_code_component__WEBPACK_IMPORTED_MODULE_46__["UpsertOccupancyCodesComponent"]
        ],
        providers: [
            _services_quality_control_service__WEBPACK_IMPORTED_MODULE_5__["QualityControlService"],
            _services_mass_update_service__WEBPACK_IMPORTED_MODULE_11__["MassUpdateService"],
            _services_actions_quality_control_actions_service__WEBPACK_IMPORTED_MODULE_14__["QualityControlActionsService"],
            _services_duplicate_check_duplicate_check_service__WEBPACK_IMPORTED_MODULE_12__["DuplicateCheckService"],
            _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_55__["QualityControlApiService"],
            _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_56__["CalculationApiService"],
            _services_buildings_service__WEBPACK_IMPORTED_MODULE_21__["BuildingsService"],
            _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_57__["InsuranceApiService"],
            _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_58__["GroupApiService"],
            _services_valuation_service__WEBPACK_IMPORTED_MODULE_25__["ValuationService"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_28__["NgbActiveModal"],
            _services_additional_data_additional_data_service__WEBPACK_IMPORTED_MODULE_32__["AdditionalDataService"],
            _services_additional_data_additional_data_grid_service__WEBPACK_IMPORTED_MODULE_33__["AdditionalDataGridService"],
            _services_building_attribute_service__WEBPACK_IMPORTED_MODULE_34__["BuildingAttributeService"]
        ]
    })
], QualityControlModule);



/***/ }),

/***/ "./client-src/app/quality-control/services/actions/quality-control-actions.service.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/quality-control/services/actions/quality-control-actions.service.ts ***!
  \********************************************************************************************/
/*! exports provided: QualityControlActionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlActionsService", function() { return QualityControlActionsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");



let QualityControlActionsService = class QualityControlActionsService {
    constructor(insuranceApiService) {
        this.insuranceApiService = insuranceApiService;
    }
    processTransaction(dto) {
        return this.insuranceApiService.createTransaction(dto);
    }
};
QualityControlActionsService.ctorParameters = () => [
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_2__["InsuranceApiService"] }
];
QualityControlActionsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_2__["InsuranceApiService"]])
], QualityControlActionsService);



/***/ }),

/***/ "./client-src/app/quality-control/services/additional-data/additional-data-grid.service.ts":
/*!*************************************************************************************************!*\
  !*** ./client-src/app/quality-control/services/additional-data/additional-data-grid.service.ts ***!
  \*************************************************************************************************/
/*! exports provided: AdditionalDataGridService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalDataGridService", function() { return AdditionalDataGridService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");





let AdditionalDataGridService = class AdditionalDataGridService {
    constructor(referenceDataApiService, helperService) {
        this.referenceDataApiService = referenceDataApiService;
        this.helperService = helperService;
    }
    initBuildingAdditionGrid(building, referenceData) {
        this.currentBuilding = building;
        this.buildingAdditionFields = referenceData;
        const buildingAdditionViews = new Array();
        if (building && building.buildingSelectedAdditions) {
            building.buildingSelectedAdditions.forEach(addition => {
                const referenceCriteria = referenceData.find(c => c.criteria.id === addition.referenceBuildingAdditionCriterionId);
                if (referenceCriteria && !this.isAdditionChild(addition)) {
                    const vm = {};
                    vm.totalCost = addition.totalCost;
                    vm.quantity = addition.quantity;
                    vm.id = addition.id;
                    vm.groupDescription = referenceCriteria.groupDto.description;
                    vm.categoryDescription = referenceCriteria.categoryDto.description;
                    vm.categoryCode = referenceCriteria.categoryDto.code;
                    vm.criteriaSummary = this.getCriteriaSummary(addition);
                    vm.adjustmentSummary = this.getAdjustmentSummary(addition);
                    if (addition.childAdditionCriterionId) {
                        vm.childCriterionAdditionId = addition.childAdditionCriterionId;
                    }
                    buildingAdditionViews.push(vm);
                }
            });
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(buildingAdditionViews);
    }
    isAdditionChild(addition) {
        const isChild = this.currentBuilding.buildingSelectedAdditions.findIndex(c => c.childAdditionCriterionId === addition.id) !== -1;
        return isChild;
    }
    getAdjustmentSummary(addition) {
        const adjustmentSummary = new Array();
        if (addition.buildingSelectedAdjustments) {
            addition.buildingSelectedAdjustments.forEach(a => {
                const selectedCriteria = this.buildingAdditionFields.find(c => c.criteria.id === addition.referenceBuildingAdditionCriterionId);
                console.log(a, 'Adjustment');
                const adjustmentsforCategory = selectedCriteria.categoryDto.referenceBuildingAdditionAdjustmentDtos;
                console.log(adjustmentsforCategory, 'Adjustments for Category');
                adjustmentSummary.push({
                    id: a.id,
                    criteriaId: a.referenceBuildingAdditionAdjustmentId,
                    description: adjustmentsforCategory.
                        find(c => c.id === a.referenceBuildingAdditionAdjustmentId).referenceBuildingAdjustmentDto.description,
                    value: a.value,
                    totalCost: addition.totalCost
                });
            });
        }
        return adjustmentSummary;
    }
    getCriteriaSummary(addition) {
        let currentAddition = addition;
        const criteriaSummary = new Array();
        let selectedCriteria = this.buildingAdditionFields.find(c => c.criteria.id === addition.referenceBuildingAdditionCriterionId);
        let vm = {
            id: addition.id,
            criteriaId: addition.referenceBuildingAdditionCriterionId,
            description: selectedCriteria.criteria.description ? selectedCriteria.criteria.description : '',
            value: addition.criterionValue,
            totalCost: addition.totalCost
        };
        criteriaSummary.push(vm);
        currentAddition = this.getAdditionById(addition.childAdditionCriterionId);
        while (currentAddition) {
            selectedCriteria = this.buildingAdditionFields.find(c => c.criteria.id === currentAddition.referenceBuildingAdditionCriterionId);
            vm = {
                id: currentAddition.id,
                criteriaId: currentAddition.referenceBuildingAdditionCriterionId,
                description: selectedCriteria.criteria.description,
                value: currentAddition.criterionValue,
                totalCost: addition.totalCost
            };
            criteriaSummary.push(vm);
            currentAddition = this.getAdditionById(currentAddition.childAdditionCriterionId);
        }
        return criteriaSummary;
    }
    getAdditionById(id) {
        return this.currentBuilding.buildingSelectedAdditions.find(c => c.id === id);
    }
};
AdditionalDataGridService.ctorParameters = () => [
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] }
];
AdditionalDataGridService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"]])
], AdditionalDataGridService);



/***/ }),

/***/ "./client-src/app/quality-control/services/additional-data/additional-data.service.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/quality-control/services/additional-data/additional-data.service.ts ***!
  \********************************************************************************************/
/*! exports provided: AdditionalDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalDataService", function() { return AdditionalDataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");





// TODO: Add Additional data recipe at the top
// Consider breaking it up in multiple classes one that manages
let AdditionalDataService = class AdditionalDataService {
    constructor(referenceDataApiService, helperService) {
        this.referenceDataApiService = referenceDataApiService;
        this.helperService = helperService;
        this.buildingAdditionGroupsSource = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](new Array());
        this.buildingAdditionGroups$ = this.buildingAdditionGroupsSource.asObservable();
        this.flattenedData = new Array();
    }
    initBuildingAdditionGroups() {
        this.referenceDataApiService.getBuildingAdditionGroups().subscribe(buildingAdditionGroups => {
            const flattend = this.flattenReferenceData(buildingAdditionGroups.result);
            this.flattenedData = flattend;
            this.buildingAdditionGroupsSource.next(buildingAdditionGroups.result);
        });
    }
    flattenReferenceData(referenceData) {
        const result = [];
        referenceData.forEach(group => {
            group.referenceBuildingAdditionCategoryDtos.forEach(category => {
                category.referenceBuildingAdditionCriterionDtos.forEach(criteria => {
                    result.push({ groupDto: group, categoryDto: category, criteria: criteria });
                });
            });
        });
        return result;
    }
};
AdditionalDataService.ctorParameters = () => [
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] }
];
AdditionalDataService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"], _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"]])
], AdditionalDataService);



/***/ }),

/***/ "./client-src/app/quality-control/services/building-attribute.service.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/quality-control/services/building-attribute.service.ts ***!
  \*******************************************************************************/
/*! exports provided: BuildingAttributeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingAttributeService", function() { return BuildingAttributeService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _components_building_form_form_models_primary_info_building_attributes_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/building/form/form-models/primary-info/building-attributes-model */ "./client-src/app/quality-control/components/building/form/form-models/primary-info/building-attributes-model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let BuildingAttributeService = class BuildingAttributeService {
    constructor() { }
    initBuildingAdditions(building) {
        const dynamicAttributes = _components_building_form_form_models_primary_info_building_attributes_model__WEBPACK_IMPORTED_MODULE_1__["BuildingAttributeFields"].sort(c => c.order);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(dynamicAttributes);
    }
};
BuildingAttributeService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], BuildingAttributeService);



/***/ }),

/***/ "./client-src/app/quality-control/services/buildings.service.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/quality-control/services/buildings.service.ts ***!
  \**********************************************************************/
/*! exports provided: BuildingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuildingsService", function() { return BuildingsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");




let BuildingsService = class BuildingsService {
    constructor(insuranceApiService) {
        this.insuranceApiService = insuranceApiService;
        this.buildingRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({});
        this.buildingRequest$ = this.buildingRequestSource.asObservable();
        this.attributeOptionsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.attributeOptions$ = this.attributeOptionsSource.asObservable();
    }
    createBuilding(buildingDto, groupId) {
        return this.insuranceApiService.createBuilding(groupId, buildingDto, true);
    }
    updateBuilding(id, buildingDto) {
        if (buildingDto.siteId && buildingDto.siteId.indexOf(',') > 0) {
            buildingDto.siteId = buildingDto.siteId.split(',')[1];
        }
        return this.insuranceApiService.updateBuilding(id, buildingDto, true);
    }
    getBuilding(buildingId) {
        return this.insuranceApiService.getBuilding(buildingId);
    }
    setBuildingRequestSource(dto) {
        this.buildingRequestSource.next(dto);
    }
    updateOptions(id, options) {
        const current = this.attributeOptionsSource.getValue();
        current[id] = options;
        this.attributeOptionsSource.next(current);
    }
};
BuildingsService.ctorParameters = () => [
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_3__["InsuranceApiService"] }
];
BuildingsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_3__["InsuranceApiService"]])
], BuildingsService);



/***/ }),

/***/ "./client-src/app/quality-control/services/duplicate-check/duplicate-check.service.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/quality-control/services/duplicate-check/duplicate-check.service.ts ***!
  \********************************************************************************************/
/*! exports provided: DuplicateCheckService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DuplicateCheckService", function() { return DuplicateCheckService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _quality_control_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_api/_runtime/services/quality-control-api.service */ "./client-src/app/_api/_runtime/services/quality-control-api.service.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");






let DuplicateCheckService = class DuplicateCheckService {
    constructor(qualityControlApiService, inventoryApiService, qualityControlService) {
        this.qualityControlApiService = qualityControlApiService;
        this.inventoryApiService = inventoryApiService;
        this.qualityControlService = qualityControlService;
        this.duplicateCheckRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]({});
        this.duplicateCheckRequest$ = this.duplicateCheckRequestSource.asObservable();
        this.defaultResultsSortTerms = [{ termOrder: 0, sortDirection: 0, field: 'manufacturer' }];
        this.defaultDuplicateCheckSortTerms = [{ termOrder: 0, sortDirection: 1, field: 'count' }];
    }
    updateDuplicateCheckResults(groupId, field, dataTarget, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const s = this;
        const current = this.duplicateCheckRequestSource.getValue();
        const defaultFilter = {
            term: { dataTarget: this.qualityControlService.dataTarget, field: '', value: '' },
            operation: 'noop'
        };
        const request = {
            field: field,
            sortTerms: !!sortTerms ? sortTerms : s.defaultDuplicateCheckSortTerms,
            skip: skip,
            take: take,
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : [defaultFilter],
            filterConjunction: 'and'
        };
        return this.qualityControlApiService.duplicateCheck(groupId, request);
    }
    updateDuplicateSummary(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const defaultFilter = {
            term: { dataTarget: this.qualityControlService.dataTarget, field: '', value: '' },
            operation: 'noop'
        };
        const searchRequest = {
            fieldMatchTerms: [],
            fieldMatchConjunction: 'and',
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : [defaultFilter],
            filterConjunction: 'and',
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultResultsSortTerms,
            skip: skip,
            take: take
        };
        return this.inventoryApiService.search(groupId, searchRequest);
    }
    setDuplicateCheckRequest(request) {
        this.duplicateCheckRequestSource.next(request);
    }
};
DuplicateCheckService.ctorParameters = () => [
    { type: _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_4__["QualityControlApiService"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_5__["InventoryApiService"] },
    { type: _quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"] }
];
DuplicateCheckService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_4__["QualityControlApiService"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_5__["InventoryApiService"],
        _quality_control_service__WEBPACK_IMPORTED_MODULE_2__["QualityControlService"]])
], DuplicateCheckService);



/***/ }),

/***/ "./client-src/app/quality-control/services/mass-update.service.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/quality-control/services/mass-update.service.ts ***!
  \************************************************************************/
/*! exports provided: MassUpdateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassUpdateService", function() { return MassUpdateService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _quality_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quality-control.service */ "./client-src/app/quality-control/services/quality-control.service.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enums/quality-control-modes */ "./client-src/app/quality-control/enums/quality-control-modes.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/_runtime/services/quality-control-api.service */ "./client-src/app/_api/_runtime/services/quality-control-api.service.ts");








let MassUpdateService = class MassUpdateService {
    constructor(qualityControlApiService, qualityControlService, filterOperationsService, referenceDataApiService) {
        this.qualityControlApiService = qualityControlApiService;
        this.qualityControlService = qualityControlService;
        this.filterOperationsService = filterOperationsService;
        this.referenceDataApiService = referenceDataApiService;
        this.replaceComponentState = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]({});
        this.currentReplaceComponentState = this.replaceComponentState.asObservable();
        this.massUpdateContextSource = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]({});
        this.massUpdateContext$ = this.massUpdateContextSource.asObservable();
        this.defaultSortTerms = [{ termOrder: 0, sortDirection: 0, field: 'id' }];
        this.defaultFilterTerms = [{
                operation: 'noop',
                term: {
                    dataTarget: this.getDataTarget(),
                    field: '',
                    value: ''
                }
            }];
        this.massUpdateCriteriaSearchSource = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]({
            fieldMatchTerms: [],
            fieldMatchConjunction: 'and',
            filterTerms: this.defaultFilterTerms,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: this.defaultSortTerms,
            skip: 0,
            take: 0
        });
        this.dateFields = [
            'acquisitionDate',
            'depreciationAsOfDate',
            'lastInventoryDate',
            'updatedTimeStamp'
        ];
        this.massUpdateCriteriaSearch$ = this.massUpdateCriteriaSearchSource.asObservable();
        this.massUpdateRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]({
            field: '',
            textReplaceValue: null,
            filterTerms: this.defaultFilterTerms,
            filterConjunction: 'and',
            sortTerms: this.defaultSortTerms
        });
        this.massUpdateRequest$ = this.massUpdateRequestSource.asObservable();
        this.resultsGridDataSource = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](new Array());
        this.resultsGridData$ = this.resultsGridDataSource.asObservable();
    }
    updateReplaceComponentState(message) {
        this.replaceComponentState.next(message);
    }
    getDataTarget() {
        const status = this.qualityControlService.status;
        if (status.exists) {
            return status.dataTarget;
        }
        else {
            this.qualityControlService.getStatus(this.qualityControlService.groupId).subscribe(res => {
                if (res && res.exists) {
                    return res.dataTarget;
                }
            });
        }
    }
    updateContextSource(defaultFilterTerm, filterMetaData) {
        const current = this.massUpdateContextSource.getValue();
        current.defaultFilterTerm = defaultFilterTerm;
        current.filterMetaData = filterMetaData;
        this.massUpdateContextSource.next(current);
    }
    addOrUpdateFilter(filterModified) {
        // Check if the field modified is a date field which uses kendo date picker,
        // ensure the final value is a Date not a string to prevent the control from
        // throwing exception.
        if (this.isDateField(filterModified.term.field) && filterModified.term.value) {
            filterModified.term.value = new Date(filterModified.term.value);
        }
        const current = this.massUpdateCriteriaSearchSource.getValue();
        current.filterTerms = this.filterOperationsService.updateFilter(filterModified, current.filterTerms);
        // console.log(current.filterTerms);
        this.massUpdateCriteriaSearchSource.next(current);
    }
    updateMassUpdateRequest(massUpdateRequest) {
        const current = this.massUpdateRequestSource.getValue();
        current.field = massUpdateRequest.field;
        current.textReplaceValue = massUpdateRequest.textReplaceValue;
        current.advancedReplaceOperation = massUpdateRequest.advancedReplaceOperation;
        this.massUpdateRequestSource.next(current);
    }
    removeFilter(id) {
        const current = this.massUpdateCriteriaSearchSource.getValue();
        current.filterTerms = this.filterOperationsService.removeFilter(id, current.filterTerms);
        this.massUpdateCriteriaSearchSource.next(current);
    }
    setMassUpdateDataSource(data) {
        this.resultsGridDataSource.next(data);
    }
    clearMassUpdateRequest(filterTerms) {
        const current = this.massUpdateRequestSource.getValue();
        current.field = '';
        current.textReplaceValue = null;
        current.filterTerms = filterTerms;
        current.filterConjunction = 'and';
        current.sortTerms = this.defaultSortTerms;
        this.massUpdateRequestSource.next(current);
    }
    clearTermsForFilterCriteria() {
        const current = this.massUpdateCriteriaSearchSource.getValue();
        current.filterTerms = [];
        this.massUpdateCriteriaSearchSource.next(current);
    }
    commitMassUpdate(mode) {
        const currentMassUpdateRequest = this.massUpdateRequestSource.getValue();
        const currentCriteriaSearchRequest = this.massUpdateCriteriaSearchSource.getValue();
        currentMassUpdateRequest.field = currentMassUpdateRequest.field.charAt(0).toUpperCase() + currentMassUpdateRequest.field.slice(1);
        currentMassUpdateRequest.filterTerms = currentCriteriaSearchRequest.filterTerms;
        if (currentMassUpdateRequest.filterTerms.length === 0) {
            this.defaultFilterTerms = [{
                    operation: 'noop', term: { dataTarget: this.getDataTarget(), field: '', value: '' }
                }];
            currentMassUpdateRequest.filterTerms = this.defaultFilterTerms;
        }
        if (mode === _enums_quality_control_modes__WEBPACK_IMPORTED_MODULE_3__["QualityControlModes"].Content) {
            return this.qualityControlApiService.executeMassContentUpdate(this.qualityControlService.groupId, currentMassUpdateRequest);
        }
        return this.qualityControlApiService.executeMassBuildingsUpdate(this.qualityControlService.groupId, currentMassUpdateRequest);
    }
    getActivityCodes() {
        return this.referenceDataApiService.getActivityCodes();
    }
    isDateField(field) {
        return this.dateFields.indexOf(field) !== -1;
    }
};
MassUpdateService.ctorParameters = () => [
    { type: _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_7__["QualityControlApiService"] },
    { type: _quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"] },
    { type: _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"] }
];
MassUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_7__["QualityControlApiService"],
        _quality_control_service__WEBPACK_IMPORTED_MODULE_1__["QualityControlService"],
        _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"]])
], MassUpdateService);



/***/ }),

/***/ "./client-src/app/quality-control/services/quality-control.service.ts":
/*!****************************************************************************!*\
  !*** ./client-src/app/quality-control/services/quality-control.service.ts ***!
  \****************************************************************************/
/*! exports provided: QualityControlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QualityControlService", function() { return QualityControlService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment-timezone */ "./node_modules/moment-timezone/index.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/_runtime/services/quality-control-api.service */ "./client-src/app/_api/_runtime/services/quality-control-api.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");











let QualityControlService = class QualityControlService {
    constructor(inventoryApiService, insuranceApiService, qualityControlApiService, referenceDataApiService, groupService, assetFileInfoService) {
        this.inventoryApiService = inventoryApiService;
        this.insuranceApiService = insuranceApiService;
        this.qualityControlApiService = qualityControlApiService;
        this.referenceDataApiService = referenceDataApiService;
        this.groupService = groupService;
        this.assetFileInfoService = assetFileInfoService;
        this.cachedRecordsSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.cachedRecords$ = this.cachedRecordsSource.asObservable();
        this.statisExists = true;
        this.groupSiteInfoSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.groupSiteInfo$ = this.groupSiteInfoSource.asObservable();
        this.groupDepartmentInfoSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.groupDepartmentInfo$ = this.groupDepartmentInfoSource.asObservable();
        this.groupAccountInfoSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new Array());
        this.groupAccountInfo$ = this.groupAccountInfoSource.asObservable();
        this.defaultSortTerms = [{ termOrder: 0, sortDirection: 1, field: 'SerialNumber' }];
        this.defaultBuildingSortTerms = [{ termOrder: 0, sortDirection: 1, field: 'buildingName' }];
        this.defaultBuildingFilterTerms = [];
        this.userTimeZone = moment_timezone__WEBPACK_IMPORTED_MODULE_2__["tz"].guess(true);
        this.minDate = moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"]('1900-01-02');
    }
    updateData(groupId, skip, take, sortTerms = new Array(), filterTerms = new Array(), source = null) {
        const defaultFilter = {
            term: { dataTarget: this.dataTarget, field: '', value: '' },
            operation: 'noop'
        };
        const searchRequest = {
            fieldMatchTerms: [],
            fieldMatchConjunction: 'and',
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : [defaultFilter],
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: take,
            source: source
        };
        return this.inventoryApiService.search(groupId, searchRequest);
    }
    getSearchMetadataByGroupId(groupId, fileType) {
        return this.inventoryApiService.getSearchMetadataByGroupId(groupId, fileType);
    }
    getConsolidatedFilePreview(groupId) {
        return this.inventoryApiService.getConsolidatedFilePreview(groupId);
    }
    getAccountData(groupId) {
        return this.inventoryApiService.getAccountsByGroupId(groupId);
    }
    getDepartmentData(groupId) {
        return this.inventoryApiService.getDepartmentsByGroupId(groupId);
    }
    getStatus(groupId) {
        {
            return this.qualityControlApiService.getStatus(groupId);
        }
    }
    getBuildingSearchMetadataByGroupId(groupId) {
        return this.insuranceApiService.getBuildingSearchMetadataByGroupId(groupId);
    }
    getActivityCodes() {
        return this.referenceDataApiService.getActivityCodes();
    }
    getDepreciationConventions() {
        return this.referenceDataApiService.getDepreciationConventions();
    }
    getDepreciationMethods() {
        return this.referenceDataApiService.getDepreciationMethods();
    }
    hasFiscalYearEnd() {
        return this.groupService.getGroup(this.groupId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(g => g.fiscalYearEnd !== null));
    }
    getAttributeTypesAndCodes() {
        return this.referenceDataApiService.getAttributeTypesAndCodes();
    }
    updateBuildingData(groupdId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : this.defaultBuildingFilterTerms,
            filterConjunction: 'and',
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultBuildingSortTerms,
            skip: skip,
            take: take
        };
        return this.insuranceApiService.searchBuildingsByGroup(groupdId, searchRequest);
    }
    updateGroupSiteInfo(groupSiteInfo) {
        this.groupSiteInfoSource.next(groupSiteInfo);
    }
    updateGroupDepartmentInfo(groupDepartmentsInfo) {
        this.groupDepartmentInfoSource.next(groupDepartmentsInfo);
    }
    updateGroupAccountInfo(groupAccountsInfo) {
        this.groupAccountInfoSource.next(groupAccountsInfo);
    }
    updateCachedRecord(asset, dataTarget) {
        const current = this.cachedRecordsSource.getValue();
        if (asset && current[dataTarget]) {
            const index = current[dataTarget].findIndex(i => i.assetId === asset.assetId);
            if (index !== -1) {
                for (const [key, value] of Object.entries(current[dataTarget][index])) {
                    if (key !== 'assetId' && key !== 'id' && asset[key]) {
                        current[dataTarget][index][key] = asset[key];
                    }
                }
            }
        }
        this.cachedRecordsSource.next(current);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(true);
    }
    createCachedRecord(asset, dataTarget) {
        const current = this.cachedRecordsSource.getValue();
        if (asset && current[dataTarget]) {
            let newAsset;
            if (current[dataTarget][0]) {
                // TODO: Var is forbidden in typescript use const or let
                newAsset = Object.assign({}, current[dataTarget][0]);
                for (const [key, value] of Object.entries(newAsset)) {
                    newAsset[key] = asset[key];
                }
            }
            newAsset.isMatched = false;
            newAsset.isChild = false;
            newAsset.isParent = false;
            newAsset.dataSource = dataTarget;
            current[dataTarget].unshift(newAsset);
        }
        this.cachedRecordsSource.next(current);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])(true);
    }
    calculateContentCostReproductionNew(contentCode, contentQuality, floorArea) {
        return this.qualityControlApiService
            .calculateContentCostReproductionNew(contentCode, contentQuality, floorArea).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    calculateBasementFloorArea(basementFinishedArea, basementUnfinishedArea) {
        return this.qualityControlApiService.calculateBasementFloorArea(basementFinishedArea, basementUnfinishedArea).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(c => c.result));
    }
    // TODO - Can be invoked from all the places that don't have piped date time values.
    convertToCurrentTimeZone(inputDate) {
        if (!moment_timezone__WEBPACK_IMPORTED_MODULE_2__(inputDate).isValid() || moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"](inputDate).isBefore(this.minDate)) {
            return '';
        }
        return moment_timezone__WEBPACK_IMPORTED_MODULE_2__["utc"](inputDate).tz(this.userTimeZone).format('YYYY-MM-DDThh:mm:ss');
    }
    mapDepartments(departments) {
        const selection = {
            fieldNames: this.assetFileInfoService.GetDepartmentColumns(),
            values: new Array()
        };
        departments.forEach(dep => {
            const option = {
                name: dep.departmentNumber + ' - ' + dep.description,
                value: dep.id
            };
            selection.values.push(option);
        });
        return selection;
    }
    mapAccounts(accounts) {
        const selection = {
            fieldNames: this.assetFileInfoService.GetAccountColumns(),
            values: new Array()
        };
        accounts.forEach(act => {
            const option = {
                name: act.accountNumber + ' - ' + act.accountDescription,
                value: act.id
            };
            selection.values.push(option);
        });
        return selection;
    }
    mapSiteAttributeTypesAndCodes(siteAttributeTypesAndCodes) {
        const selectionArr = new Array();
        siteAttributeTypesAndCodes.forEach((siteAttributeTypeAndCode) => {
            const camelCaseFieldName = siteAttributeTypeAndCode.name[0].toLowerCase() + siteAttributeTypeAndCode.name.substring(1);
            const selection = {
                fieldNames: [camelCaseFieldName],
                values: new Array(),
            };
            siteAttributeTypeAndCode.options.forEach((element) => {
                const options = {
                    name: element.description,
                    value: element.buildingAttributeCodeId,
                };
                selection.values.push(options);
            });
            selectionArr.push(selection);
        });
        return selectionArr;
    }
};
QualityControlService.ctorParameters = () => [
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_6__["InventoryApiService"] },
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_7__["InsuranceApiService"] },
    { type: _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_8__["QualityControlApiService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_9__["ReferenceDataApiService"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_10__["GroupApiService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"] }
];
QualityControlService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_6__["InventoryApiService"],
        _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_7__["InsuranceApiService"],
        _api_runtime_services_quality_control_api_service__WEBPACK_IMPORTED_MODULE_8__["QualityControlApiService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_9__["ReferenceDataApiService"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_10__["GroupApiService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"]])
], QualityControlService);



/***/ }),

/***/ "./client-src/app/quality-control/services/valuation-service.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/quality-control/services/valuation-service.ts ***!
  \**********************************************************************/
/*! exports provided: ValuationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValuationService", function() { return ValuationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");




let ValuationService = class ValuationService {
    constructor(insuranceApiService, referenceDataApiService) {
        this.insuranceApiService = insuranceApiService;
        this.referenceDataApiService = referenceDataApiService;
    }
    submitBuildingValuation(buildingIds) {
        return this.insuranceApiService.submitBuildingValuation(buildingIds);
    }
    submitFloodPlainValuation(buildingIds) {
        return this.insuranceApiService.submitFloodPlainValuation(buildingIds);
    }
    getBuildingValuationErrorMappings() {
        this.referenceDataApiService.getBuildingValuationErrorTypes().subscribe(errors => {
            this.buildingValuationErrors = errors;
        });
    }
    getFloodPlainValuationErrorMappings() {
        this.referenceDataApiService.getFloodPlainValuationErrorTypes().subscribe(errors => {
            this.floodPlainValuationErrors = errors;
        });
    }
};
ValuationService.ctorParameters = () => [
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_2__["InsuranceApiService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__["ReferenceDataApiService"] }
];
ValuationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_2__["InsuranceApiService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_3__["ReferenceDataApiService"]])
], ValuationService);



/***/ }),

/***/ "./client-src/app/recipients/components/actions/remove-recipient.component.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/recipients/components/actions/remove-recipient.component.ts ***!
  \************************************************************************************/
/*! exports provided: RemoveRecipientComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoveRecipientComponent", function() { return RemoveRecipientComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");





let RemoveRecipientComponent = class RemoveRecipientComponent {
    constructor(helperService) {
        this.helperService = helperService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.recipientDto = { id: '' };
        this.fieldMetaData = new Array();
        this.submitResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.fields = new Array();
    }
    ngOnInit() {
        this.fieldMetaData.forEach((field, index) => {
            this.defaultFormFields.push(this.mapMetaDataToField(field, index + 1));
        });
        this.form = this.helperService.toFormGroup(this.defaultFormFields);
    }
    remove() {
        this.isSaving = true;
        const recipientDto = Object.assign(this.form.value, { id: this.recipientDto.id });
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Remove, formGroup: this.form, dto: recipientDto });
    }
    cancel() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_4__["FormAction"].Cancel });
    }
    mapMetaDataToField(field, defaultOrder) {
        // console.log(this.recipientDto);
        return {
            id: field.name,
            type: field.fieldType,
            value: this.recipientDto ? this.mapValue(field, this.recipientDto[field.name]) : '',
            displayName: field.displayName,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder
        };
    }
    mapValue(field, value) {
        return value;
    }
};
RemoveRecipientComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] }
];
RemoveRecipientComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'remove-recipient',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./remove-recipient.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/actions/remove-recipient.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"]])
], RemoveRecipientComponent);



/***/ }),

/***/ "./client-src/app/recipients/components/actions/upsert-recipient.component.ts":
/*!************************************************************************************!*\
  !*** ./client-src/app/recipients/components/actions/upsert-recipient.component.ts ***!
  \************************************************************************************/
/*! exports provided: UpsertRecipientComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertRecipientComponent", function() { return UpsertRecipientComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");
/* harmony import */ var _api_runtime_enums_recipient_deliverable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_api/_runtime/enums/recipient-deliverable */ "./client-src/app/_api/_runtime/enums/recipient-deliverable.ts");







let UpsertRecipientComponent = class UpsertRecipientComponent {
    constructor(helperService, translateService) {
        this.helperService = helperService;
        this.translateService = translateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.fieldMetaData = new Array();
        this.submitResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.isSaving = false;
        this.defaultFormFields = new Array();
        this.fields = new Array();
    }
    ngOnInit() {
        this.fieldMetaData.forEach((field, index) => {
            this.defaultFormFields.push(this.mapMetaDataToField(field, index + 1));
        });
        this.action = this.formAction === 0 ? 'Add' : 'Edit';
        this.form = this.helperService.toFormGroup(this.defaultFormFields);
    }
    save() {
        this.isSaving = true;
        const mappedFormValues = this.mapDeliverablesToApi(this.form.value);
        let updatedRecipientDto = {};
        if (this.recipientDto) {
            updatedRecipientDto = Object.assign(mappedFormValues, { id: this.recipientDto.id });
        }
        else {
            updatedRecipientDto = Object.assign(mappedFormValues);
        }
        this.submitResponse.emit({ action: this.formAction, formGroup: this.form, dto: updatedRecipientDto });
    }
    cancel() {
        this.submitResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_5__["FormAction"].Cancel });
    }
    mapDeliverablesToApi(formValues) {
        formValues.deliverables = formValues.deliverables.length ? formValues.deliverables.split(', ').map((enumValue) => {
            return { deliverable: Number(enumValue) };
        }) : [];
        return formValues;
    }
    mapMetaDataToField(field, defaultOrder) {
        return {
            id: field.name,
            type: field.fieldType,
            value: this.recipientDto ? this.mapValue(field, this.recipientDto[field.name]) : '',
            displayName: field.displayName,
            options: field.options,
            cascadedValueOptions: field.cascadedValueOptions,
            cascadedValues: field.cascadedValues,
            order: defaultOrder,
            required: field.required
        };
    }
    mapDeliverablesToEnum(value) {
        return value.split(', ').map((deliverableNum) => {
            return _api_runtime_enums_recipient_deliverable__WEBPACK_IMPORTED_MODULE_6__["Deliverable"][deliverableNum];
        }).join(', ');
    }
    mapValue(field, value) {
        return field.name === 'deliverables' ? this.mapDeliverablesToEnum(value) : value;
    }
};
UpsertRecipientComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__["TranslationManager"] }
];
UpsertRecipientComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'upsert-recipient',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-recipient.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/actions/upsert-recipient.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_3__["TranslationManager"]])
], UpsertRecipientComponent);



/***/ }),

/***/ "./client-src/app/recipients/components/recipients-grid.component.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/recipients/components/recipients-grid.component.ts ***!
  \***************************************************************************/
/*! exports provided: RecipientsGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsGridComponent", function() { return RecipientsGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _core_services_recipients_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/recipients-info-service */ "./client-src/app/_core/services/recipients-info-service.ts");
/* harmony import */ var _services_recipients_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/recipients.service */ "./client-src/app/recipients/services/recipients.service.ts");
/* harmony import */ var _actions_upsert_recipient_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions/upsert-recipient.component */ "./client-src/app/recipients/components/actions/upsert-recipient.component.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _actions_remove_recipient_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./actions/remove-recipient.component */ "./client-src/app/recipients/components/actions/remove-recipient.component.ts");
/* harmony import */ var _api_runtime_enums_recipient_deliverable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/_runtime/enums/recipient-deliverable */ "./client-src/app/_api/_runtime/enums/recipient-deliverable.ts");
/* harmony import */ var _processing_default_values_default_recipient_headers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../processing/default-values/default-recipient-headers */ "./client-src/app/processing/default-values/default-recipient-headers.ts");
/* harmony import */ var _form_models_recipients_form_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../form-models/recipients-form-model */ "./client-src/app/recipients/form-models/recipients-form-model.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");

















let RecipientsGridComponent = class RecipientsGridComponent {
    constructor(famisGridService, recipientsInfoService, recipientsService, alertService, windowManager, container) {
        this.famisGridService = famisGridService;
        this.recipientsInfoService = recipientsInfoService;
        this.recipientsService = recipientsService;
        this.alertService = alertService;
        this.windowManager = windowManager;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_11__["TranslationBaseKeys"];
        this.windowSize = 500;
        this.destoryed$ = new rxjs__WEBPACK_IMPORTED_MODULE_15__["Subject"]();
    }
    ngOnInit() {
        this.recipientsGrid = {
            height: 600,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: '',
            supportedOperators: [],
            actions: ['Edit', 'Remove'],
            translationBaseKey: this.i18n.recipients
        };
        this.recipientsGrid.loading = this.recipientsService.getRecipientsByGroupId(this.recipientsService.groupId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__["takeUntil"])(this.destoryed$))
            .subscribe((result) => {
            this.recipientsGrid.columnHeaders = _processing_default_values_default_recipient_headers__WEBPACK_IMPORTED_MODULE_9__["recipientHeaders"];
            this.recipientsGrid.selectedHeaders = this.recipientsInfoService.GetDefaultColumns();
            this.recipientsGrid.loading = this.processCacheUpdate();
        });
    }
    ngOnDestroy() {
        this.destoryed$.next();
    }
    onFormActionEvent(response, modal) {
        switch (response.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Save:
                this.save(response.formGroup, response.dto);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Edit:
                this.edit(response.formGroup, response.dto);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Remove:
                this.remove(response.formGroup, response.dto);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Cancel:
                modal.close();
                break;
            default:
                throw new Error(`Action ${response.action} not implemented.`);
        }
        modal.close();
    }
    handleActionEvent(event) {
        const parentThis = this;
        switch (event.action) {
            case 'Edit':
                const editRecipientModal = this.windowManager.open(_actions_upsert_recipient_component__WEBPACK_IMPORTED_MODULE_5__["UpsertRecipientComponent"], 'Edit Recipient', {
                    isModal: true
                });
                editRecipientModal.content.instance.fieldMetaData = _form_models_recipients_form_model__WEBPACK_IMPORTED_MODULE_10__["recipientFormModel"];
                editRecipientModal.content.instance.recipientDto = event.item;
                editRecipientModal.content.instance.formAction = _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Edit;
                editRecipientModal.content.instance.submitResponse.subscribe((response) => {
                    parentThis.onFormActionEvent(response, editRecipientModal);
                });
                break;
            case 'Remove':
                const removeRecipientModal = this.windowManager.open(_actions_remove_recipient_component__WEBPACK_IMPORTED_MODULE_7__["RemoveRecipientComponent"], 'Remove Recipient', {
                    isModal: true
                });
                removeRecipientModal.content.instance.fieldMetaData = _form_models_recipients_form_model__WEBPACK_IMPORTED_MODULE_10__["recipientFormModel"];
                removeRecipientModal.content.instance.recipientDto = event.item;
                removeRecipientModal.content.instance.submitResponse.subscribe((response) => {
                    parentThis.onFormActionEvent(response, removeRecipientModal);
                });
                break;
            default:
                break;
        }
    }
    addRecipient() {
        const parentThis = this;
        const addRecipientModal = this.windowManager.open(_actions_upsert_recipient_component__WEBPACK_IMPORTED_MODULE_5__["UpsertRecipientComponent"], 'Add Recipient', {
            isModal: true
        });
        addRecipientModal.content.instance.fieldMetaData = _form_models_recipients_form_model__WEBPACK_IMPORTED_MODULE_10__["recipientFormModel"];
        addRecipientModal.content.instance.formAction = _enums_form_action__WEBPACK_IMPORTED_MODULE_16__["FormAction"].Save;
        addRecipientModal.content.instance.submitResponse.subscribe((response) => {
            parentThis.onFormActionEvent(response, addRecipientModal);
        });
    }
    save(form, recipientDto) {
        recipientDto.zip = parseInt(recipientDto.zip.toString(), 10);
        if (form.valid) {
            this.recipientsService.createRecipient(this.recipientsService.groupId, recipientDto).subscribe(result => {
                // console.log(result);
                this.alertService.success('Recipient created successfully');
                this.updateCache();
            }, error => {
                // console.log(error);
                this.alertService.error('An error has occurred in adding a recipient');
            }, () => { });
        }
    }
    edit(form, recipientDto) {
        if (form.valid) {
            this.recipientsService.updateRecipient(recipientDto.id, this.recipientsService.groupId, recipientDto).subscribe(result => {
                // console.log(result);
                this.alertService.success('Recipient updated successfully');
                this.updateCache();
            }, error => {
                // console.log(error);
                this.alertService.error('An error has occurred in updating a recipient');
            }, () => { });
        }
    }
    remove(form, recipientDto) {
        if (form.valid) {
            this.recipientsService.deleteRecipient(recipientDto.id).subscribe(result => {
                this.alertService.success('Recipient removed successfully');
                this.updateCache();
            }, error => {
                // console.log(error);
                this.alertService.error('An error has occurred in removing the recipient');
            }, () => { });
        }
    }
    updateCache(request) {
        this.recipientsGrid.cacheLoading = this.processCacheUpdate(request);
    }
    // Any is used because deliverables is being mapped from an array of objects to a flat string value
    mapDeliverablesToString(dto) {
        return dto.map((field) => {
            field.deliverables = field.deliverables.map((deliverable) => {
                return _api_runtime_enums_recipient_deliverable__WEBPACK_IMPORTED_MODULE_8__["Deliverable"][deliverable.deliverable];
            }).join(', ');
            return field;
        });
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.
            recipientsService.updateRecipientsData(this.recipientsService.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake)
            .subscribe(dto => {
            this.recipientsGrid.totalRecordCount = dto.length;
            s.famisGridService.setCacheRecords(this.mapDeliverablesToString(dto), s.recipientsGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.length, this.recipientsGrid.windowSize);
        });
    }
};
RecipientsGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"] },
    { type: _core_services_recipients_info_service__WEBPACK_IMPORTED_MODULE_3__["RecipientsInfoService"] },
    { type: _services_recipients_service__WEBPACK_IMPORTED_MODULE_4__["RecipientsService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_12__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_14__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_2__["FamisGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_2__["FamisGridComponent"])
], RecipientsGridComponent.prototype, "famisGrid", void 0);
RecipientsGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_14__["Component"])({
        selector: 'recipients-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./recipients-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/recipients-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_1__["FamisGridService"],
        _core_services_recipients_info_service__WEBPACK_IMPORTED_MODULE_3__["RecipientsInfoService"],
        _services_recipients_service__WEBPACK_IMPORTED_MODULE_4__["RecipientsService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_12__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ViewContainerRef"]])
], RecipientsGridComponent);



/***/ }),

/***/ "./client-src/app/recipients/components/recipients.component.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/recipients/components/recipients.component.ts ***!
  \**********************************************************************/
/*! exports provided: RecipientsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsComponent", function() { return RecipientsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_recipients_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/recipients.service */ "./client-src/app/recipients/services/recipients.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");





let RecipientsComponent = class RecipientsComponent {
    constructor(route, recipientsServices) {
        this.route = route;
        this.recipientsServices = recipientsServices;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
        this.recipientsServices.groupId = this.route.parent.snapshot.paramMap.get('groupId');
    }
    ngOnDestroy() { }
    referenceDataLoaded() {
        return (!!this.recipientsServices.groupId);
    }
};
RecipientsComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
    { type: _services_recipients_service__WEBPACK_IMPORTED_MODULE_1__["RecipientsService"] }
];
RecipientsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'recipients',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./recipients.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/recipients.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
        _services_recipients_service__WEBPACK_IMPORTED_MODULE_1__["RecipientsService"]])
], RecipientsComponent);



/***/ }),

/***/ "./client-src/app/recipients/form-models/recipients-form-model.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/recipients/form-models/recipients-form-model.ts ***!
  \************************************************************************/
/*! exports provided: recipientFormModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recipientFormModel", function() { return recipientFormModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const recipientFormModel = [
    {
        name: 'recipientName',
        displayName: 'Recipient Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: true,
    },
    {
        name: 'address',
        displayName: 'Address',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'address2',
        displayName: 'Address2',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'city',
        displayName: 'City',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'state',
        displayName: 'State',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'zip',
        displayName: 'Zip',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'email',
        displayName: 'Email',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'phoneNumber',
        displayName: 'Phone Number',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        required: false,
    },
    {
        name: 'deliverables',
        displayName: 'Deliverables',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DropDown,
        options: [
            {
                displayName: 'Portal',
                key: 0
            },
            {
                displayName: 'Hard Copy',
                key: 1
            },
            {
                displayName: 'Both',
                key: `0, 1`
            }
        ],
        required: true,
    }
];


/***/ }),

/***/ "./client-src/app/recipients/recipients.module.ts":
/*!********************************************************!*\
  !*** ./client-src/app/recipients/recipients.module.ts ***!
  \********************************************************/
/*! exports provided: RecipientsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsModule", function() { return RecipientsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _components_recipients_grid_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/recipients-grid.component */ "./client-src/app/recipients/components/recipients-grid.component.ts");
/* harmony import */ var _services_recipients_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/recipients.service */ "./client-src/app/recipients/services/recipients.service.ts");
/* harmony import */ var _components_recipients_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/recipients.component */ "./client-src/app/recipients/components/recipients.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _api_runtime_services_recipients_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_api/_runtime/services/recipients-api.service */ "./client-src/app/_api/_runtime/services/recipients-api.service.ts");
/* harmony import */ var _components_actions_upsert_recipient_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/actions/upsert-recipient.component */ "./client-src/app/recipients/components/actions/upsert-recipient.component.ts");
/* harmony import */ var _components_actions_remove_recipient_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/actions/remove-recipient.component */ "./client-src/app/recipients/components/actions/remove-recipient.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");




















let RecipientsModule = class RecipientsModule {
};
RecipientsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["NgModule"])({
        imports: [
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_11__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ReactiveFormsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_13__["HttpClientModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_14__["LaddaModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_15__["OrderModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_16__["GridModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_17__["RouterModule"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_18__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_19__["BrowserAnimationsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_8__["CoreModule"]
        ],
        declarations: [
            _components_recipients_grid_component__WEBPACK_IMPORTED_MODULE_1__["RecipientsGridComponent"],
            _components_recipients_component__WEBPACK_IMPORTED_MODULE_3__["RecipientsComponent"],
            _components_actions_upsert_recipient_component__WEBPACK_IMPORTED_MODULE_6__["UpsertRecipientComponent"],
            _components_actions_remove_recipient_component__WEBPACK_IMPORTED_MODULE_7__["RemoveRecipientComponent"]
        ],
        entryComponents: [
            _components_actions_upsert_recipient_component__WEBPACK_IMPORTED_MODULE_6__["UpsertRecipientComponent"],
            _components_actions_remove_recipient_component__WEBPACK_IMPORTED_MODULE_7__["RemoveRecipientComponent"]
        ],
        providers: [
            _services_recipients_service__WEBPACK_IMPORTED_MODULE_2__["RecipientsService"],
            _api_runtime_services_recipients_api_service__WEBPACK_IMPORTED_MODULE_5__["RecipientsApiService"]
        ]
    })
], RecipientsModule);



/***/ }),

/***/ "./client-src/app/recipients/services/recipients.service.ts":
/*!******************************************************************!*\
  !*** ./client-src/app/recipients/services/recipients.service.ts ***!
  \******************************************************************/
/*! exports provided: RecipientsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecipientsService", function() { return RecipientsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _api_runtime_services_recipients_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_api/_runtime/services/recipients-api.service */ "./client-src/app/_api/_runtime/services/recipients-api.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");



let RecipientsService = class RecipientsService {
    constructor(recipientsApiService) {
        this.recipientsApiService = recipientsApiService;
    }
    updateRecipientsData(groupdId, skip, take) {
        return this.getRecipientsByGroupId(groupdId);
    }
    getRecipientsByGroupId(groupId) {
        return this.recipientsApiService.getRecipientsByGroupId(groupId);
    }
    createRecipient(groupId, dto) {
        return this.recipientsApiService.createRecipient(groupId, dto);
    }
    updateRecipient(recipientId, groupId, recipientDto) {
        return this.recipientsApiService.updateRecipient(recipientId, groupId, recipientDto);
    }
    deleteRecipient(recipientId) {
        return this.recipientsApiService.deleteRecipient(recipientId);
    }
};
RecipientsService.ctorParameters = () => [
    { type: _api_runtime_services_recipients_api_service__WEBPACK_IMPORTED_MODULE_1__["RecipientsApiService"] }
];
RecipientsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_recipients_api_service__WEBPACK_IMPORTED_MODULE_1__["RecipientsApiService"]])
], RecipientsService);



/***/ }),

/***/ "./client-src/app/reconciliation/components/consolidated/asset-column-select.component.ts":
/*!************************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/consolidated/asset-column-select.component.ts ***!
  \************************************************************************************************/
/*! exports provided: AssetColumnSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetColumnSelectComponent", function() { return AssetColumnSelectComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");






let AssetColumnSelectComponent = class AssetColumnSelectComponent {
    constructor(alertService, consolidationService) {
        this.alertService = alertService;
        this.consolidationService = consolidationService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.onAssetColumnAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.loadingBusyIndicator = true;
        this.selectedItems = new Array();
        this.selectableSettings = {
            enabled: true,
            mode: 'multiple'
        };
    }
    ngOnInit() {
        this.loadColumns();
    }
    loadColumns() {
        this.consolidationService.getColumns(this.assetFileType)
            .subscribe(results => {
            this.assetFileFields = results;
            this.assetFileFields = this.assetFileFields
                .filter(a => this.consolidationService.ExcludedMappedColumns.indexOf(a.sourceColumn) === -1);
            this.selectedItems = this.assetFileFields
                .filter(item => item.selected)
                .map(result => result.sourceColumn);
            this.loadingBusyIndicator = false;
        }, error => { }, () => {
            this.loadingBusyIndicator = false;
        });
    }
    onSelectionChange(event) {
        this.consolidationService.defineLayoutDirty = true;
        if (event.deselectedRows.length > 0) {
            this.consolidationService.deselectColumns(event.deselectedRows.map(row => row.dataItem));
        }
        if (event.selectedRows.length > 0) {
            this.consolidationService.selectColumns(event.selectedRows.map(row => row.dataItem));
        }
    }
};
AssetColumnSelectComponent.ctorParameters = () => [
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__["ConsolidationService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])('file-type'),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], AssetColumnSelectComponent.prototype, "assetFileType", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], AssetColumnSelectComponent.prototype, "title", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetColumnSelectComponent.prototype, "onAssetColumnAdded", void 0);
AssetColumnSelectComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'asset-column-select',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./asset-column-select.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/asset-column-select.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__["ConsolidationService"]])
], AssetColumnSelectComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/consolidated/asset-selected-columns.component.ts":
/*!***************************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/consolidated/asset-selected-columns.component.ts ***!
  \***************************************************************************************************/
/*! exports provided: AssetSelectedColumnsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetSelectedColumnsComponent", function() { return AssetSelectedColumnsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");




const tableRow = node => node.tagName.toLowerCase() === 'tr';
const closest = (node, predicate) => {
    while (node && !predicate(node)) {
        node = node.parentNode;
    }
    return node;
};
let AssetSelectedColumnsComponent = class AssetSelectedColumnsComponent {
    constructor(consolidationService) {
        this.consolidationService = consolidationService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.onAssetColumnAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.loadingBusyIndicator = true;
        this.selectedColumns = [];
    }
    ngOnInit() {
        this.loadSelectedColumns();
    }
    ngOnDestroy() {
        if (this.columnsSubscription) {
            this.columnsSubscription.unsubscribe();
            this.columnsSubscription = null;
        }
    }
    loadSelectedColumns() {
        this.columnsSubscription = this.consolidationService.getSelectedColumns()
            .subscribe(result => {
            this.selectedColumns = result;
            this.loadingBusyIndicator = false;
        }, error => { }, () => {
            this.loadingBusyIndicator = false;
        });
    }
    remove(item) {
        this.consolidationService.deselectColumns([item]);
        this.consolidationService.defineLayoutDirty = true;
    }
    autoMapFields(event) {
        this.consolidationService.autoMapFields();
    }
};
AssetSelectedColumnsComponent.ctorParameters = () => [
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], AssetSelectedColumnsComponent.prototype, "onAssetColumnAdded", void 0);
AssetSelectedColumnsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'asset-selected-columns',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./asset-selected-columns.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/asset-selected-columns.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"]])
], AssetSelectedColumnsComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/consolidated/consolidation-match-code-assignment.component.ts":
/*!****************************************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/consolidated/consolidation-match-code-assignment.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: ConsolidationMatchCodeAssignmentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConsolidationMatchCodeAssignmentComponent", function() { return ConsolidationMatchCodeAssignmentComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");






let ConsolidationMatchCodeAssignmentComponent = class ConsolidationMatchCodeAssignmentComponent {
    constructor(route, consolidationService, matchCodeService) {
        this.route = route;
        this.consolidationService = consolidationService;
        this.matchCodeService = matchCodeService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.loadingBusyIndicator = true;
        this.emptyMatchCodesIndicator = false;
        this.matchCodeOverrides = [];
        this.models = [];
    }
    ngOnInit() {
        const groupId = this.route.parent.parent.snapshot.paramMap.get('groupId');
        this.loadAssignmentData(groupId);
    }
    loadAssignmentData(groupId) {
        this.matchCodeService.getGroupMatchCodes(groupId).subscribe(matchCodes => {
            this.selectedMatchCodes = matchCodes.filter(matchCode => matchCode.matchCodeIsUsed === true);
            this.buildModel();
        });
        this.consolidationService.getSelectedColumns().subscribe(columns => {
            this.selectedColumns = columns;
            this.buildModel();
        });
        this.consolidationService.columnOverrides.subscribe(overrides => {
            this.matchCodeOverrides = overrides;
            this.buildModel();
        });
    }
    buildModel() {
        this.models = [];
        if (this.selectedColumns == null || this.selectedMatchCodes == null) {
            return;
        }
        if (this.selectedColumns.length === 0 || this.selectedMatchCodes.length === 0) {
            this.loadingBusyIndicator = false;
            this.emptyMatchCodesIndicator = this.selectedMatchCodes.length === 0;
            return;
        }
        this.selectedColumns.forEach(column => {
            const entity = {
                id: column.id,
                columnName: column.sourceColumn,
                displayName: column.sourceColumn === column.destinationColumnName ? column.displayName : column.destinationColumnName,
                source: column.sourceTarget,
                isCustom: column.isCustom
            };
            this.selectedMatchCodes.forEach(code => {
                const override = this.matchCodeOverrides.find(o => o.consolidationColumnId === column.id && o.matchCodeId === code.matchCodeId);
                entity[code.matchCodeId] = override == null ? `${column.sourceTarget}_${column.sourceColumn}`
                    : `${override.source}_${override.columnName}`;
            });
            this.models.push(entity);
        });
        this.loadingBusyIndicator = false;
    }
};
ConsolidationMatchCodeAssignmentComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"] },
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_5__["MatchCodesService"] }
];
ConsolidationMatchCodeAssignmentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'consolidation-match-code-assignment',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./consolidation-match-code-assignment.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/consolidation-match-code-assignment.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
        _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"],
        _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_5__["MatchCodesService"]])
], ConsolidationMatchCodeAssignmentComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/consolidated/destination-column-selector.component.ts":
/*!********************************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/consolidated/destination-column-selector.component.ts ***!
  \********************************************************************************************************/
/*! exports provided: DestinationColumnSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DestinationColumnSelectorComponent", function() { return DestinationColumnSelectorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let DestinationColumnSelectorComponent = class DestinationColumnSelectorComponent {
    constructor(consolidationService) {
        this.consolidationService = consolidationService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.validationMessage = '';
        this.availableColumns = [];
        this.standardColumns = [];
    }
    ngOnInit() {
        this.initSelectOptions();
    }
    ngOnDestroy() {
        if (this.selectOptionSubscription) {
            this.selectOptionSubscription.unsubscribe();
            this.selectOptionSubscription = null;
        }
    }
    ngOnChanges(changes) {
        if ((this.selectedValue == null || this.selectedValue.length === 0)
            && (this.destinationColumnValue != null && this.destinationColumnValue.length > 0)) {
            this.selectedValue = this.resolveDestinationColumnValue(this.destinationColumnValue);
        }
        this.addSelectedValueToOptions();
    }
    resolveDestinationColumnValue(destinationColumnValue) {
        const column = this.consolidationService.getDefaultColumns().find(x => x.sourceColumn === destinationColumnValue);
        return (column == null) ? '-1' : column.sourceColumn;
    }
    initSelectOptions() {
        this.selectOptionSubscription = this.consolidationService.availableDestinationList.subscribe(options => {
            this.availableColumns = [];
            options
                .filter(x => x.fieldType === this.column.fieldType)
                .forEach(option => {
                this.availableColumns.push({
                    label: option.displayName,
                    value: option.destinationColumnName,
                });
            });
            this.availableColumns = this.availableColumns.sort((a, b) => this.stringComparator(a, b));
            if (this.selectedValue != null && this.availableColumns.findIndex(x => x.value === this.selectedValue) === -1) {
                this.addSelectedValueToOptions();
            }
        });
    }
    stringComparator(a, b) {
        if (a < b) {
            return -1;
        }
        if (a > b) {
            return 1;
        }
        return 0;
    }
    addSelectedValueToOptions() {
        if (this.selectedValue == null || this.selectedValue.length === 0) {
            return;
        }
        const defaultColumn = this.consolidationService.getDefaultColumns()
            .find(x => x.sourceColumn.toLowerCase() === this.selectedValue.toLowerCase());
        // This is a standard column that doesn't exist in the list
        if (defaultColumn != null) {
            if (this.availableColumns.findIndex(x => x.label === defaultColumn.displayName) === -1) {
                this.availableColumns.push({
                    label: defaultColumn.displayName,
                    value: defaultColumn.destinationColumnName,
                });
            }
        }
        else {
            this.customValue = this.column.destinationColumnName;
        }
    }
    onSelectionChanged() {
        this.consolidationService.defineLayoutDirty = true;
        if (this.selectedValue == null || this.selectedValue === '' || this.selectedValue === '-1') {
            this.setTargetColumnValue('');
            return;
        }
        this.customValue = '';
        this.setTargetColumnValue(this.selectedValue);
    }
    onTextChanged() {
        if (this.selectedValue !== '-1') {
            return;
        }
        this.setTargetColumnValue(this.customValue);
    }
    setTargetColumnValue(columnName) {
        const result = this.consolidationService.setColumnDestination(this.column, columnName);
        if (!result.success) {
            this.validationMessage = result.message;
            this.selectedValue = this.selectedValue === '-1' ? this.selectedValue : '';
            this.customValue = '';
            return;
        }
        this.column.destinationColumnName = columnName;
        this.validationMessage = '';
    }
};
DestinationColumnSelectorComponent.ctorParameters = () => [
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])('column'),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], DestinationColumnSelectorComponent.prototype, "column", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])('value'),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DestinationColumnSelectorComponent.prototype, "destinationColumnValue", void 0);
DestinationColumnSelectorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'destination-column-selector',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./destination-column-selector.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/destination-column-selector.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"]])
], DestinationColumnSelectorComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/consolidated/dynamic-assignment-select.component.ts":
/*!******************************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/consolidated/dynamic-assignment-select.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: DynamicAssignmentFieldComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicAssignmentFieldComponent", function() { return DynamicAssignmentFieldComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let DynamicAssignmentFieldComponent = class DynamicAssignmentFieldComponent {
    constructor(consolidationService) {
        this.consolidationService = consolidationService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
    }
    ngOnInit() {
        this.formKey = `${this.columnId}_${this.matchCodeId}`;
        this.column = this.consolidationService.getSelectedColumn(this.columnId);
        this.selectOptions = this.consolidationService.getMapMatchCodeOptions(this.columnId);
    }
    onChange() {
        const values = this.selectedValue.split('_');
        const target = parseInt(values[0], 10);
        this.consolidationService.setColumnOverride(this.columnId, this.matchCodeId, target, values.slice(1).join('_'));
        this.consolidationService.mapMatchCodesDirty = true;
    }
};
DynamicAssignmentFieldComponent.ctorParameters = () => [
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DynamicAssignmentFieldComponent.prototype, "columnId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DynamicAssignmentFieldComponent.prototype, "matchCodeId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], DynamicAssignmentFieldComponent.prototype, "selectedValue", void 0);
DynamicAssignmentFieldComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'dynamic-assignment-field',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./dynamic-assignment-select.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/dynamic-assignment-select.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"]])
], DynamicAssignmentFieldComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/copy-inventory.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/copy-inventory.component.ts ***!
  \******************************************************************************/
/*! exports provided: CopyInventoryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopyInventoryComponent", function() { return CopyInventoryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");






let CopyInventoryComponent = class CopyInventoryComponent {
    constructor(modalService, inventoryService, reconcileDataService) {
        this.modalService = modalService;
        this.inventoryService = inventoryService;
        this.reconcileDataService = reconcileDataService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.onInventoryCopied = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.selectedGroup = [];
    }
    ngOnInit() {
        this.inventoryService
            .getContractGroupsWithInventory(this.reconcileDataService.groupId)
            .subscribe(data => {
            this.availableGroups = data;
            // console.log(this.availableGroups);
        });
        this.setSelectableSettings();
    }
    setSelectableSettings() {
        this.selectableSettings = {
            checkboxOnly: true,
            mode: 'single'
        };
    }
    open(event) {
        event.preventDefault();
        // this.customcolumn = new CustomColumn();
        this.title = 'Select Group to Copy Inventory From';
        this.action = 'Create';
        this.modalRef = this.modalService.open(this.content);
    }
    onSubmit(form) {
        this.inventoryService
            .copyInventoryToGroup(this.selectedGroup[0], this.reconcileDataService.groupId)
            .subscribe(result => {
            this.modalRef.dismiss();
            this.onInventoryCopied.emit(true);
        });
    }
};
CopyInventoryComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbModal"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_1__["ReconciliationInventoryService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CopyInventoryComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CopyInventoryComponent.prototype, "onInventoryCopied", void 0);
CopyInventoryComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'copy-inventory',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./copy-inventory.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/copy-inventory.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbModal"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_1__["ReconciliationInventoryService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"]])
], CopyInventoryComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/create-match-code.component.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/create-match-code.component.ts ***!
  \*********************************************************************************/
/*! exports provided: CreateMatchCodeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateMatchCodeComponent", function() { return CreateMatchCodeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _reconciliation_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../reconciliation.constants */ "./client-src/app/reconciliation/reconciliation.constants.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_match_code_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_models/match-code.model */ "./client-src/app/_models/match-code.model.ts");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");








let CreateMatchCodeComponent = class CreateMatchCodeComponent {
    constructor(matchCodeService, windowManager) {
        this.matchCodeService = matchCodeService;
        this.windowManager = windowManager;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.matchCodeCategories = new Array();
        this.matchCode = new _models_match_code_model__WEBPACK_IMPORTED_MODULE_5__["MatchCode"]();
        this.onAddorUpdateMatchCode = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
    }
    open(event, id) {
        event.preventDefault();
        if (id) {
            this.matchCodeService.getMatchCodeById(id).subscribe(mc => {
                this.matchCode = mc;
                this.title = 'Edit Match Code';
                this.action = 'Edit';
                this.startingName = mc.name;
                this.windowRef = this.windowManager.open(this.content, this.title, {
                    isModal: true,
                    translationKey: this.i18n.reconciliation
                });
            });
        }
        else {
            this.matchCode = new _models_match_code_model__WEBPACK_IMPORTED_MODULE_5__["MatchCode"]();
            this.title = 'Create New Match Code';
            this.action = 'Create';
            this.matchCode.isEnabled = true;
            this.windowRef = this.windowManager.open(this.content, this.title, {
                isModal: true,
                translationKey: this.i18n.reconciliation
            });
        }
        this.isNameTaken = false;
    }
    getDismissReason(reason) {
        if (reason === _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["ModalDismissReasons"].ESC) {
            return 'by pressing ESC';
        }
        else if (reason === _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["ModalDismissReasons"].BACKDROP_CLICK) {
            return 'by clicking on a backdrop';
        }
        else {
            return `with: ${reason}`;
        }
    }
    ngOnInit() {
        this.matchCodeService.getMatchCodeCategories().subscribe(categories => {
            if (categories == null || categories.length === 0) {
                this.matchCodeCategories = [];
            }
            this.matchCodeCategories = categories.filter(category => category.id !== _reconciliation_constants__WEBPACK_IMPORTED_MODULE_1__["ReconciliationConstants"].SystemMatchCategoryId);
        });
    }
    onNameInputChange(event, nameVal) {
        event.preventDefault();
        if (this.action === 'Create') {
            this.isNameTaken =
                this.matchCodeService.cachedMatchCodes.find(x => x.name.toLowerCase() === this.matchCode.name.toLowerCase()) != null;
        }
        if (this.action === 'Edit') {
            if (nameVal !== this.startingName) {
                this.isNameTaken =
                    this.matchCodeService.cachedMatchCodes.find(x => x.name.toLowerCase() === this.matchCode.name.toLowerCase()) &&
                        this.matchCode.name.toLowerCase() !== this.startingName.toLowerCase();
            }
        }
    }
    onSubmit(form) {
        if (form.valid) {
            if (this.action === 'Create') {
                if (this.isNameTaken) {
                    return;
                }
                this.matchCodeService.createMatchCode(this.matchCode).subscribe(createdMatchCode => {
                    this.windowRef.close();
                    this.onAddorUpdateMatchCode.emit(createdMatchCode);
                });
            }
            else {
                this.matchCodeService.updateMatchCode(this.matchCode).subscribe(editedMatchCode => {
                    this.windowRef.close();
                    this.onAddorUpdateMatchCode.emit(editedMatchCode);
                });
            }
        }
    }
    cancel() {
        this.windowRef.close();
    }
};
CreateMatchCodeComponent.ctorParameters = () => [
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_6__["MatchCodesService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CreateMatchCodeComponent.prototype, "onAddorUpdateMatchCode", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], CreateMatchCodeComponent.prototype, "content", void 0);
CreateMatchCodeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'create-match-code',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./create-match-code.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/create-match-code.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_6__["MatchCodesService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_3__["WindowManager"]])
], CreateMatchCodeComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/define-layout.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/define-layout.component.ts ***!
  \*****************************************************************************/
/*! exports provided: DefineLayoutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefineLayoutComponent", function() { return DefineLayoutComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");








let DefineLayoutComponent = class DefineLayoutComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_3__["ComponentCanDeactivate"] {
    constructor(route, router, alertService, consolidationService, canDeactivateService) {
        super();
        this.route = route;
        this.router = router;
        this.alertService = alertService;
        this.consolidationService = consolidationService;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.isBusy = false;
    }
    ngOnInit() {
        const groupId = this.route.parent.parent.snapshot.paramMap.get('groupId');
        this.consolidationService.initialize(groupId);
    }
    ngOnDestroy() {
        if (this.subscription) {
            this.subscription.unsubscribe();
        }
    }
    onBack(event) {
        this.router.navigate(['./reconcile-data'], {
            relativeTo: this.route.parent
        });
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateComponent(this.consolidationService.defineLayoutDirty);
    }
    onContinue(event) {
        event.preventDefault();
        this.isBusy = true;
        const validation = this.consolidationService.validateDestinations();
        if (validation.length > 0) {
            this.alertService.error(validation);
            this.isBusy = false;
            return;
        }
        this.subscription = this.consolidationService.saveColumnMappingSettings().subscribe(results => {
            this.consolidationService.defineLayoutDirty = false;
            this.router.navigate(['./map-matchcodes'], {
                relativeTo: this.route.parent
            });
            this.isBusy = false;
        });
    }
};
DefineLayoutComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__["ConsolidationService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_4__["CanDeactivateService"] }
];
DefineLayoutComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'define-layout',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./define-layout.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/define-layout.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__["ConsolidationService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_4__["CanDeactivateService"]])
], DefineLayoutComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/finalize-data.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/finalize-data.component.ts ***!
  \*****************************************************************************/
/*! exports provided: FinalizeDataComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FinalizeDataComponent", function() { return FinalizeDataComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reconciliation-validation.component */ "./client-src/app/reconciliation/components/reconciliation-validation.component.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_core/i18n/translation-manager */ "./client-src/app/_core/i18n/translation-manager.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");

















let FinalizeDataComponent = class FinalizeDataComponent {
    constructor(intl, route, router, alertService, helperService, consolidationService, inventoryApiService, reconcileDataService, assetFileInfoService, inventoryService, translateManager, translateService) {
        this.intl = intl;
        this.route = route;
        this.router = router;
        this.alertService = alertService;
        this.helperService = helperService;
        this.consolidationService = consolidationService;
        this.inventoryApiService = inventoryApiService;
        this.reconcileDataService = reconcileDataService;
        this.assetFileInfoService = assetFileInfoService;
        this.inventoryService = inventoryService;
        this.translateManager = translateManager;
        this.translateService = translateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_9__["TranslationBaseKeys"];
        this.isBusy = false;
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
    }
    ngOnInit() {
        this.groupId = this.reconcileDataService.groupId;
        this.showValidationErrors = false;
        this.consolidationService.initialize(this.groupId);
        // Init form fields
        this.inventoryApiService.getConsolidatedFilePreview(this.groupId, true).subscribe(consolidatedPreview => {
            this.inventoryService.getSearchMetadataByGroupId(this.groupId, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_16__["DataTargetName"].consolidated)
                .subscribe((searchMetadata) => {
                this.responseData = consolidatedPreview.result;
                this.headers = this.helperService
                    .mapHeaders(searchMetadata.fields, this.assetFileInfoService.GetInternalColumns())
                    .filter(x => consolidatedPreview.result[0].columnProperties.find(c => this.helperService.lowerCasePropertyName(c.destinationColumnName) ===
                    this.helperService.lowerCasePropertyName(x.name)));
            }, error => {
                this.alertService.error(error.error ? error.error : 'An unknown error occurred generating preview');
            });
        });
    }
    ngOnDestroy() {
        if (this.loading) {
            this.loading.unsubscribe();
        }
        this.destroyed$.next();
    }
    getHeaders(row) {
        const headers = {};
        row.forEach(element => {
            headers[this.helperService.lowerCasePropertyName(element.destinationColumnName)] = null;
        });
        return this.helperService.getHeaders(headers, this.assetFileInfoService.GetInternalColumns());
    }
    generateColumnArrayData(obj) {
        return Object.keys(obj).map(key => {
            return { key: key, value: obj[key] };
        });
    }
    onBack(event) {
        this.router.navigate(['./map-matchcodes'], {
            relativeTo: this.route.parent
        });
    }
    onSave(event) {
        this.alertService.success('Reconciliation data saved successfully.', true);
        this.router.navigate([`/project-profile/${this.groupId}/MainProfile`]);
    }
    onContinue(event) {
        event.preventDefault();
        this.isBusy = true;
        this.reconcileDataService.validateReconciliation(false).subscribe(result => {
            if (result.isReconciliationComplete && !result.isConsolidatedFileCreated) {
                this.showValidationErrors = false;
                this.inventoryApiService.createConsolidatedFile(this.groupId).subscribe(consolidationResult => {
                    this.alertService.success('Consolidated file successfully created.', true);
                    this.router.navigate([`/project-profile/${this.groupId}/MainProfile`]);
                }, error => {
                    this.alertService.error(error.error ? error.error : 'An unknown error occurred creating consolidated file');
                }, () => {
                    this.isBusy = false;
                });
            }
            else {
                this.showValidationErrors = true;
                this.reconciliationValidationComponent.resolveErrorsToCommit = true;
                this.reconciliationValidationComponent.open();
                this.isBusy = false;
            }
        });
    }
    getColumnTitle(column) {
        if (!column.isCustom) {
            return this.translateManager.instant(this.i18n.asset + column.displayName);
        }
        return column.displayName;
    }
    upperCasePropertyName(fieldName) {
        return this.helperService.upperCasePropertyName(fieldName);
    }
};
FinalizeDataComponent.ctorParameters = () => [
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_13__["IntlService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_14__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"] },
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__["ConsolidationService"] },
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_8__["InventoryService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_7__["ReconciliationInventoryService"] },
    { type: _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_10__["TranslationManager"] },
    { type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__["TranslateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ViewChild"])(_reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_5__["ReconciliationValidationComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_5__["ReconciliationValidationComponent"])
], FinalizeDataComponent.prototype, "reconciliationValidationComponent", void 0);
FinalizeDataComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_11__["Component"])({
        selector: 'finalze-data',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./finalize-data.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/finalize-data.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_13__["IntlService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_14__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_3__["HelperService"],
        _services_consolidation_service__WEBPACK_IMPORTED_MODULE_2__["ConsolidationService"],
        _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_8__["InventoryService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_7__["ReconciliationInventoryService"],
        _core_i18n_translation_manager__WEBPACK_IMPORTED_MODULE_10__["TranslationManager"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__["TranslateService"]])
], FinalizeDataComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/map-matchcodes.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/map-matchcodes.component.ts ***!
  \******************************************************************************/
/*! exports provided: MapMatchCodesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapMatchCodesComponent", function() { return MapMatchCodesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");







let MapMatchCodesComponent = class MapMatchCodesComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_2__["ComponentCanDeactivate"] {
    constructor(route, router, consolidationService, canDeactivateService) {
        super();
        this.route = route;
        this.router = router;
        this.consolidationService = consolidationService;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.isBusy = false;
    }
    ngOnInit() {
        const groupId = this.route.parent.parent.snapshot.paramMap.get('groupId');
        this.consolidationService.initialize(groupId);
    }
    ngOnDestroy() {
        if (this.subscription) {
            this.subscription.unsubscribe();
        }
    }
    onBack(event) {
        this.router.navigate(['./define-layout'], {
            relativeTo: this.route.parent
        });
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateComponent(this.consolidationService.mapMatchCodesDirty);
    }
    onContinue(event) {
        event.preventDefault();
        this.isBusy = true;
        this.subscription = this.consolidationService.saveColumnMappingAssignments().subscribe(results => {
            this.consolidationService.mapMatchCodesDirty = false;
            this.router.navigate(['./finalize-data'], { relativeTo: this.route.parent });
            this.isBusy = false;
        });
    }
};
MapMatchCodesComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
    { type: _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_3__["CanDeactivateService"] }
];
MapMatchCodesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Component"])({
        selector: 'map-matchcodes',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./map-matchcodes.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/map-matchcodes.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_6__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
        _services_consolidation_service__WEBPACK_IMPORTED_MODULE_1__["ConsolidationService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_3__["CanDeactivateService"]])
], MapMatchCodesComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/mass-match/field-matches.component.ts":
/*!****************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/mass-match/field-matches.component.ts ***!
  \****************************************************************************************/
/*! exports provided: FieldMatchesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldMatchesComponent", function() { return FieldMatchesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");





let FieldMatchesComponent = class FieldMatchesComponent {
    constructor(massMatchService, helperService) {
        this.massMatchService = massMatchService;
        this.helperService = helperService;
        // Setting unique form field names
        this.formFieldNames = {
            leftTerm: 'leftTerm' + this.helperService.generateGuid(),
            rightTerm: 'rightTerm' + this.helperService.generateGuid()
        };
        this.inventoryMetadata = Array();
        this.dataTargetNames = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_4__["DataTargetName"];
    }
    ngOnInit() {
        this.massMatchService.inventoryMetadata$.subscribe(inventoryMetadata => {
            if (inventoryMetadata) {
                this.inventoryMetadata = inventoryMetadata;
            }
        });
        if (!this.fieldMatch) {
            this.fieldMatch = {
                leftTerm: {},
                rightTerm: {},
                operation: 'eq',
                isNullOk: false
            };
            this.fieldMatch.id = this.helperService.generateGuid();
            this.fieldMatch.leftTerm.dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_4__["DataTargetName"].client;
            this.fieldMatch.rightTerm.dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_4__["DataTargetName"].inventory;
        }
    }
    remove() {
        this.massMatchService.removeFieldMatch(this.fieldMatch);
        this.ref.destroy();
    }
    fieldMatchChange() {
        this.massMatchService.addOrUpdateFieldMatch(this.fieldMatch);
    }
};
FieldMatchesComponent.ctorParameters = () => [
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_1__["MassMatchService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"] }
];
FieldMatchesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'field-matches',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./field-matches.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/field-matches.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_1__["MassMatchService"], _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"]])
], FieldMatchesComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.ts":
/*!**************************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: FilterCriteriaBuilderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterCriteriaBuilderComponent", function() { return FilterCriteriaBuilderComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");







let FilterCriteriaBuilderComponent = class FilterCriteriaBuilderComponent {
    constructor(helperService, massMatchService, filterOperationService) {
        this.helperService = helperService;
        this.massMatchService = massMatchService;
        this.filterOperationService = filterOperationService;
        this.inventoryMetadata = new Array();
        this.criteriaChangedEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.sourceMetadata = new Array();
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_5__["FieldType"];
        this.dataTargetNames = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"];
        this.selectedSource = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client;
        this.operationsForSelectedTerm = new Array();
        // Setting unique form field names
        this.formFieldNames = {
            sourceClientFile: 'selectedSourceClientFile' + this.helperService.generateGuid(),
            sourceInventoryFile: 'selectedSourceInventoryFile' + this.helperService.generateGuid(),
            selectedField: 'selectedField' + this.helperService.generateGuid(),
            selectedFilterType: 'selectedFilterType' + this.helperService.generateGuid(),
            value: 'value' + this.helperService.generateGuid()
        };
    }
    ngOnInit() {
        this.massMatchService.inventoryMetadata$.subscribe(inventoryMetadata => {
            if (inventoryMetadata) {
                this.inventoryMetadata = inventoryMetadata;
                if (!this.filter) {
                    this.filter = { term: {} };
                    this.filter.id = this.helperService.generateGuid();
                    this.filter.term.dataTarget = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client;
                    this.sourceMetadata = this.inventoryMetadata[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client];
                }
                else {
                    this.sourceMetadata = this.inventoryMetadata[this.filter.term.dataTarget];
                    this.selectedField = this.sourceMetadata.find(c => c.name === this.filter.term.field);
                    if (this.selectedField) {
                        this.operationsForSelectedTerm = this.filterOperationService.getOperationsForFieldType(this.selectedField.fieldType);
                    }
                }
            }
        });
    }
    setSourceFile(dataTarget, event) {
        event.preventDefault();
        this.filter.term.dataTarget = dataTarget;
        this.sourceMetadata = this.inventoryMetadata[dataTarget];
    }
    initOperationAndValue() {
        this.filter.term.value = null;
        this.filter.operation = null;
        this.filter.term.field = this.selectedField.name;
        this.operationsForSelectedTerm = this.filterOperationService.getOperationsForFieldType(this.selectedField.fieldType);
    }
    criteriaChange() {
        this.massMatchService.addOrUpdateFilter(this.filter);
    }
    remove() {
        this.ref.destroy();
        this.massMatchService.removeFilter(this.filter);
    }
};
FilterCriteriaBuilderComponent.ctorParameters = () => [
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"] },
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_2__["MassMatchService"] },
    { type: _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_3__["FilterOperationsService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], FilterCriteriaBuilderComponent.prototype, "criteriaChangedEvent", void 0);
FilterCriteriaBuilderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'filter-criteria-builder',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./filter-criteria-builder.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_helper_service__WEBPACK_IMPORTED_MODULE_1__["HelperService"],
        _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_2__["MassMatchService"],
        _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_3__["FilterOperationsService"]])
], FilterCriteriaBuilderComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/mass-match/many-to-one-match.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/mass-match/many-to-one-match.component.ts ***!
  \********************************************************************************************/
/*! exports provided: ManyToOneMatchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManyToOneMatchComponent", function() { return ManyToOneMatchComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../services/reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");














let ManyToOneMatchComponent = class ManyToOneMatchComponent {
    constructor(massMatchService, helperService, reconcileDataService, reconcileMatchService, router, alertService, element, assetFileInfoService, inventoryService) {
        this.massMatchService = massMatchService;
        this.helperService = helperService;
        this.reconcileDataService = reconcileDataService;
        this.reconcileMatchService = reconcileMatchService;
        this.router = router;
        this.alertService = alertService;
        this.element = element;
        this.assetFileInfoService = assetFileInfoService;
        this.inventoryService = inventoryService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.selectedInventoryHeaders = new Array();
        this.selectedClientHeaders = new Array();
        this.state = {
            skip: 0,
            take: 5,
            sort: [
                {
                    dir: 'asc',
                    field: 'opportunityName'
                }
            ]
        };
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
        this.allInventoryHeaders = new Array();
        this.allClientHeaders = new Array();
        this.matchesCount = 0;
        this.selectedInventoryHeaderNames = new Array();
        this.selectedClientHeaderNames = new Array();
        this.manyMatchRecords = new Array();
        this.matchesInProgress = new Array();
        this.ManyToOneRecords = new Array();
        this.OneToManyRecords = new Array();
        this.matchedRowIndex = -1;
        // this.loadContracts();
    }
    ngOnInit() {
        this.groupId = this.reconcileDataService.groupId;
        const s = this;
        this.massMatchService.searchResponse$.subscribe(searchResponse => {
            if (searchResponse) {
                this.searchResponse = searchResponse;
                if (s.searchResponse.records && s.searchResponse.matches) {
                    s.matchesInProgress = Array.from(s.searchResponse.matches);
                    s.matchesCount = s.matchesInProgress.length;
                    this.updateManyMatchGridData(s.searchResponse);
                }
            } //else {
            //   this.router.navigate([`project-profile/${this.groupId}/Reconciliation/mass-match`]);
            // }
        });
    }
    dataStateChange(state) {
        this.state = state;
        this.loadGridData();
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    loadGridData() {
        this.OneToManyRecords = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["orderBy"])(this.OneToManyRecords, this.state.sort);
        this.OneToManyRecords = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.OneToManyRecords, this.state);
    }
    updateManyMatchGridData(searchResponse) {
        this.manyMatchRecords = searchResponse.matches_ManyToOne.map(m => {
            //  let ids=m.secondaryAssetRecordId;
            const record = searchResponse.records.filter(function (x) { return x.id === m.secondaryAssetRecordId; });
            const ids = m.primaryAssetRecordIds;
            return { inventoryRecords: this.assetFileInfoService.mapEnums(null, null, record),
                clientFileRecords: this.assetFileInfoService.mapEnums(null, null, searchResponse.records.filter(function (x2) { return ids.find(f => f === x2.id); })),
                detailRecordCount: ids.length
            };
        });
        this.matchesCount = this.manyMatchRecords.reduce((total, cnt) => total + cnt.detailRecordCount, 0);
        this.selectedmatchCode = this.massMatchService.selectedMatchCode;
    }
    onMatch(dataItem, rowIndex) {
        const matchedClient = this.searchResponse.matches_ManyToOne.filter(function (x) { return x.secondaryAssetRecordId === dataItem.inventoryRecords.map(m => m.id)[0]; })
            .map(record => record);
        this.matchedRowIndex = this.manyMatchRecords.indexOf(dataItem);
        const matchedClientIndex = matchedClient != null ? this.searchResponse.matches_ManyToOne.indexOf(matchedClient[0]) : -1;
        this.saveOneToOneMatches(matchedClient.map(x => x.primaryAssetRecordIds[rowIndex]), matchedClient.map(x => x.secondaryAssetRecordId), matchedClient.map(x => x.matchCodeId)[0], dataItem.detailRecordCount, matchedClientIndex);
    }
    saveOneToOneMatches(clientAssetIds, InventoryAssetIds, matchCodeId, potentialCount, matchedClientIndex) {
        this.reconcileMatchService.createMassOneToOneMatch(clientAssetIds, InventoryAssetIds, matchCodeId).subscribe(dto => {
            if (dto == null) {
                this.alertService.error('Unexpected service error.');
            }
            if (dto.result == null) {
                this.alertService.error('Unexpected error saving match.');
            }
            if (dto.invalidArguments.length > 0) {
                this.alertService.error('The selected items cannot be saved as a mass one to one match.');
            }
            if (dto.result != null && dto.invalidArguments.length == 0) {
                this.alertService.success('Match saved successfully!');
                this.RefreshMatchedDataGrid(potentialCount, matchedClientIndex);
            }
        });
    }
    RefreshMatchedDataGrid(potentialCount, matchedClientIndex) {
        if (this.manyMatchRecords.length > 0 && this.matchedRowIndex < this.manyMatchRecords.length) {
            this.manyMatchRecords.splice(this.matchedRowIndex, 1);
            this.searchResponse.matches_ManyToOne.splice(matchedClientIndex, 1);
            this.matchesCount = this.matchesCount - potentialCount;
            this.grid.collapseRow(this.matchedRowIndex);
            this.matchedRowIndex = -1;
        }
    }
};
ManyToOneMatchComponent.ctorParameters = () => [
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_5__["MassMatchService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__["HelperService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_8__["ReconcileDataService"] },
    { type: _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_13__["ReconcileMatchService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_9__["AssetFileInfoService"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_10__["ReconciliationInventoryService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ManyToOneMatchComponent.prototype, "selectedInventoryHeaders", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ManyToOneMatchComponent.prototype, "selectedClientHeaders", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_4__["GridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_4__["GridComponent"])
], ManyToOneMatchComponent.prototype, "grid", void 0);
ManyToOneMatchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'many-to-one-match',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./many-to-one-match.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/many-to-one-match.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_5__["MassMatchService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__["HelperService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_8__["ReconcileDataService"],
        _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_13__["ReconcileMatchService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_9__["AssetFileInfoService"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_10__["ReconciliationInventoryService"]])
], ManyToOneMatchComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/mass-match/mass-match.component.ts":
/*!*************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/mass-match/mass-match.component.ts ***!
  \*************************************************************************************/
/*! exports provided: MassMatchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassMatchComponent", function() { return MassMatchComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter-criteria-builder.component */ "./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.ts");
/* harmony import */ var _field_matches_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-matches.component */ "./client-src/app/reconciliation/components/mass-match/field-matches.component.ts");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_api/services/inventory/inventory-search-repository.service */ "./client-src/app/_api/services/inventory/inventory-search-repository.service.ts");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");












let MassMatchComponent = class MassMatchComponent {
    constructor(reconcileDataService, router, searchMetadataRepository, componentResolver, massMatchService, searchRepositoryService, matchCodesService, alertService) {
        this.reconcileDataService = reconcileDataService;
        this.router = router;
        this.searchMetadataRepository = searchMetadataRepository;
        this.componentResolver = componentResolver;
        this.massMatchService = massMatchService;
        this.searchRepositoryService = searchRepositoryService;
        this.matchCodesService = matchCodesService;
        this.alertService = alertService;
        this.dataTargetNames = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__["DataTargetName"];
        this.matchCodes = new Array();
        this.disabledMatchCodes = new Array();
        this.isLoading = false;
        this.showInvalidFieldMatchesAlert = false;
        this.searchInProgress = {};
        this.hiddenFields = [
            'id',
            'assetFileId',
            'sourceRecordId',
            'groupId'
        ];
    }
    ngOnInit() {
        this.selectedGroupId = this.reconcileDataService.groupId;
        if (this.selectedGroupId !== this.massMatchService.currentGroupId) {
            this.massMatchService.clearSearch();
            this.massMatchService.currentGroupId = this.selectedGroupId;
        }
        this.massMatchService.initSearchResponse(this.selectedGroupId);
        // Can only Mass Match both client file and D&P file has data.
        if (!this.massMatchService.canMassMatch) {
            // Sending user back to reconcile data step
            this.router.navigate([`project-profile/${this.selectedGroupId}/Reconciliation/reconcile-data`]);
        }
        this.searchMetadataRepository.search(_enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__["DataTargetName"].client, this.selectedGroupId, true).subscribe(clientDataResult => {
            this.searchMetadataRepository.search(_enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__["DataTargetName"].inventory, this.selectedGroupId, true).subscribe(inventoryDataResult => {
                const inventoryMetadata = new Array();
                // define list of hidden fields, filter inventoryMetadata
                const filterClientResult = clientDataResult.filter(x => !(this.hiddenFields.indexOf(x.name) > -1));
                inventoryMetadata[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__["DataTargetName"].client] = filterClientResult;
                inventoryMetadata[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__["DataTargetName"].inventory] = inventoryDataResult;
                this.massMatchService.updateInventoryMetadata(inventoryMetadata);
            });
        });
        // Init existing Field Matches and Filter Criteria
        this.massMatchService.searchRequest$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["first"])())
            .subscribe(searchInProgress => {
            this.searchInProgress = searchInProgress;
            // Clear search in progress if new group is selected
            if (this.selectedGroupId !== searchInProgress.groupId) {
                this.massMatchService.clearSearch();
            }
            // Load one field match if no filters set
            if (searchInProgress.fieldMatchTerms.length === 0) {
                this.addFieldMatch();
            }
            // Load one filter if no filters set
            if (searchInProgress.filterTerms.length === 0) {
                this.addFilter();
            }
            // add existing field matches in progress
            searchInProgress.fieldMatchTerms.forEach(fieldMatch => {
                this.addFieldMatch(fieldMatch);
            });
            // add existing filters in progress
            searchInProgress.filterTerms.forEach(filter => {
                this.addFilter(filter);
            });
            this.selectedMatchCodeId = searchInProgress.matchCodeId;
        });
        this.matchCodesService.getGroupMatchCodes(this.selectedGroupId).subscribe(result => {
            this.matchCodes = new Array();
            this.disabledMatchCodes = new Array();
            result.forEach(code => {
                if (code.groupMatchCodeIsEnabled && code.matchCodeIsEnabled) {
                    this.matchCodes.push(code);
                }
                if (code.groupMatchCodeIsEnabled && !code.matchCodeIsEnabled) {
                    this.disabledMatchCodes.push(code);
                }
            });
        });
    }
    addFieldMatch(fieldMatch) {
        const comp = this.componentResolver.resolveComponentFactory(_field_matches_component__WEBPACK_IMPORTED_MODULE_3__["FieldMatchesComponent"]);
        const fieldMatchComponent = this.fieldMatchContainer.createComponent(comp);
        // Setting reference to close/remove
        fieldMatchComponent.instance.ref = fieldMatchComponent;
        if (fieldMatch) {
            fieldMatchComponent.instance.fieldMatch = fieldMatch;
        }
    }
    addFilter(filter) {
        const comp = this.componentResolver.resolveComponentFactory(_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_2__["FilterCriteriaBuilderComponent"]);
        const filterCriteria = this.filterCriteriaContainer.createComponent(comp);
        // Setting reference to close/remove
        filterCriteria.instance.ref = filterCriteria;
        if (filter) {
            filterCriteria.instance.filter = filter;
        }
    }
    cancel(event) {
        event.preventDefault();
        this.massMatchService.clearSearch();
        this.router.navigate([`project-profile/${this.selectedGroupId}/Reconciliation/reconcile-data`]);
    }
    onSubmit(form) {
        if (form.valid) {
            const validFieldMatches = this.searchInProgress.fieldMatchTerms.filter(function (x) {
                if (x.leftTerm.field && x.rightTerm.field) {
                    return x;
                }
            });
            // Field Matches must be set on both the Client File and Actual Inventory
            if (validFieldMatches.length === 0 || validFieldMatches.length < this.searchInProgress.fieldMatchTerms.length) {
                this.showInvalidFieldMatchesAlert = true;
            }
            else {
                this.showInvalidFieldMatchesAlert = false;
                this.isLoading = true;
                this.massMatchService.searchAssets(this.selectedGroupId, this.selectedMatchCodeId).subscribe(result => {
                    if (result) {
                        this.isLoading = false;
                        const matchCode = this.matchCodes.filter(f => f.matchCodeId === this.selectedMatchCodeId).map(m => m.matchCodeName);
                        this.massMatchService.selectedMatchCode = matchCode ? matchCode[0] : null;
                        this.massMatchService.updateSearchResponse(result);
                        this.router.navigate([`/project-profile/${this.selectedGroupId}/Reconciliation/view-matches`]);
                    }
                }, error => {
                    if (error['error'] && error['error'].includes('many to many')) {
                        this.alertService
                            .error('manytomany');
                    }
                    else {
                        this.alertService.error('An error has occurred');
                    }
                    this.isLoading = false;
                });
            }
        }
    }
};
MassMatchComponent.ctorParameters = () => [
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"] },
    { type: _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_9__["InventorySearchRepository"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ComponentFactoryResolver"] },
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_4__["MassMatchService"] },
    { type: _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_9__["InventorySearchRepository"] },
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_10__["MatchCodesService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])('filterCriteria', { read: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"])
], MassMatchComponent.prototype, "filterCriteriaContainer", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])('fieldMatch', { read: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"], static: true }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"])
], MassMatchComponent.prototype, "fieldMatchContainer", void 0);
MassMatchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'mass-match',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./mass-match.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/mass-match.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"],
        _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_9__["InventorySearchRepository"],
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ComponentFactoryResolver"],
        _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_4__["MassMatchService"],
        _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_9__["InventorySearchRepository"],
        _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_10__["MatchCodesService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]])
], MassMatchComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/mass-match/one-to-many-match.component.ts":
/*!********************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/mass-match/one-to-many-match.component.ts ***!
  \********************************************************************************************/
/*! exports provided: OneToManyMatchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OneToManyMatchComponent", function() { return OneToManyMatchComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _models_data_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_models/data-type */ "./client-src/app/_models/data-type.ts");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../services/reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");

















//import { ManyMatchRecordDto } from '../../../_api/dtos/reconciliation/many-match-record.dto';
//import { ManyMatchRecordDto } from '../../../_api/dtos/reconciliation/many-match-record.dto';
let OneToManyMatchComponent = class OneToManyMatchComponent {
    constructor(massMatchService, helperService, reconcileDataService, reconcileMatchService, router, alertService, element, assetFileInfoService, inventoryService, matchCodesService) {
        this.massMatchService = massMatchService;
        this.helperService = helperService;
        this.reconcileDataService = reconcileDataService;
        this.reconcileMatchService = reconcileMatchService;
        this.router = router;
        this.alertService = alertService;
        this.element = element;
        this.assetFileInfoService = assetFileInfoService;
        this.inventoryService = inventoryService;
        this.matchCodesService = matchCodesService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.clientFileMatches = new Array();
        this.dataTargetNames = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_4__["DataTargetName"];
        this.dataType = _models_data_type__WEBPACK_IMPORTED_MODULE_6__["DataType"];
        this.matchesInProgress = new Array();
        this.inventoryRecords = new Array();
        this.allInventoryHeaders = new Array();
        this.allClientHeaders = new Array();
        this.selectedInventoryHeaderNames = new Array();
        this.selectedClientHeaderNames = new Array();
        this.selectedClientFileRows = new Array();
        this.selectedInventoryFileRows = new Array();
        this.matchesCount = 0;
        this.clientFileRecords = new Array();
        this.saveIsLoading = false;
        this.saveAndNewIsLoading = false;
        this.manyMatchRecords = new Array();
        this.state = {
            skip: 0,
            take: 15,
            sort: [
                {
                    dir: 'asc',
                    field: 'description'
                }
            ]
        };
        this.stateInventory = {
            skip: 0,
            take: 15,
            sort: [
                {
                    dir: 'asc',
                    field: 'description'
                }
            ]
        };
        this.gridState = {
            skip: 0,
            take: 250
        };
        this.sort = [];
        this.pageSize = 10;
        this.skip = 0;
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_14__["Subject"]();
        this.selectedInventoryHeaders = new Array();
        this.selectedClientHeaders = new Array();
        this.ManyToOneRecords = new Array();
        this.OneToManyRecords = new Array();
        this.expandedDetailKeys = [];
        this.matchedRowIndex = -1;
        this.expandDetailsBy = (dataItem) => {
            return dataItem.clientFileRecords.Id;
        };
    }
    ngOnInit() {
        this.groupId = this.reconcileDataService.groupId;
        const s = this;
        this.massMatchService.searchResponse$.subscribe(searchResponse => {
            if (searchResponse) {
                this.searchResponse = searchResponse;
                if (s.searchResponse.records && s.searchResponse.matches) {
                    s.matchesInProgress = Array.from(s.searchResponse.matches);
                    s.matchesCount = s.matchesInProgress.length;
                    this.updateManyMatchGridData(s.searchResponse);
                }
                // });
                // error => {},
                // () => {};
            }
            else {
                this.router.navigate([`project-profile/${this.groupId}/Reconciliation/mass-match`]);
            }
        });
    }
    ngAfterViewInit() {
        // this.syncScrolling(
        //   this.clientFileMatchesGrid.nativeElement.getElementsByClassName('k-grid-content')[0],
        //   this.inventoryMatchesGrid.nativeElement.getElementsByClassName('k-grid-content')[0]
        // );
    }
    dataStateChange(state) {
        this.state = state;
        this.loadGridData();
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    loadGridData() {
        this.manyMatchRecords = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["orderBy"])(this.manyMatchRecords.map(m => m.inventoryRecords), this.state.sort);
        // this.manyMatchRecords.sort()
        //this.manyMatchRecords = process(this.manyMatchRecords, this.state);
    }
    updateManyMatchGridData(searchResponse) {
        this.manyMatchRecords = searchResponse.matches_OneToMany.map(m => {
            const c_record = searchResponse.records.filter(function (x) { return x.id === m.primaryAssetRecordId; });
            const ids = m.secondaryAssetRecordIds;
            return { clientFileRecords: this.assetFileInfoService.mapEnums(null, null, c_record),
                inventoryRecords: this.assetFileInfoService.mapEnums(null, null, searchResponse.records.filter(function (x2) { return ids.find(f => f === x2.id); })),
                detailRecordCount: ids.length
            };
        });
        this.matchesCount = this.manyMatchRecords.reduce((total, cnt) => total + cnt.detailRecordCount, 0);
        this.selectedmatchCode = this.massMatchService.selectedMatchCode;
    }
    showOnlyDetails(dataItem, primarId, index) {
        return dataItem.inventoryRecords !== null;
    }
    getMatchCode(id) {
        this.matchCodesService.getMatchCodeById(id).subscribe(res => {
            this.selectedmatchCode = res.name;
        });
    }
    onMatch(dataItem, rowIndex) {
        //const invId= dataItem.inventoryRecords[rowIndex].id;
        const matchedClient = this.searchResponse.matches_OneToMany.filter(function (x) { return x.primaryAssetRecordId === dataItem.clientFileRecords.map(m => m.id)[0]; })
            .map(record => record);
        const matchedClientIndex = matchedClient != null ? this.searchResponse.matches_OneToMany.indexOf(matchedClient[0]) : -1;
        this.matchedRowIndex = this.manyMatchRecords.indexOf(dataItem);
        this.saveOneToOneMatches(matchedClient.map(x => x.primaryAssetRecordId), matchedClient.map(x => x.secondaryAssetRecordIds[rowIndex]), //secondaryAssetRecordId,
        matchedClient.map(x => x.matchCodeId)[0], dataItem.detailRecordCount, matchedClientIndex);
    }
    saveOneToOneMatches(clientAssetIds, InventoryAssetIds, matchCodeId, potentialCount, matchedClientIndex) {
        this.reconcileMatchService.createMassOneToOneMatch(clientAssetIds, InventoryAssetIds, matchCodeId).subscribe(dto => {
            if (dto == null) {
                this.alertService.error('Unexpected service error.');
            }
            if (dto.result == null) {
                this.alertService.error('Unexpected error saving match.');
            }
            if (dto.invalidArguments.length > 0) {
                this.alertService.error('The selected items cannot be saved as a mass one to one match.');
            }
            if (dto.result != null && dto.invalidArguments.length == 0) {
                this.alertService.success('Match saved successfully!');
                this.RefreshMatchedDataGrid(potentialCount, matchedClientIndex);
            }
        });
    }
    RefreshMatchedDataGrid(potentialCount, matchedClientIndex) {
        if (this.manyMatchRecords.length > 0 && this.matchedRowIndex < this.manyMatchRecords.length) {
            this.manyMatchRecords.splice(this.matchedRowIndex, 1);
            this.searchResponse.matches_OneToMany.splice(matchedClientIndex, 1);
            this.matchesCount = this.matchesCount - potentialCount;
            this.grid.collapseRow(this.matchedRowIndex);
            this.matchedRowIndex = -1;
        }
    }
    onSubmit(form) {
        if (form.valid) {
            this.saveIsLoading = true;
            this.saveIsLoading = true;
        }
    }
    sortChangeClient(sort) {
        //this.sort = sort;
        if (sort && sort.length > 0 && sort[0].field !== 'Actions') {
            this.gridState.sortTerm = sort[0].dir ? {
                field: sort[0].field,
                sortDirection: sort[0].dir === 'asc' ? 0 : 1,
                termOrder: 0
            } : undefined;
            this.gridState.skip = 0;
            // this.clientFileRecords = [];
            // this.inventoryRecords = [];
            this.refreshGridData();
            //this.loadGridData();
            this.state.sort = sort;
            this.stateInventory.sort = sort;
        }
    }
    refreshGridData() {
        if (this.gridState.skip >= this.matchesCount) {
            return;
        }
        this.loading = true;
        this.massMatchService.searchAssets(this.groupId, this.matchesInProgress[0].matchCodeId, this.gridState).subscribe((searchResponse) => {
            this.loading = false;
            if (searchResponse && searchResponse.records && searchResponse.matches) {
                this.updateManyMatchGridData(searchResponse);
                this.gridState.skip += this.gridState.take;
            }
        }, (error) => {
            if (error['error'] && error['error'].includes('many to many')) {
                this.alertService
                    .error('manytomany');
            }
            else {
                this.alertService.error('An error has occurred');
            }
            this.loading = false;
        });
    }
};
OneToManyMatchComponent.ctorParameters = () => [
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_7__["MassMatchService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_8__["HelperService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_10__["ReconcileDataService"] },
    { type: _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_15__["ReconcileMatchService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_9__["AlertService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_11__["AssetFileInfoService"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_12__["ReconciliationInventoryService"] },
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_16__["MatchCodesService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], OneToManyMatchComponent.prototype, "selectedInventoryHeaders", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], OneToManyMatchComponent.prototype, "selectedClientHeaders", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_5__["GridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_5__["GridComponent"])
], OneToManyMatchComponent.prototype, "grid", void 0);
OneToManyMatchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'one-to-many-match',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./one-to-many-match.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/one-to-many-match.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_7__["MassMatchService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_8__["HelperService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_10__["ReconcileDataService"],
        _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_15__["ReconcileMatchService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_9__["AlertService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_11__["AssetFileInfoService"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_12__["ReconciliationInventoryService"],
        _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_16__["MatchCodesService"]])
], OneToManyMatchComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/mass-match/view-matches.component.ts":
/*!***************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/mass-match/view-matches.component.ts ***!
  \***************************************************************************************/
/*! exports provided: ViewMatchesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewMatchesComponent", function() { return ViewMatchesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _models_data_type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../_models/data-type */ "./client-src/app/_models/data-type.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");
















let ViewMatchesComponent = class ViewMatchesComponent {
    constructor(massMatchService, helperService, reconcileDataService, router, alertService, element, assetFileInfoService, inventoryService, matchCodesService) {
        this.massMatchService = massMatchService;
        this.helperService = helperService;
        this.reconcileDataService = reconcileDataService;
        this.router = router;
        this.alertService = alertService;
        this.element = element;
        this.assetFileInfoService = assetFileInfoService;
        this.inventoryService = inventoryService;
        this.matchCodesService = matchCodesService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_8__["TranslationBaseKeys"];
        this.clientFileMatches = new Array();
        this.dataTargetNames = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"];
        this.dataType = _models_data_type__WEBPACK_IMPORTED_MODULE_11__["DataType"];
        this.matchesInProgress = new Array();
        this.inventoryRecords = new Array();
        this.allInventoryHeaders = new Array();
        this.allClientHeaders = new Array();
        this.selectedInventoryHeaders = new Array();
        this.selectedClientHeaders = new Array();
        this.selectedInventoryHeaderNames = new Array();
        this.selectedClientHeaderNames = new Array();
        this.selectedClientFileRows = new Array();
        this.selectedInventoryFileRows = new Array();
        this.matchesCount = 0;
        this.clientFileRecords = new Array();
        this.saveIsLoading = false;
        this.saveAndNewIsLoading = false;
        this.state = {
            skip: 0,
            take: 15,
            sort: [
                {
                    dir: 'asc',
                    field: 'description'
                }
            ]
        };
        this.stateInventory = {
            skip: 0,
            take: 15,
            sort: [
                {
                    dir: 'asc',
                    field: 'description'
                }
            ]
        };
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
        this.selectableSettings = {
            checkboxOnly: true
        };
        this.gridState = {
            skip: 0,
            take: 250
        };
    }
    // TODO: Break this out into service methods within MassMatchService
    ngOnInit() {
        const s = this;
        this.groupId = this.reconcileDataService.groupId;
        // Init form fields
        const getInventoryMetadata = this.inventoryService.getSearchMetadataByGroupId(this.groupId, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"].inventory);
        const getClientMetadata = this.inventoryService.getSearchMetadataByGroupId(this.groupId, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"].client);
        const getActivityCodes = this.massMatchService.getActivityCodes();
        const getMatcheCodes = this.matchCodesService.getMatchCodes();
        this.massMatchService.searchResponse$.subscribe(searchResponse => {
            if (searchResponse) {
                this.searchResponse = searchResponse;
                Object(rxjs__WEBPACK_IMPORTED_MODULE_12__["forkJoin"])(getInventoryMetadata, getClientMetadata, getActivityCodes, getMatcheCodes)
                    .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["takeUntil"])(this.destroyed$))
                    .subscribe(([inventoryMetadata, clientMetadata, activityCodes, matcheCodes]) => {
                    this.assetFileInfoService.updateReferenceData(activityCodes.result.enumOptions, 'ActivityCodes');
                    if (s.searchResponse.records && s.searchResponse.matches) {
                        s.matchesInProgress = Array.from(s.searchResponse.matches);
                        s.matchesCount = s.matchesInProgress.length;
                        this.updateGridData(s.searchResponse);
                        //this.updateManyMatchGridData(s.searchResponse);
                        this.gridState.skip = this.gridState.take;
                        s.allInventoryHeaders = this.helperService.mapHeaders(inventoryMetadata.fields, this.assetFileInfoService.GetInternalColumns());
                        s.allClientHeaders = this.helperService.mapHeaders(clientMetadata.fields, this.assetFileInfoService.GetInternalColumns());
                        const selectedInventoryHeaderNames = this.massMatchService.searchFieldMatchTerms
                            .map(c => c.rightTerm.field)
                            .concat(this.massMatchService.searchFilterTerms
                            .filter(c => c.term.dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"].inventory)
                            .map(c => c.term.field))
                            .filter(s.distinctValues);
                        if (selectedInventoryHeaderNames.findIndex(c => c === 'description') === -1) {
                            selectedInventoryHeaderNames.push('description');
                        }
                        this.massMatchService.updateSelectedInventoryHeaders(selectedInventoryHeaderNames);
                        const selectedClientHeaderNames = this.massMatchService.searchFieldMatchTerms
                            .map(c => c.leftTerm.field)
                            .concat(this.massMatchService.searchFilterTerms
                            .filter(c => c.term.dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"].client)
                            .map(c => c.term.field))
                            .filter(s.distinctValues);
                        if (selectedClientHeaderNames.findIndex(c => c === 'description') === -1) {
                            selectedClientHeaderNames.push('description');
                        }
                        this.massMatchService.updateSelectedClientHeaders(selectedClientHeaderNames);
                    }
                });
                // error => {},
                // () => {};
            }
            else {
                // No search response
                // Sending user back mass match
                this.router.navigate([`project-profile/${this.groupId}/Reconciliation/mass-match`]);
            }
        });
        this.massMatchService.selectedClientHeaders$.subscribe(selectedHeaders => {
            if (selectedHeaders) {
                this.selectedClientHeaders = this.allClientHeaders.filter(function (x) {
                    return selectedHeaders.find(c => c === x.name);
                });
                this.selectedClientHeaderNames = this.selectedClientHeaders.map(c => c.name);
            }
        });
        this.massMatchService.selectedInventoryHeaders$.subscribe(selectedHeaders => {
            if (selectedHeaders) {
                this.selectedInventoryHeaders = this.allInventoryHeaders.filter(function (x) {
                    return selectedHeaders.find(c => c === x.name);
                });
                this.selectedInventoryHeaderNames = this.selectedInventoryHeaders.map(c => c.name);
            }
        });
    }
    ngAfterViewInit() {
        this.syncScrolling(this.clientFileMatchesGrid.nativeElement.getElementsByClassName('k-grid-content')[0], this.inventoryMatchesGrid.nativeElement.getElementsByClassName('k-grid-content')[0]);
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    syncSort(sort) {
        if (sort && sort.length > 0 && sort[0].field !== 'Actions') {
            this.gridState.sortTerm = sort[0].dir ? {
                field: sort[0].field,
                sortDirection: sort[0].dir === 'asc' ? 0 : 1,
                termOrder: 0
            } : undefined;
            this.gridState.skip = 0;
            this.clientFileRecords = [];
            this.inventoryRecords = [];
            this.refreshGridData();
            this.state.sort = sort;
            this.stateInventory.sort = sort;
        }
    }
    sortChangeClient(sort) {
        this.syncSort(sort);
    }
    sortChangeInventroyRecords(sort) {
        this.syncSort(sort);
    }
    loadClientMatchData() {
        this.clientFileRecords = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_14__["orderBy"])(this.clientFileRecords, this.state.sort);
        // this.contracts = orderBy(this.contracts, this.state.sort);
        this.clientGridViewData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_14__["process"])(this.clientFileRecords, this.state);
    }
    loadInventoryMatchData() {
        this.inventoryRecords = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_14__["orderBy"])(this.inventoryRecords, this.stateInventory.sort);
        // this.contracts = orderBy(this.contracts, this.state.sort);
        this.inventoryGridViewData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_14__["process"])(this.inventoryRecords, this.stateInventory);
    }
    unmatch(assetId) {
        const match = this.matchesInProgress.find(c => c.primaryAssetRecordId === assetId || c.secondaryAssetRecordId === assetId);
        const matchIndex = this.matchesInProgress.indexOf(match);
        const primaryIndex = this.inventoryRecords.findIndex(c => c.id === match.secondaryAssetRecordId);
        const secondaryIndex = this.clientFileRecords.findIndex(c => c.id === match.primaryAssetRecordId);
        if (matchIndex >= 0) {
            this.matchesInProgress.splice(matchIndex, 1);
            this.matchesCount = this.matchesCount - 1;
            this.inventoryRecords[primaryIndex].isUnmatched = true;
            this.clientFileRecords[primaryIndex].isUnmatched = true;
            setTimeout(() => {
                if (primaryIndex >= 0 && secondaryIndex >= 0) {
                    this.inventoryRecords.splice(primaryIndex, 1);
                    this.clientFileRecords.splice(secondaryIndex, 1);
                }
            }, 250);
        }
    }
    isUnmatched(context) {
        return context.dataItem.isUnmatched ? 'un-matched animated fadeOutLeft' : 'mass-match-row';
    }
    RefreshMatchedDataGrid() {
        this.matchesInProgress.forEach((element, index) => {
            const primaryIndex = this.inventoryRecords.findIndex(c => c.id === element.secondaryAssetRecordId);
            const secondaryIndex = this.clientFileRecords.findIndex(c => c.id === element.primaryAssetRecordId);
            if (primaryIndex >= 0 && secondaryIndex >= 0) {
                this.inventoryRecords.splice(primaryIndex, 1);
                this.clientFileRecords.splice(secondaryIndex, 1);
                this.matchesInProgress.splice(index, 1);
                this.matchesCount = this.matchesCount - 1;
            }
        });
        this.loadClientMatchData();
        this.loadInventoryMatchData();
    }
    onSubmit() {
        if (this.matchesInProgress != null && this.matchesInProgress.length > 0) {
            this.saveIsLoading = true;
            this.massMatchService.saveMassMatch(this.matchesInProgress).subscribe(result => {
                if (result) {
                    this.saveIsLoading = false;
                    this.alertService.success(`{{matchesInProgress}} matches saved successfully!`, null, { matchesInProgress: this.matchesInProgress.length });
                    //this.router.navigate([`project-profile/${this.groupId}/Reconciliation/reconcile-data`]);
                    this.RefreshMatchedDataGrid();
                }
            });
        }
    }
    saveAndNew(event) {
        event.preventDefault();
        if (this.matchesInProgress != null && this.matchesInProgress.length > 0) {
            this.saveAndNewIsLoading = true;
            this.massMatchService.saveMassMatch(this.matchesInProgress).subscribe(result => {
                if (result) {
                    this.saveAndNewIsLoading = false;
                    this.alertService.success(`${this.matchesInProgress.length} matches saved successfully!`);
                    this.massMatchService.clearSearch();
                    this.router.navigate([`project-profile/${this.groupId}/Reconciliation/mass-match`]);
                }
            });
        }
    }
    back(event) {
        this.router.navigate([`project-profile/${this.groupId}/Reconciliation/mass-match`]);
    }
    clientFileSelectionChange(event) {
        this.selectedInventoryFileRows = new Array();
        event.selectedRows.forEach(row => {
            if (row.dataItem && row.dataItem.id) {
                const filteredMatches = this.searchResponse.matches
                    .filter(c => c.primaryAssetRecordId === row.dataItem.id)
                    .map(c => c.secondaryAssetRecordId);
                this.selectedInventoryFileRows = filteredMatches;
            }
        });
    }
    inventoryFileSelectionChange(event) {
        this.selectedClientFileRows = new Array();
        event.selectedRows.forEach(row => {
            if (row.dataItem && row.dataItem.id) {
                const filteredMatches = this.searchResponse.matches
                    .filter(c => c.secondaryAssetRecordId === row.dataItem.id)
                    .map(c => c.primaryAssetRecordId);
                this.selectedClientFileRows = filteredMatches;
            }
        });
    }
    onColumnSelection(columnsSelected) {
        this.massMatchService.updateSelectedInventoryHeaders(columnsSelected.SelectedHeaders);
        this.massMatchService.updateSelectedClientHeaders(columnsSelected.SelectedHeaders);
    }
    distinctValues(value, index, self) {
        return self.indexOf(value) === index;
    }
    syncScrolling(one, two) {
        function sync(source) {
            setTimeout(() => {
                this.scrollTop = source.scrollTop;
                this.scrollLeft = source.scrollLeft;
            }, 10);
        }
        two.onscroll = sync.bind(one, two);
    }
    refreshGridData() {
        if (this.gridState.skip >= this.matchesCount) {
            return;
        }
        this.loading = true;
        this.massMatchService.searchAssets(this.groupId, this.matchesInProgress[0].matchCodeId, this.gridState).subscribe((searchResponse) => {
            this.loading = false;
            if (searchResponse && searchResponse.records && searchResponse.matches) {
                this.updateGridData(searchResponse);
                this.gridState.skip += this.gridState.take;
            }
        }, (error) => {
            if (error['error'] && error['error'].includes('many to many')) {
                this.alertService
                    .error('manytomany');
            }
            else {
                this.alertService.error('An error has occurred');
            }
            this.loading = false;
        });
    }
    updateGridData(searchResponse) {
        this.inventoryRecords = this.inventoryRecords.concat(this.assetFileInfoService.mapEnums(null, null, searchResponse.records.filter(function (x) {
            return searchResponse.matches.find(c => c.secondaryAssetRecordId === x.id);
        }).map(record => {
            return record;
        })));
        this.clientFileRecords = this.clientFileRecords.concat(this.assetFileInfoService.mapEnums(null, null, searchResponse.records.filter(function (x) {
            return searchResponse.matches.find(c => c.primaryAssetRecordId === x.id);
        }).map(record => {
            return record;
        })));
    }
};
ViewMatchesComponent.ctorParameters = () => [
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_1__["MassMatchService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_5__["ReconcileDataService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_7__["ReconciliationInventoryService"] },
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_15__["MatchCodesService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('clientFileMatchesGrid', { read: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"], static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"])
], ViewMatchesComponent.prototype, "clientFileMatchesGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('inventoryMatchesGrid', { read: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"], static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"])
], ViewMatchesComponent.prototype, "inventoryMatchesGrid", void 0);
ViewMatchesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'view-matches',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./view-matches.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/view-matches.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_1__["MassMatchService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_5__["ReconcileDataService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ElementRef"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_7__["ReconciliationInventoryService"],
        _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_15__["MatchCodesService"]])
], ViewMatchesComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/match-codes.component.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/match-codes.component.ts ***!
  \***************************************************************************/
/*! exports provided: MatchCodesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MatchCodesComponent", function() { return MatchCodesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _create_match_code_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-match-code.component */ "./client-src/app/reconciliation/components/create-match-code.component.ts");
/* harmony import */ var _reconciliation_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../reconciliation.constants */ "./client-src/app/reconciliation/reconciliation.constants.ts");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");








let MatchCodesComponent = class MatchCodesComponent {
    constructor(matchCodesService, alertService) {
        this.matchCodesService = matchCodesService;
        this.alertService = alertService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.matchcodeGridBusy = true;
        this.pageSize = 100;
        this.skip = 0;
        this.onMatchCodeSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_6__["EventEmitter"]();
        this.onMatchCodesLoaded = new _angular_core__WEBPACK_IMPORTED_MODULE_6__["EventEmitter"]();
        this.matchCodes = new Array();
        this.selectableSettings = {
            checkboxOnly: true,
            mode: 'multiple'
        };
        this.state = {
            skip: 0,
            take: 100,
            // Initial filter descriptor
            filter: {
                logic: 'and',
                filters: []
            },
            sort: [{
                    dir: 'asc',
                    field: 'name'
                }]
        };
        this.sortSelectedAsc = false;
        this.sortSelectedDesc = false;
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.matchCodes, this.state);
    }
    pageChange(event) {
        this.skip = event.skip;
        this.loadMatchCodes();
    }
    loadMatchCodes() {
        this.gridData = {
            data: this.matchCodes.slice(this.skip, this.skip + this.pageSize),
            total: this.matchCodes.length
        };
    }
    dataStateChange(state) {
        this.state = state;
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.matchCodes, this.state);
    }
    ngOnInit() {
        this.matchCodes$ = this.matchCodesService.getMatchCodes();
        this.matchCodes$.subscribe(codes => {
            this.matchCodes = codes.filter(code => code.categoryId !== _reconciliation_constants__WEBPACK_IMPORTED_MODULE_2__["ReconciliationConstants"].SystemMatchCategoryId);
            this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.matchCodes, this.state);
            this.matchCodesService.cachedMatchCodes = codes;
            this.onMatchCodesLoaded.emit(codes);
        }, error => { }, () => this.matchcodeGridBusy = false);
        if (!this.selectedMatchCodeIds) {
            this.selectedMatchCodeIds = new Array();
        }
    }
    onSelectionChanged(args) {
        setTimeout(() => {
            this.onDeselectedRows(args.deselectedRows);
            this.validateSelectedRows(args.selectedRows);
            this.emitSelectedRows();
        });
    }
    onDeselectedRows(deselectedRows) {
        if (deselectedRows == null || deselectedRows.length === 0) {
            return;
        }
        deselectedRows.forEach(value => {
            const matchCode = this.matchCodes.find(c => c.id === value.dataItem.id);
            matchCode.isSelected = false;
        });
    }
    validateSelectedRows(selectedRows) {
        selectedRows.forEach(value => {
            const matchCode = this.matchCodes.find(c => c.id === value.dataItem.id);
            if (!matchCode.isEnabled) {
                this.alertService.error('This match code is disabled and cannot be added to the group.');
                this.selectedMatchCodeIds.splice(this.selectedMatchCodeIds.findIndex(c => c === value), 1);
            }
        });
    }
    emitSelectedRows() {
        const selectedMatchCodes = new Array();
        this.selectedMatchCodeIds.forEach(id => {
            const matchCode = this.matchCodes.find(c => c.id === id);
            matchCode.isSelected = true;
            selectedMatchCodes.push(matchCode);
        });
        this.onMatchCodeSelection.emit(selectedMatchCodes);
    }
    editMatchCode(id, event) {
        event.preventDefault();
        this.createMatchCodeComponent.open(event, id);
    }
    handleCreatedorModifiedMatchCode(matchCode) {
        const existingMatchCode = this.matchCodes.find(c => c.id === matchCode.id);
        if (!existingMatchCode) {
            this.matchCodes.push(matchCode);
        }
        else {
            const index = this.matchCodes.indexOf(existingMatchCode);
            this.matchCodes[index] = matchCode;
        }
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.matchCodes, this.state);
    }
    sortSelected() {
        if (this.sortSelectedDesc) {
            this.sortSelectedAsc = true;
            this.sortSelectedDesc = false;
            this.setSortDescriptor('asc', 'isSelected');
        }
        else {
            this.sortSelectedAsc = false;
            this.sortSelectedDesc = true;
            this.setSortDescriptor('desc', 'isSelected');
        }
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_3__["process"])(this.matchCodes, this.state);
    }
    setSortDescriptor(direction, field) {
        this.state.sort = [{
                dir: direction,
                field: field
            }];
    }
    isDisabled(context) {
        return context.dataItem.isEnabled ? 'enabled-row' : 'disabled-row';
    }
};
MatchCodesComponent.ctorParameters = () => [
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_7__["MatchCodesService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])(_create_match_code_component__WEBPACK_IMPORTED_MODULE_1__["CreateMatchCodeComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _create_match_code_component__WEBPACK_IMPORTED_MODULE_1__["CreateMatchCodeComponent"])
], MatchCodesComponent.prototype, "createMatchCodeComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], MatchCodesComponent.prototype, "selectedMatchCodeIds", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], MatchCodesComponent.prototype, "includeContractSearch", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], MatchCodesComponent.prototype, "onMatchCodeSelection", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], MatchCodesComponent.prototype, "onMatchCodesLoaded", void 0);
MatchCodesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'match-codes',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./match-codes.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/match-codes.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_7__["MatchCodesService"], _core_services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"]])
], MatchCodesComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/order-asset-columns-component.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/order-asset-columns-component.ts ***!
  \***********************************************************************************/
/*! exports provided: OrderAssetColumnsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderAssetColumnsComponent", function() { return OrderAssetColumnsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_add_asset_column_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/add-asset-column-component */ "./client-src/app/_shared/components/add-asset-column-component.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/reconcile-data-grid.service */ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./reconcile-data-grid.component */ "./client-src/app/reconciliation/components/reconcile-data-grid.component.ts");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_api/_runtime/services/settings-api.service */ "./client-src/app/_api/_runtime/services/settings-api.service.ts");















let OrderAssetColumnsComponent = class OrderAssetColumnsComponent {
    constructor(inventoryService, reconcileDataService, alertService, reconcileDataGridService, helperService, assetFileInfoService, windowManager, container, reconcileDataGridComponent, userGridService, settingsApiService) {
        this.inventoryService = inventoryService;
        this.reconcileDataService = reconcileDataService;
        this.alertService = alertService;
        this.reconcileDataGridService = reconcileDataGridService;
        this.helperService = helperService;
        this.assetFileInfoService = assetFileInfoService;
        this.windowManager = windowManager;
        this.container = container;
        this.reconcileDataGridComponent = reconcileDataGridComponent;
        this.userGridService = userGridService;
        this.settingsApiService = settingsApiService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.onColumnOrderUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.columnAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_9__["EventEmitter"]();
        this.isAddingColumn = false;
        this.pendingCustomColumns = new Array();
        this.headersAvailable = new Array();
        this.selectedHeaders = new Array();
        this.showAllColumns = false;
    }
    ngOnInit() {
        this.showAllColumns = false;
    }
    open() {
        const s = this;
        this.reconcileDataGridService.headers$.subscribe(headers => {
            if (headers) {
                if (this.mappedColumns === undefined || this.showAllColumns) {
                    this.headersAvailable = headers[this.dataSource].filter(header => this.assetFileInfoService.GetInternalColumns().some(hidden => hidden === header.name) === false);
                }
                else {
                    this.headersAvailable = headers[this.dataSource].filter(header => this.mappedColumns.some(hidden => hidden.toLowerCase() === header.name.toLowerCase()) === true);
                }
            }
        });
        this.reconcileDataGridService.selectedHeaders$.subscribe(selectedHeaders => {
            if (selectedHeaders) {
                this.selectedHeaders = selectedHeaders[this.dataSource];
            }
        });
        this.columnNames = this.headersAvailable.map(col => col.name);
        this.reconcileDataGridService.pendingCustomColumns$.subscribe(columns => {
            if (columns) {
                this.pendingCustomColumns = columns[this.dataSource];
            }
            else {
                this.pendingCustomColumns = new Array();
            }
        });
        this.windowRef = this.windowManager.open(this.content, 'Select Columns to Display', {
            isModal: true
        });
    }
    DisplayAllColumnsToggle(ev) {
        this.showAllColumns = !this.showAllColumns;
        this.reconcileDataGridService.headers$.subscribe(headers => {
            if (headers) {
                if (this.mappedColumns === undefined || this.showAllColumns) {
                    this.headersAvailable = headers[this.dataSource].filter(header => this.assetFileInfoService.GetInternalColumns().some(hidden => hidden === header.name) === false);
                }
                else {
                    this.headersAvailable = headers[this.dataSource].filter(header => this.mappedColumns.some(hidden => hidden.toLowerCase() === header.name.toLowerCase()) === true);
                }
            }
        });
        this.reconcileDataGridService.updateAvailableColumns(this.headersAvailable, this.dataSource);
    }
    updateCurrentView(clearCache = false) {
        const s = this;
    }
    saveChanges() {
        const s = this;
        // TODO : Set the Ordering
        s.reconcileDataGridService.updateSelectedHeaders(s.selectedHeaders, s.dataSource);
        this.userGridService.saveSelectedHeaders(this.reconcileDataGridComponent.gridSettingsName, s.selectedHeaders);
        // Save custom columns
        if (s.pendingCustomColumns.length > 0) {
            s.inventoryService.addAssetCustomColumns(s.assetFileId, s.pendingCustomColumns).subscribe(result => {
                if (result.code === 0) {
                    s.alertService.success('Columns added to asset file.');
                    s.columnAdded.emit({ dataSource: s.dataSource, columns: result.result });
                    s.reconcileDataGridService.updateSelectedHeaders(s.selectedHeaders, s.dataSource);
                    s.reconcileDataGridService.clearPendingColumns(s.dataSource);
                }
                else {
                    s.alertService.error('An error occurred, asset column(s) could not be added.');
                }
                s.windowRef.close();
            });
        }
        else {
            s.windowRef.close();
        }
    }
    cancle() {
        this.windowRef.close();
    }
    removePendingColumn(col) {
        let index = this.pendingCustomColumns.findIndex(i => i.columnName.toLowerCase() === col.columnName.toLowerCase());
        if (index !== -1) {
            this.pendingCustomColumns.splice(index, 1);
        }
        index = this.columnNames.findIndex(i => i.toLowerCase() === col.columnName.toLowerCase());
        if (index !== -1) {
            this.columnNames.splice(index, 1);
        }
    }
    onColumnAdded(col) {
        // Create a new header
        const header = {};
        const columnName = this.helperService.lowerCasePropertyName(col.columnName);
        col.columnName = columnName;
        header.displayName = col.columnName;
        header.name = columnName;
        header.isCustom = true;
        header.order = this.headersAvailable.length + 1;
        this.headersAvailable.push(header);
        this.selectedHeaders.push(header.name);
        this.columnNames.push(col.columnName);
        this.reconcileDataGridService.addPendingColumn(this.dataSource, col);
    }
};
OrderAssetColumnsComponent.ctorParameters = () => [
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__["InventoryService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] },
    { type: _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataGridService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_8__["WindowManager"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewContainerRef"] },
    { type: _reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_12__["ReconcileDataGridComponent"] },
    { type: _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_13__["UserGridService"] },
    { type: _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_14__["SettingsApiService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], OrderAssetColumnsComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewChild"])(_shared_components_add_asset_column_component__WEBPACK_IMPORTED_MODULE_1__["AddAssetColumnComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_add_asset_column_component__WEBPACK_IMPORTED_MODULE_1__["AddAssetColumnComponent"])
], OrderAssetColumnsComponent.prototype, "addCustomColumnsComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], OrderAssetColumnsComponent.prototype, "dataSource", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], OrderAssetColumnsComponent.prototype, "assetFileId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], OrderAssetColumnsComponent.prototype, "mappedColumns", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], OrderAssetColumnsComponent.prototype, "onColumnOrderUpdated", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], OrderAssetColumnsComponent.prototype, "columnAdded", void 0);
OrderAssetColumnsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["Component"])({
        selector: 'order-asset-columns-component',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./order-asset-columns-component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/order-asset-columns-component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__["InventoryService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
        _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataGridService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_5__["HelperService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_6__["AssetFileInfoService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_8__["WindowManager"],
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ViewContainerRef"],
        _reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_12__["ReconcileDataGridComponent"],
        _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_13__["UserGridService"],
        _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_14__["SettingsApiService"]])
], OrderAssetColumnsComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/parent-child-match-detail.component.ts":
/*!*****************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/parent-child-match-detail.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: ParentChildMatchDetailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParentChildMatchDetailComponent", function() { return ParentChildMatchDetailComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _services_parent_child_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/parent-child.service */ "./client-src/app/reconciliation/services/parent-child.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");







let ParentChildMatchDetailComponent = class ParentChildMatchDetailComponent {
    constructor(reconcileDataService, helperService, parentChildService, assetFileInfoService) {
        this.reconcileDataService = reconcileDataService;
        this.helperService = helperService;
        this.parentChildService = parentChildService;
        this.assetFileInfoService = assetFileInfoService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.headers = [];
    }
    ngOnInit() {
        this.parentChildService.children$.subscribe(currentChildren => {
            this.children = currentChildren;
        });
        if (this.children.length > 0) {
            this.headers = this.helperService.getHeaders(this.children[0], this.assetFileInfoService.GetInternalColumns());
        }
    }
    showColumn(columnKey) {
        const hideColumn = this.reconcileDataService.defaultColumns
            .indexOf(columnKey) !== -1 || this.assetFileInfoService.GetInternalColumns().indexOf(columnKey) !== -1;
        return hideColumn;
    }
};
ParentChildMatchDetailComponent.ctorParameters = () => [
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"] },
    { type: _services_parent_child_service__WEBPACK_IMPORTED_MODULE_3__["ParentChildService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_4__["AssetFileInfoService"] }
];
ParentChildMatchDetailComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'parent-child-match-detail',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./parent-child-match-detail.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/parent-child-match-detail.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_2__["HelperService"],
        _services_parent_child_service__WEBPACK_IMPORTED_MODULE_3__["ParentChildService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_4__["AssetFileInfoService"]])
], ParentChildMatchDetailComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/parent-child-match.component.ts":
/*!**********************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/parent-child-match.component.ts ***!
  \**********************************************************************************/
/*! exports provided: ParentChildMatchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParentChildMatchComponent", function() { return ParentChildMatchComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_parent_child_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/parent-child.service */ "./client-src/app/reconciliation/services/parent-child.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _enums_result_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_enums/result-type */ "./client-src/app/_enums/result-type.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");








let ParentChildMatchComponent = class ParentChildMatchComponent {
    constructor(windowManager, alertService, parentChildService) {
        this.windowManager = windowManager;
        this.alertService = alertService;
        this.parentChildService = parentChildService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.parentChildMatch = new _angular_core__WEBPACK_IMPORTED_MODULE_7__["EventEmitter"]();
        this.parentChildRemoved = new _angular_core__WEBPACK_IMPORTED_MODULE_7__["EventEmitter"]();
        this.isEdit = false;
        this.showSelectParentAlert = false;
        this.removedIds = Array();
        this.children = new Array();
        this.isConfirmOpen = false;
        this.confirmMessage = '';
        this.confirmHeader = 'Confirm';
        this.defaultParentIndex = -1;
        this.showMatchedChildAssigned = false;
    }
    ngOnInit() {
        this.parentChildService.children$.subscribe(children => {
            this.children = children;
        });
        this.parentChildService.currentSelectedAssets.subscribe(currentSelectedAssets => {
            this.assetsGridData = currentSelectedAssets;
        });
    }
    open(event) {
        event.preventDefault();
        this.showMatchedChildAssigned = false;
        this.parentChildService.isValidSelection(this.assetsGridData).subscribe(result => {
            if (!result) {
                this.alertService.error(this.parentChildService.getValidationErrors());
                return;
            }
            this.loadItems(this.getChildAssetIds());
            this.title = 'Parent / Child Relationship';
            this.saveText = 'Apply';
            this.parentAssetId = null;
            this.showSelectParentAlert = false;
            this.defaultParentIndex = this.assetsGridData.findIndex(p => p.isMatched === true);
            if (this.defaultParentIndex !== -1) {
                this.selectParent(this.defaultParentIndex);
            }
            this.windowRef = this.windowManager.open(this.content, this.title, {
                isModal: true,
                translationKey: this.i18n.reconciliation
            });
        });
    }
    selectParent(rowIndex) {
        if (rowIndex != null) {
            const item = this.assetsGridData[rowIndex];
            if (this.defaultParentIndex !== -1) {
                if (this.assetsGridData[rowIndex].assetId !== this.assetsGridData[this.defaultParentIndex].assetId) {
                    this.showMatchedChildAssigned = true;
                    return;
                }
            }
            this.parentAssetId = item.assetId;
            this.showMatchedChildAssigned = false;
        }
    }
    onSubmit() {
        if (this.parentAssetId == null) {
            this.showSelectParentAlert = true;
            return;
        }
        if (this.showMatchedChildAssigned) {
            return;
        }
        const observables = new Array();
        let assetsToRemove = new Array();
        if (this.getOriginalParent() !== '' && this.parentAssetId !== this.getOriginalParent()) {
            const originalParent = this.getOriginalParent();
            assetsToRemove = this.getChildAssetIds();
            assetsToRemove.push(this.parentAssetId);
            assetsToRemove.splice(assetsToRemove.indexOf(originalParent), 1);
        }
        if (this.removedIds.length > 0) {
            this.removedIds.forEach(id => assetsToRemove.push(id));
        }
        if (assetsToRemove.length > 0 && this.isEdit) {
            const remove = this.parentChildService.removeChildMatches(assetsToRemove);
            observables.push(remove);
        }
        if (this.isEdit) {
            const adds = this.parentChildService.updateParentChildMatches(this.parentAssetId, this.getChildAssetIds());
            observables.push(adds);
        }
        else {
            const adds = this.parentChildService.setParentChildMatches(this.parentAssetId, this.getChildAssetIds());
            observables.push(adds);
        }
        Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["concat"])(...observables).subscribe(c => {
            if (c.resultType === _enums_result_type__WEBPACK_IMPORTED_MODULE_3__["ResultType"].reconciliationSummaryResult) {
                this.parentChildMatch.emit(c);
            }
            if (c.resultType === _enums_result_type__WEBPACK_IMPORTED_MODULE_3__["ResultType"].matchOrAllocationResult) {
                const removedResult = c;
                this.parentChildRemoved.emit(removedResult.result.assetIds);
            }
            this.windowRef.close();
        }, error => { });
    }
    loadItems(assetIds) {
        this.parentChildService.getMatchSummaryForAssetIds(this.getChildAssetIds()).subscribe(data => {
            if (data.result.assetData.length === 0) {
                return;
            }
            data.result.assetData.forEach(match => {
                const element = this.assetsGridData.find(a => a.assetId === match.id);
                if (element != null) {
                    element.isParent = match.isParent;
                    element.parentId = match.parentId;
                    if (element.isParent === true) {
                        this.parentAssetId = element.assetId;
                    }
                }
            });
            this.isEdit = true;
        });
    }
    getOriginalParent() {
        let parents = this.assetsGridData.map(({ parentId }) => parentId);
        parents = parents.filter(function (v, i) {
            return v != null && parents.indexOf(v) === i;
        });
        if (parents.length === 0) {
            return '';
        }
        return parents[0];
    }
    getChildAssetIds() {
        const assetIds = this.assetsGridData.map(({ assetId }) => assetId);
        const index = assetIds.indexOf(this.parentAssetId);
        if (index > -1) {
            assetIds.splice(index, 1);
        }
        return assetIds;
    }
    onUnrelateAllItems(event) {
        event.preventDefault();
        this.confirmMessage = 'Are you sure you want to remove the associations from all items?';
        this.isConfirmOpen = true;
    }
    onUnrelateRow(rowIndex, event, grid) {
        event.preventDefault();
        if (this.assetsGridData.length <= 2) {
            this.confirmMessage = 'Removing this item will unrelate all items. Are you sure?';
            this.isConfirmOpen = true;
        }
        this.removedIds.push(this.assetsGridData[rowIndex].assetId);
        this.assetsGridData.splice(rowIndex, 1);
    }
    onConfirmed(isConfirmed) {
        this.isConfirmOpen = false;
        if (isConfirmed) {
            this.unrelateAllItems();
        }
    }
    unrelateAllItems() {
        const ids = this.getChildAssetIds();
        if (this.removedIds.length > 0) {
            this.removedIds.forEach(id => ids.push(id));
        }
        this.parentChildService.removeChildMatches(ids).subscribe(removedEntities => {
            if (removedEntities) {
                let assetIds = new Array();
                const removedResult = removedEntities.result;
                assetIds = assetIds.concat(removedResult.assetIds);
                assetIds.push(this.parentAssetId);
                this.parentChildRemoved.emit(assetIds);
                this.windowRef.close();
            }
        });
    }
    cancel() {
        this.windowRef.close();
    }
};
ParentChildMatchComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _services_parent_child_service__WEBPACK_IMPORTED_MODULE_1__["ParentChildService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ParentChildMatchComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ParentChildMatchComponent.prototype, "parentChildMatch", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ParentChildMatchComponent.prototype, "parentChildRemoved", void 0);
ParentChildMatchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'parent-child-match',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./parent-child-match.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/parent-child-match.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_5__["WindowManager"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _services_parent_child_service__WEBPACK_IMPORTED_MODULE_1__["ParentChildService"]])
], ParentChildMatchComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/reconcile-data-allocations.component.ts":
/*!******************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/reconcile-data-allocations.component.ts ***!
  \******************************************************************************************/
/*! exports provided: ReconcileDataAllocationsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcileDataAllocationsComponent", function() { return ReconcileDataAllocationsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_allocation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/allocation.service */ "./client-src/app/reconciliation/services/allocation.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/services/reconciliation/cost-fields.service */ "./client-src/app/_api/services/reconciliation/cost-fields.service.ts");
/* harmony import */ var _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/_runtime/services/calculation-api.service */ "./client-src/app/_api/_runtime/services/calculation-api.service.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _enums_reconciliationStatus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_enums/reconciliationStatus */ "./client-src/app/_enums/reconciliationStatus.ts");












let ReconcileDataAllocationsComponent = class ReconcileDataAllocationsComponent {
    constructor(windowManager, allocationService, alertService, reconcilationMatchService, reconcileMatchService, costFieldsService, reconcileDataService, calculationService, container) {
        this.windowManager = windowManager;
        this.allocationService = allocationService;
        this.alertService = alertService;
        this.reconcilationMatchService = reconcilationMatchService;
        this.reconcileMatchService = reconcileMatchService;
        this.costFieldsService = costFieldsService;
        this.reconcileDataService = reconcileDataService;
        this.calculationService = calculationService;
        this.container = container;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.title = 'Allocation';
        this.isConfirmOpen = false;
        this.confirmMessage = '';
        this.confirmHeader = '';
        this.allocation = new _angular_core__WEBPACK_IMPORTED_MODULE_7__["EventEmitter"]();
        this.allocationUnmatchAll = new _angular_core__WEBPACK_IMPORTED_MODULE_7__["EventEmitter"]();
        this.remainingBalance = 0;
    }
    ngOnInit() {
        const s = this;
        this.allocationService.currentSelectedMatchCode.subscribe(matchCode => (this.matchCode = matchCode));
        this.reconcileMatchService.selectedMatch$.subscribe(match => {
            this.selectedClientAssets = match.filter(c => c.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"].client);
            this.selectedInventoryAssets = match.filter(c => c.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_10__["DataTargetName"].inventory);
        });
        this.costFieldsService.getGroupCostField(this.reconcileDataService.groupId).subscribe(field => {
            if (field === null || field.assetFileField.length === 0) {
                s.costField = 'historicalCost';
            }
            else {
                s.costField = field.assetFileField.charAt(0).toLowerCase() + field.assetFileField.slice(1);
            }
        });
    }
    open(event) {
        event.preventDefault();
        this.launchAllocationModal();
    }
    launchAllocationModal() {
        this.isConfirmOpen = false;
        if (this.matchCode === '' || this.matchCode == null) {
            this.alertService.error('Select a match code to create an allocation.');
            return;
        }
        if (this.selectedClientAssets.length > 1) {
            this.alertService.error('Cannot create allocations for more than one client record at a time.');
            return;
        }
        if (this.selectedClientAssets.length === 0) {
            this.alertService.error('A client record must be selected to create an allocation.');
            return;
        }
        if (this.selectedInventoryAssets.length === 0) {
            this.alertService.error('At least one inventory item must be selected to create or modify an allocation.');
            return;
        }
        this.inventoryAssetsToRemove = new Array();
        // If we made it this far, get the reconcilation matches and verify selction is elligable for allocation.
        const ids = new Array();
        ids.push(this.selectedClientAssets[0].assetId);
        this.reconcilationMatchService.getMatchSummaryForAssetIds(this.reconcileDataService.groupId, ids).subscribe(result => {
            if (result.code === _enums_reconciliationStatus__WEBPACK_IMPORTED_MODULE_11__["ReconciliationStatus"].Success && result.result != null) {
                const allMatchedAssets = result.result.assetData;
                // console.log(result);
                if (this.isValidAssetSelectionForExistingAllocation(allMatchedAssets)) {
                    // Launch Modal in modify/view mode
                    this.initializeUpdateViewModel(allMatchedAssets);
                }
                else if (this.isValidAssetSelectionForNewAllocation(allMatchedAssets)) {
                    // Launch Modal in new allocation mode
                    this.initializeViewModel();
                }
                else {
                    this.alertService.error('The selected assets are not valid for creating or modifying an allocation.');
                    return;
                }
                this.windowRef = this.windowManager.open(this.content, this.title, {
                    isModal: true,
                    translationKey: this.i18n.reconciliation,
                    top: -100,
                    left: -900,
                    width: 800
                });
            }
            else {
                // Bad API status
                this.alertService.error('An unexpected error has occurred. Allocation cannot be created at this time.');
                return;
            }
        });
    }
    allocateEvenly(event) {
        event.preventDefault();
        this.calculationService
            .Allocate(parseFloat(this.vm.allocationClientAsset[this.costField]), this.vm.allocationInventoryAssets.length)
            .subscribe(res => {
            for (let i = 0; i < res.length; i++) {
                this.vm.allocationInventoryAssets[i].allocatedValue = parseFloat(res[i]);
            }
            this.updateTotal();
        });
    }
    onSubmit(form) {
        if (this.vm.isValidAllocation) {
            const allocations = new Array();
            this.vm.allocationInventoryAssets.forEach(asset => {
                // console.log('Asset ' + asset.assetId + ' allocation: ' + asset.allocatedValue);
                const allocation = {
                    assetRecordId: asset.assetId,
                    allocatedValue: asset.allocatedValue
                };
                allocations.push(allocation);
            });
            // Save Allocation
            if (this.vm.isNewAllocation) {
                this.createNewAllocation(allocations);
            }
            else {
                this.updateExistingAllocation(allocations);
            }
        }
    }
    createNewAllocation(allocations) {
        this.reconcilationMatchService
            .setAllocationMatch(this.vm.allocationClientAsset.assetId, allocations, this.matchCode)
            .subscribe(result => {
            if (result.code === _enums_reconciliationStatus__WEBPACK_IMPORTED_MODULE_11__["ReconciliationStatus"].Success) {
                const assetsModified = this.mapAllocationResult(result.result);
                this.allocation.emit(assetsModified);
                this.alertService.success('Allocation match saved!');
            }
            else {
                this.alertService.error('An unexpected error occurred. Allocation cannot be created at this time.');
            }
            this.windowRef.close();
        });
    }
    updateExistingAllocation(allocations) {
        this.reconcilationMatchService
            .updateAllocationMatch(this.vm.allocationClientAsset.assetId, allocations, this.matchCode, this.vm.parentAssetFileRecordId, this.vm.matchId)
            .subscribe(result => {
            if (result.code === _enums_reconciliationStatus__WEBPACK_IMPORTED_MODULE_11__["ReconciliationStatus"].Success) {
                const assetsModified = this.mapAllocationResult(result.result);
                this.allocation.emit(assetsModified);
                this.alertService.success('Allocation match saved!');
            }
            else {
                this.alertService.error('An unexpected error occurred. Allocation cannot be created at this time.');
            }
            this.windowRef.close();
        });
    }
    mapAllocationResult(result) {
        const assetsModified = new Array();
        if (result && result.allocations.length > 0) {
            result.allocations.forEach(a => {
                const allocatedAsset = this.vm.allocationInventoryAssets.find(c => c.assetId === a.assetRecordId);
                const res = this.mapAssetDto(allocatedAsset);
                res.matchId = result.matchId;
                res.matchCodeId = result.matchCodeId;
                res.historicalCost = a.allocatedValue;
                assetsModified.push(res);
            });
            const clientAsset = this.mapAssetDto(this.vm.allocationClientAsset);
            clientAsset.matchId = result.matchId;
            clientAsset.matchCodeId = result.matchCodeId;
            assetsModified.push(clientAsset);
        }
        this.inventoryAssetsToRemove.forEach(asset => {
            const assetDto = this.mapAssetDto(asset);
            assetDto.matchCodeId = '';
            assetDto.historicalCost = asset.historicalCost;
            assetDto.matchId = '';
            assetsModified.push(assetDto);
        });
        return assetsModified;
    }
    mapAssetDto(asset) {
        const res = {};
        res.id = asset.assetId;
        res.parentId = asset.parentId;
        res.isParent = asset.isParent;
        res.oldTagNumber = asset.oldTagNumber;
        res.description = asset.description;
        res.assetTagNumber = asset.assetTagNumber;
        res.dataSource = asset.dataSource;
        res.historicalCost = asset.historicalCost;
        return res;
    }
    updateTotal() {
        this.vm.isValidAllocation = true;
        this.vm.allocationTotal = 0;
        this.vm.allocationInventoryAssets.forEach(asset => {
            if (asset.allocatedValue < 0) {
                this.vm.isValidAllocation = false;
            }
            this.vm.allocationTotal += Number(asset.allocatedValue);
        });
        this.vm.allocationTotal = Number(this.vm.allocationTotal.toFixed(2));
        this.remainingBalance = Number((this.vm.allocationClientAsset.historicalCost - this.vm.allocationTotal).toFixed(2));
        if (this.vm.isValidAllocation) {
            this.vm.isValidAllocation = this.vm.allocationTotal <= this.vm.allocationClientAsset[this.costField];
        }
    }
    isValidAssetSelectionForNewAllocation(matchedAssets) {
        let returnVal = true;
        matchedAssets.forEach(asset => {
            if (asset.matchId || asset.matchCodeId) {
                returnVal = false;
            }
        });
        if (!returnVal) {
            this.alertService.error('The selected inventory items contain at least one asset that has already been allocated.');
        }
        if (returnVal) {
            // console.log('Valid Asset selction for new Allocation');
        }
        return returnVal;
    }
    isValidAssetSelectionForExistingAllocation(matchedAssets) {
        const clientAsset = this.selectedClientAssets[0];
        const matchCodeId = clientAsset.matchCodeId;
        const matchId = clientAsset.matchId;
        if (!matchCodeId && !matchId) {
            return false;
        }
        const clientAssetIndex = matchedAssets.findIndex(m => m.id === clientAsset.assetId);
        if (clientAssetIndex === -1) {
            return false;
        }
        this.selectedInventoryAssets.forEach(invAsset => {
            if (invAsset.matchId && invAsset.matchCodeId) {
                const matchedAssetIndex = matchedAssets.findIndex(m => m.id === invAsset.assetId);
                if (matchedAssetIndex === -1) {
                    return false;
                }
                const matchAsset = matchedAssets[matchedAssetIndex];
                if (matchAsset.matchCodeId !== matchCodeId || matchAsset.matchId !== matchId) {
                    return false;
                }
            }
        });
        matchedAssets.splice(clientAssetIndex, 1);
        if (this.selectedInventoryAssets.length < matchedAssets.length) {
            return false;
        }
        return true;
    }
    initializeViewModel() {
        this.vm = {
            allocationTotal: 0,
            isNewAllocation: true,
            allocationClientAsset: this.selectedClientAssets.slice(0)[0],
            allocationInventoryAssets: this.selectedInventoryAssets.slice(),
            isValidAllocation: true,
            matchId: '',
            parentAssetFileRecordId: ''
        };
        this.vm.allocationInventoryAssets.forEach(asset => {
            asset.allocatedValue = 0;
        });
        this.allocationCost = this.setAllocationCost();
    }
    setAllocationCost() {
        if (this.costField === null) {
            return 0;
        }
        if (!this.vm.allocationClientAsset[this.costField]) {
            return 0;
        }
        return Number((this.vm.allocationClientAsset[this.costField] * 1).toFixed(2));
    }
    initializeUpdateViewModel(matchedAssets) {
        this.vm = {
            allocationTotal: 0,
            isNewAllocation: false,
            allocationClientAsset: this.selectedClientAssets.slice(0)[0],
            allocationInventoryAssets: this.selectedInventoryAssets.slice(),
            isValidAllocation: true,
            matchId: this.selectedClientAssets[0].matchId,
            parentAssetFileRecordId: this.selectedClientAssets[0].parentId
        };
        this.vm.allocationInventoryAssets.forEach(asset => {
            const allocation = matchedAssets.find(x => x.id === asset.assetId);
            if (allocation !== undefined) {
                asset.allocatedValue = allocation.historicalCost;
            }
            else {
                asset.allocatedValue = 0.0;
            }
        });
        this.allocationCost = this.setAllocationCost();
        this.updateTotal();
    }
    unmatchRecord(event, assetId) {
        event.preventDefault();
        // Check if last allocation
        if (this.vm.allocationInventoryAssets.length === 1) {
            this.confirmHeader = 'Confirm';
            this.confirmMessage = 'Are you sure you want to remove this allocation? This will delete the match for these records.';
            this.isConfirmOpen = true;
        }
        const asset = this.vm.allocationInventoryAssets.find(i => i.assetId === assetId);
        const index = this.vm.allocationInventoryAssets.indexOf(asset);
        this.inventoryAssetsToRemove.push(asset);
        this.vm.allocationInventoryAssets.splice(index, 1);
        this.updateTotal();
    }
    cancel() {
        this.windowRef.close();
    }
    unmatchAll(event) {
        event.preventDefault();
        this.confirmHeader = 'Confirm';
        this.confirmMessage = 'Are you sure you want to delete the match for these records?';
        this.isConfirmOpen = true;
    }
    onConfirmed(isConfirmed) {
        this.isConfirmOpen = false;
        if (isConfirmed) {
            this.removeEntireAllocationMatch();
        }
    }
    removeEntireAllocationMatch() {
        this.allocationUnmatchAll.emit();
        this.windowRef.close();
    }
};
ReconcileDataAllocationsComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"] },
    { type: _services_allocation_service__WEBPACK_IMPORTED_MODULE_1__["AllocationService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileMatchService"] },
    { type: _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileMatchService"] },
    { type: _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_8__["CostFieldsService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataService"] },
    { type: _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_9__["CalculationApiService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataAllocationsComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataAllocationsComponent.prototype, "allocation", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataAllocationsComponent.prototype, "allocationUnmatchAll", void 0);
ReconcileDataAllocationsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"])({
        selector: 'reconcile-data-allocations',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reconcile-data-allocations.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data-allocations.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_6__["WindowManager"],
        _services_allocation_service__WEBPACK_IMPORTED_MODULE_1__["AllocationService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileMatchService"],
        _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileMatchService"],
        _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_8__["CostFieldsService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_4__["ReconcileDataService"],
        _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_9__["CalculationApiService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"]])
], ReconcileDataAllocationsComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/reconcile-data-grid.component.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/reconcile-data-grid.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ReconcileDataGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcileDataGridComponent", function() { return ReconcileDataGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _upsert_asset_record_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./upsert-asset-record.component */ "./client-src/app/reconciliation/components/upsert-asset-record.component.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/reconcile-data-grid.service */ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _parent_child_match_detail_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parent-child-match-detail.component */ "./client-src/app/reconciliation/components/parent-child-match-detail.component.ts");
/* harmony import */ var _services_parent_child_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/parent-child.service */ "./client-src/app/reconciliation/services/parent-child.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../_core/services/user-grid.service */ "./client-src/app/_core/services/user-grid.service.ts");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _shared_components_copy_asset_modal_copy_asset_record_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_shared/components/copy-asset-modal/copy-asset-record.component */ "./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");
/* harmony import */ var _progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @progress/kendo-data-query */ "./node_modules/@progress/kendo-data-query/dist/es2015/main.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @progress/kendo-angular-intl */ "./node_modules/@progress/kendo-angular-intl/dist/fesm2015/index.js");

























let ReconcileDataGridComponent = class ReconcileDataGridComponent {
    constructor(reconcileMatchService, reconcileDataService, reconcileDataGridService, inventoryService, route, helperService, parentChildService, alertService, assetFileInfoService, intl, famisGridService, userGridService, router, userStore) {
        this.reconcileMatchService = reconcileMatchService;
        this.reconcileDataService = reconcileDataService;
        this.reconcileDataGridService = reconcileDataGridService;
        this.inventoryService = inventoryService;
        this.route = route;
        this.helperService = helperService;
        this.parentChildService = parentChildService;
        this.alertService = alertService;
        this.assetFileInfoService = assetFileInfoService;
        this.intl = intl;
        this.famisGridService = famisGridService;
        this.userGridService = userGridService;
        this.router = router;
        this.userStore = userStore;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_12__["TranslationBaseKeys"];
        this.selectionChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_18__["EventEmitter"]();
        this.matchSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_18__["EventEmitter"]();
        this.parentChildSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_18__["EventEmitter"]();
        this.clearSelection = new _angular_core__WEBPACK_IMPORTED_MODULE_18__["EventEmitter"]();
        this.dataLoaded = false;
        this.assetFileSummary = {};
        this.fieldTypes = _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"];
        this.gridScrollDebouncer = new rxjs__WEBPACK_IMPORTED_MODULE_20__["Subject"]();
        this.state = {
            skip: 0,
            take: this.reconcileDataGridService.windowSize
        };
        this.assets = new Array();
        this.showEditRecord = false;
        this.headers = new Array();
        this.selectedHeaders = new Array();
        this.updatedSelectedHeaders = new Array();
        this.dataTargetName = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_19__["DataTargetName"];
        this.headersAvailable = new Array();
        this.gridDataTotal = 0;
        this.totalRecordCount = 0;
        this.unsavedEdits = new Array();
        this.groupSiteInfo = new Array();
        this.groupDepartments = new Array();
        this.groupAccounts = new Array();
        this.expandedMatchIndex = null;
        this.gridSettingsLoaded = undefined;
        this.allMatched = false;
        this.noFile = false;
        this.hasCustomColumns = false;
        this.isDebugMode = false;
        this.selectableSettings = {
            checkboxOnly: false,
            mode: 'multiple'
        };
        this.cascadedSelectedOption = new Array();
        /* A Subject for monitoring the destruction of the component. */
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_20__["Subject"]();
        this.editedRecords = new Array();
        this.editedRecordsWithErrors = new Array();
        this.gridSettingsName = undefined;
        this.userId = undefined;
        this.selectAllState = 'unchecked';
        this.allAssetIds = new Array();
        this.rowCallback = (context) => {
            const id = context.dataItem.id;
            let classes = '';
            if (this.editedRecordsWithErrors && this.editedRecordsWithErrors.findIndex(c => c.itemId === id) !== -1) {
                classes = 'withErrors ';
            }
            if (this.editedRecords && this.editedRecords.findIndex(c => c.itemId === id) !== -1) {
                classes = classes + 'editedRow ';
            }
            if (context.dataItem.isMatched) {
                classes = classes + 'isMatched ';
            }
            if (!context.dataItem.isMatched) {
                classes = classes + 'isNotMatched ';
            }
            if (context.dataItem.isParent) {
                classes = classes + 'isParent ';
            }
            if (context.dataItem.isEdited) {
                classes = classes + 'isEdited ';
            }
            return classes;
        };
    }
    ngOnInit() {
        const s = this;
        this.gridSettingsName = this.userGridService.createUserGridId(this.dataSource.toString(), this.router.url.toString());
        this.loading = true;
        this.groupId = this.route.parent.parent.snapshot.paramMap.get('groupId');
        this.reconcileDataGridService.groupId = this.groupId;
        const defaultSortTerms = [{ termOrder: 0, sortDirection: 0, field: 'SerialNumber' }];
        this.reconcileDataGridService.toggleShowMatchedRecords(true, this.dataSource);
        this.editedRecords = new Array();
        this.famisGridService.editedRecords$.subscribe(editedRecords => {
            this.editedRecords = editedRecords;
        });
        this.editedRecordsWithErrors = new Array();
        this.famisGridService.editedRecordsWithErrors$.subscribe(editedRecordsWithErrors => {
            this.editedRecordsWithErrors = editedRecordsWithErrors;
        });
        const getInventoryRecords = this.reconcileDataGridService.search(this.groupId, this.dataSource, this.state.skip, this.state.take, defaultSortTerms, this.reconcileDataGridService.filterTerms[this.dataSource], true);
        const getActivityCodes = this.reconcileDataGridService.getActivityCodes();
        const getAssetFileSummary = this.inventoryService.getAssetFileSummary(this.groupId, this.dataSource);
        this.reconcileDataGridService.clearSelections$.subscribe(result => {
            this.selectAllState = 'unchecked';
        });
        Object(rxjs__WEBPACK_IMPORTED_MODULE_20__["forkJoin"])(getInventoryRecords, getAssetFileSummary, getActivityCodes)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__["takeUntil"])(this.destroyed$))
            .subscribe(([inventoryRecords, assetFileSummary, activityCodes]) => {
            this.assetFileSummary = assetFileSummary;
            if (!!this.assetFileSummary && this.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_19__["DataTargetName"].client) {
                this.hasCustomColumns = assetFileSummary.fields.findIndex(f => f.isCustom === true) !== -1;
            }
            this.assets = this.reconcileDataGridService.init(inventoryRecords, this.dataSource);
            this.reconcileDataGridService.setCacheRecords(this.assets, this.dataSource, this.state.skip, this.totalRecordCount);
            this.assetFileInfoService.updateReferenceData(activityCodes.result.enumOptions, 'ActivityCodes');
            this.assets = this.assetFileInfoService.mapEnums(null, this.assets.map(asset => {
                return asset;
            }), null);
            this.reconcileDataGridService.updateRecordCount(this.dataSource, inventoryRecords.totalInRecordSet);
            this.totalRecordCount = inventoryRecords.totalInRecordSet;
            this.view = this.mapGridDataResult();
            this.headersAvailable =
                this.helperService
                    .mapHeaders(assetFileSummary.fields, this.assetFileInfoService.GetInternalColumns(), this.reconcileDataGridService.defaultHeaders);
            const defaultSort = true;
            this.reconcileDataGridService.updateHeaders(this.headersAvailable, this.dataSource, defaultSort);
            this.dataLoaded = inventoryRecords.totalInRecordSet > 0;
            this.allAssetIds = inventoryRecords.allAssetIds;
            this.userStore.user.subscribe(user => {
                this.userId = user.profile.IdentityId.toString();
                this.gridSettingsName = this.userId + this.gridSettingsName + this.dataTargetName;
                this.userGridService
                    .getSettings(this.userId, this.gridSettingsName, this.reconcileDataGridService.defaultHeaders.map(c => c.name))
                    .subscribe(result => {
                    s.gridSettingsLoaded = true;
                    s.state.filter = result.filters ? result.filters : null;
                    if (result.gridSort) {
                        s.sort = result.gridSort;
                        s.state.sort = result.gridSort;
                        s.reconcileDataGridService.currentSort[this.dataSource] = s.mapSortDto(result.gridSort);
                    }
                    s.reconcileDataGridService.updateSelectedHeaders(result.headers, this.dataSource);
                    if (result.filters) {
                        s.state.filter = result.filters;
                    }
                    if ((result.filters && result.gridSort) || result.filters) {
                        s.filterChange(result.filters);
                    }
                    else if (!result.filters && result.gridSort) {
                        s.sortChange(result.gridSort);
                    }
                    this.userGridService.saveSettings(this.gridSettingsName, result.headers, this.groupId, this.userId, result.kendoGridState ? result.kendoGridState : null, result.filters ? result.filters : null, result.columnSizes ? result.columnSizes : null, result.gridSort ? result.gridSort : null).subscribe(updatedSetting => this.userGridService.updateUserSettingsCache(updatedSetting));
                });
            });
            this.allMatched = inventoryRecords.totalInRecordSet === 0;
            this.loading = false;
        }, error => {
            this.noFile = true;
            this.loading = false;
        });
        this.reconcileDataGridService.selectedHeaders$.subscribe(result => {
            if (result) {
                this.updatedSelectedHeaders = result[s.dataSource];
                this.headers = this.headersAvailable.filter(function (x) {
                    return result[s.dataSource].some(c => c === x.name);
                });
                let order = 0;
                result[s.dataSource].forEach(headerName => {
                    const index = this.headers.findIndex(c => c.name === headerName);
                    if (index !== -1) {
                        this.headers[index].order = order++;
                    }
                });
            }
        });
        this.reconcileDataGridService.unsavedEdits$.subscribe(unsavedEdits => {
            if (unsavedEdits[this.dataSource]) {
                this.unsavedEdits = unsavedEdits[this.dataSource];
            }
        });
        this.assetFileInfoService.getImportMappedColumns(this.reconcileDataGridService.groupId)
            .subscribe(result => {
            const userSettingdto = result;
            const index = 0;
            if (userSettingdto.length > 0 && userSettingdto[index].settingJson) {
                this.mappedColumns = userSettingdto[index].settingJson.importMappedColumns;
            }
        });
        this.showEditRow();
        this.filterRoot = { logic: 'and', filters: [] };
        // Filter out Parent/Child matches
        this.filterRoot.filters.push({
            field: 'isChild',
            operator: 'eq',
            value: false
        });
        // this.showMatchedRecords(false);
        this.collapseParentChild();
        this.gridScrollDebouncer.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__["debounceTime"])(500))
            .subscribe(event => {
            this.processPageChange(event);
        });
        this.reconcileDataService.groupSiteInfo$.subscribe(groupSiteInfo => {
            this.groupSiteInfo = groupSiteInfo;
        });
        this.reconcileDataService.groupDepartmentInfo$.subscribe(departments => {
            this.groupDepartments = departments;
        });
        this.reconcileDataService.groupAccountInfo$.subscribe(accounts => {
            this.groupAccounts = accounts;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    isDirty() {
        return this.editedRecords.length + this.editedRecordsWithErrors.length !== 0;
    }
    duplicateRecord() {
        const assetToDuplicate = this.assets.find(c => c.assetId === this.selectedRows[0]);
        if (assetToDuplicate) {
            assetToDuplicate.assetId = null;
            this.upsertAssetRecord.openCreateModal(this.groupId, this.dataSource, assetToDuplicate);
            this.upsertAssetRecord.AssetUpsertComplete.subscribe(() => {
                this.clearSelection.emit(this.dataSource);
                this.updateCurrentView(true);
            });
        }
    }
    onSelectedKeysChange(e) {
        const len = this.selectedRows.length;
        if (len === 0) {
            this.selectAllState = 'unchecked';
        }
        else if (len > 0 && len < this.totalRecordCount) {
            this.selectAllState = 'indeterminate';
        }
        else {
            this.selectAllState = 'checked';
        }
    }
    onSelectAllChange(checkedState) {
        if (checkedState === 'checked') {
            this.selectedRows = this.allAssetIds;
            this.selectAllState = 'checked';
        }
        else {
            this.selectedRows = [];
            this.selectAllState = 'unchecked';
        }
    }
    gridSelectionChange(event) {
        if (this.selectAllState === 'unchecked') {
            const selectedAssets = new Array();
            this.allAssetIds.forEach(id => {
                selectedAssets.push({ assetId: id, dataSource: this.dataSource });
            });
            const selectionChangeEvent = {
                dataSource: this.dataSource,
                itemsAdded: new Array(),
                itemsRemoved: selectedAssets
            };
            this.selectionChanged.emit(selectionChangeEvent);
        }
        if (this.selectAllState === 'checked') {
            const selectedAssets = new Array();
            this.allAssetIds.forEach(id => {
                selectedAssets.push({ assetId: id, dataSource: this.dataSource });
            });
            const selectionChangeEvent = {
                dataSource: this.dataSource,
                itemsAdded: selectedAssets,
                itemsRemoved: new Array()
            };
            this.selectionChanged.emit(selectionChangeEvent);
        }
        if (this.selectAllState !== 'checked') {
            const selectionChangeEvent = {
                dataSource: this.dataSource,
                itemsAdded: event.selectedRows.map(c => c.dataItem),
                itemsRemoved: event.deselectedRows.map(c => c.dataItem)
            };
            this.selectionChanged.emit(selectionChangeEvent);
        }
    }
    getHeaders(obj) {
        const keys = Object.keys(obj).map(key => {
            return { key: key };
        });
        return keys;
    }
    saveEdits() {
        let updateCount = 0;
        this.unsavedEdits.forEach(asset => {
            let assetDto = { id: asset.assetId };
            delete asset.assetId;
            delete asset.dataSource;
            delete asset.isChild;
            delete asset.isEdited;
            delete asset.isParent;
            delete asset.isMatched;
            delete asset.imageCollection;
            assetDto = Object.assign(assetDto, asset);
            this.inventoryService.updateAssetRecord(assetDto.id, assetDto).subscribe(result => {
                if (result) {
                    updateCount = updateCount + 1;
                }
            }, error => {
                this.updateCurrentView(true);
                this.alertService.error(`Invalid data entered and data cannot be saved`);
            }, () => { });
        });
        this.alertService.success(`${updateCount} Assets Updated`);
        this.updateCurrentView(true);
    }
    clearEdits() {
        this.reconcileDataGridService.clearEditInProgress(this.dataSource);
        this.updateCurrentView(true);
    }
    editClick({ sender, rowIndex, columnIndex, dataItem, isEdited, originalEvent }) {
        const header = this.headers[columnIndex - 4];
        if (!isEdited && this.isEditable(header)) {
            const fields = new Array();
            this.headers.forEach(h => {
                fields.push({ id: h.name, displayName: h.displayName });
            });
            this.formGroup = this.helperService.toFormGroup(fields);
            this.formGroup.patchValue(this.famisGridService.mapToTypedValues(dataItem, this.headers));
            sender.editCell(rowIndex, columnIndex, this.formGroup);
        }
    }
    cellCloseHandler(args) {
        const { formGroup, dataItem } = args;
        if (!formGroup.valid) {
            // prevent closing the edited cell if there are invalid values.
            args.preventDefault();
        }
        else if (formGroup.dirty) {
            const currentAsset = this.assets.find(c => c.assetId === dataItem.assetId);
            if (currentAsset) {
                // tslint:disable-next-line:prefer-const
                let updatedAsset = JSON.parse(JSON.stringify(Object.assign(currentAsset, formGroup.value)));
                updatedAsset.id = updatedAsset.assetId;
                delete updatedAsset.assetId;
                delete updatedAsset.isParent;
                delete updatedAsset.isMatched;
                delete updatedAsset.isChild;
                delete updatedAsset.dataSource;
                delete updatedAsset.imageCollection;
                this.famisGridService.addEditedRecord(updatedAsset.id, updatedAsset);
            }
        }
    }
    inGridSave() {
        const resultToSave = JSON.parse(JSON.stringify(this.editedRecords));
        console.log(event, 'handleCellValueChanged');
        resultToSave.forEach(editItem => {
            delete editItem.dataItem.assetId;
            delete editItem.dataItem.isParent;
            delete editItem.dataItem.isMatched;
            delete editItem.dataItem.isChild;
            delete editItem.dataItem.dataSource;
            delete editItem.dataItem.imageCollection;
            delete editItem.dataItem.assetImages;
            this.inventoryService.updateAssetRecord(editItem.itemId, editItem.dataItem).subscribe(result => {
                if (result) {
                    this.updateCurrentView(true);
                    this.alertService.success('Asset(s) edited successfuly');
                    this.famisGridService.removeEditedRecord(editItem.itemId);
                    this.famisGridService.removeRecordWithErrors(editItem.itemId);
                }
            }, error => {
                this.updateCurrentView(true);
                this.alertService.error('Invalid data entered and data cannot be saved');
            }, () => { });
        });
    }
    toggleParentChildMatch(asset, rowIndex) {
        this.collapseParentChild();
        this.reconcileMatchService.getMatchSummaryForAssetIds(this.groupId, [asset.assetId]).subscribe(x => {
            const currentChildren = new Array();
            x.result.assetData
                .filter(c => !!c.parentId && c.isParent === false)
                .forEach(child => {
                const a = {
                    assetId: child.id,
                    oldTagNumber: child.oldTagNumber,
                    description: child.description,
                    parentId: child.parentId,
                    assetTagNumber: child.assetTagNumber,
                    serialNumber: child.serialNumber,
                    modelNumber: child.modelNumber,
                    buildingName: child.buildingName,
                    quantity: child.quantity,
                    historicalCost: child.historicalCost
                };
                currentChildren.push(a);
            });
            this.parentChildService.setChildren(currentChildren);
        });
        if (asset.isParent) {
            if (this.expandedMatchIndex === null || rowIndex !== this.expandedMatchIndex) {
                this.grid.expandRow(rowIndex);
                this.expandedMatchIndex = rowIndex;
            }
            else {
                this.collapseParentChild(true);
            }
        }
        else {
            // Current is not Parent/Child
            this.collapseParentChild(true);
        }
        this.parentChildSelected.emit(asset);
    }
    showMatchForAsset(asset) {
        this.collapseParentChild();
        const event = { dataSource: this.dataSource, asset: asset };
        this.matchSelected.emit(event);
    }
    openAddRecord() {
        this.upsertAssetRecord.openCreateModal(this.groupId, this.dataSource);
        this.upsertAssetRecord.AssetUpsertComplete.subscribe(() => {
            this.updateCurrentView();
        });
    }
    openEditRecordForm(asset) {
        this.upsertAssetRecord.openEditModal(this.groupId, this.dataSource, asset);
        this.upsertAssetRecord.AssetUpsertComplete.subscribe(() => {
            this.updateCurrentView();
        });
    }
    updateCurrentView(clearCache = false) {
        const s = this;
        this.loading = true;
        this.reconcileDataGridService
            .update(this.dataSource, this.state.skip, this.state.take, this.totalRecordCount, this.reconcileDataGridService.currentSort[this.dataSource], clearCache)
            .subscribe(result => {
            this.loading = false;
            if (result && result.assets.length > 0 && result.assets[0].dataSource === this.dataSource) {
                this.dataLoaded = result.assets.length > 0;
                this.assets = result.assets;
                this.totalRecordCount = result.totalInRecordSet;
                this.allAssetIds = result.allAssetIds;
                this.assets.map(asset => {
                    asset.imageCollection = !!asset.assetImages ? asset.assetImages : [];
                });
                this.assets = this.assetFileInfoService.mapEnums(null, this.assets.map(asset => {
                    return asset;
                }), null);
                this.view = s.mapGridDataResult();
            }
            else {
                this.assets = new Array();
                this.view = s.mapGridDataResult();
            }
        });
    }
    callGridScrollDebouncer(event) {
        this.gridScrollDebouncer.next(event);
    }
    showMatchedRecords(showMatches) {
        if (showMatches) {
            this.allMatched = false;
        }
        this.reconcileDataGridService.toggleShowMatchedRecords(!showMatches, this.dataSource);
        this.updateCurrentView(true);
    }
    sortChange(sort) {
        const s = this;
        this.sort = sort;
        this.state.sort = sort;
        this.loading = true;
        this.userGridService.saveActiveSorts(this.gridSettingsName, this.state, sort);
        const sortTerms = s.mapSortDto(sort);
        this.reconcileDataGridService
            .update(this.dataSource, this.state.skip, this.state.take, this.totalRecordCount, sortTerms, true).subscribe(result => {
            this.loading = false;
            if (result.assets.length > 0 && result.assets[0].dataSource === this.dataSource) {
                this.assets = result.assets;
                this.totalRecordCount = result.totalInRecordSet;
                this.assets = this.assetFileInfoService.mapEnums(null, this.assets.map(asset => {
                    return asset;
                }), null);
                this.view = s.mapGridDataResult();
            }
        });
    }
    filterGrid() {
        // TODO: Revisit this
        this.collapseParentChild(true);
        this.showEditRow();
    }
    mapSortDto(sort) {
        const sortTerms = new Array();
        const orderCount = 0;
        sort.forEach(c => {
            const sortTerm = {
                termOrder: orderCount,
                sortDirection: c.dir === 'asc' ? 0 : 1,
                field: c.field
            };
            sortTerms.push(sortTerm);
        });
        return sortTerms;
    }
    filterChange(filter) {
        this.loading = true;
        this.state.filter = filter;
        let filterCleared = false;
        if (this.state.filter.filters.length === 0) {
            filterCleared = true;
        }
        // persist the filters
        this.userGridService
            .saveActiveFilters(this.gridSettingsName, this.state, filter);
        this.reconcileDataGridService.mapFilterTerms(filter, this.dataSource).subscribe(filterTerms => {
            if (filterTerms === true) {
                this.reconcileDataGridService
                    .search(this.groupId, this.dataSource, this.state.skip, this.state.take, this.reconcileDataGridService.currentSort[this.dataSource], this.reconcileDataGridService.filterTerms[this.dataSource])
                    .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__["takeUntil"])(this.destroyed$))
                    .subscribe(result => {
                    this.assets = this.reconcileDataGridService.init(result, this.dataSource);
                    this.totalRecordCount = result.totalInRecordSet;
                    this.assets = this.assetFileInfoService.mapEnums(null, this.assets.map(asset => {
                        return asset;
                    }), null);
                    this.view = this.mapGridDataResult();
                    this.loading = false;
                    this.allAssetIds = result.allAssetIds;
                });
            }
            else {
                this.updateCurrentView(true);
            }
        });
    }
    showColumn(columnKey) {
        const hideColumn = this.reconcileDataService.defaultColumns
            .indexOf(columnKey) !== -1 || this.assetFileInfoService.GetInternalColumns().indexOf(columnKey) !== -1;
        return hideColumn;
    }
    onAssetFileColumnsAdded(event) {
        const s = this;
        if (event.columns && event.columns.length > 0) {
            event.columns.forEach(col => {
                this.reconcileDataGridService.addHeader(col.columnName, event.dataSource);
            });
            const clearCache = true;
            this.updateCurrentView(clearCache);
            this.inventoryService.getAssetFileSummary(this.groupId, this.dataSource).subscribe(assetFileSummary => {
                this.headersAvailable =
                    this.helperService.mapHeaders(assetFileSummary.fields, this.assetFileInfoService.GetInternalColumns(), this.reconcileDataGridService.defaultHeaders);
                this.reconcileDataGridService.updateHeaders(this.headersAvailable, this.dataSource, true);
                this.headers = this.headersAvailable.filter(function (x) {
                    return s.updatedSelectedHeaders.some(c => c === x.name);
                });
            });
        }
    }
    convertToNumber(value) {
        return parseFloat(value);
    }
    getColumnTitle(column) {
        return this.helperService.getColumnTitle(this.i18n.asset, column);
    }
    processPageChange(state) {
        const s = this;
        s.loading = true;
        s.reconcileDataGridService
            .update(this.dataSource, state.skip, state.take, s.totalRecordCount, s.reconcileDataGridService.currentSort[s.dataSource], true)
            .subscribe(result => {
            s.loading = false;
            result.assets = this.assetFileInfoService.mapEnums(null, result.assets.map(asset => {
                return asset;
            }), null);
            if (result.assets.length > 0 && result.assets[0].dataSource === s.dataSource) {
                s.assets = result.assets;
                s.view = s.mapGridDataResult();
            }
            else {
                s.assets = new Array();
                s.view = s.mapGridDataResult();
            }
        });
    }
    isEditable(dataItem) {
        return dataItem &&
            ((dataItem.name !== 'buildingName' && this.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_19__["DataTargetName"].inventory) ||
                (this.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_19__["DataTargetName"].client && dataItem.isCustom));
    }
    isCustomField(field) {
        return this.headers.find(c => c.name === field).isCustom;
    }
    mapHeaders(fields) {
        const s = this;
        const columnHeadings = new Array();
        fields.forEach(field => {
            const columnHeading = {
                name: field.name,
                displayName: field.displayName,
                isSearchable: field.isSearchable,
                isFilterable: field.isFacetable,
                isSortable: field.isSortable,
                isFacetable: field.isFacetable,
                isKey: field.isKey,
                isCustom: field.isCustom,
                fieldType: this.mapKendoFilterType(field.fieldType),
                format: s.mapHeaderFormat(field)
            };
            columnHeadings.push(columnHeading);
        });
        return columnHeadings;
    }
    mapGridDataResult(recordCount) {
        const assets = this.mapEdits(this.assets);
        const gridDataResult = {
            data: Object(_progress_kendo_data_query__WEBPACK_IMPORTED_MODULE_22__["filterBy"])(assets, this.filterRoot),
            total: this.totalRecordCount
        };
        return gridDataResult;
    }
    collapseParentChild(clearIndex) {
        if (this.grid) {
            this.grid.collapseRow(this.expandedMatchIndex);
        }
        if (clearIndex) {
            this.expandedMatchIndex = null;
        }
    }
    showEditRow() {
        if (this.assetFileSummary.fields && this.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_19__["DataTargetName"].client) {
            this.showEditRecord = this.assetFileSummary.fields.findIndex(f => f.isCustom === true) !== -1;
        }
        else {
            this.showEditRecord = true;
        }
    }
    onAssetModified($event) {
        this.updateCurrentView();
    }
    onColumnReorder(event) {
        event.preventDefault();
        const reorderEvent = event;
        // Determine which way to start indexes so always positive
        const increaseOrder = reorderEvent.oldIndex > reorderEvent.newIndex;
        let startIndex = this.updatedSelectedHeaders.indexOf(reorderEvent.column.field);
        let endIndex = increaseOrder ? startIndex - (reorderEvent.oldIndex - reorderEvent.newIndex)
            : startIndex + (reorderEvent.newIndex - reorderEvent.oldIndex);
        if (increaseOrder) {
            const temp = startIndex;
            startIndex = endIndex;
            endIndex = temp;
        }
        // ReOrder Column to precede a locked column (eg actions, selection)
        if (startIndex < 0) {
            return;
        }
        // Find the selected column and update it with the destinations column's order value
        if (increaseOrder) {
            this.headersAvailable
                .filter(x => x.name === this.updatedSelectedHeaders[endIndex])[0].order = this.headersAvailable
                .filter(x => x.name === this.updatedSelectedHeaders[startIndex])[0].order;
        }
        else {
            this.headersAvailable
                .filter(x => x.name === this.updatedSelectedHeaders[startIndex])[0].order = this.headersAvailable
                .filter(x => x.name === this.updatedSelectedHeaders[endIndex])[0].order;
        }
        // Iterate over all columns between the selcted start and end, and update they're value to increase or decrease by 1
        this.updatedSelectedHeaders.slice(increaseOrder ? startIndex : startIndex + 1, increaseOrder ? endIndex : endIndex + 1)
            .forEach(item => {
            this.headersAvailable.filter(x => x.name === item)[0].order = increaseOrder
                ? this.headersAvailable.filter(x => x.name === item)[0].order + 1
                : this.headersAvailable.filter(x => x.name === item)[0].order - 1;
        });
        // Update the order of the selected headers, so they can match the next time around a reorder is done
        let i = 0;
        this.updatedSelectedHeaders.slice(increaseOrder ? startIndex : startIndex + 1, increaseOrder ? endIndex : endIndex + 1)
            .forEach(item => {
            if (increaseOrder) {
                const temp = this.updatedSelectedHeaders[endIndex - i];
                this.updatedSelectedHeaders[endIndex - i] = this.updatedSelectedHeaders[endIndex - i - 1];
                this.updatedSelectedHeaders[endIndex - i - 1] = temp;
            }
            else {
                const temp = this.updatedSelectedHeaders[startIndex + i];
                this.updatedSelectedHeaders[startIndex + i] = this.updatedSelectedHeaders[startIndex + i + 1];
                this.updatedSelectedHeaders[startIndex + i + 1] = temp;
            }
            i = i + 1;
        });
        // Update the headers and selected headers
        this.reconcileDataGridService.updateHeaders(this.headersAvailable, this.dataSource);
        this.reconcileDataGridService.updateSelectedHeaders(this.updatedSelectedHeaders, this.dataSource);
        this.loading = true;
        this.userGridService.saveSettings(this.gridSettingsName, this.updatedSelectedHeaders, this.groupId, this.userId).subscribe(saveResult => {
            /*  .getSettings(this.userId, this.gridSettingsName, this.reconcileDataGridService.defaultHeaders.map(c => c.name))
            .subscribe */
            this.userGridService.getSettings(this.userId, this.gridSettingsName, this.reconcileDataGridService.defaultHeaders
                .map(c => c.name)).subscribe(updateResult => {
                this.loading = false;
            }, () => {
                this.alertService.error('Error saving columns update');
                this.loading = false;
            });
        }, () => {
            this.alertService.error('Error saving columns update');
            this.loading = false;
        });
    }
    navigateToImportData(event) {
        event.preventDefault();
        this.router.navigate([`project-profile/${this.groupId}/DataImport`]);
    }
    editHandler({ sender, rowIndex, dataItem }) {
        if (this.formGroup && !this.formGroup.valid) {
            return;
        }
        const fields = new Array();
        this.headers.forEach(header => {
            fields.push({ id: header.name, type: _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].String, displayName: header.displayName });
        });
        // this.saveRow();
        this.formGroup = this.helperService.toFormGroup(fields);
        this.editedRowIndex = dataItem.id;
        sender.editRow(rowIndex, this.formGroup);
    }
    toKendoDate(dateString) {
        return this.intl.parseDate(dateString);
    }
    mapEdits(assets) {
        this.unsavedEdits.forEach(unsavedEdit => {
            const index = this.assets.findIndex(c => c.assetId === unsavedEdit.assetId);
            if (index !== -1) {
                const assetWithEdits = Object.assign(assets[index], unsavedEdit);
                this.assets[index] = assetWithEdits;
            }
        });
        return assets;
    }
    mapHeaderFormat(header) {
        switch (header.fieldType) {
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Integer: {
                return '{0}';
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Double: {
                return '{0:c}';
            }
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].DateTime: {
                return '{0:d}';
            }
            default: {
                return '{0}';
            }
        }
    }
    mapKendoFilterType(fieldType) {
        switch (fieldType) {
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].String:
                return 'string';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].DateTime:
                return 'date';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Double:
                return 'numeric';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].Integer:
                return 'numeric';
            case _enums_field_type__WEBPACK_IMPORTED_MODULE_21__["FieldType"].String:
                return 'string';
            default:
                return 'numeric';
        }
    }
    mapFieldTypes(dataItem) {
        const props = Object.keys(dataItem);
        const dateHeaders = this.headers.filter(c => c.fieldType === 'date');
        const numericHeaders = this.headers.filter(c => c.fieldType === 'numeric');
        props.forEach(property => {
            if (dateHeaders.findIndex(c => c.name === property) !== -1) {
                const date = this.intl.parseDate(dataItem[property]);
                dataItem[property] = date;
            }
            if (numericHeaders.findIndex(c => c.name === property) !== -1) {
                dataItem[property] = this.intl.parseNumber(dataItem[property], 'n2');
            }
        });
        return dataItem;
    }
};
ReconcileDataGridComponent.ctorParameters = () => [
    { type: _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileMatchService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"] },
    { type: _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_5__["ReconcileDataGridService"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationInventoryService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_23__["ActivatedRoute"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"] },
    { type: _services_parent_child_service__WEBPACK_IMPORTED_MODULE_9__["ParentChildService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_11__["AssetFileInfoService"] },
    { type: _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_24__["IntlService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_13__["FamisGridService"] },
    { type: _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_14__["UserGridService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_23__["Router"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_15__["UserStore"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], ReconcileDataGridComponent.prototype, "dataSource", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], ReconcileDataGridComponent.prototype, "selectedRows", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ReconcileDataGridComponent.prototype, "fileName", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataGridComponent.prototype, "selectionChanged", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataGridComponent.prototype, "matchSelected", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataGridComponent.prototype, "parentChildSelected", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconcileDataGridComponent.prototype, "clearSelection", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["ViewChild"])(_progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_6__["GridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_6__["GridComponent"])
], ReconcileDataGridComponent.prototype, "grid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["ViewChild"])(_upsert_asset_record_component__WEBPACK_IMPORTED_MODULE_3__["UpsertAssetRecordComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _upsert_asset_record_component__WEBPACK_IMPORTED_MODULE_3__["UpsertAssetRecordComponent"])
], ReconcileDataGridComponent.prototype, "upsertAssetRecord", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["ViewChild"])('parentChildMatchDetail', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _parent_child_match_detail_component__WEBPACK_IMPORTED_MODULE_8__["ParentChildMatchDetailComponent"])
], ReconcileDataGridComponent.prototype, "parentChildMatchDetail", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["ViewChild"])(_shared_components_copy_asset_modal_copy_asset_record_component__WEBPACK_IMPORTED_MODULE_16__["CopyAssetRecordComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_copy_asset_modal_copy_asset_record_component__WEBPACK_IMPORTED_MODULE_16__["CopyAssetRecordComponent"])
], ReconcileDataGridComponent.prototype, "copyAssetRecordComponent", void 0);
ReconcileDataGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_18__["Component"])({
        selector: 'reconcile-data-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reconcile-data-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileMatchService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"],
        _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_5__["ReconcileDataGridService"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationInventoryService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_23__["ActivatedRoute"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_7__["HelperService"],
        _services_parent_child_service__WEBPACK_IMPORTED_MODULE_9__["ParentChildService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_11__["AssetFileInfoService"],
        _progress_kendo_angular_intl__WEBPACK_IMPORTED_MODULE_24__["IntlService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_13__["FamisGridService"],
        _core_services_user_grid_service__WEBPACK_IMPORTED_MODULE_14__["UserGridService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_23__["Router"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_15__["UserStore"]])
], ReconcileDataGridComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/reconcile-data.component.ts":
/*!******************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/reconcile-data.component.ts ***!
  \******************************************************************************/
/*! exports provided: ReconcileDataComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcileDataComponent", function() { return ReconcileDataComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");
/* harmony import */ var _services_allocation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/allocation.service */ "./client-src/app/reconciliation/services/allocation.service.ts");
/* harmony import */ var _services_parent_child_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/parent-child.service */ "./client-src/app/reconciliation/services/parent-child.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _parent_child_match_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parent-child-match.component */ "./client-src/app/reconciliation/components/parent-child-match.component.ts");
/* harmony import */ var _reconcile_data_allocations_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./reconcile-data-allocations.component */ "./client-src/app/reconciliation/components/reconcile-data-allocations.component.ts");
/* harmony import */ var _reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./reconcile-data-grid.component */ "./client-src/app/reconciliation/components/reconcile-data-grid.component.ts");
/* harmony import */ var _order_asset_columns_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./order-asset-columns-component */ "./client-src/app/reconciliation/components/order-asset-columns-component.ts");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./reconciliation-validation.component */ "./client-src/app/reconciliation/components/reconciliation-validation.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../services/reconcile-data-grid.service */ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts");
/* harmony import */ var _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_core/services/building-info-service */ "./client-src/app/_core/services/building-info-service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_animations_fade_in_out_animation__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../_core/animations/fade-in-out.animation */ "./client-src/app/_core/animations/fade-in-out.animation.ts");
/* harmony import */ var _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../_enums/reconciliation-match-type */ "./client-src/app/_enums/reconciliation-match-type.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");



























var AssetFileType;
(function (AssetFileType) {
    AssetFileType[AssetFileType["ClientFile"] = 0] = "ClientFile";
    AssetFileType[AssetFileType["ActualInventory"] = 1] = "ActualInventory";
})(AssetFileType || (AssetFileType = {}));
let ReconcileDataComponent = class ReconcileDataComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_19__["ComponentCanDeactivate"] {
    constructor(reconcileDataService, reconcileMatchService, inventoryService, matchCodesService, route, router, allocationService, alertService, parentChildService, massMatchService, reconcileGridService, buildingInfoService, modalService, canDeactivateService) {
        super();
        this.reconcileDataService = reconcileDataService;
        this.reconcileMatchService = reconcileMatchService;
        this.inventoryService = inventoryService;
        this.matchCodesService = matchCodesService;
        this.route = route;
        this.router = router;
        this.allocationService = allocationService;
        this.alertService = alertService;
        this.parentChildService = parentChildService;
        this.massMatchService = massMatchService;
        this.reconcileGridService = reconcileGridService;
        this.buildingInfoService = buildingInfoService;
        this.modalService = modalService;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_16__["TranslationBaseKeys"];
        // Show/hide Asset Ids for debugging
        this.isDebugMode = true;
        this.matchTypes = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__["ReconciliationMatchType"];
        this.dataTargetName = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"];
        this.selectedClientFileItems = new Array();
        this.selectedInventoryItems = new Array();
        this.selectedInventoryIds = new Array();
        this.selectedClientFileIds = new Array();
        this.selectedMatchCodeId = '';
        this.canMassMatch = false;
        this.inventoryFileCount = 0;
        this.clientFileCount = 0;
        this.currentChildren = new Array();
        this.isBusy = false;
        this.isMatchSummaryExpanded = false;
    }
    ngOnInit() {
        this.selectedGroupId = this.reconcileDataService.groupId;
        this.reconcileDataService.validateReconciliation(false).subscribe(result => {
            if (result.isReconciliationComplete) {
                this.showValidationErrors = false;
            }
            else {
                this.showValidationErrors = true;
            }
        });
        this.clientFileGridBusy = true;
        this.inventoryGridBusy = true;
        this.reconcileGridService.clearCachedRecords();
        this.reconcileGridService.clearRecordCounts();
        this.reconcileMatchService.clearCurrentMatch();
        this.reconcileGridService.clearHeaders();
        this.reconcileGridService.clearSelectedHeaders();
        this.reconcileGridService.resetFilters(null, true);
        this.reconcileMatchService.selectedMatch$.subscribe(matchedItems => {
            this.selectedClientFileItems = matchedItems.filter(c => c.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"].client);
            this.selectedInventoryItems = matchedItems.filter(c => c.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"].inventory);
            this.selectedClientFileIds = this.selectedClientFileItems.map(c => c.assetId);
            this.selectedInventoryIds = this.selectedInventoryItems.map(c => c.assetId);
        });
        this.allocationService.clearSelections();
        this.matchCodesService.getGroupMatchCodes(this.selectedGroupId).subscribe(result => {
            this.matchCodes = new Array();
            this.disabledMatchCodes = new Array();
            result.forEach(code => {
                if (code.groupMatchCodeIsEnabled && code.matchCodeIsEnabled) {
                    this.matchCodes.push(code);
                }
                if (code.groupMatchCodeIsEnabled && !code.matchCodeIsEnabled) {
                    this.disabledMatchCodes.push(code);
                }
            });
        });
        this.reconcileGridService.recordCounts$.subscribe(counts => {
            this.clientFileCount = counts[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"].client];
            this.inventoryFileCount = counts[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"].inventory];
            this.massMatchService.init(this.clientFileCount, this.inventoryFileCount);
            this.canMassMatch = this.massMatchService.canMassMatch;
        });
        this.parentChildService.children$.subscribe(currentChildren => {
            this.currentChildren = currentChildren;
        });
        this.buildingInfoService.getBuildingHierarchyByGroupId(this.selectedGroupId).subscribe(hierachy => {
            this.reconcileDataService.updateGroupSiteInfo(this.buildingInfoService.mapSitesToSelectOptions(hierachy));
        });
        this.inventoryService.getGroupAccountOptions(this.selectedGroupId).subscribe(accountOptions => {
            this.reconcileDataService.updateGroupAccountInfo(accountOptions);
        });
        this.inventoryService.getGroupDepartmentsOptions(this.selectedGroupId).subscribe(departmentOptions => {
            this.reconcileDataService.updateGroupDepartmentInfo(departmentOptions);
        });
    }
    ngAfterViewInit() {
        this.reconciliationValidationComponent.noLongerBusy.subscribe((result) => {
            console.log(result);
            if (result) {
                this.isBusy = false;
            }
        });
    }
    onSubmit(form) {
        if (form.valid) {
            let isEditingMatch = false;
            let selectedMatchIds = new Array();
            selectedMatchIds = this.selectedClientFileItems.map(c => c.matchId).concat(this.selectedInventoryItems.map(c => c.matchId));
            if (selectedMatchIds.length > 0) {
                // Checking selected match ids if all the same then a one to one match is selected for editing
                isEditingMatch = !!selectedMatchIds.every(c => !!c && c === selectedMatchIds[0]);
            }
            // console.log(isEditingMatch);
            if (!isEditingMatch) {
                const numSelectedClient = this.selectedClientFileItems.length;
                const numSelectedInventory = this.selectedInventoryItems.length;
                // Can't Create a match if the slected items are already matched
                let isValidSelection = true;
                this.selectedClientFileItems.forEach(asset => {
                    if (asset.isMatched) {
                        isValidSelection = false;
                        return;
                    }
                });
                this.selectedInventoryItems.forEach(asset => {
                    if (asset.isMatched) {
                        isValidSelection = false;
                        return;
                    }
                });
                if (!isValidSelection) {
                    this.alertService.error('Cannot match current asset selection.');
                    return;
                }
                if (numSelectedClient === 0 && numSelectedInventory > 0) {
                    // One item (only) selected in inventory file; save single match
                    // console.log('Saving Single Inventory Match');
                    this.saveSingleMatches(form, this.selectedInventoryItems.map(c => c.assetId), this.selectedMatchCodeId);
                }
                else if (numSelectedInventory === 0 && numSelectedClient > 0) {
                    // One item (only) selected in client file; save single match
                    // console.log('Saving Single Client Match');
                    this.saveSingleMatches(form, this.selectedClientFileItems.map(c => c.assetId), this.selectedMatchCodeId);
                }
                else if (numSelectedClient === numSelectedInventory) {
                    // Equal number of items selected in both lists; save simple matches
                    // console.log('Saving Simple Match(es)');
                    this.saveOneToOneMatches(form, this.selectedClientFileItems.map(c => c.assetId), this.selectedInventoryItems.map(c => c.assetId), this.selectedMatchCodeId);
                }
                else {
                    this.alertService.error('Cannot match current asset selection.');
                    return;
                }
            }
            else {
                this.editMatchCode(form);
            }
        }
    }
    canDeactivate() {
        const dirty = this.inventoryGrid.isDirty() && this.clientFileGrid.isDirty();
        return this.canDeactivateService.canDeactivateComponent(dirty);
    }
    toggleShowMatchedRecords(show) {
        this.clearSelectedMatch();
        if (this.inventoryGrid) {
            this.inventoryGrid.showMatchedRecords(show);
        }
        if (this.clientFileGrid) {
            this.clientFileGrid.showMatchedRecords(show);
        }
    }
    editMatchCode(form) {
        event.preventDefault();
        const errors = new Array();
        this.selectedInventoryItems.concat(this.selectedClientFileItems).forEach(asset => {
            asset.matchCodeId = this.selectedMatchCodeId;
            this.reconcileMatchService.updateMatchCode(asset.matchId, this.selectedMatchCodeId).subscribe(dto => {
                this.reconcileDataService.updateClientFile([asset]);
                this.reconcileDataService.updateInventory([asset]);
                this.toggleShowMatchedRecords(true);
                this.alertService.success('Match saved successfully!');
            });
        });
    }
    onClearSelection(event) {
        this.clearAssetRecordSelection();
    }
    onSelectionChanged(event, isClientFile) {
        const addedAssets = event.itemsAdded;
        const removedAssets = event.itemsRemoved;
        if (removedAssets) {
            removedAssets.filter(asset => asset.isParent === true).forEach(parent => this.clientFileGrid.collapseParentChild(true));
        }
        // Check if valid Allocaiton Edit
        if (this.selectedMatchType === this.matchTypes.allocationMatch && !isClientFile) {
            addedAssets.forEach(asset => {
                if (asset.isMatched === true) {
                    this.selectedMatchType = null;
                }
            });
        }
        else {
            this.selectedMatchType = null;
        }
        this.reconcileMatchService.updateCurrentMatch(event);
        this.hasSelectedItems = this.selectedClientFileIds.length > 0 || this.selectedInventoryIds.length > 0;
    }
    /* Begin Reconcile Data Grid Events  */
    onMatchSelected(event) {
        this.reconcileMatchService.getMatchSummaryForAssetIds(this.selectedGroupId, [event.asset.assetId]).subscribe(x => {
            const matchAssets = new Array();
            if (x.result.assetData.length > 0) {
                this.selectedMatchType = this.reconcileDataService.getMatchType(x.result);
                this.selectedMatchCodeId = x.result.assetData.find(c => !!c.matchCodeId).matchCodeId;
                x.result.assetData.forEach(a => {
                    const asset = this.reconcileDataService.mapAsset(a, this.getDataSource(a.allocationId, event.dataSource));
                    if (!asset.isChild) {
                        matchAssets.push(asset);
                    }
                });
            }
            this.reconcileMatchService.clearCurrentMatch();
            this.reconcileMatchService.setCurrentMatch(matchAssets);
        });
    }
    onParentChildSelected(asset) {
        this.selectedMatchType = this.matchTypes.parentChildMatch;
        const matchedAssets = [asset];
        this.reconcileMatchService.clearCurrentMatch();
        this.reconcileMatchService.setCurrentMatch(matchedAssets);
        const currentChildren = [].concat.apply(matchedAssets, matchedAssets.map(c => c.parentChildMatches));
    }
    clearAssetRecordSelection() {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_17__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Clear Selected Items'
            },
            body: {
                key: `Are you sure you wish to clear all selected items?`
            },
            dismissText: {
                key: 'Close',
            },
            successText: {
                key: 'Clear'
            },
            translateBaseKey: this.i18n.common
        };
        modal.componentInstance.options = modalOptions;
        modal.result.then(() => {
            this.clearSelectedMatch();
        }).catch(err => { });
    }
    /* End Reconcile Data Grid Events  */
    /* Begin Parent/Child Events  */
    onParentChildMatch(match) {
        let assetsToUpdate = new Array();
        match.result.forEach(m => {
            assetsToUpdate = assetsToUpdate.concat(m.assetData);
        });
        if (match.code && match.code !== 0) {
            this.alertService.error('Parent/Child match was not saved.');
            return;
        }
        if (assetsToUpdate.length === 0) {
            return;
        }
        this.reconcileGridService.updateCacheRecords(assetsToUpdate, _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__["ReconciliationMatchType"].parentChildMatch);
        this.clientFileGrid.updateCurrentView(true);
        this.reconcileMatchService.clearCurrentMatch();
        this.allocationService.clearSelections();
        this.clearSelectedMatch();
        this.applyGridFilters();
        this.parentChildService.clearChildren();
        this.alertService.success('Parent/Child saved successfully!');
    }
    onParentChildMatchRemoved(removedEntities) {
        if (removedEntities == null || removedEntities.length === 0) {
            return;
        }
        // this.reconcileDataService.removeParentChildMatches(removedEntities);
        const assetsToUpdate = removedEntities.map(id => {
            const asset = {
                id: id,
                isParent: false,
                parentId: null
            };
            asset['isChild'] = false;
            asset['isMatched'] = false;
            asset['matchCodeId'] = null;
            asset['matchId'] = null;
            return asset;
        });
        this.reconcileGridService.updateCacheRecords(assetsToUpdate, _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__["ReconciliationMatchType"].parentChildMatch);
        this.clientFileGrid.updateCurrentView(true);
        this.clearSelectedMatch();
        this.applyGridFilters();
        this.parentChildService.clearChildren();
    }
    onParentChildMatchClick(event) {
        event.preventDefault();
        const parentAndChildren = this.selectedClientFileItems.filter(c => c !== undefined);
        if (parentAndChildren.length === 0) {
            this.alertService.error('You have not selected any client assets.');
            return;
        }
        if (parentAndChildren.length === 1 && !parentAndChildren[0].isParent) {
            this.alertService.error('You only have 1 client asset selected.');
            return;
        }
        if (this.selectedInventoryItems.length > 0) {
            this.alertService.error('You can not use Parent/Child with items from the Actual Inventory table.');
            return;
        }
        let matchCount = 0;
        this.selectedClientFileItems.forEach(asset => {
            if (asset.isMatched) {
                matchCount += 1;
            }
        });
        if (matchCount > 1) {
            this.alertService.error('You cannot create a Parent/Child with more than one matched record.');
            return;
        }
        this.reconcileMatchService.getMatchSummaryForAssetIds(this.selectedGroupId, this.selectedClientFileIds).subscribe(x => {
            const currentChildren = new Array();
            x.result.assetData.filter(c => !!c.parentId && c.isParent === false).forEach(child => {
                const asset = {
                    assetId: child.id,
                    oldTagNumber: child.oldTagNumber,
                    description: child.description,
                    parentId: child.parentId,
                    assetTagNumber: child.assetTagNumber
                };
                currentChildren.push(asset);
            });
            this.parentChildService.setChildren(currentChildren);
            this.parentChildMatchComponent.assetsGridData = []
                .concat(this.selectedClientFileItems)
                .concat(this.selectedInventoryItems)
                .concat(this.currentChildren);
            this.parentChildMatchComponent.open(event);
        });
    }
    /* End Parent/Child Events  */
    /* Begin UnMatch Events  */
    unmatchRecords(ignoreCheck) {
        const assetIds = [].concat(this.selectedClientFileIds, this.selectedInventoryIds);
        if (assetIds.length <= 0) {
            return;
        }
        this.reconcileMatchService.unmatchAssetRecords(assetIds).subscribe(dto => {
            this.reconcileGridService.updateCacheRecords(dto.result.assetData, _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__["ReconciliationMatchType"].unMatch);
            this.alertService.success('Assets unmatched.');
            this.applyGridFilters();
            this.clearSelectedMatch();
            this.clientFileGrid.updateCurrentView(true);
            this.inventoryGrid.updateCurrentView(true);
        });
    }
    canUnmatch() {
        const canUnmatch = this.selectedClientFileItems.some(x => x.matchId != null) || this.selectedInventoryItems.some(x => x.matchId != null);
        return canUnmatch;
    }
    /* End Unmatch Events  */
    /* Begin Allocation Events  */
    onEditAllocationMatchClick(event) {
        this.allocationService.changeSelectedMatchCode(this.selectedMatchCodeId);
        this.reconcileDataAllocationsComponent.open(event);
        this.applyGridFilters();
    }
    onAllocation(allocatedAssets) {
        this.reconcileGridService.updateCacheRecords(allocatedAssets, _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__["ReconciliationMatchType"].allocationMatch);
        this.clientFileGrid.updateCurrentView(true);
        this.inventoryGrid.updateCurrentView(true);
        this.applyGridFilters();
        this.clearSelectedMatch();
    }
    /* End Allocation Events */
    navigateToMassMatch(event) {
        event.preventDefault();
        this.router.navigate([`project-profile/${this.selectedGroupId}/Reconciliation/mass-match`]);
    }
    onMassMatchSaved(savedMatches, isOneToOne) {
        let assetsToUpdate = new Array();
        const inventoryAssets = new Array();
        savedMatches.forEach(m => {
            assetsToUpdate = assetsToUpdate.concat(m.assetData);
        });
        // Force Grid to get updates from API to handle case where user matched assets not in the current page window.
        this.clientFileGrid.updateCurrentView(true);
        this.inventoryGrid.updateCurrentView(true);
        this.clearSelectedMatch();
    }
    clearSelectedMatch() {
        this.reconcileGridService.clearSelectionsInProgress();
        this.reconcileMatchService.clearCurrentMatch();
        this.allocationService.clearSelections();
        this.selectedMatchType = null;
        this.hasSelectedItems = this.selectedClientFileIds.length > 0 || this.selectedInventoryIds.length > 0;
    }
    saveSingleMatches(form, assetIds, matchCodeId) {
        this.reconcileMatchService.createMassSingleMatch(assetIds, matchCodeId).subscribe(dto => {
            if (dto == null) {
                this.alertService.error('Unexpected service error.');
            }
            if (dto.result == null) {
                this.alertService.error('Unexpected error saving match.');
            }
            if (dto.invalidArguments.length > 0) {
                this.alertService.error('The selected items cannot be saved as a mass single match.');
            }
            // console.log('Single match saved.');
            // console.log(dto);
            this.onMassMatchSaved(dto.result, false);
            this.alertService.success('Single match(es) saved.');
        });
    }
    saveOneToOneMatches(form, clientAssetIds, InventoryAssetIds, matchCodeId) {
        this.reconcileMatchService.createMassOneToOneMatch(clientAssetIds, InventoryAssetIds, matchCodeId).subscribe(dto => {
            if (dto == null) {
                this.alertService.error('Unexpected service error.');
            }
            if (dto.result == null) {
                this.alertService.error('Unexpected error saving match.');
            }
            if (dto.invalidArguments.length > 0) {
                this.alertService.error('The selected items cannot be saved as a mass one to one match.');
            }
            // console.log('One to one match saved.');
            // console.log(dto);
            this.onMassMatchSaved(dto.result, true);
            this.alertService.success('One to one match(es) saved.');
        });
    }
    applyGridFilters() {
        if (this.clientFileGrid) {
            this.clientFileGrid.filterGrid();
        }
        if (this.inventoryGrid) {
            this.inventoryGrid.filterGrid();
        }
    }
    getDataSource(allocationId, selectedMatchSource) {
        if (this.selectedMatchType !== _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_22__["ReconciliationMatchType"].singleMatch) {
            return allocationId ? _enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"].inventory : _enums_data_target_name__WEBPACK_IMPORTED_MODULE_23__["DataTargetName"].client;
        }
        else {
            return selectedMatchSource;
        }
    }
    onAllocationMatchClick(event) {
        event.preventDefault();
        this.reconcileDataAllocationsComponent.launchAllocationModal();
    }
    onBack(event) {
        this.router.navigate(['./setup'], {
            relativeTo: this.route.parent
        });
    }
    onContinue(event) {
        this.isBusy = true;
        this.reconcileDataService.validateReconciliation(false).subscribe(result => {
            if (result.isReconciliationComplete) {
                this.showValidationErrors = false;
                this.router.navigate(['./define-layout'], {
                    relativeTo: this.route.parent
                });
            }
            else {
                this.showValidationErrors = true;
                this.reconciliationValidationComponent.open('./define-layout');
            }
        });
    }
    onValidateReconciliation() {
        this.isBusy = true;
        this.reconcileDataService.validateReconciliation(false).subscribe(result => {
            if (result.isReconciliationComplete) {
                this.showValidationErrors = false;
                this.alertService.success('Reconciliation is complete.');
            }
            else {
                this.showValidationErrors = true;
                this.reconciliationValidationComponent.open();
            }
        });
    }
};
ReconcileDataComponent.ctorParameters = () => [
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_6__["ReconcileDataService"] },
    { type: _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileMatchService"] },
    { type: _services_inventory_service__WEBPACK_IMPORTED_MODULE_2__["ReconciliationInventoryService"] },
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_24__["MatchCodesService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_25__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_25__["Router"] },
    { type: _services_allocation_service__WEBPACK_IMPORTED_MODULE_4__["AllocationService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _services_parent_child_service__WEBPACK_IMPORTED_MODULE_5__["ParentChildService"] },
    { type: _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_11__["MassMatchService"] },
    { type: _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_14__["ReconcileDataGridService"] },
    { type: _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_15__["BuildingInfoService"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_26__["NgbModal"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_20__["CanDeactivateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])(_parent_child_match_component__WEBPACK_IMPORTED_MODULE_7__["ParentChildMatchComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _parent_child_match_component__WEBPACK_IMPORTED_MODULE_7__["ParentChildMatchComponent"])
], ReconcileDataComponent.prototype, "parentChildMatchComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])(_reconcile_data_allocations_component__WEBPACK_IMPORTED_MODULE_8__["ReconcileDataAllocationsComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reconcile_data_allocations_component__WEBPACK_IMPORTED_MODULE_8__["ReconcileDataAllocationsComponent"])
], ReconcileDataComponent.prototype, "reconcileDataAllocationsComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])('clientFileGrid', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_9__["ReconcileDataGridComponent"])
], ReconcileDataComponent.prototype, "clientFileGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])('inventoryGrid', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_9__["ReconcileDataGridComponent"])
], ReconcileDataComponent.prototype, "inventoryGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])(_order_asset_columns_component__WEBPACK_IMPORTED_MODULE_10__["OrderAssetColumnsComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _order_asset_columns_component__WEBPACK_IMPORTED_MODULE_10__["OrderAssetColumnsComponent"])
], ReconcileDataComponent.prototype, "orderClientAssetColumns", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])(_order_asset_columns_component__WEBPACK_IMPORTED_MODULE_10__["OrderAssetColumnsComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _order_asset_columns_component__WEBPACK_IMPORTED_MODULE_10__["OrderAssetColumnsComponent"])
], ReconcileDataComponent.prototype, "orderInventoryAssetColumns", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])(_reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_12__["ReconciliationValidationComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_12__["ReconciliationValidationComponent"])
], ReconcileDataComponent.prototype, "reconciliationValidationComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ViewChild"])('acceptMatchForm', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_18__["NgForm"])
], ReconcileDataComponent.prototype, "acceptMatchForm", void 0);
ReconcileDataComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_13__["Component"])({
        selector: 'reconcile-data',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reconcile-data.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data.component.html")).default,
        animations: [_core_animations_fade_in_out_animation__WEBPACK_IMPORTED_MODULE_21__["fadeInOutAnimation"]]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_6__["ReconcileDataService"],
        _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileMatchService"],
        _services_inventory_service__WEBPACK_IMPORTED_MODULE_2__["ReconciliationInventoryService"],
        _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_24__["MatchCodesService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_25__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_25__["Router"],
        _services_allocation_service__WEBPACK_IMPORTED_MODULE_4__["AllocationService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _services_parent_child_service__WEBPACK_IMPORTED_MODULE_5__["ParentChildService"],
        _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_11__["MassMatchService"],
        _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_14__["ReconcileDataGridService"],
        _core_services_building_info_service__WEBPACK_IMPORTED_MODULE_15__["BuildingInfoService"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_26__["NgbModal"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_20__["CanDeactivateService"]])
], ReconcileDataComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/reconciliation-form.component.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/reconciliation-form.component.ts ***!
  \***********************************************************************************/
/*! exports provided: ReconciliationFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationFormComponent", function() { return ReconciliationFormComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");





let ReconciliationFormComponent = class ReconciliationFormComponent {
    constructor(router, activatedRoute, reconcileDataService, route) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.reconcileDataService = reconcileDataService;
        this.route = route;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.moduleName = 'Reconciliation';
        this.reconciliationBreadcrumbs = Array();
        this.massMatchBreadcrumbs = Array();
        this.activeBreadcrumbs = Array();
    }
    ngOnInit() {
        this.reconcileDataService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        // Init breadcrumbs for Reconcile Data and Mass match
        this.reconciliationBreadcrumbs = [
            { name: 'Setup', routerLink: 'setup' },
            { name: 'Reconcile Data', routerLink: 'reconcile-data' },
            { name: 'Define Layout', routerLink: 'define-layout' },
            { name: 'Map Match Codes', routerLink: 'map-matchcodes' },
            { name: 'Finalize Data', routerLink: 'finalize-data' }
        ];
        this.massMatchBreadcrumbs = [
            { name: 'Reconcile Data', routerLink: 'reconcile-data' },
            { name: 'Mass Match', routerLink: 'mass-match' },
            { name: 'View Matches', routerLink: 'view-matches', isDisabled: true }
        ];
        // Active breadcrumbs are set to reconciliation breadcrumbs by default
        this.activeBreadcrumbs = this.reconciliationBreadcrumbs;
        // Suscribe to router events to set breadcrumb based on current router state
        this.router.events.subscribe(event => {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_4__["NavigationStart"]) {
                // Setting active breadcrumbs to mass match if current route contains 'mass-match' or 'view-matches'
                if (event.url.match(/mass-match/g) || event.url.match(/view-matches/g)) {
                    this.activeBreadcrumbs = this.massMatchBreadcrumbs;
                }
                else {
                    this.activeBreadcrumbs = this.reconciliationBreadcrumbs;
                }
            }
        });
    }
};
ReconciliationFormComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] }
];
ReconciliationFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'reconciliation-form',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reconciliation-form.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconciliation-form.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"]])
], ReconciliationFormComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/reconciliation-validation.component.ts":
/*!*****************************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/reconciliation-validation.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: ReconciliationValidationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationValidationComponent", function() { return ReconciliationValidationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");








let ReconciliationValidationComponent = class ReconciliationValidationComponent {
    constructor(modalService, router, route, alertService, reconciliationService) {
        this.modalService = modalService;
        this.router = router;
        this.route = route;
        this.alertService = alertService;
        this.reconciliationService = reconciliationService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.title = 'Reconciliation Validation';
        this.showContinue = false;
        this.resolveErrorsToCommit = false;
        this.showMissingMatch = false;
        this.showAllocations = false;
        this._noLongerBusy = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](false);
        this.noLongerBusy = this._noLongerBusy.asObservable();
    }
    ngOnInit() {
        this.outOfBalanceAllocationIds = [];
        this.missingMatchIds = [];
        this._noLongerBusy.next(false);
    }
    open(passThroughRoute) {
        this.reconciliationService.validateReconciliation(true).subscribe(result => {
            this.outOfBalanceAllocationIds = !result.isReconciliationComplete ? result.outOfBalanceAllocations : [];
            this.missingMatchIds = !result.isReconciliationComplete ? result.missingMatches : [];
            this.showContinue = passThroughRoute && passThroughRoute.length > 0;
            this.navigateTo = this.showContinue ? passThroughRoute : '';
            this.showMissingMatch = this.missingMatchIds.length > 0;
            this.showAllocations = this.outOfBalanceAllocationIds.length > 0;
            if (this.showAllocations) {
                this.mapAllocationAssets(this.outOfBalanceAllocationIds, result.fullRecords);
            }
            const options = {
                size: 'lg'
            };
            this.modalRef = this.modalService.open(this.content, options);
            this._noLongerBusy.next(true);
        });
    }
    continueAnyway() {
        if (this.continueAnyway) {
            this.modalRef.close();
            this.router.navigate([this.navigateTo], {
                relativeTo: this.route.parent
            });
        }
    }
    mapAllocationAssets(ids, assets) {
        this.assetFileRecords = [];
        ids.forEach(id => {
            const asset = assets.find(a => a.id === id);
            if (asset) {
                this.assetFileRecords.push(asset);
            }
        });
    }
};
ReconciliationValidationComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbModal"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReconciliationValidationComponent.prototype, "content", void 0);
ReconciliationValidationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["Component"])({
        selector: 'reconciliation-validation',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reconciliation-validation.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconciliation-validation.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbModal"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
        _angular_router__WEBPACK_IMPORTED_MODULE_7__["ActivatedRoute"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"]])
], ReconciliationValidationComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/setup.component.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/reconciliation/components/setup.component.ts ***!
  \*********************************************************************/
/*! exports provided: SetupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetupComponent", function() { return SetupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/guards/component-can-deactivate */ "./client-src/app/_core/guards/component-can-deactivate.ts");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _api_dtos_asset_field_dto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/dtos/asset-field.dto */ "./client-src/app/_api/dtos/asset-field.dto.ts");
/* harmony import */ var _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_api/services/reconciliation/cost-fields.service */ "./client-src/app/_api/services/reconciliation/cost-fields.service.ts");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");













let SetupComponent = class SetupComponent extends _core_guards_component_can_deactivate__WEBPACK_IMPORTED_MODULE_3__["ComponentCanDeactivate"] {
    constructor(costFieldsService, matchCodeService, alertService, route, router, reconcileDataService, canDeactivateService) {
        super();
        this.costFieldsService = costFieldsService;
        this.matchCodeService = matchCodeService;
        this.alertService = alertService;
        this.route = route;
        this.router = router;
        this.reconcileDataService = reconcileDataService;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_5__["TranslationBaseKeys"];
        this.selectedMatchCodes = [];
        this.selectedMatchCodeIds = new Array();
        this.isBusy = false;
    }
    ngOnInit() {
        this.pendingChanges = false;
        this.selectedGroupId = this.reconcileDataService.groupId;
        this.costFieldsService.getTemplates().subscribe(templates => {
            const templateId = templates.find(c => c.name === 'Client Inventory');
            if (templateId) {
                this.costFieldsService
                    .getCostFields(templateId.id)
                    .subscribe(result => {
                    if (result == null) {
                        return;
                    }
                    this.costFields = result.importTemplateColumns
                        .filter(c => c.destinationColumnName === 'HistoricalCost')
                        .map(field => new _api_dtos_asset_field_dto__WEBPACK_IMPORTED_MODULE_8__["AssetFieldDto"](field.name, field.destinationColumnName));
                    const historicalCostObj = this.costFields.find(field => field.value === 'HistoricalCost');
                    if (Object.keys(historicalCostObj).length) {
                        this.selectedCostField = historicalCostObj.value;
                    }
                    else {
                        this.costFieldsService
                            .getGroupCostField(this.selectedGroupId)
                            .subscribe(assetAllocationField => {
                            if (assetAllocationField != null) {
                                this.selectedCostField = assetAllocationField.assetFileField;
                            }
                        });
                    }
                });
            }
        });
    }
    onSubmit(form) {
        this.pendingChanges = false;
        // console.log(this.selectedCostField);
        this.isBusy = true;
        this.costFieldsService
            .saveCostField(this.selectedGroupId, this.selectedCostField)
            .subscribe(err => console.log(err));
        this.matchCodeService
            .saveGroupMatchCodesSelection(this.selectedGroupId, this.selectedMatchCodes)
            .subscribe(result => {
            this.router.navigate(['./reconcile-data'], {
                relativeTo: this.route.parent
            });
            this.isBusy = false;
        });
    }
    handleMatchCodes(emittedCustomFields) {
        this.selectedMatchCodes = emittedCustomFields;
        this.pendingChanges = true;
    }
    handleMatchCodesLoaded(codes) {
        const getGroupMatchCodesSelection = this.matchCodeService.getGroupMatchCodesSelection(this.selectedGroupId);
        const getGroupMatchCodes = this.matchCodeService.getGroupMatchCodes(this.selectedGroupId);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_12__["forkJoin"])(getGroupMatchCodesSelection, getGroupMatchCodes)
            .subscribe(([matchCodeSelection, groupMatchCodes]) => {
            if (matchCodeSelection != null) {
                matchCodeSelection.forEach(id => {
                    if (this.isMatchCodeEnabled(id)) {
                        this.selectedMatchCodeIds.push(id);
                    }
                });
            }
            if (groupMatchCodes.length > 0) {
                this.setupMatchCodeSelection();
            }
        });
    }
    onGroupSelected(group) {
        this.selectedGroupToCopyFrom = group;
        this.matchCodeService
            .getGroupMatchCodesSelection(group.id)
            .subscribe(ids => {
            let addedCount = 0;
            ids.forEach(id => {
                const index = this.selectedMatchCodeIds.findIndex(s => s === id);
                if (index === -1 && this.isMatchCodeEnabled(id)) {
                    this.selectedMatchCodeIds.push(id);
                    addedCount++;
                }
            });
            if (addedCount > 0) {
                this.setupMatchCodeSelection();
                this.alertService.success('Successfully selected {{addedCount}} additional match codes.', null, { addedCount: addedCount });
            }
            else {
                this.alertService.success('No additional match codes added.');
            }
        });
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateFormAndComponent(this.currentForm, this.pendingChanges);
    }
    isMatchCodeEnabled(id) {
        const matchCode = this.matchCodeService.cachedMatchCodes.find(mc => mc.id === id);
        return (matchCode != null && matchCode.isEnabled);
    }
    setupMatchCodeSelection() {
        // Deselect all matchcodes first
        this.matchCodeService.cachedMatchCodes.forEach(m => {
            m.isSelected = false;
        });
        this.selectedMatchCodes = [];
        this.selectedMatchCodeIds.forEach(m => {
            const matchCode = this.matchCodeService.cachedMatchCodes.find(x => x.id === m);
            matchCode.isSelected = true;
            this.selectedMatchCodes.push(matchCode);
        });
    }
};
SetupComponent.ctorParameters = () => [
    { type: _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_9__["CostFieldsService"] },
    { type: _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_10__["MatchCodesService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_4__["CanDeactivateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ViewChild"])('dataImportForm', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgForm"])
], SetupComponent.prototype, "currentForm", void 0);
SetupComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_6__["Component"])({
        selector: 'setup',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./setup.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/setup.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_9__["CostFieldsService"],
        _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_10__["MatchCodesService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_4__["CanDeactivateService"]])
], SetupComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/components/upsert-asset-record.component.ts":
/*!***********************************************************************************!*\
  !*** ./client-src/app/reconciliation/components/upsert-asset-record.component.ts ***!
  \***********************************************************************************/
/*! exports provided: UpsertAssetRecordComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpsertAssetRecordComponent", function() { return UpsertAssetRecordComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/reconcile-data-grid.service */ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts");
/* harmony import */ var _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/services/asset-file-info-service */ "./client-src/app/_core/services/asset-file-info-service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/guards/can-deactivate.service */ "./client-src/app/_core/guards/can-deactivate.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_api/_runtime/enums/image-entity-type */ "./client-src/app/_api/_runtime/enums/image-entity-type.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");













let UpsertAssetRecordComponent = class UpsertAssetRecordComponent {
    constructor(windowManager, alertService, inventoryService, reconcileGridService, assetFileInfoServie, canDeactivateService) {
        this.windowManager = windowManager;
        this.alertService = alertService;
        this.inventoryService = inventoryService;
        this.reconcileGridService = reconcileGridService;
        this.assetFileInfoServie = assetFileInfoServie;
        this.canDeactivateService = canDeactivateService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_6__["TranslationBaseKeys"];
        this.imageEntityType = _api_runtime_enums_image_entity_type__WEBPACK_IMPORTED_MODULE_8__["ImageEntityType"].Asset;
        this.AssetUpsertComplete = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.isSaving = false;
        this.options = {
            size: 'lg',
            backdrop: 'static',
            beforeDismiss: () => {
                return this.canDeactivate();
            }
        };
        this.formSubmitted = false;
    }
    ngOnInit() { }
    ngOnDestroy() {
        if (this.toDestroy) {
            this.toDestroy.unsubscribe();
        }
    }
    openCreateModal(groupId, fileType, duplicateSource) {
        // Re-pull asset file summary to account for new fields being added
        this.toDestroy = this.inventoryService.getAssetFileSummary(groupId, fileType).subscribe(result => {
            this.assetFileSummary = result;
        }, error => { }, () => {
            // Get Form Fields
            this.isSaving = false;
            this.isEdit = false;
            this.asset = duplicateSource ? duplicateSource : {};
            this.windowRef = this.windowManager.open(this.content, 'Add Asset Record', {
                isModal: true,
                translationKey: this.i18n.reconciliation,
                top: -300,
                width: 800
            });
        });
    }
    openEditModal(groupId, fileType, asset) {
        // Re-pull asset file summary to account for new fields being added
        this.toDestroy = this.inventoryService.getAssetFileSummary(groupId, fileType).subscribe(result => {
            this.assetFileSummary = result;
        }, error => { }, () => {
            this.isSaving = false;
            this.assetRecordId = asset.assetId;
            this.asset = asset;
            this.assetForm = null;
            this.windowRef = this.windowManager.open(this.content, 'Edit Asset Record', {
                isModal: true,
                translationKey: this.i18n.reconciliation,
                top: -300,
                width: 800
            });
            this.isEdit = true;
        });
    }
    onFormActionEvent(event) {
        switch (event.action) {
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].Cancel:
                this.cancel();
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].Save:
                this.assetForm = event.form;
                this.save(event.formGroup);
                break;
            case _enums_form_action__WEBPACK_IMPORTED_MODULE_11__["FormAction"].ValueChange:
                this.assetForm = event.form;
                break;
            default:
                throw new Error(`Action ${event.action} not implemented.`);
        }
    }
    canDeactivate() {
        return this.canDeactivateService.canDeactivateForm(this.assetForm);
    }
    getFormFields() {
        const s = this;
        const fields = this.assetFileSummary.fields.filter(function (x) {
            let internalFields = s.assetFileInfoServie.GetInternalColumns();
            // Also filtering out the readonly & special fields that need to be handled differently
            const extraFields = s.assetFileInfoServie.GetHiddenFields();
            internalFields = internalFields.concat(extraFields);
            return (internalFields.findIndex(c => c === x.name) === -1 &&
                x.name !== 'siteIdentifier' &&
                x.name !== 'memberName' &&
                x.name !== 'memberNumber' &&
                x.name !== 'buildingName' &&
                x.name !== 'buildingNumber' &&
                x.name !== 'siteNumber' &&
                x.name !== 'siteName' &&
                x.name !== 'departmentNumber' &&
                x.name !== 'accountDescription');
        });
        const buildingSelection = {
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].CascadingComboBox,
            displayName: 'Member',
            name: 'buildingId',
            cascadedValues: [
                { displayName: 'Member', name: 'member' },
                { displayName: 'Site', name: 'siteId' },
                { displayName: 'Building', name: 'buildingId' }
            ],
            cascadedValueOptions: this.groupSiteInfo,
            required: true
        };
        fields.push(buildingSelection);
        const departmentSelection = {
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].DropDown,
            displayName: 'Department',
            name: 'departmentId',
            options: this.groupDepartments,
        };
        fields.push(departmentSelection);
        const accountSelections = {
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_12__["FieldType"].DropDown,
            displayName: 'Account',
            name: 'accountId',
            options: this.groupAccounts,
        };
        fields.push(accountSelections);
        const nonTranslatedFields = this.assetFileInfoServie.GetNonTranslatedFields();
        fields.forEach(field => {
            if (nonTranslatedFields.findIndex(x => x === field.name) === -1) {
                field.translationKey = this.i18n.asset;
            }
            else {
                field.translationKey = this.i18n.noTranslate;
            }
        });
        return this.fileType === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_9__["DataTargetName"].client ? fields.filter(c => c.isCustom === true) : fields;
    }
    save(formGroup) {
        if (this.isEdit) {
            // update Record
            const assetDto = formGroup.value;
            if (assetDto.buildingId) {
                assetDto.buildingId = assetDto.buildingId.split(',')[2];
            }
            assetDto['id'] = this.assetRecordId;
            delete assetDto['property'];
            this.inventoryService.updateAssetRecord(this.assetRecordId, assetDto).subscribe(result => {
                this.reconcileGridService.updateCachedRecord(result, this.fileType).subscribe(res => {
                    this.alertService.success('Asset record updated.');
                    this.formSubmitted = true;
                    this.AssetUpsertComplete.emit();
                    this.windowManager.close();
                });
            }, error => {
                this.windowManager.close();
            }, () => {
                this.windowManager.close();
            });
        }
        else {
            // Create Record
            this.inventoryService.createAssetRecord(this.assetFileSummary.id, formGroup.value).subscribe(result => {
                // Map to ui model and add AssetId
                this.reconcileGridService.createCachedRecord(result, this.fileType).subscribe(() => {
                    this.AssetUpsertComplete.emit();
                    this.alertService.success('Asset record created');
                    this.windowManager.close();
                });
            }, error => {
                this.windowManager.close();
            }, () => {
                this.windowManager.close();
            });
        }
    }
    cancel() {
        if (this.canDeactivate()) {
            this.windowManager.close();
        }
    }
};
UpsertAssetRecordComponent.ctorParameters = () => [
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__["WindowManager"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] },
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__["InventoryService"] },
    { type: _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataGridService"] },
    { type: _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"] },
    { type: _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertAssetRecordComponent.prototype, "assetFileSummary", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)
], UpsertAssetRecordComponent.prototype, "fileType", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], UpsertAssetRecordComponent.prototype, "groupSiteInfo", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], UpsertAssetRecordComponent.prototype, "groupAccounts", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], UpsertAssetRecordComponent.prototype, "groupDepartments", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('content', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertAssetRecordComponent.prototype, "content", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], UpsertAssetRecordComponent.prototype, "AssetUpsertComplete", void 0);
UpsertAssetRecordComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'upsert-asset-record-component',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./upsert-asset-record.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/upsert-asset-record.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_7__["WindowManager"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"],
        _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_10__["InventoryService"],
        _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileDataGridService"],
        _core_services_asset_file_info_service__WEBPACK_IMPORTED_MODULE_3__["AssetFileInfoService"],
        _core_guards_can_deactivate_service__WEBPACK_IMPORTED_MODULE_5__["CanDeactivateService"]])
], UpsertAssetRecordComponent);



/***/ }),

/***/ "./client-src/app/reconciliation/reconciliation.constants.ts":
/*!*******************************************************************!*\
  !*** ./client-src/app/reconciliation/reconciliation.constants.ts ***!
  \*******************************************************************/
/*! exports provided: ReconciliationConstants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationConstants", function() { return ReconciliationConstants; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ReconciliationConstants {
}
ReconciliationConstants.SystemMatchCategoryId = '1e838f1d-6d49-42e3-b3d4-1094c52d2e2b';
ReconciliationConstants.ParentChildMatchCodeId = '0e48c183-9127-490d-8970-656482793b70';
ReconciliationConstants.hiddenColumnsLayoutMapping = [
    'historicalCost',
    'siteId',
    'buildingId',
    'accountId',
    'departmentId',
    'accumulatedDepreciation',
    'assetImages',
    'displayId',
    'buildingName',
    'buildingNumber',
    'memberName',
    'memberNumber',
    'memberId',
    'siteName',
    'siteNumber',
    'depreciationAsOfDate',
    'lifeMonths',
    'depreciationBasis',
    'periodDepreciation',
    'sourceRecordId',
    'accountNumber',
    'accountDescription'
];
ReconciliationConstants.hiddenColumns = [
    'assetId',
    'isMatched',
    'isParent',
    'isChild',
    'parentChildMatches',
    'matchTypes',
    'matches',
    'matchCodeId',
    'parentId',
    'matchId',
    'allocatedValue',
    'allocationId',
    'id',
    'updatedTimeStamp',
    'assetFileId',
    'groupId'
];


/***/ }),

/***/ "./client-src/app/reconciliation/reconciliation.module.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/reconciliation/reconciliation.module.ts ***!
  \****************************************************************/
/*! exports provided: ReconciliationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationModule", function() { return ReconciliationModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var ng2_dragula__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ng2-dragula */ "./node_modules/ng2-dragula/dist/fesm2015/ng2-dragula.js");
/* harmony import */ var ng2_currency_mask__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-currency-mask */ "./node_modules/ng2-currency-mask/index.js");
/* harmony import */ var ng2_currency_mask__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_currency_mask__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/reconcile-data-grid.component */ "./client-src/app/reconciliation/components/reconcile-data-grid.component.ts");
/* harmony import */ var _components_reconcile_data_allocations_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/reconcile-data-allocations.component */ "./client-src/app/reconciliation/components/reconcile-data-allocations.component.ts");
/* harmony import */ var _services_allocation_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/allocation.service */ "./client-src/app/reconciliation/services/allocation.service.ts");
/* harmony import */ var _services_parent_child_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/parent-child.service */ "./client-src/app/reconciliation/services/parent-child.service.ts");
/* harmony import */ var _components_parent_child_match_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/parent-child-match.component */ "./client-src/app/reconciliation/components/parent-child-match.component.ts");
/* harmony import */ var _components_parent_child_match_detail_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/parent-child-match-detail.component */ "./client-src/app/reconciliation/components/parent-child-match-detail.component.ts");
/* harmony import */ var _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");
/* harmony import */ var _services_inventory_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./services/inventory.service */ "./client-src/app/reconciliation/services/inventory.service.ts");
/* harmony import */ var _services_consolidation_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/consolidation.service */ "./client-src/app/reconciliation/services/consolidation.service.ts");
/* harmony import */ var _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/mass-match/mass-match.service */ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts");
/* harmony import */ var _components_mass_match_mass_match_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/mass-match/mass-match.component */ "./client-src/app/reconciliation/components/mass-match/mass-match.component.ts");
/* harmony import */ var _components_mass_match_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/mass-match/filter-criteria-builder.component */ "./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.ts");
/* harmony import */ var _components_mass_match_field_matches_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/mass-match/field-matches.component */ "./client-src/app/reconciliation/components/mass-match/field-matches.component.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _components_reconcile_data_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/reconcile-data.component */ "./client-src/app/reconciliation/components/reconcile-data.component.ts");
/* harmony import */ var _components_reconciliation_form_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/reconciliation-form.component */ "./client-src/app/reconciliation/components/reconciliation-form.component.ts");
/* harmony import */ var _components_copy_inventory_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/copy-inventory.component */ "./client-src/app/reconciliation/components/copy-inventory.component.ts");
/* harmony import */ var _components_create_match_code_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/create-match-code.component */ "./client-src/app/reconciliation/components/create-match-code.component.ts");
/* harmony import */ var _components_match_codes_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/match-codes.component */ "./client-src/app/reconciliation/components/match-codes.component.ts");
/* harmony import */ var _components_setup_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/setup.component */ "./client-src/app/reconciliation/components/setup.component.ts");
/* harmony import */ var _components_map_matchcodes_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/map-matchcodes.component */ "./client-src/app/reconciliation/components/map-matchcodes.component.ts");
/* harmony import */ var _components_define_layout_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/define-layout.component */ "./client-src/app/reconciliation/components/define-layout.component.ts");
/* harmony import */ var _components_order_asset_columns_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/order-asset-columns-component */ "./client-src/app/reconciliation/components/order-asset-columns-component.ts");
/* harmony import */ var _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @progress/kendo-angular-dateinputs */ "./node_modules/@progress/kendo-angular-dateinputs/dist/fesm2015/index.js");
/* harmony import */ var _components_mass_match_view_matches_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/mass-match/view-matches.component */ "./client-src/app/reconciliation/components/mass-match/view-matches.component.ts");
/* harmony import */ var _components_upsert_asset_record_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/upsert-asset-record.component */ "./client-src/app/reconciliation/components/upsert-asset-record.component.ts");
/* harmony import */ var _components_consolidated_asset_column_select_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/consolidated/asset-column-select.component */ "./client-src/app/reconciliation/components/consolidated/asset-column-select.component.ts");
/* harmony import */ var _components_consolidated_asset_selected_columns_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/consolidated/asset-selected-columns.component */ "./client-src/app/reconciliation/components/consolidated/asset-selected-columns.component.ts");
/* harmony import */ var _components_reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/reconciliation-validation.component */ "./client-src/app/reconciliation/components/reconciliation-validation.component.ts");
/* harmony import */ var _components_finalize_data_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/finalize-data.component */ "./client-src/app/reconciliation/components/finalize-data.component.ts");
/* harmony import */ var _components_consolidated_consolidation_match_code_assignment_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/consolidated/consolidation-match-code-assignment.component */ "./client-src/app/reconciliation/components/consolidated/consolidation-match-code-assignment.component.ts");
/* harmony import */ var _components_consolidated_dynamic_assignment_select_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/consolidated/dynamic-assignment-select.component */ "./client-src/app/reconciliation/components/consolidated/dynamic-assignment-select.component.ts");
/* harmony import */ var _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./services/reconcile-data-grid.service */ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts");
/* harmony import */ var _components_consolidated_destination_column_selector_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/consolidated/destination-column-selector.component */ "./client-src/app/reconciliation/components/consolidated/destination-column-selector.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @progress/kendo-angular-dropdowns */ "./node_modules/@progress/kendo-angular-dropdowns/dist/fesm2015/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _api_services_api_service__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../_api/services/api.service */ "./client-src/app/_api/services/api.service.ts");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");
/* harmony import */ var _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../_api/services/reconciliation/cost-fields.service */ "./client-src/app/_api/services/reconciliation/cost-fields.service.ts");
/* harmony import */ var _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../_api/services/reconciliation/match-codes.service */ "./client-src/app/_api/services/reconciliation/match-codes.service.ts");
/* harmony import */ var _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../_api/services/inventory/inventory-search-repository.service */ "./client-src/app/_api/services/inventory/inventory-search-repository.service.ts");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../_api/_runtime/services/calculation-api.service */ "./client-src/app/_api/_runtime/services/calculation-api.service.ts");
/* harmony import */ var _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../_api/_runtime/services/settings-api.service */ "./client-src/app/_api/_runtime/services/settings-api.service.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! @progress/kendo-angular-layout */ "./node_modules/@progress/kendo-angular-layout/dist/fesm2015/index.js");
/* harmony import */ var _components_mass_match_one_to_many_match_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./components/mass-match/one-to-many-match.component */ "./client-src/app/reconciliation/components/mass-match/one-to-many-match.component.ts");
/* harmony import */ var _components_mass_match_many_to_one_match_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./components/mass-match/many-to-one-match.component */ "./client-src/app/reconciliation/components/mass-match/many-to-one-match.component.ts");

































































let ReconciliationModule = class ReconciliationModule {
};
ReconciliationModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_41__["NgModule"])({
        imports: [
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_46__["GridModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_40__["CoreModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_42__["BrowserModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_43__["NgbModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_44__["BrowserAnimationsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_45__["CommonModule"],
            ng2_dragula__WEBPACK_IMPORTED_MODULE_1__["DragulaModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_47__["FormsModule"],
            _progress_kendo_angular_dropdowns__WEBPACK_IMPORTED_MODULE_48__["DropDownsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_49__["HttpClientModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_50__["LaddaModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_47__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_47__["ReactiveFormsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_51__["RouterModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_52__["OrderModule"],
            ng2_currency_mask__WEBPACK_IMPORTED_MODULE_2__["CurrencyMaskModule"],
            _progress_kendo_angular_dateinputs__WEBPACK_IMPORTED_MODULE_29__["DateInputsModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_50__["LaddaModule"],
            _progress_kendo_angular_layout__WEBPACK_IMPORTED_MODULE_62__["LayoutModule"]
        ],
        declarations: [
            _components_reconcile_data_component__WEBPACK_IMPORTED_MODULE_20__["ReconcileDataComponent"],
            _components_reconciliation_form_component__WEBPACK_IMPORTED_MODULE_21__["ReconciliationFormComponent"],
            _components_copy_inventory_component__WEBPACK_IMPORTED_MODULE_22__["CopyInventoryComponent"],
            _components_copy_inventory_component__WEBPACK_IMPORTED_MODULE_22__["CopyInventoryComponent"],
            _components_create_match_code_component__WEBPACK_IMPORTED_MODULE_23__["CreateMatchCodeComponent"],
            _components_parent_child_match_component__WEBPACK_IMPORTED_MODULE_9__["ParentChildMatchComponent"],
            _components_parent_child_match_detail_component__WEBPACK_IMPORTED_MODULE_10__["ParentChildMatchDetailComponent"],
            _components_match_codes_component__WEBPACK_IMPORTED_MODULE_24__["MatchCodesComponent"],
            _components_setup_component__WEBPACK_IMPORTED_MODULE_25__["SetupComponent"],
            _components_reconcile_data_allocations_component__WEBPACK_IMPORTED_MODULE_6__["ReconcileDataAllocationsComponent"],
            _components_reconcile_data_grid_component__WEBPACK_IMPORTED_MODULE_5__["ReconcileDataGridComponent"],
            _components_order_asset_columns_component__WEBPACK_IMPORTED_MODULE_28__["OrderAssetColumnsComponent"],
            _components_mass_match_mass_match_component__WEBPACK_IMPORTED_MODULE_16__["MassMatchComponent"],
            _components_mass_match_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_17__["FilterCriteriaBuilderComponent"],
            _components_mass_match_field_matches_component__WEBPACK_IMPORTED_MODULE_18__["FieldMatchesComponent"],
            _components_upsert_asset_record_component__WEBPACK_IMPORTED_MODULE_31__["UpsertAssetRecordComponent"],
            _components_mass_match_view_matches_component__WEBPACK_IMPORTED_MODULE_30__["ViewMatchesComponent"],
            _components_mass_match_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_17__["FilterCriteriaBuilderComponent"],
            _components_define_layout_component__WEBPACK_IMPORTED_MODULE_27__["DefineLayoutComponent"],
            _components_map_matchcodes_component__WEBPACK_IMPORTED_MODULE_26__["MapMatchCodesComponent"],
            _components_consolidated_asset_column_select_component__WEBPACK_IMPORTED_MODULE_32__["AssetColumnSelectComponent"],
            _components_consolidated_asset_selected_columns_component__WEBPACK_IMPORTED_MODULE_33__["AssetSelectedColumnsComponent"],
            _components_reconciliation_validation_component__WEBPACK_IMPORTED_MODULE_34__["ReconciliationValidationComponent"],
            _components_finalize_data_component__WEBPACK_IMPORTED_MODULE_35__["FinalizeDataComponent"],
            _components_consolidated_consolidation_match_code_assignment_component__WEBPACK_IMPORTED_MODULE_36__["ConsolidationMatchCodeAssignmentComponent"],
            _components_consolidated_dynamic_assignment_select_component__WEBPACK_IMPORTED_MODULE_37__["DynamicAssignmentFieldComponent"],
            _components_consolidated_destination_column_selector_component__WEBPACK_IMPORTED_MODULE_39__["DestinationColumnSelectorComponent"],
            _components_mass_match_one_to_many_match_component__WEBPACK_IMPORTED_MODULE_63__["OneToManyMatchComponent"],
            _components_mass_match_many_to_one_match_component__WEBPACK_IMPORTED_MODULE_64__["ManyToOneMatchComponent"]
        ],
        entryComponents: [_components_reconciliation_form_component__WEBPACK_IMPORTED_MODULE_21__["ReconciliationFormComponent"], _components_mass_match_filter_criteria_builder_component__WEBPACK_IMPORTED_MODULE_17__["FilterCriteriaBuilderComponent"], _components_mass_match_field_matches_component__WEBPACK_IMPORTED_MODULE_18__["FieldMatchesComponent"]],
        providers: [
            _services_reconcile_data_service__WEBPACK_IMPORTED_MODULE_11__["ReconcileDataService"],
            _api_services_api_service__WEBPACK_IMPORTED_MODULE_53__["ApiService"],
            _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_54__["ReconciliationMatchService"],
            _services_inventory_service__WEBPACK_IMPORTED_MODULE_13__["ReconciliationInventoryService"],
            _api_services_reconciliation_cost_fields_service__WEBPACK_IMPORTED_MODULE_55__["CostFieldsService"],
            _api_services_reconciliation_match_codes_service__WEBPACK_IMPORTED_MODULE_56__["MatchCodesService"],
            _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_57__["InventorySearchRepository"],
            _services_reconcile_match_service__WEBPACK_IMPORTED_MODULE_12__["ReconcileMatchService"],
            _services_allocation_service__WEBPACK_IMPORTED_MODULE_7__["AllocationService"],
            _core_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"],
            _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_61__["InventoryService"],
            _services_parent_child_service__WEBPACK_IMPORTED_MODULE_8__["ParentChildService"],
            _services_mass_match_mass_match_service__WEBPACK_IMPORTED_MODULE_15__["MassMatchService"],
            _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_19__["FilterOperationsService"],
            _services_parent_child_service__WEBPACK_IMPORTED_MODULE_8__["ParentChildService"],
            _services_consolidation_service__WEBPACK_IMPORTED_MODULE_14__["ConsolidationService"],
            _services_reconcile_data_grid_service__WEBPACK_IMPORTED_MODULE_38__["ReconcileDataGridService"],
            _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_58__["InventoryApiService"],
            _api_runtime_services_calculation_api_service__WEBPACK_IMPORTED_MODULE_59__["CalculationApiService"],
            _api_runtime_services_settings_api_service__WEBPACK_IMPORTED_MODULE_60__["SettingsApiService"]
        ]
    })
], ReconciliationModule);



/***/ }),

/***/ "./client-src/app/reconciliation/services/allocation.service.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/reconciliation/services/allocation.service.ts ***!
  \**********************************************************************/
/*! exports provided: AllocationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AllocationService", function() { return AllocationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");



let AllocationService = class AllocationService {
    constructor() {
        this.selectedInventoryAssets = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.currentSelectedInventory = this.selectedInventoryAssets.asObservable();
        this.selectedClientAssets = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.currentSelectedClientAsset = this.selectedClientAssets.asObservable();
        this.selectedMatchCode = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('');
        this.currentSelectedMatchCode = this.selectedMatchCode.asObservable();
    }
    changeSelectedInventoryAssets(updatedSelection, isAdded) {
        this.addOrRemove(updatedSelection, isAdded, false);
    }
    changeSelectedClientAssets(updatedSelection, isAdded) {
        this.addOrRemove(updatedSelection, isAdded, true);
    }
    changeSelectedMatchCode(updatedSelection) {
        this.selectedMatchCode.next(updatedSelection);
    }
    setSelectedInventoryAssets(assets) {
    }
    clearSelections() {
        this.selectedMatchCode.next('');
        this.selectedClientAssets.next(new Array());
        this.selectedInventoryAssets.next(new Array());
    }
    addOrRemove(updatedSelection, isAdded, isClient) {
        const current = isClient ? this.selectedClientAssets.getValue() : this.selectedInventoryAssets.getValue();
        updatedSelection.forEach(row => {
            if (isAdded) {
                current.push(row);
            }
            else {
                current.splice(current.findIndex(c => c.Id === row.Id), 1);
            }
        });
        if (isClient) {
            this.selectedClientAssets.next(current);
        }
        else {
            this.selectedInventoryAssets.next(current);
        }
    }
};
AllocationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], AllocationService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/consolidation.service.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/reconciliation/services/consolidation.service.ts ***!
  \*************************************************************************/
/*! exports provided: ConsolidationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConsolidationService", function() { return ConsolidationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _reconciliation_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../reconciliation.constants */ "./client-src/app/reconciliation/reconciliation.constants.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");








let ConsolidationService = class ConsolidationService {
    constructor(inventoryService) {
        this.inventoryService = inventoryService;
        this.defineLayoutDirty = false;
        this.mapMatchCodesDirty = false;
        this._clientFieldList = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.clientFields = this._clientFieldList.asObservable();
        this._inventoryFieldList = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.inventoryFields = this._inventoryFieldList.asObservable();
        this._selectedFieldList = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.selectedFields = this._selectedFieldList.asObservable();
        this._columnOverrides = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.columnOverrides = this._columnOverrides.asObservable();
        this._availableDestinationList = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.availableDestinationList = this._availableDestinationList.asObservable();
        this._defaultColumns = [];
        this.hiddenColumns = new Array();
        this.ExcludedMappedColumns = [
            'historicalCost',
            'customColumns',
            'depreciationMethod',
            'depreciationConvention'
        ];
        this.hiddenColumns = _reconciliation_constants__WEBPACK_IMPORTED_MODULE_3__["ReconciliationConstants"].hiddenColumns.concat(_reconciliation_constants__WEBPACK_IMPORTED_MODULE_3__["ReconciliationConstants"].hiddenColumnsLayoutMapping);
    }
    initialize(groupId) {
        this._groupId = groupId;
        this.clearData();
        this.inventoryService.getAssetFileSearchMetadata(_enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory)
            .subscribe(availableColumns => {
            this.loadAvailableColumns(availableColumns);
            this.inventoryService
                .getAssetFileSummary(this._groupId, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client)
                .subscribe(clientResult => {
                const clientColumns = this.mapColumnsToDisplayFromApiResult(clientResult, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client);
                this.inventoryService
                    .getAssetFileSummary(groupId, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory)
                    .subscribe(inventoryResult => {
                    const inventoryColumns = this.mapColumnsToDisplayFromApiResult(inventoryResult, _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory);
                    this.inventoryService.getConsolidatedColumnMappings(this._groupId)
                        .subscribe(mappingResults => {
                        this.saveSelectedMappingsFromApi(mappingResults.result, clientColumns, inventoryColumns);
                    });
                });
            });
        });
        this.inventoryService.getConsolidatedColumnAssignments(this._groupId)
            .subscribe(overrideResult => {
            const overrides = this.mapOverrideDtoToModel(overrideResult.result);
            this._columnOverrides.next(overrides);
        });
    }
    clearData() {
        this._clientFieldList.next([]);
        this._inventoryFieldList.next([]);
        this._selectedFieldList.next([]);
        this._columnOverrides.next([]);
        this._availableDestinationList.next([]);
        this._defaultColumns = [];
    }
    mapColumnsToDisplayFromApiResult(assetFileSummaryDto, dataTarget) {
        // tslint:disable-next-line:prefer-const
        let columns = assetFileSummaryDto.fields
            .map(dto => this.mapFieldDtoToColumn(dto, dataTarget))
            .filter(column => !this.hiddenColumns.some(h => h.toLowerCase() === column.sourceColumn.toLowerCase()));
        columns.push(this.getAccountColumn(dataTarget));
        return columns;
    }
    saveSelectedMappingsFromApi(mappings, clientColumns, inventoryColumns) {
        if (mappings && mappings.length > 0) {
            mappings.forEach(map => {
                let target;
                if (map.source === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client) {
                    target = clientColumns;
                }
                else if (map.source === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory) {
                    target = inventoryColumns;
                }
                const index = target.findIndex(c => c.sourceColumn === map.name && c.sourceTarget === map.source);
                if (index !== -1) {
                    target[index].id = map.id;
                    target[index].displayName = map.displayName;
                    target[index].selected = true;
                    target[index].destinationColumnName = map.destinationColumnName;
                }
            });
        }
        this._clientFieldList.next(clientColumns);
        this._inventoryFieldList.next(inventoryColumns);
        this.selectColumns(clientColumns.filter(column => column.selected));
        this.selectColumns(inventoryColumns.filter(column => column.selected));
        this.reconcileAvailableColumns();
    }
    mapFieldDtoToColumn(fieldDto, dataTarget) {
        const result = {
            id: null,
            selected: false,
            sourceTarget: dataTarget,
            sourceColumn: fieldDto.name,
            destinationColumnName: null,
            displayName: fieldDto.displayName,
            fieldType: fieldDto.fieldType,
            isCustom: fieldDto.isCustom
        };
        return result;
    }
    getColumns(dataTarget) {
        if (dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client) {
            return this.clientFields;
        }
        else if (dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory) {
            return this.inventoryFields;
        }
    }
    getSelectedColumns() {
        return this.selectedFields;
    }
    getSelectedColumn(columnId) {
        return this._selectedFieldList.getValue().find(x => x.id === columnId);
    }
    getDefaultColumns() {
        const result = [];
        this._defaultColumns.forEach(c => result.push({
            id: c.id,
            sourceTarget: c.sourceTarget,
            sourceColumn: c.sourceColumn,
            fieldType: c.fieldType,
            displayName: c.displayName,
            destinationColumnName: c.destinationColumnName
        }));
        return result;
    }
    setDefaultColumns(columns) {
        this._defaultColumns = [];
        columns.forEach(c => this._defaultColumns.push({
            id: c.id,
            sourceTarget: c.sourceTarget,
            sourceColumn: c.sourceColumn,
            fieldType: c.fieldType,
            displayName: c.displayName,
            destinationColumnName: c.destinationColumnName
        }));
    }
    updateColumn(column) {
        const currentClient = this._clientFieldList.getValue();
        const currentInventory = this._inventoryFieldList.getValue();
        if (column.sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client) {
            const clientIndex = currentClient.findIndex(item => item.sourceColumn === column.sourceColumn && item.sourceTarget === column.sourceTarget);
            if (clientIndex !== -1) {
                currentClient[clientIndex].selected = column.selected;
            }
            this._clientFieldList.next(currentClient);
        }
        if (column.sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory) {
            const inventoryIndex = currentInventory.findIndex(item => item.sourceColumn === column.sourceColumn && item.sourceTarget === column.sourceTarget);
            if (inventoryIndex !== -1) {
                currentInventory[inventoryIndex].selected = column.selected;
            }
            this._inventoryFieldList.next(currentInventory);
        }
    }
    selectColumns(columns) {
        let current = this._selectedFieldList.getValue();
        columns.forEach(column => {
            column.selected = true;
            // add the items to the selected list
            const selectedIndex = current.findIndex(c => c.sourceColumn === column.sourceColumn && c.sourceTarget === column.sourceTarget);
            if (selectedIndex === -1) {
                current.push(column);
            }
            this.updateColumn(column);
        });
        current = current.sort((a, b) => {
            if (a.sourceColumn > b.sourceColumn) {
                return 1;
            }
            if (a.sourceColumn < b.sourceColumn) {
                return -1;
            }
            return a.sourceTarget - b.sourceTarget;
        });
        this._selectedFieldList.next(current);
    }
    deselectColumns(columns) {
        const current = this._selectedFieldList.getValue();
        columns.forEach(column => {
            const index = current.findIndex(c => c.sourceColumn === column.sourceColumn && c.sourceTarget === column.sourceTarget);
            if (index !== -1) {
                current.splice(index, 1);
            }
            column.selected = false;
            column.destinationColumnName = null;
            this.updateColumn(column);
        });
        this._selectedFieldList.next(current);
        this.reconcileAvailableColumns();
    }
    updateSelectedColumn(column) {
        const current = this._selectedFieldList.getValue();
        const index = current.findIndex(c => c.sourceColumn === column.sourceColumn && c.sourceTarget === column.sourceTarget);
        if (index !== -1) {
            current[index].displayName = column.displayName;
        }
    }
    saveColumnMappingSettings() {
        const columns = this._selectedFieldList.getValue().map(column => ({
            id: column.id == null ? null : column.id,
            source: column.sourceTarget,
            name: column.sourceColumn,
            displayName: column.displayName,
            destinationColumnName: column.destinationColumnName,
            order: 0,
        }));
        return this.inventoryService.updateConsolidatedColumnMappings(this._groupId, columns).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result.result.map(column => ({
            id: column.id,
            sourceTarget: column.source,
            sourceColumn: column.name,
            displayName: column.displayName,
            destinationColumnName: column.destinationColumnName
        }))));
    }
    saveColumnMappingAssignments() {
        const overrides = this._columnOverrides.getValue();
        const dtos = this.mapOverrideModelToDto(this._selectedFieldList.getValue(), overrides);
        const subscription = this.inventoryService.updateConsolidatedColumnAssignments(this._groupId, dtos).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(apiResult => {
            if (apiResult.code === 0) {
                const results = this.mapOverrideDtoToModel(apiResult.result);
                this._columnOverrides.next(results);
                return results;
            }
            return [];
        }));
        return subscription;
    }
    mapOverrideDtoToModel(dtos) {
        const results = new Array();
        dtos.forEach(column => {
            column.matchCodeOverrides.forEach(override => {
                results.push({
                    id: override.id,
                    matchCodeId: override.matchCodeId,
                    columnName: override.name,
                    source: override.source,
                    consolidationColumnId: column.id,
                });
            });
        });
        return results;
    }
    mapOverrideModelToDto(columns, overrides) {
        return columns.map(field => ({
            id: field.id,
            source: field.sourceTarget,
            name: field.sourceColumn,
            order: 0,
            displayName: field.displayName,
            destinationColumnName: field.destinationColumnName,
            matchCodeOverrides: overrides.filter(o => o.consolidationColumnId === field.id).map(x => ({
                id: x.id,
                matchCodeId: x.matchCodeId,
                source: x.source,
                name: x.columnName
            }))
        }));
    }
    setColumnDestination(column, destination) {
        const fields = this._selectedFieldList.getValue();
        if (destination != null && destination.length > 0) {
            // check for duplicates
            const duplicate = fields
                .filter(x => x.destinationColumnName != null || x.destinationColumnName !== '')
                .findIndex(x => (x.destinationColumnName != null && x.destinationColumnName.toLowerCase() === destination.toLowerCase())
                && (x.sourceTarget !== column.sourceTarget || x.sourceColumn !== column.sourceColumn));
            if (duplicate !== -1) {
                return {
                    success: false,
                    message: `The column '${destination}' is already in use.`
                };
            }
            const regex = new RegExp('^[a-zA-Z0-9_-]*$');
            if (regex.test(destination) === false) {
                return {
                    success: false,
                    message: 'Spaces and special characters are not allowed.'
                };
            }
            if (destination.toLowerCase() === 'historicalcost') {
                return {
                    success: false,
                    message: 'Historical Cost is not a valid custom column name.'
                };
            }
        }
        const original = fields.find(x => x.sourceTarget === column.sourceTarget && x.sourceColumn === column.sourceColumn);
        if (original == null) {
            return {
                success: false,
                message: 'Unknown column'
            };
        }
        original.destinationColumnName = destination;
        this._selectedFieldList.next(fields);
        this.reconcileAvailableColumns();
        return { success: true };
    }
    reconcileAvailableColumns() {
        this._availableDestinationList.next(this.getDefaultColumns());
        this._selectedFieldList.subscribe(fields => {
            if (fields == null || fields.length === 0) {
                return;
            }
            fields
                .filter(x => x.destinationColumnName != null || x.destinationColumnName !== '')
                .forEach(selected => { this.removeAvailableColumn(selected.destinationColumnName); });
        });
    }
    loadAvailableColumns(apiResult) {
        // tslint:disable-next-line:prefer-const
        let columns = apiResult.fields
            .filter(column => !this.hiddenColumns.some(h => h.toLowerCase() === column.name.toLowerCase()))
            .filter(column => this.ExcludedMappedColumns.indexOf(column.name) === -1)
            .map(f => ({
            id: null,
            sourceTarget: _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].consolidated,
            sourceColumn: f.name,
            displayName: f.displayName,
            fieldType: f.fieldType,
            destinationColumnName: f.name,
            isCustom: f.isCustom
        }));
        columns.push(this.getAccountColumn(_enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].consolidated));
        this._availableDestinationList.next(columns);
        this.setDefaultColumns(columns);
        this.reconcileAvailableColumns();
    }
    removeAvailableColumn(sourceColumnName) {
        const columns = this._availableDestinationList.getValue();
        const index = columns.findIndex(a => a.sourceColumn === sourceColumnName);
        if (index !== -1) {
            columns.splice(index, 1);
            this._availableDestinationList.next(columns);
        }
    }
    autoMapColumn(column) {
        const available = this._availableDestinationList.getValue();
        const fields = this._selectedFieldList.getValue();
        const index = available.findIndex(a => a.sourceColumn === column.sourceColumn);
        if (index !== -1) {
            const original = fields
                .findIndex(f => f.sourceTarget === column.sourceTarget && f.sourceColumn === column.sourceColumn);
            fields[original].destinationColumnName = available[index].destinationColumnName;
            fields[original].displayName = available[index].displayName;
            this.removeAvailableColumn(column.destinationColumnName);
        }
        this._selectedFieldList.next(fields);
    }
    getAccountColumn(sourceTarget) {
        return {
            id: null,
            destinationColumnName: sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].consolidated ? 'accountId' : null,
            displayName: 'Account',
            fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_7__["FieldType"].EmptySpace,
            isCustom: false,
            selected: false,
            sourceColumn: 'accountId',
            sourceTarget: sourceTarget
        };
    }
    autoMapCustomFields() {
        const fields = this._selectedFieldList.getValue().filter(c => c.destinationColumnName === null || c.destinationColumnName === '');
        fields.forEach(field => {
            const name = (field.sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client ? 'CF_' : 'AI_') + field.displayName;
            this.setColumnDestination(field, name);
        });
    }
    autoMapFields() {
        const fields = this._selectedFieldList.getValue();
        // try mapping inventory fields first (they take precednce)
        fields
            .filter(c => (c.destinationColumnName == null || c.destinationColumnName === '') && c.sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].inventory)
            .forEach(column => { this.autoMapColumn(column); });
        // try mapping inventory fields first (they take precednce)
        fields
            .filter(c => (c.destinationColumnName == null || c.destinationColumnName === '') && c.sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client)
            .forEach(column => { this.autoMapColumn(column); });
        this.autoMapCustomFields();
    }
    validateDestinations() {
        const fields = this._selectedFieldList.getValue();
        // Check that all fields have been specified
        if (fields.some(x => x.destinationColumnName == null || x.destinationColumnName.length === 0)) {
            return 'Not all columns have a destination specified.';
        }
        // check for duplicates
        const uniq = fields.map((field) => ({ count: 1, destination: field.destinationColumnName }))
            .reduce((a, b) => {
            a[b.destination] = (a[b.destination] || 0) + b.count;
            return a;
        }, {});
        const duplicates = Object.keys(uniq).filter((a) => uniq[a] > 1);
        if (duplicates.length > 0) {
            return 'There are duplicate destinations specified.  Please review the columns.';
        }
        // don't allow historical cost to be set.
        if (fields.some(x => x.destinationColumnName.toLowerCase() === 'historicalcost')) {
            return 'You cannot specify the destination of HistoricalCost.';
        }
        return '';
    }
    getMapMatchCodeOptions(columnId) {
        // get the column, so that we know the type.
        const column = this.getSelectedColumn(columnId);
        if (column == null) {
            return [];
        }
        const fields = this._clientFieldList.getValue()
            .concat(this._inventoryFieldList.getValue())
            .filter(x => x.fieldType === column.fieldType)
            .map(f => ({
            value: `${f.sourceTarget}_${f.sourceColumn}`,
            label: `${f.displayName} - ${f.sourceTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_5__["DataTargetName"].client ? 'CF' : 'AI'}`,
            isCustom: f.isCustom
        }));
        return fields;
    }
    setColumnOverride(columnId, matchCodeId, target, columnName) {
        const column = this._selectedFieldList.getValue().find(s => s.id === columnId);
        if (column == null) {
            return;
        }
        let overrides = this._columnOverrides.getValue();
        const overrideIndex = overrides.findIndex(o => o.consolidationColumnId === columnId && o.matchCodeId === matchCodeId);
        if (overrideIndex === -1) {
            overrides.push({
                consolidationColumnId: columnId,
                matchCodeId: matchCodeId,
                source: target,
                columnName: columnName
            });
        }
        else {
            if (overrides[overrideIndex].source === target && overrides[overrideIndex].columnName === columnName) {
                overrides = overrides.splice(overrideIndex, 1);
            }
            else {
                overrides[overrideIndex].source = target;
                overrides[overrideIndex].columnName = columnName;
            }
        }
        this._columnOverrides.next(overrides);
    }
};
ConsolidationService.ctorParameters = () => [
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_6__["InventoryService"] }
];
ConsolidationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_6__["InventoryService"]])
], ConsolidationService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/inventory.service.ts":
/*!*********************************************************************!*\
  !*** ./client-src/app/reconciliation/services/inventory.service.ts ***!
  \*********************************************************************/
/*! exports provided: ReconciliationInventoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconciliationInventoryService", function() { return ReconciliationInventoryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_runtime/services/inventory-api.service */ "./client-src/app/_api/_runtime/services/inventory-api.service.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");






let ReconciliationInventoryService = class ReconciliationInventoryService {
    constructor(inventoryService, configService, inventoryApiService) {
        this.inventoryService = inventoryService;
        this.configService = configService;
        this.inventoryApiService = inventoryApiService;
    }
    copyInventoryToGroup(sourceGroupId, targetGroupId) {
        return this.inventoryService.copy(sourceGroupId, targetGroupId);
    }
    getGroupDepartmentsOptions(groupId) {
        const options = new Array();
        return this.inventoryApiService.getDepartmentsByGroupId(groupId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => {
            result.forEach(department => {
                options.push({
                    displayName: department.departmentNumber.concat(' - ', department.description),
                    key: department.id
                });
            });
            return options;
        }));
    }
    getGroupAccountOptions(groupId) {
        const options = new Array();
        return this.inventoryApiService.getAccountsByGroupId(groupId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => {
            result.forEach(account => {
                options.push({
                    displayName: account.accountNumber.concat(' - ', account.accountDescription),
                    key: account.id
                });
            });
            return options;
        }));
    }
    getContractGroupsWithInventory(groupId) {
        return this.inventoryService.getContractGroupsWithInventory(groupId);
    }
    getAssetFileSummary(groupId, filetype) {
        return this.inventoryService.getAssetFileSummary(groupId, filetype).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => {
            data.fields.sort((a, b) => this.stringComparator(a.name, b.name));
            return data;
        }));
    }
    getAssetFileSearchMetadata(filetype) {
        return this.inventoryService.getAssetFileSearchMetadata(filetype).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(data => {
            data.fields.sort((a, b) => this.stringComparator(a.name, b.name));
            return data;
        }));
    }
    getSearchMetadataByGroupId(groupId, fileType) {
        return this.inventoryApiService.getSearchMetadataByGroupId(groupId, fileType);
    }
    createAssetRecord(fileId, recordDto) {
        return this.inventoryService.createAssetRecord(fileId, recordDto).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(asset => {
            asset.id = asset['id'];
            return asset;
        }));
    }
    getAssetRecord(recordId) {
        return this.inventoryService.getAssetRecord(recordId);
    }
    updateAssetRecord(recordId, recordDto) {
        return this.inventoryService.updateAssetRecord(recordId, recordDto).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(asset => {
            asset.assetId = asset['id'];
            return asset;
        }));
    }
    copyAssetRecord(recordId) {
        return this.inventoryService.copyAssetRecord(recordId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(asset => {
            asset.id = asset['id'];
            return asset;
        }));
    }
    getConsolidatedColumnMappings(groupId) {
        return this.inventoryService.getConsolidatedColumnMappings(groupId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result.result));
    }
    updateConsolidatedColumnMappings(groupId, mappings) {
        const dto = mappings.map(m => ({
            id: m.id,
            source: m.sourceTarget,
            name: m.sourceColumn,
            displayName: m.displayName,
            destinationColumnName: m.destinationColumnName,
            order: 0
        }));
        return this.inventoryService.updateConsolidatedColumnMappings(groupId, dto).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result.result));
    }
    stringComparator(a, b) {
        if (a < b) {
            return -1;
        }
        if (a > b) {
            return 1;
        }
        return 0;
    }
};
ReconciliationInventoryService.ctorParameters = () => [
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_5__["InventoryService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"] },
    { type: _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_4__["InventoryApiService"] }
];
ReconciliationInventoryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_5__["InventoryService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_3__["ConfigService"],
        _api_runtime_services_inventory_api_service__WEBPACK_IMPORTED_MODULE_4__["InventoryApiService"]])
], ReconciliationInventoryService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/mass-match/mass-match.service.ts":
/*!*********************************************************************************!*\
  !*** ./client-src/app/reconciliation/services/mass-match/mass-match.service.ts ***!
  \*********************************************************************************/
/*! exports provided: MassMatchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MassMatchService", function() { return MassMatchService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../_api/services/inventory/inventory-search-repository.service */ "./client-src/app/_api/services/inventory/inventory-search-repository.service.ts");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");






let MassMatchService = class MassMatchService {
    constructor(searchRepository, reconcileMatchRepository, referenceDataApiService) {
        this.searchRepository = searchRepository;
        this.reconcileMatchRepository = reconcileMatchRepository;
        this.referenceDataApiService = referenceDataApiService;
        this.searchRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({
            fieldMatchTerms: new Array(),
            filterTerms: new Array(),
            excludeMatchedRecords: true
        });
        this.inventoryMetadataSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](new Array());
        this.searchResponseSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](null);
        this.selectedInventoryHeadersSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](new Array());
        this.selectedClientHeadersSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](new Array());
        this.searchRequest$ = this.searchRequestSource.asObservable();
        this.searchResponse$ = this.searchResponseSource.asObservable();
        this.searchFilterTerms = new Array();
        this.searchFieldMatchTerms = new Array();
        this.selectedInventoryHeaders$ = this.selectedInventoryHeadersSource.asObservable();
        this.selectedClientHeaders$ = this.selectedClientHeadersSource.asObservable();
        this.inventoryMetadata$ = this.inventoryMetadataSource.asObservable();
        this.canMassMatch = false;
    }
    init(clientAssetCount, inventoryAssetCount) {
        this.canMassMatch = clientAssetCount > 0 && inventoryAssetCount > 0;
    }
    saveMassMatch(massMatches) {
        return this.reconcileMatchRepository.setMassMatch(massMatches);
    }
    updateSearchResponse(response) {
        this.searchResponseSource.next(response);
    }
    updateInventoryMetadata(inventoryMetadata) {
        this.inventoryMetadataSource.next(inventoryMetadata);
    }
    initSearchResponse(groupId) {
        const current = this.searchRequestSource.getValue();
        current.groupId = groupId;
        this.searchRequestSource.next(current);
    }
    setSelectedMatch(matchCodeId) {
        const current = this.searchRequestSource.getValue();
        current.matchCodeId = matchCodeId;
    }
    addOrUpdateFieldMatch(fieldMatch) {
        const current = this.searchRequestSource.getValue();
        const index = current.fieldMatchTerms.findIndex(d => d.id === fieldMatch.id);
        if (index === -1) {
            current.fieldMatchTerms.push(fieldMatch);
        }
        else if (index >= 0) {
            current.fieldMatchTerms[index] = fieldMatch;
        }
        this.searchRequestSource.next(current);
    }
    addOrUpdateFilter(filter) {
        const current = this.searchRequestSource.getValue();
        const index = current.filterTerms.findIndex(d => d.id === filter.id);
        if (index === -1) {
            current.filterTerms.push(filter);
        }
        else if (index >= 0) {
            current.filterTerms[index] = filter;
        }
        this.searchRequestSource.next(current);
    }
    removeFieldMatch(fieldMatch) {
        const current = this.searchRequestSource.getValue();
        const index = current.fieldMatchTerms.findIndex(d => d.id === fieldMatch.id);
        if (index >= 0) {
            current.fieldMatchTerms.splice(index, 1);
        }
        this.searchRequestSource.next(current);
    }
    removeFilter(filter) {
        const current = this.searchRequestSource.getValue();
        const index = current.filterTerms.findIndex(d => d.id === filter.id);
        if (index >= 0) {
            current.filterTerms.splice(index, 1);
        }
        this.searchRequestSource.next(current);
    }
    searchAssets(groupId, matchCodeId, gridState = { skip: 0, take: 250 }) {
        const currentSearchRequest = this.searchRequestSource.getValue();
        currentSearchRequest.matchCodeId = matchCodeId;
        this.searchFilterTerms = currentSearchRequest.filterTerms;
        this.searchFieldMatchTerms = currentSearchRequest.fieldMatchTerms;
        currentSearchRequest.skip = gridState.skip;
        currentSearchRequest.take = gridState.take;
        const defaultSortTerm = {
            termOrder: 0,
            field: 'Description',
            sortDirection: 0
        };
        if (gridState.sortTerm) {
            currentSearchRequest.sortTerms = [gridState.sortTerm];
        }
        else {
            currentSearchRequest.sortTerms = [defaultSortTerm];
        }
        return this.searchRepository.searchAssetsMassMatch(groupId, currentSearchRequest);
    }
    clearSearch() {
        this.searchRequestSource.next({
            fieldMatchTerms: new Array(),
            filterTerms: new Array(),
            excludeMatchedRecords: true
        });
    }
    getCurrentMatchesForGroup(groupId) {
        return this.reconcileMatchRepository.getReconciliationMatchSummary(groupId);
    }
    updateSelectedClientHeaders(headers) {
        return this.selectedClientHeadersSource.next(headers);
    }
    updateSelectedInventoryHeaders(headers) {
        return this.selectedInventoryHeadersSource.next(headers);
    }
    getActivityCodes() {
        return this.referenceDataApiService.getActivityCodes();
    }
};
MassMatchService.ctorParameters = () => [
    { type: _api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_3__["InventorySearchRepository"] },
    { type: _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationMatchService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_5__["ReferenceDataApiService"] }
];
MassMatchService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_inventory_inventory_search_repository_service__WEBPACK_IMPORTED_MODULE_3__["InventorySearchRepository"],
        _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationMatchService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_5__["ReferenceDataApiService"]])
], MassMatchService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/parent-child.service.ts":
/*!************************************************************************!*\
  !*** ./client-src/app/reconciliation/services/parent-child.service.ts ***!
  \************************************************************************/
/*! exports provided: ParentChildService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParentChildService", function() { return ParentChildService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _reconcile_match_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reconcile-match.service */ "./client-src/app/reconciliation/services/reconcile-match.service.ts");
/* harmony import */ var _reconcile_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");







let ParentChildService = class ParentChildService {
    constructor(reconciliationMatchService, reconcileMatchService, reconcileDataService) {
        this.reconciliationMatchService = reconciliationMatchService;
        this.reconcileMatchService = reconcileMatchService;
        this.reconcileDataService = reconcileDataService;
        this.selectedAssets = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](new Array());
        this.currentSelectedAssets = this.selectedAssets.asObservable();
        this.childrenSource = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](new Array());
        this.children$ = this.childrenSource.asObservable();
    }
    changeSelectedAssets(updatedSelection, isAdded) {
        updatedSelection.forEach(row => {
            const model = this.mapAssetToParentChild(row);
            if (isAdded) {
                this.addSelectedAsset(model);
            }
            else {
                this.removeSelectedAsset(model);
            }
        });
    }
    setSelectedAssets(assets) {
        this.clearSelectedAssets();
        assets.forEach(asset => {
            const model = this.mapAssetToParentChild(asset);
            this.addSelectedAsset(model);
        });
    }
    clearSelectedAssets() {
        this.selectedAssets.next(new Array());
    }
    mapAssetToParentChild(asset) {
        if (asset == null) {
            return null;
        }
        const result = {
            assetId: asset.assetId,
            isParent: asset.isParent,
            parentId: asset.parentId,
            assetTagNumber: asset.assetTagNumber,
            oldTagNumber: asset.oldTagNumber,
            description: asset.description,
            serialNumber: asset.serialNumber,
            historicalCost: asset.historicalCost
        };
        return result;
    }
    addSelectedAsset(selection) {
        const current = this.selectedAssets.getValue();
        if (current.findIndex(d => d.assetId === selection.assetId) < 0) {
            current.push(selection);
        }
        this.selectedAssets.next(current);
    }
    removeSelectedAsset(selection) {
        const current = this.selectedAssets.getValue();
        const index = current.findIndex(d => d.assetId === selection.assetId);
        if (index >= 0) {
            current.splice(index, 1);
        }
        this.selectedAssets.next(current);
    }
    isValidSelection(assets) {
        const assetIds = assets.map(({ assetId }) => assetId);
        const groupId = this.reconcileDataService.groupId;
        this.validationErrors = [];
        const isValid = this.reconciliationMatchService.getMatchSummaryForAssetIds(groupId, assetIds).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(({ result }) => {
            if (result == null) {
                this.validationErrors.push('Unknown service error.');
                return false;
            }
            if (result.assetData.filter(c => c.isParent).length > 1) {
                this.validationErrors.push('Matches from more than one parent/child relationship are not allowed.');
                return false;
            }
            return true;
        }));
        return isValid;
    }
    getValidationErrors() {
        return this.validationErrors.join('<br>');
    }
    getMatchSummaryForAssetIds(assetIds) {
        const groupId = this.reconcileDataService.groupId;
        return this.reconciliationMatchService.getMatchSummaryForAssetIds(groupId, assetIds);
    }
    setParentChildMatches(parentId, assetIds) {
        return this.reconciliationMatchService.setParentChildMatch(parentId, assetIds);
    }
    updateParentChildMatches(parentId, assetIds) {
        return this.reconciliationMatchService.updateParentChildMatch(parentId, assetIds);
    }
    removeChildMatches(assetIds) {
        return this.reconciliationMatchService.unmatchAssetRecords(assetIds);
    }
    setChildren(children) {
        this.childrenSource.next(children);
    }
    clearChildren() {
        this.childrenSource.next(new Array());
    }
    mapResultToEntity(result) {
        const entities = new Array();
        result.forEach(r => {
            const entity = {
                assetFileRecordId: r.assetFileRecordId,
                matchCodeId: r.matchCodeId,
                matchId: r.matchId,
                parentAssetFileRecordId: r.parentAssetFileRecordId
            };
            entities.push(entity);
        });
        return entities;
    }
};
ParentChildService.ctorParameters = () => [
    { type: _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_6__["ReconciliationMatchService"] },
    { type: _reconcile_match_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileMatchService"] },
    { type: _reconcile_data_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileDataService"] }
];
ParentChildService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_6__["ReconciliationMatchService"],
        _reconcile_match_service__WEBPACK_IMPORTED_MODULE_2__["ReconcileMatchService"],
        _reconcile_data_service__WEBPACK_IMPORTED_MODULE_3__["ReconcileDataService"]])
], ParentChildService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/reconcile-data-grid.service.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/reconciliation/services/reconcile-data-grid.service.ts ***!
  \*******************************************************************************/
/*! exports provided: ReconcileDataGridService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcileDataGridService", function() { return ReconcileDataGridService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/_configuration/services/reference-data-api.service */ "./client-src/app/_api/_configuration/services/reference-data-api.service.ts");
/* harmony import */ var _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_api/services/reconciliation/inventory.service */ "./client-src/app/_api/services/reconciliation/inventory.service.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");
/* harmony import */ var _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/reconciliation-match-type */ "./client-src/app/_enums/reconciliation-match-type.ts");








let ReconcileDataGridService = class ReconcileDataGridService {
    constructor(inventoryRepository, filterOperationsService, referenceDataApiService) {
        this.inventoryRepository = inventoryRepository;
        this.filterOperationsService = filterOperationsService;
        this.referenceDataApiService = referenceDataApiService;
        this.clearSelectionsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.unsavedEditsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.cachedRecordsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.recordCountSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.headersSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.selectedHeadersSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.excludeMatchSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.pendingCustomColumnsSouce = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.availableColumnSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.lastCachedIndexSource = new Array();
        this.clearSelections$ = this.clearSelectionsSource.asObservable();
        this.cachedRecords$ = this.cachedRecordsSource.asObservable();
        this.recordCounts$ = this.recordCountSource.asObservable();
        this.headers$ = this.headersSource.asObservable();
        this.selectedHeaders$ = this.selectedHeadersSource.asObservable();
        this.unsavedEdits$ = this.unsavedEditsSource.asObservable();
        this.pendingCustomColumns$ = this.pendingCustomColumnsSouce.asObservable();
        this.availableColumns$ = this.availableColumnSource.asObservable();
        this.windowSize = 100;
        this.cacheSize = 100;
        this.currentSort = new Array();
        this.filterTerms = new Array();
        this.defaultHeaders = [
            { name: 'serialNumber', order: 1 },
            { name: 'assetTagNumber', order: 2 },
            { name: 'description', order: 3 },
            { name: 'modelNumber', order: 4 },
            { name: 'manufacturer', order: 5 },
            { name: 'buildingName', order: 6 },
            { name: 'floor', order: 7 },
            { name: 'quantity', order: 8 },
            { name: 'historicalCost', order: 9 }
        ];
        this.clearRecordCounts();
        this.clearAllPendingColumns();
    }
    update(dataSource, skip, take, totalRecordCount, sortTerms, clearCache = false) {
        const s = this;
        const lastCachedIndex = s.lastCachedIndexSource[dataSource] ? s.lastCachedIndexSource[dataSource] : 0;
        return rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (observer) {
            const currentCachedRecords = s.cachedRecordsSource.getValue();
            s.search(s.groupId, dataSource, skip, s.cacheSize, sortTerms, s.filterTerms[dataSource]).subscribe(result => {
                const assets = s.init(result, dataSource);
                s.setCacheRecords(assets, dataSource, skip, totalRecordCount);
                observer.next({ assets: assets, totalInRecordSet: result.totalInRecordSet, allAssetIds: result.allAssetIds });
                observer.complete();
            });
        });
    }
    search(groupId, dataTarget, skip, take, sortTerms, filters, excludeMatches = false) {
        const searchFilter = {
            fieldMatchTerms: [],
            fieldMatchConjunction: 'and',
            filterTerms: filters,
            filterConjunction: 'and',
            excludeMatchedRecords: excludeMatches ? excludeMatches : this.excludeMatchSource.getValue()[dataTarget],
            sortTerms: sortTerms,
            skip: skip,
            take: take,
            includeAllAssetIds: true
        };
        this.currentSort[dataTarget] = sortTerms;
        return this.inventoryRepository.search(groupId, searchFilter);
    }
    init(searchResponse, dataSource) {
        const assets = new Array();
        if (!searchResponse.assets || searchResponse.assets.length === 0) {
            return assets;
        }
        searchResponse.assets.forEach(a => {
            const asset = {
                assetId: a.assetId,
                dataSource: dataSource,
                isMatched: !!a.matchCodeId,
                isParent: a.parentId === a.assetId,
                isChild: !!a.parentId && a.parentId !== a.assetId,
                matchCodeId: a.matchCodeId,
                matchCodeName: a.matchCodeName
            };
            for (const [key, value] of Object.entries(a.assetData)) {
                asset[key] = value;
                asset.imageCollection = !!asset.assetImages ? asset.assetImages : [];
            }
            assets.push(asset);
        });
        return assets;
    }
    setCacheRecords(assets, dataTarget, skip, recordCount) {
        const current = this.cachedRecordsSource.getValue();
        current[dataTarget] = assets;
        this.cachedRecordsSource.next(current);
        // TODO Remove ternary logic, skip + this.windowSize is all that is needed.
        // If we keep this, create a private method updateCache that sets the last cached index value once.
        this.lastCachedIndexSource[dataTarget] = skip + this.windowSize;
    }
    updateHeaders(headers, dataTarget, defaultSort = false) {
        const current = this.headersSource.getValue();
        current[dataTarget] = headers;
        this.headersSource.next(current);
    }
    addHeader(name, dataSource) {
        const current = this.headersSource.getValue();
        const index = current[dataSource].findIndex(c => c.name === name);
        if (index === -1) {
            const column = {
                name: name,
                order: current[dataSource][current[dataSource].length - 1].order + 1,
                isCustom: true
            };
            current[dataSource].push(column);
        }
        this.headersSource.next(current);
    }
    updateSelectedHeaders(selectedHeaders, dataTarget) {
        const current = this.selectedHeadersSource.getValue();
        current[dataTarget] = selectedHeaders;
        this.selectedHeadersSource.next(current);
    }
    updateAvailableColumns(availableColumns, dataTarget) {
        this.availableColumnSource.next(availableColumns);
    }
    clearAvailableColumns() {
        let currentHeaders = this.availableColumnSource.getValue();
        currentHeaders = new Array();
        this.availableColumnSource.next(currentHeaders);
    }
    clearHeaders() {
        let currentHeaders = this.headersSource.getValue();
        currentHeaders = new Array();
        currentHeaders[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client] = new Array();
        currentHeaders[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory] = new Array();
        this.headersSource.next(currentHeaders);
    }
    addPendingColumn(dataTarget, column) {
        const currentCustomColumns = this.pendingCustomColumnsSouce.getValue();
        currentCustomColumns[dataTarget].push(column);
        this.pendingCustomColumnsSouce.next(currentCustomColumns);
    }
    clearPendingColumns(dataTarget) {
        const currentPendingColumns = this.pendingCustomColumnsSouce.getValue();
        currentPendingColumns[dataTarget] = new Array();
        this.pendingCustomColumnsSouce.next(currentPendingColumns);
    }
    clearAllPendingColumns() {
        let currentPendingColumns = this.pendingCustomColumnsSouce.getValue();
        currentPendingColumns = new Array();
        currentPendingColumns[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client] = new Array();
        currentPendingColumns[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory] = new Array();
        this.pendingCustomColumnsSouce.next(currentPendingColumns);
    }
    clearSelectedHeaders() {
        let currentSelectedHeaders = this.selectedHeadersSource.getValue();
        currentSelectedHeaders = new Array();
        currentSelectedHeaders[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client] = new Array();
        currentSelectedHeaders[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory] = new Array();
        this.selectedHeadersSource.next(currentSelectedHeaders);
    }
    updateCachedRecord(asset, dataTarget) {
        const current = this.cachedRecordsSource.getValue();
        if (asset && current[dataTarget]) {
            const index = current[dataTarget].findIndex(i => i.assetId === asset.assetId);
            if (index !== -1) {
                for (const [key, value] of Object.entries(current[dataTarget][index])) {
                    if (key !== 'assetId' && key !== 'id' && asset[key]) {
                        current[dataTarget][index][key] = asset[key];
                        current[dataTarget][index].imageCollection = !!current[dataTarget][index].assetImages
                            ? current[dataTarget][index].assetImages
                            : [];
                    }
                }
            }
        }
        this.cachedRecordsSource.next(current);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
    }
    createCachedRecord(asset, dataTarget) {
        const current = this.cachedRecordsSource.getValue();
        const newAsset = Object.assign({}, current[dataTarget][0]);
        if (asset && current[dataTarget]) {
            if (current[dataTarget][0]) {
                for (const [key, value] of Object.entries(newAsset)) {
                    newAsset[key] = asset[key];
                }
            }
            newAsset.isMatched = false;
            newAsset.isChild = false;
            newAsset.isParent = false;
            newAsset.dataSource = dataTarget;
            newAsset.assetId = asset.id;
            current[dataTarget].unshift(newAsset);
        }
        this.cachedRecordsSource.next(current);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
    }
    retrieveCacheRecords(groupId, dataTarget, skip, recordCount) {
        let take = this.cacheSize;
        if (recordCount <= this.cacheSize) {
            take = recordCount;
        }
        if (recordCount > this.cacheSize && skip === 0) {
            take = this.cacheSize;
        }
        if (recordCount > this.cacheSize && skip > this.cacheSize) {
            skip = skip - this.cacheSize / 2;
            take = this.cacheSize;
        }
        return this.search(groupId, dataTarget, skip, take, this.currentSort[dataTarget], this.filterTerms[dataTarget]).subscribe(response => {
            // const current = this.cachedRecordsSource.getValue();
            // current[dataTarget] = this.init(response, dataTarget);
            this.setCacheRecords(this.init(response, dataTarget), dataTarget, skip, recordCount);
            // this.cachedRecordsSource.next(current);
            // TODO Remove ternary logic, skip + take is all that is needed.
            // If we keep this, create a private method updateCache that sets the last cached index value once.
            // this.lastCachedIndexSource[dataTarget] = skip + take >= recordCount ? recordCount : skip + take;
        });
    }
    updateCacheRecords(entities, matchType) {
        const current = this.cachedRecordsSource.getValue();
        if (entities && entities.length > 0) {
            entities.forEach(entity => {
                if (current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client]) {
                    const clientIndex = current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client].findIndex(c => c.assetId === entity.id);
                    if (clientIndex !== -1) {
                        current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client][clientIndex] = this.mapAsset(current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client][clientIndex], entity, matchType);
                    }
                }
                if (current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory]) {
                    const inventoryIndex = current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory].findIndex(c => c.assetId === entity.id);
                    if (inventoryIndex !== -1) {
                        current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory][inventoryIndex] = this.mapAsset(current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory][inventoryIndex], entity, matchType);
                    }
                }
            });
            this.cachedRecordsSource.next(current);
        }
    }
    clearCachedRecords() {
        this.cachedRecordsSource.next(new Array());
    }
    updateRecordCount(dataTarget, count) {
        const current = this.recordCountSource.getValue();
        current[dataTarget] = count;
        this.recordCountSource.next(current);
    }
    clearRecordCounts() {
        const current = this.recordCountSource.getValue();
        current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client] = 0;
        current[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory] = 0;
        this.recordCountSource.next(current);
    }
    resetFilters(dataTarget, clearBothGridFilters) {
        const current = this.filterTerms;
        if (dataTarget !== null) {
            if (dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client) {
                this.filterTerms[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client] = [
                    { term: { dataTarget: _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client }, operation: 'noop' }
                ];
            }
            else if (dataTarget === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory) {
                this.filterTerms[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory] = [
                    { term: { dataTarget: _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory }, operation: 'noop' }
                ];
            }
        }
        else {
            if (clearBothGridFilters) {
                this.filterTerms[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client] = [
                    { term: { dataTarget: _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client }, operation: 'noop' }
                ];
                this.filterTerms[_enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory] = [
                    { term: { dataTarget: _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory }, operation: 'noop' }
                ];
            }
        }
    }
    clearSelectionsInProgress() {
        this.clearSelectionsSource.next(true);
    }
    clearSelectionsComplete() {
        this.clearSelectionsSource.next(false);
    }
    clearEditInProgress(dataTarget) {
        const current = this.unsavedEditsSource.getValue();
        current[dataTarget] = new Array();
        this.unsavedEditsSource.next(current);
    }
    saveEditInProgress(formGroup, asset, dataTarget) {
        const currentUnsavedEdits = this.unsavedEditsSource.getValue();
        const currentCachedData = this.cachedRecordsSource.getValue();
        const currentAsset = currentCachedData[dataTarget].find(c => c.assetId === asset.assetId);
        const currentAssetIndex = currentCachedData[dataTarget].findIndex(c => c.assetId === asset.assetId);
        if (currentAsset) {
            const updatedAsset = Object.assign(currentAsset, formGroup.value);
            updatedAsset.isEdited = true;
            if (!currentUnsavedEdits[dataTarget]) {
                currentUnsavedEdits[dataTarget] = new Array();
            }
            const unsavedEditIndex = currentUnsavedEdits[dataTarget].findIndex(c => c.assetId === updatedAsset.assetId);
            if (unsavedEditIndex === -1) {
                currentUnsavedEdits[dataTarget].push(updatedAsset);
                currentCachedData[dataTarget][currentAssetIndex] = updatedAsset;
            }
            else {
                currentUnsavedEdits[dataTarget][unsavedEditIndex] = updatedAsset;
            }
            this.unsavedEditsSource.next(currentUnsavedEdits);
            this.cachedRecordsSource.next(currentCachedData);
            // console.log(currentUnsavedEdits[dataTarget]);
        }
    }
    defaultSort(headers) {
        let orderCount = this.defaultHeaders[this.defaultHeaders.length - 1].order + 1;
        this.defaultHeaders.forEach(defaultHeader => {
            const index = headers.findIndex(c => c.name === defaultHeader.name);
            if (index !== -1) {
                headers[index] = defaultHeader;
            }
        });
        headers.forEach(header => {
            if (!header.order) {
                header.order = orderCount;
            }
            orderCount++;
        });
        return headers;
    }
    toggleShowMatchedRecords(excludeMatches, dataTarget) {
        const current = this.excludeMatchSource.getValue();
        current[dataTarget] = excludeMatches;
        this.excludeMatchSource.next(current);
    }
    mapFilterTerms(kendoFilters, dataTarget) {
        const s = this;
        s.resetFilters(dataTarget, false);
        const tempFilter = this.filterTerms[dataTarget];
        let success = false;
        if (kendoFilters) {
            const filters = kendoFilters.filters;
            [].concat.apply([], filters.map(c => c.filters)).forEach(filter => {
                filter.value.forEach(f => {
                    const assetFilterTerm = {
                        term: {
                            dataTarget: dataTarget,
                            field: f.field.toString(),
                            value: f.value
                        },
                        operation: f.operator.toString()
                    };
                    this.filterTerms[dataTarget].push(assetFilterTerm);
                    success = true;
                });
            });
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(success);
    }
    getActivityCodes() {
        return this.referenceDataApiService.getActivityCodes();
    }
    mapAsset(source, updated, matchType) {
        switch (matchType) {
            case _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_7__["ReconciliationMatchType"].parentChildMatch:
                source.isParent = updated.isParent;
                source.parentId = updated.parentId;
                source.isChild = !!updated.parentId && updated.parentId !== updated.id;
                break;
            case _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_7__["ReconciliationMatchType"].allocationMatch:
                if (source.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory) {
                    source.historicalCost = updated.historicalCost;
                }
                break;
            default:
                source.isMatched = !!updated.matchId;
                source.matchId = updated.matchId;
                source.matchCodeName = updated.matchCodeName;
                if (source.dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory) {
                    source.historicalCost = updated.historicalCost;
                }
        }
        return source;
    }
    getKeys(obj) {
        const keys = Object.keys(obj).map(key => {
            return { key: key };
        });
        return keys;
    }
};
ReconcileDataGridService.ctorParameters = () => [
    { type: _api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_5__["InventoryService"] },
    { type: _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_1__["FilterOperationsService"] },
    { type: _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"] }
];
ReconcileDataGridService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_inventory_service__WEBPACK_IMPORTED_MODULE_5__["InventoryService"],
        _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_1__["FilterOperationsService"],
        _api_configuration_services_reference_data_api_service__WEBPACK_IMPORTED_MODULE_4__["ReferenceDataApiService"]])
], ReconcileDataGridService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/reconcile-data.service.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/reconciliation/services/reconcile-data.service.ts ***!
  \**************************************************************************/
/*! exports provided: ReconcileDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcileDataService", function() { return ReconcileDataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");
/* harmony import */ var _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_enums/reconciliation-match-type */ "./client-src/app/_enums/reconciliation-match-type.ts");
/* harmony import */ var _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_enums/data-target-name */ "./client-src/app/_enums/data-target-name.ts");







let ReconcileDataService = class ReconcileDataService {
    constructor(reconcileMatchApiService) {
        this.reconcileMatchApiService = reconcileMatchApiService;
        this.matchedRecordsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.clientFileAssetsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.inventoryAssetsSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.groupSiteInfoSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.groupSiteInfo$ = this.groupSiteInfoSource.asObservable();
        this.groupDepartmentInfoSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.groupDepartmentInfo$ = this.groupDepartmentInfoSource.asObservable();
        this.groupAccountInfoSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.groupAccountInfo$ = this.groupAccountInfoSource.asObservable();
        this.matchedRecords$ = this.matchedRecordsSource.asObservable();
        this.clientFileAssets$ = this.clientFileAssetsSource.asObservable();
        this.inventoryAssets$ = this.inventoryAssetsSource.asObservable();
        this.defaultColumns = ['assetTagNumber', 'oldTagNumber', 'description'];
    }
    getMatchType(match) {
        let matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].singleMatch;
        if (match.assetData.filter(c => c.allocationId !== null).length > 2) {
            matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].allocationMatch;
        }
        if (match.assetData.filter(c => c.allocationId !== null).length === 2) {
            matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].oneToOneMatch;
        }
        return matchType;
    }
    updateMatchedRecords() {
        this.reconcileMatchApiService.getReconciliationMatchSummary(this.groupId).subscribe(matches => {
            this.matchedRecordsSource.next(matches);
        });
    }
    updateClientFile(assets) {
        assets.forEach(asset => {
            var current = this.clientFileAssetsSource.getValue();
            if (current) {
                var index = current.findIndex(d => d.assetId == asset.assetId);
                if (index >= 0) {
                    current[index] == asset;
                }
                this.clientFileAssetsSource.next(current);
            }
            this.updateMatchedRecords();
        });
    }
    updateInventory(assets) {
        assets.forEach(asset => {
            var current = this.inventoryAssetsSource.getValue();
            if (current) {
                var index = current.findIndex(d => d.assetId == asset.assetId);
                if (index >= 0) {
                    current[index] == asset;
                }
                this.inventoryAssetsSource.next(current);
            }
            this.updateMatchedRecords();
        });
    }
    updateInventoryAsset(updatedAsset) {
        var currentInventory = this.inventoryAssetsSource.getValue();
        var index = currentInventory.findIndex(d => d.assetId == updatedAsset.assetId);
        if (index != -1) {
            var currentAsset = currentInventory[index];
            for (let [key, value] of Object.entries(updatedAsset)) {
                currentAsset[key] = value;
            }
            currentInventory[index] = currentAsset;
            this.inventoryAssetsSource.next(currentInventory);
        }
    }
    updateClientAsset(updatedAsset) {
        var currentClientAssets = this.clientFileAssetsSource.getValue();
        var index = currentClientAssets.findIndex(d => d.assetId == updatedAsset.assetId);
        if (index != -1) {
            var currentAsset = currentClientAssets[index];
            for (let [key, value] of Object.entries(updatedAsset)) {
                currentAsset[key] = value;
            }
            currentClientAssets[index] = currentAsset;
            this.clientFileAssetsSource.next(currentClientAssets);
        }
    }
    addCreatedInventoryAsset(asset) {
        asset.dataSource = _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].inventory;
        var inventoryAssets = this.inventoryAssetsSource.getValue();
        asset.parentChildMatches = new Array();
        asset.isMatched = false;
        asset.isParent = false;
        asset.isChild = false;
        asset.parentId = '';
        inventoryAssets.push(asset);
        this.inventoryAssetsSource.next(inventoryAssets);
    }
    updateParentChildMatch(result) {
        if (result.entities.length === 0)
            return;
        let assetIds = new Array();
        assetIds.push(result.entities[0].parentAssetFileRecordId);
        result.entities.forEach(e => assetIds.push(e.assetFileRecordId));
    }
    getKeys(obj) {
        let keys = Object.keys(obj).map(key => {
            return { key: key };
        });
        return keys;
    }
    //	Creates an array of Assets with dynamic custom properties
    mapAsset(assetDto, dataSource) {
        let asset = { assetId: assetDto.id };
        let keys = this.getKeys(assetDto);
        asset.dataSource = dataSource;
        asset.isChild = assetDto.parentId && assetDto.isParent === false;
        for (let [key, value] of Object.entries(assetDto)) {
            asset[key] = value;
        }
        return asset;
    }
    updateGroupSiteInfo(groupSiteInfo) {
        this.groupSiteInfoSource.next(groupSiteInfo);
    }
    updateGroupDepartmentInfo(groupDepartmentsInfo) {
        this.groupDepartmentInfoSource.next(groupDepartmentsInfo);
    }
    updateGroupAccountInfo(groupAccountsInfo) {
        this.groupAccountInfoSource.next(groupAccountsInfo);
    }
    //	Maps match data to Assets
    initMatches(inventory, clientFile, dataSource) {
        let assets = dataSource === _enums_data_target_name__WEBPACK_IMPORTED_MODULE_6__["DataTargetName"].client ? clientFile : inventory;
        let matchedRecords = this.matchedRecordsSource.getValue();
        assets.forEach(a => {
            let asset = a;
            asset.parentChildMatches = new Array();
            asset.isMatched = false;
            asset.isParent = false;
            asset.isChild = false;
            asset.parentId = '';
            let currentMatch = this.findMatchForAsset(asset.assetId);
            if (currentMatch) {
                let matchesForAsset = this.findMatchesForMatchId(currentMatch.matchId);
                // if match is parent -> map child records
                if (currentMatch.parent) {
                    asset.isParent = true;
                    matchedRecords.filter(c => c.parentAssetFileRecordId === currentMatch.assetId && !c.parent).forEach(child => {
                        let clientFileDataItem = clientFile.find(c => c.assetId == child.assetId);
                        if (clientFileDataItem) {
                            asset.parentChildMatches.push(clientFileDataItem);
                        }
                    });
                }
                if (currentMatch.matchId) {
                    asset.isMatched = true;
                    if (!currentMatch.parent && currentMatch.parentAssetFileRecordId && currentMatch.parentAssetFileRecordId.length > 0) {
                        asset.isChild = true;
                        asset.parentId = currentMatch.parentAssetFileRecordId;
                        asset.matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].parentChildMatch;
                    }
                    if (matchesForAsset.length === 1) {
                        asset.matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].singleMatch;
                    }
                    if (matchesForAsset.length > 2 && matchesForAsset.some(c => c.allocationId != null)) {
                        asset.matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].allocationMatch;
                    }
                    if (matchesForAsset.length === 2 && matchesForAsset.some(c => c.allocationId != null)) {
                        asset.matchType = _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].oneToOneMatch;
                    }
                }
                asset.matchId = currentMatch.matchId;
                asset.matchCodeId = currentMatch.matchCodeId;
                asset.allocatedValue = currentMatch.allocatedValue;
                asset.allocationId = currentMatch.allocationId;
            }
        });
        return assets;
    }
    findMatchesForMatchId(matchId) {
        let current = this.matchedRecordsSource.getValue();
        return current.filter(c => c.matchId === matchId);
    }
    findMatchForAsset(assetId) {
        let current = this.matchedRecordsSource.getValue();
        return current.find(c => c.assetId === assetId);
    }
    determineMatchType(match) {
        // Check if this match is a child.
        if (match.parentAssetFileRecordId && match.parentAssetFileRecordId.length > 0 && match.parentAssetFileRecordId !== match.assetId) {
            return _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].parentChildMatch;
        }
        let matches = this.matchedRecordsSource.getValue();
        let matchCount = matches.filter(m => m.matchId == match.matchId).length;
        /// how many
        if (matchCount == 0)
            // This means we are probably a parent
            return null;
        if (matchCount == 1)
            return _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].singleMatch;
        if (matchCount == 2)
            return _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].oneToOneMatch;
        return _enums_reconciliation_match_type__WEBPACK_IMPORTED_MODULE_5__["ReconciliationMatchType"].allocationMatch;
    }
    determineIfParent(match) {
        if (match.parent === true)
            return true;
        let matchesSource = this.matchedRecordsSource.getValue();
        let children = matchesSource.filter(m => m.parentAssetFileRecordId === match.assetId && m.assetId !== match.assetId);
        return children.length > 0;
    }
    determineIfChild(match) {
        return match.parentAssetFileRecordId != null && match.assetId !== match.parentAssetFileRecordId;
    }
    applyReconciliationMatch(asset, match) {
        asset.isMatched = true;
        asset.matchId = match.matchId;
        //asset.matchType = this.determineMatchType(match);
        asset.matchCodeId = match.matchCodeId;
        asset.parentId = match.parentAssetFileRecordId;
        if (match.allocations == null || match.allocations.length == 0)
            return asset;
        let inventoryRecords = this.inventoryAssetsSource.getValue();
        match.allocations.forEach(a => {
            let inventoryAsset = inventoryRecords.find(i => i.assetId == a.assetRecordId);
            inventoryAsset.isMatched = true;
            inventoryAsset.matchId = match.matchId;
            //inventoryAsset.matchType = this.determineMatchType(match);
            inventoryAsset.matchCodeId = match.matchCodeId;
            inventoryAsset.parentId = match.parentAssetFileRecordId;
        });
    }
    isClientAsset(assetId) {
        var clientAssets = this.clientFileAssetsSource.getValue();
        return clientAssets.findIndex(asset => asset.assetId == assetId) != -1;
    }
    updateMatchRecords(matches) {
        let matchSource = this.matchedRecordsSource.getValue();
        matches.forEach(match => {
            let index = matchSource.findIndex(m => m.assetId == match.assetId);
            if (index != -1) {
                matchSource.splice(index, 1);
            }
            match.parent = match.parentAssetFileRecordId
                ? match.parentAssetFileRecordId == match.assetId
                : matchSource.findIndex(m => m.parentAssetFileRecordId == match.assetId) > 0;
            matchSource.push(match);
        });
        this.matchedRecordsSource.next(matchSource);
    }
    applyMatchSummaryToAsset(match) {
        if (this.isClientAsset(match.assetId))
            this.refreshClientMatchData(match.assetId);
        else
            this.refreshInventoryMatchData(match.assetId);
    }
    clearMatchData(assets, assetIndex) {
        assets[assetIndex].isMatched = false;
        assets[assetIndex].isParent = false;
        assets[assetIndex].isChild = false;
        delete assets[assetIndex].parentId;
        assets[assetIndex].matchType = null;
        delete assets[assetIndex].matchId;
        delete assets[assetIndex].matchCodeId;
        delete assets[assetIndex].allocatedValue;
        delete assets[assetIndex].allocationId;
    }
    applyMatchData(assets, assetIndex, matchIndex) {
        if (matchIndex == -1) {
            this.clearMatchData(assets, assetIndex);
            return;
        }
        let matches = this.matchedRecordsSource.getValue();
        let match = matches[matchIndex];
        assets[assetIndex].isMatched = match.matchId != null && match.matchId.length > 0;
        assets[assetIndex].isParent = this.determineIfParent(match);
        assets[assetIndex].isChild = this.determineIfChild(match);
        if (match.parentAssetFileRecordId != null)
            assets[assetIndex].parentId = match.parentAssetFileRecordId;
        else
            delete assets[assetIndex].parentId;
        assets[assetIndex].matchType = this.determineMatchType(match);
        if (match.matchId != null)
            assets[assetIndex].matchId = match.matchId;
        else
            delete assets[assetIndex].matchId;
        assets[assetIndex].matchCodeId = match.matchCodeId != null ? match.matchCodeId : '';
        assets[assetIndex].allocatedValue = match.allocatedValue;
        assets[assetIndex].allocationId = match.allocationId;
        assets[assetIndex].parentChildMatches = [];
        if (match.parent === true) {
            let matchRecords = this.matchedRecordsSource.getValue();
            let children = matchRecords.filter(m => m.parentAssetFileRecordId === match.assetId && m.assetId != match.assetId);
            children.forEach(child => assets[assetIndex].parentChildMatches.push(assets.find(a => a.assetId == child.assetId)));
        }
    }
    refreshInventoryMatchData(assetId) {
        let assets = this.inventoryAssetsSource.getValue();
        let matches = this.matchedRecordsSource.getValue();
        let assetIndex = assets.findIndex(asset => asset.assetId == assetId);
        if (assetIndex == -1) {
            console.error('refreshInventoryMatchData failed because of unknown assetId');
            return;
        }
        let matchIndex = matches.findIndex(match => match.assetId == assetId);
        this.applyMatchData(assets, assetIndex, matchIndex);
        this.inventoryAssetsSource.next(assets);
    }
    refreshClientMatchData(assetId) {
        let assets = this.clientFileAssetsSource.getValue();
        let matches = this.matchedRecordsSource.getValue();
        let assetIndex = assets.findIndex(asset => asset.assetId == assetId);
        if (assetIndex == -1) {
            console.error('refreshInventoryMatchData failed because of unknown assetId');
            return;
        }
        let matchIndex = matches.findIndex(match => match.assetId == assetId);
        this.applyMatchData(assets, assetIndex, matchIndex);
        this.clientFileAssetsSource.next(assets);
    }
    saveReconciliationMatchDto(matches) {
        let ids = [];
        matches.forEach(match => {
            ids.push(match.assetFileRecordId);
            if (match.allocations != null)
                match.allocations.forEach(a => ids.push(a.assetRecordId));
        });
    }
    validateReconciliation(includeDetail) {
        return this.reconcileMatchApiService.validateGroupReconciliation(this.groupId, includeDetail).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(result => result.result));
    }
};
ReconcileDataService.ctorParameters = () => [
    { type: _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationMatchService"] }
];
ReconcileDataService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationMatchService"]])
], ReconcileDataService);



/***/ }),

/***/ "./client-src/app/reconciliation/services/reconcile-match.service.ts":
/*!***************************************************************************!*\
  !*** ./client-src/app/reconciliation/services/reconcile-match.service.ts ***!
  \***************************************************************************/
/*! exports provided: ReconcileMatchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReconcileMatchService", function() { return ReconcileMatchService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reconcile-data.service */ "./client-src/app/reconciliation/services/reconcile-data.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_api/services/reconciliation/reconcilation-match.service */ "./client-src/app/_api/services/reconciliation/reconcilation-match.service.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _api_dtos_set_allocation_match_dto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/dtos/set-allocation-match.dto */ "./client-src/app/_api/dtos/set-allocation-match.dto.ts");
/* harmony import */ var _api_dtos_reconcilation_mass_match_dto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_api/dtos/reconcilation-mass-match.dto */ "./client-src/app/_api/dtos/reconcilation-mass-match.dto.ts");








let ReconcileMatchService = class ReconcileMatchService {
    constructor(reconcileDataService, reconcileMatchService, configService) {
        this.reconcileDataService = reconcileDataService;
        this.reconcileMatchService = reconcileMatchService;
        this.configService = configService;
        this.selectedMatchSource = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new Array());
        this.selectedMatch$ = this.selectedMatchSource.asObservable();
    }
    updateCurrentMatch(event) {
        if (event.itemsAdded.length > 0) {
            const current = this.selectedMatchSource.getValue();
            event.itemsAdded.forEach(selection => {
                if (current.findIndex(d => d.assetId === selection.assetId) < 0) {
                    current.push(selection);
                }
            });
            this.selectedMatchSource.next(current);
        }
        if (event.itemsRemoved.length > 0) {
            const current = this.selectedMatchSource.getValue();
            event.itemsRemoved.forEach(selection => {
                const index = current.findIndex(d => d.assetId === selection.assetId);
                if (index >= 0) {
                    current.splice(index, 1);
                }
            });
            this.selectedMatchSource.next(current);
        }
    }
    setCurrentMatch(assets) {
        this.selectedMatchSource.next(assets);
    }
    clearCurrentMatch() {
        this.selectedMatchSource.next(new Array());
    }
    /* end refactor */
    saveSingleMatch(dto) {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])('id');
    }
    setSingleMatch(recordId, matchId) {
        return this.reconcileMatchService.setSingleMatch(recordId, matchId);
    }
    createOneToOneMatch(clientRecordId, inventoryRecordId, matchId) {
        const allocation = [
            {
                assetRecordId: inventoryRecordId,
                allocatedValue: null
            }
        ];
        const dto = new _api_dtos_set_allocation_match_dto__WEBPACK_IMPORTED_MODULE_6__["SetAllocationMatchCodeDto"](clientRecordId, matchId, allocation);
        return this.reconcileMatchService.createOneToOneMatch(dto);
    }
    createMassSingleMatch(selectedAssets, matchCodeId) {
        const dtoAssets = new Array();
        selectedAssets.forEach(assetId => {
            dtoAssets.push(new _api_dtos_reconcilation_mass_match_dto__WEBPACK_IMPORTED_MODULE_7__["ReconcilationMassMatchDto"](assetId, '00000000-0000-0000-0000-000000000000', false, matchCodeId));
        });
        return this.reconcileMatchService.setMassMatch(dtoAssets);
    }
    createMassOneToOneMatch(clientAssetIds, inventoryAssetIds, matchCodeId) {
        const dtoAssets = new Array();
        for (let i = 0; i < clientAssetIds.length; i++) {
            dtoAssets.push(new _api_dtos_reconcilation_mass_match_dto__WEBPACK_IMPORTED_MODULE_7__["ReconcilationMassMatchDto"](clientAssetIds[i], inventoryAssetIds[i], true, matchCodeId));
        }
        return this.reconcileMatchService.setMassMatch(dtoAssets);
    }
    setAllocationMatch(clientRecordId, allocatedRecords, matchId) {
        const allocations = [];
        for (let i = 0; i < allocatedRecords.length; i++) {
            allocations.push({
                assetRecordId: allocatedRecords[i].assetRecordId,
                allocatedValue: allocatedRecords[i].allocatedValue
            });
        }
        const dto = new _api_dtos_set_allocation_match_dto__WEBPACK_IMPORTED_MODULE_6__["SetAllocationMatchCodeDto"](clientRecordId, matchId, allocations);
        return this.reconcileMatchService.setAllocationMatch(dto);
    }
    updateAllocationMatch(clientRecordId, allocatedRecords, matchCodeId, parentAssetId, matchId) {
        const allocations = [];
        for (let i = 0; i < allocatedRecords.length; i++) {
            allocations.push({
                assetRecordId: allocatedRecords[i].assetRecordId,
                allocatedValue: allocatedRecords[i].allocatedValue
            });
        }
        const dto = {
            allocations: allocations,
            assetFileRecordId: clientRecordId,
            matchCodeId: matchCodeId,
            matchId: matchId,
            parentAssetFileRecordId: parentAssetId
        };
        return this.reconcileMatchService.updateAllocationMatch(dto);
    }
    unmatchAssetRecords(inventoryRecordIds) {
        return this.reconcileMatchService.unmatchAssetRecords(inventoryRecordIds);
    }
    getInventoryMatchRecords(assetFileId) {
        return this.reconcileMatchService.getClientMatchRecords(assetFileId);
    }
    getReconciliationMatches(groupId) {
        return this.reconcileMatchService.getReconciliationMatches(groupId);
    }
    getReconciliationMatchSummary(groupId) {
        return this.reconcileMatchService.getReconciliationMatchSummary(groupId);
    }
    setParentChildMatch(parentAssetId, childAssetIds) {
        return this.reconcileMatchService.setParentChildMatch(parentAssetId, childAssetIds);
    }
    updateMatchCode(matchId, matchCodeId) {
        return this.reconcileMatchService.updateMatchCode(matchId, matchCodeId);
    }
    getMatchRecordsForAsset(assetFileRecordId) {
        return this.reconcileMatchService.getMatchRecordsForAsset(assetFileRecordId);
    }
    getMatchSummaryForAssetIds(groupId, assetIds) {
        return this.reconcileMatchService.getMatchSummaryForAssetIds(groupId, assetIds);
    }
    mapReconcileMatches(dataItems, source) {
        const mapped = new Array();
        dataItems.forEach(item => {
            mapped.push({ assetId: item.assetId, asset: item, dataSource: source });
        });
        return mapped;
    }
    editOneToOneMatch(clientRecordId, inventoryRecordId, matchId) {
        const allocation = [
            {
                assetRecordId: inventoryRecordId,
                allocatedValue: null
            }
        ];
        const dto = new _api_dtos_set_allocation_match_dto__WEBPACK_IMPORTED_MODULE_6__["SetAllocationMatchCodeDto"](clientRecordId, matchId, allocation);
        return this.reconcileMatchService.createOneToOneMatch(dto);
    }
};
ReconcileMatchService.ctorParameters = () => [
    { type: _reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"] },
    { type: _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationMatchService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"] }
];
ReconcileMatchService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_reconcile_data_service__WEBPACK_IMPORTED_MODULE_1__["ReconcileDataService"],
        _api_services_reconciliation_reconcilation_match_service__WEBPACK_IMPORTED_MODULE_4__["ReconciliationMatchService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"]])
], ReconcileMatchService);



/***/ }),

/***/ "./client-src/app/reports/components/default-reports-headers.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/reports/components/default-reports-headers.ts ***!
  \**********************************************************************/
/*! exports provided: reportsHeaders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reportsHeaders", function() { return reportsHeaders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _enums_field_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_enums/field-type */ "./client-src/app/_enums/field-type.ts");


const reportsHeaders = [
    {
        name: 'reportName',
        displayName: 'Report Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'requestedDateTime',
        displayName: 'Requested Date',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].DateTime,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'status',
        displayName: 'Status',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    },
    {
        name: 'fileName',
        displayName: 'File Name',
        fieldType: _enums_field_type__WEBPACK_IMPORTED_MODULE_1__["FieldType"].String,
        isCustom: false,
        isFacetable: false,
        isKey: false,
        isSearchable: true,
        isFilterable: true,
        isSortable: true,
        isEditable: false
    }
];


/***/ }),

/***/ "./client-src/app/reports/components/report-name-modal.component.ts":
/*!**************************************************************************!*\
  !*** ./client-src/app/reports/components/report-name-modal.component.ts ***!
  \**************************************************************************/
/*! exports provided: ReportNameModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportNameModalComponent", function() { return ReportNameModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _services_reports_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/reports.service */ "./client-src/app/reports/services/reports.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");
/* harmony import */ var _progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @progress/kendo-data-query/dist/es/main */ "./node_modules/@progress/kendo-data-query/dist/es/main.js");









let ReportNameModalComponent = class ReportNameModalComponent {
    constructor(configService, reportsService) {
        this.configService = configService;
        this.reportsService = reportsService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.selectedMetadata = new Array();
        this.availableReports = new Array();
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.isFilterEnabled = false;
        this.formResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_4__["EventEmitter"]();
        this.requestedReport = {};
        this.isNameEmpty = true;
        this.validName = true;
        this.loadingOptions = false;
        this.canAddFilter = true;
        this.isValid = false;
        this.reportFilters = new Array();
        this.selectableSettings = {
            checkboxOnly: true,
            mode: 'multiple'
        };
        this.state = {
            sort: [{
                    dir: 'asc',
                    field: 'tagName'
                }]
        };
        this.sortSelectedAsc = false;
        this.sortSelectedDesc = false;
    }
    ngOnInit() {
        this.translatedBaseKey = this.i18n.reports;
        this.maxParameters = this.configService.getSettings('reportParameterLimit');
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_8__["process"])(this.metadataList, this.state);
        this.reportsService.getReportOptionsByMetadata(false, this.selectedMetadata).subscribe(data => {
            this.availableReports = data;
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    dataStateChange(state) {
        this.state = state;
        this.gridData = Object(_progress_kendo_data_query_dist_es_main__WEBPACK_IMPORTED_MODULE_8__["process"])(this.metadataList, this.state);
    }
    updateExtension(reportId) {
        const selectedReport = this.availableReports.find(x => x.id === reportId);
        this.fileExtension = selectedReport.fileExtension;
        this.resetFilterOptions(selectedReport);
    }
    resetFilterOptions(report) {
        this.isFilterEnabled = (!report.isFixedAsset && !report.isInsurance) ? false : true;
        if (!this.isFilterEnabled) {
            return;
        }
        this.loadingOptions = true;
        this.reportsService.getReportFilterMetadata(report.id)
            .subscribe((reportOptions) => {
            this.filterMetaData = reportOptions.filterColumnOptions
                .sort((a, b) => (a.columnName > b.columnName) ? 1 : -1);
            this.filterOperations = reportOptions.filterColumnOperations
                .sort((a, b) => (a.operationName > b.operationName) ? 1 : -1);
            this.reportFilters = new Array();
            this.loadingOptions = false;
            this.canAddFilter = reportOptions.filterColumnOptions.length > 0;
        });
    }
    formatFilterTermName(name, prefix) {
        const prefixLength = prefix.length;
        const formattedName = name.charAt(prefixLength).toLocaleLowerCase() + name.substring(prefixLength + 1);
        return formattedName;
    }
    dismiss() {
        this.formResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_7__["FormAction"].Cancel });
    }
    validateName(fileName) {
        const validNamePattern = new RegExp('[\\/:"*?<>|\\\\]+');
        this.validName = !validNamePattern.test(fileName);
    }
    runReport() {
        const reportRequest = {};
        reportRequest.fileName = this.requestedReport.fileName;
        reportRequest.outputType = this.fileExtension;
        reportRequest.reportFilters = this.reportFilters;
        this.reportsService.requestDeliverable(this.ssrsReportId, reportRequest)
            .subscribe(res => {
            this.reportsService.clearTermsForFilterCriteria();
            this.formResponse.emit({ action: _enums_form_action__WEBPACK_IMPORTED_MODULE_7__["FormAction"].Save });
        });
    }
    remove() {
        this.reportFilters.pop();
        this.canSubmit();
    }
    addFilter() {
        const filterValue = {};
        filterValue.filterColumnId = '';
        filterValue.filterOperationId = '';
        this.reportFilters.push(filterValue);
        this.canAddFilter = this.reportFilters.length < this.maxParameters;
        this.canSubmit();
    }
    canSubmit() {
        if (this.reportFilters.length > 0) {
            for (const filter of this.reportFilters) {
                if (!filter.filterColumnId || !filter.filterOperationId || !filter.filterValue) {
                    this.isValid = false;
                    return;
                }
            }
        }
        if (this.ssrsReportId && this.requestedReport.fileName) {
            this.isValid = true;
            return;
        }
        this.isValid = false;
        return;
    }
    onCheckboxChange(metadata, event) {
        if (event.target.checked) {
            this.selectedMetadata.push(metadata);
        }
        else {
            this.selectedMetadata.forEach((item, index) => {
                if (item === metadata)
                    this.selectedMetadata.splice(index, 1);
            });
        }
        this.reportsService.getReportOptionsByMetadata(false, this.selectedMetadata).subscribe(data => {
            this.availableReports = data;
        });
    }
    onSelectionChanged(args) {
        setTimeout(() => {
            if (args.deselectedRows != null && args.deselectedRows.length > 0) {
                this.onDeselectedRows(args.deselectedRows);
                this.reportsService.getReportOptionsByMetadata(false, this.selectedMetadata).subscribe(data => {
                    this.availableReports = data;
                });
            }
            if (args.selectedRows != null && args.selectedRows.length > 0) {
                this.UpdateSelectedRows(args.selectedRows);
                this.reportsService.getReportOptionsByMetadata(false, this.selectedMetadata).subscribe(data => {
                    this.availableReports = data;
                });
            }
        });
    }
    onDeselectedRows(deselectedRows) {
        if (deselectedRows == null || deselectedRows.length === 0) {
            return;
        }
        deselectedRows.forEach(value => {
            const metadata = this.metadataList.find(c => c.id === value.dataItem.id);
            this.selectedMetadata.forEach((item, index) => {
                if (item === metadata)
                    this.selectedMetadata.splice(index, 1);
            });
        });
    }
    UpdateSelectedRows(selectedRows) {
        selectedRows.forEach(value => {
            const metadataa = this.metadataList.find(c => c.id === value.dataItem.id);
            this.selectedMetadata.push(metadataa);
        });
    }
};
ReportNameModalComponent.ctorParameters = () => [
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_6__["ConfigService"] },
    { type: _services_reports_service__WEBPACK_IMPORTED_MODULE_3__["ReportsService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])('reportNameForm', { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"])
], ReportNameModalComponent.prototype, "form", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ReportNameModalComponent.prototype, "ssrsReportId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
], ReportNameModalComponent.prototype, "metadataList", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
], ReportNameModalComponent.prototype, "translatedBaseKey", void 0);
ReportNameModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'report-name-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./report-name-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/report-name-modal.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngx_config_core__WEBPACK_IMPORTED_MODULE_6__["ConfigService"],
        _services_reports_service__WEBPACK_IMPORTED_MODULE_3__["ReportsService"]])
], ReportNameModalComponent);



/***/ }),

/***/ "./client-src/app/reports/components/reports-deliverables.component.ts":
/*!*****************************************************************************!*\
  !*** ./client-src/app/reports/components/reports-deliverables.component.ts ***!
  \*****************************************************************************/
/*! exports provided: ReportsDeliverablesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsDeliverablesComponent", function() { return ReportsDeliverablesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reports_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/reports.service */ "./client-src/app/reports/services/reports.service.ts");
/* harmony import */ var _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/alert.service */ "./client-src/app/_core/services/alert.service.ts");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _default_reports_headers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./default-reports-headers */ "./client-src/app/reports/components/default-reports-headers.ts");
/* harmony import */ var _agm_core_utils_browser_globals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @agm/core/utils/browser-globals */ "./node_modules/@agm/core/utils/browser-globals.js");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _report_name_modal_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./report-name-modal.component */ "./client-src/app/reports/components/report-name-modal.component.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var _shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../_shared/components/confirm-modal.component */ "./client-src/app/_shared/components/confirm-modal.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _enums_form_action__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../_enums/form-action */ "./client-src/app/_enums/form-action.ts");




















let ReportsDeliverablesComponent = class ReportsDeliverablesComponent {
    constructor(route, reportsService, alertService, famisGridService, windowRef, helperService, configService, windowManager, modalService) {
        this.route = route;
        this.reportsService = reportsService;
        this.alertService = alertService;
        this.famisGridService = famisGridService;
        this.windowRef = windowRef;
        this.helperService = helperService;
        this.configService = configService;
        this.windowManager = windowManager;
        this.modalService = modalService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_7__["TranslationBaseKeys"];
        this.defaultColumns = [
            'fileName',
            'reportName',
            'requestedDateTime',
            'status',
        ];
        this.isReadOnly = true;
        this.windowSize = 500;
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_12__["Subject"]();
        this.isProcessing = false;
        this.availableReports = new Array();
        this.metadataList = new Array();
        this.reportDeliverables = new Array();
        this.ssrsURL = this.configService.getSettings('ssrsURL');
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.deliverablesGrid = {
            height: 600,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: 'deliverablesGrid',
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_15__["FamisGridFeature"].Sort],
            actions: ['Download', 'Delete'],
            translationBaseKey: this.i18n.reports,
            hideTitle: true,
            scrollingMode: 'normal'
        };
        this.reportsService.getReportMetadataByGroupId(this.groupId).subscribe((metadata) => {
            this.metadataList = metadata;
        });
        this.reportsService.getReportOptions(false).subscribe(data => {
            this.reportOptionsResult = data;
            this.availableReports = data.result;
        });
        this.refreshGridData();
        Object(rxjs__WEBPACK_IMPORTED_MODULE_12__["timer"])(0, 60000).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__["takeUntil"])(this.destroyed$))
            .subscribe(() => {
            this.refreshGridData();
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    openNameModal() {
        if (this.reportOptionsResult && this.reportOptionsResult.code === 4) {
            this.windowManager.open(this.reportOptionsResult.exception.Message, 'No Service Found Error', {
                isModal: true,
            });
            return;
        }
        this.isProcessing = true;
        const modal = this.windowManager.open(_report_name_modal_component__WEBPACK_IMPORTED_MODULE_9__["ReportNameModalComponent"], 'Run Report', {
            isModal: true,
            width: 900
        });
        modal.content.instance.ssrsReportId = this.ssrsReportId;
        //modal.content.instance.availableReports = this.availableReports;
        modal.content.instance.metadataList = this.metadataList;
        modal.content.instance.formResponse.subscribe(result => {
            if (result.action === _enums_form_action__WEBPACK_IMPORTED_MODULE_19__["FormAction"].Save) {
                this.alertService.success('Report run submitted.');
                this.refreshGridData();
            }
            modal.close();
        });
        this.isProcessing = false;
    }
    handleActionEvent(event) {
        const item = event.item;
        if (event.action === 'Download') {
            if (item.isPending) {
                this.alertService.warn('Report is not ready for download.');
                return;
            }
            this.windowRef.getNativeWindow().open(item.downloadLink, '_blank');
        }
        if (event.action === 'Delete') {
            this.deleteReport(item);
        }
    }
    deleteReport(report) {
        const modal = this.modalService.open(_shared_components_confirm_modal_component__WEBPACK_IMPORTED_MODULE_11__["ConfirmModalComponent"]);
        const modalOptions = {
            heading: {
                key: 'Delete Report'
            },
            body: {
                key: 'Are you sure you wish to delete {{report}}?',
                params: { report: report.fileName }
            },
            dismissText: {
                key: 'Cancel'
            },
            successText: {
                key: 'Delete'
            },
            translateBaseKey: this.i18n.reports
        };
        modal.componentInstance.options = modalOptions;
        modal.result.then(confirm => {
            this.reportsService.deleteReport(this.groupId, report.id).subscribe(result => {
                this.alertService.success('{{filename}} has been deleted', null, {
                    filename: report.fileName
                });
                this.refreshGridData();
            });
        }, cancel => { });
    }
    refreshGridData() {
        const sortField = 'requestedDateTime';
        const sortDir = 'desc';
        this.deliverablesGrid.loading = this.reportsService.getReportDeliverables()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__["takeUntil"])(this.destroyed$))
            .subscribe(data => {
            data.forEach(deliverable => {
                deliverable.status = deliverable.isPending ? 'Pending' : 'Ready';
                deliverable.reportName = decodeURIComponent(deliverable.reportName).substr(decodeURIComponent(deliverable.reportName).lastIndexOf("/") + 1);
                deliverable.fileName = decodeURIComponent(deliverable.fileName);
            });
            this.deliverablesGrid.columnHeaders = _default_reports_headers__WEBPACK_IMPORTED_MODULE_5__["reportsHeaders"];
            this.deliverablesGrid.selectedHeaders = this.defaultColumns;
            this.famisGridService.setCacheRecords(this.helperService.sortCollection(data, sortField, sortDir), this.deliverablesGrid.gridId, this.famisGridService.defaultSkip, data.length, this.famisGridService.defaultTake);
        });
    }
};
ReportsDeliverablesComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_16__["ActivatedRoute"] },
    { type: _services_reports_service__WEBPACK_IMPORTED_MODULE_1__["ReportsService"] },
    { type: _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] },
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"] },
    { type: _agm_core_utils_browser_globals__WEBPACK_IMPORTED_MODULE_6__["WindowRef"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_8__["HelperService"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_17__["ConfigService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_10__["WindowManager"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__["NgbModal"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_3__["FamisGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_3__["FamisGridComponent"])
], ReportsDeliverablesComponent.prototype, "famisGrid", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_14__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReportsDeliverablesComponent.prototype, "isReadOnly", void 0);
ReportsDeliverablesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_14__["Component"])({
        selector: 'reports-deliverables',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reports-deliverables.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports-deliverables.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_16__["ActivatedRoute"],
        _services_reports_service__WEBPACK_IMPORTED_MODULE_1__["ReportsService"],
        _core_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"],
        _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_4__["FamisGridService"],
        _agm_core_utils_browser_globals__WEBPACK_IMPORTED_MODULE_6__["WindowRef"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_8__["HelperService"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_17__["ConfigService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_10__["WindowManager"],
        _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__["NgbModal"]])
], ReportsDeliverablesComponent);



/***/ }),

/***/ "./client-src/app/reports/components/reports-power-bi.component.ts":
/*!*************************************************************************!*\
  !*** ./client-src/app/reports/components/reports-power-bi.component.ts ***!
  \*************************************************************************/
/*! exports provided: ReportsPowerBiComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsPowerBiComponent", function() { return ReportsPowerBiComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reports_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/reports.service */ "./client-src/app/reports/services/reports.service.ts");
/* harmony import */ var _shared_components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_shared/components/power-bi/power-bi.component */ "./client-src/app/_shared/components/power-bi/power-bi.component.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");





let ReportsPowerBiComponent = class ReportsPowerBiComponent {
    constructor(reportsService) {
        this.reportsService = reportsService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_3__["TranslationBaseKeys"];
        this.isReadOnly = true;
        this.isProcessing = false;
        this.availableReports = new Array();
    }
    ngOnInit() {
        this.reportsService.getReportOptions(true).subscribe(data => {
            this.availableReports = data.result;
        });
    }
    runReport() {
        this.isProcessing = true;
        this.report = this.availableReports.find(r => r.id === this.reportId);
        this.biEmbeded.report = this.report;
        this.biEmbeded.displaySelectedReport();
        this.isProcessing = false;
    }
};
ReportsPowerBiComponent.ctorParameters = () => [
    { type: _services_reports_service__WEBPACK_IMPORTED_MODULE_1__["ReportsService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ViewChild"])(_shared_components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_2__["PowerBIComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_power_bi_power_bi_component__WEBPACK_IMPORTED_MODULE_2__["PowerBIComponent"])
], ReportsPowerBiComponent.prototype, "biEmbeded", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ReportsPowerBiComponent.prototype, "isReadOnly", void 0);
ReportsPowerBiComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["Component"])({
        selector: 'reports-power-bi',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reports-power-bi.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports-power-bi.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_reports_service__WEBPACK_IMPORTED_MODULE_1__["ReportsService"]])
], ReportsPowerBiComponent);



/***/ }),

/***/ "./client-src/app/reports/components/reports.component.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/reports/components/reports.component.ts ***!
  \****************************************************************/
/*! exports provided: ReportsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsComponent", function() { return ReportsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_reports_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/reports.service */ "./client-src/app/reports/services/reports.service.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _reports_power_bi_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reports-power-bi.component */ "./client-src/app/reports/components/reports-power-bi.component.ts");
/* harmony import */ var _reports_deliverables_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reports-deliverables.component */ "./client-src/app/reports/components/reports-deliverables.component.ts");
/* harmony import */ var _core_user_permissions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/user/permissions */ "./client-src/app/_core/user/permissions.ts");
/* harmony import */ var _report_modes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../report-modes */ "./client-src/app/reports/report-modes.ts");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");










let ReportsComponent = class ReportsComponent {
    constructor(route, reportsService, userStore) {
        this.route = route;
        this.reportsService = reportsService;
        this.userStore = userStore;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_2__["TranslationBaseKeys"];
        this.permissions = _core_user_permissions__WEBPACK_IMPORTED_MODULE_5__["SystemPermissionsEnum"];
        this.reportModes = _report_modes__WEBPACK_IMPORTED_MODULE_6__["ReportModes"];
        this.mode = _report_modes__WEBPACK_IMPORTED_MODULE_6__["ReportModes"].Interactive;
    }
    ngOnInit() {
        this.reportsService.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        const selectedMode = this.route.snapshot.queryParams['mode'];
        switch (selectedMode) {
            case '0':
                this.mode = _report_modes__WEBPACK_IMPORTED_MODULE_6__["ReportModes"].Static;
                break;
            case '1':
                this.mode = _report_modes__WEBPACK_IMPORTED_MODULE_6__["ReportModes"].Interactive;
                break;
        }
        this.userStore.user.subscribe(currentUser => {
            this.user = currentUser;
        });
    }
    ngOnDestroy() { }
    toggleReportMode(mode) {
        this.mode = mode;
    }
    userCanWriteData() {
        let canWriteData = false;
        if (this.user) {
            const grantedPermissionIndex = this.user.permissions.permissionsGranted.findIndex(c => c === this.permissions.canWriteData);
            canWriteData = grantedPermissionIndex > -1;
        }
        return canWriteData;
    }
};
ReportsComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"] },
    { type: _services_reports_service__WEBPACK_IMPORTED_MODULE_1__["ReportsService"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_7__["UserStore"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])(_reports_power_bi_component__WEBPACK_IMPORTED_MODULE_3__["ReportsPowerBiComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reports_power_bi_component__WEBPACK_IMPORTED_MODULE_3__["ReportsPowerBiComponent"])
], ReportsComponent.prototype, "reportsPowerBiComponent", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ViewChild"])(_reports_deliverables_component__WEBPACK_IMPORTED_MODULE_4__["ReportsDeliverablesComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _reports_deliverables_component__WEBPACK_IMPORTED_MODULE_4__["ReportsDeliverablesComponent"])
], ReportsComponent.prototype, "reportsDeliverablesComponent", void 0);
ReportsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_8__["Component"])({
        selector: 'reports',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./reports.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
        _services_reports_service__WEBPACK_IMPORTED_MODULE_1__["ReportsService"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_7__["UserStore"]])
], ReportsComponent);



/***/ }),

/***/ "./client-src/app/reports/report-modes.ts":
/*!************************************************!*\
  !*** ./client-src/app/reports/report-modes.ts ***!
  \************************************************/
/*! exports provided: ReportModes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportModes", function() { return ReportModes; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ReportModes;
(function (ReportModes) {
    ReportModes[ReportModes["Static"] = 0] = "Static";
    ReportModes[ReportModes["Interactive"] = 1] = "Interactive";
})(ReportModes || (ReportModes = {}));


/***/ }),

/***/ "./client-src/app/reports/reports.module.ts":
/*!**************************************************!*\
  !*** ./client-src/app/reports/reports.module.ts ***!
  \**************************************************/
/*! exports provided: ReportsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsModule", function() { return ReportsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _services_reports_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/reports.service */ "./client-src/app/reports/services/reports.service.ts");
/* harmony import */ var _components_reports_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/reports.component */ "./client-src/app/reports/components/reports.component.ts");
/* harmony import */ var _components_reports_deliverables_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/reports-deliverables.component */ "./client-src/app/reports/components/reports-deliverables.component.ts");
/* harmony import */ var _api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../_api/_runtime/services/reports-api.service */ "./client-src/app/_api/_runtime/services/reports-api.service.ts");
/* harmony import */ var _components_reports_power_bi_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/reports-power-bi.component */ "./client-src/app/reports/components/reports-power-bi.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _components_report_name_modal_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/report-name-modal.component */ "./client-src/app/reports/components/report-name-modal.component.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");



















let ReportsModule = class ReportsModule {
};
ReportsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_9__["NgModule"])({
        imports: [
            _core_core_module__WEBPACK_IMPORTED_MODULE_7__["CoreModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_10__["NgbModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_12__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ReactiveFormsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_13__["HttpClientModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_14__["LaddaModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_15__["OrderModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_16__["GridModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_17__["RouterModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_18__["BrowserAnimationsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ],
        declarations: [
            _components_reports_component__WEBPACK_IMPORTED_MODULE_3__["ReportsComponent"],
            _components_reports_deliverables_component__WEBPACK_IMPORTED_MODULE_4__["ReportsDeliverablesComponent"],
            _components_reports_power_bi_component__WEBPACK_IMPORTED_MODULE_6__["ReportsPowerBiComponent"],
            _components_report_name_modal_component__WEBPACK_IMPORTED_MODULE_8__["ReportNameModalComponent"]
        ],
        entryComponents: [
            _components_report_name_modal_component__WEBPACK_IMPORTED_MODULE_8__["ReportNameModalComponent"]
        ],
        providers: [
            _services_reports_service__WEBPACK_IMPORTED_MODULE_2__["ReportsService"],
            _api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_5__["ReportsApiService"]
        ]
    })
], ReportsModule);



/***/ }),

/***/ "./client-src/app/reports/services/reports.service.ts":
/*!************************************************************!*\
  !*** ./client-src/app/reports/services/reports.service.ts ***!
  \************************************************************/
/*! exports provided: ReportsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsService", function() { return ReportsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_api/_runtime/services/reports-api.service */ "./client-src/app/_api/_runtime/services/reports-api.service.ts");
/* harmony import */ var _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/filter-operations.service */ "./client-src/app/_core/services/filter-operations.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");





let ReportsService = class ReportsService {
    constructor(reportsApiService, filterOperationsService) {
        this.reportsApiService = reportsApiService;
        this.filterOperationsService = filterOperationsService;
        this.defaultSortTerms = [{ termOrder: 0, sortDirection: 0, field: 'id' }];
        this.defaultFilterTerms = [{ operation: 'noop', term: { dataTarget: 0, field: '', value: '' } }];
        this.reportContextSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]({});
        this.reportContext$ = this.reportContextSource.asObservable();
        this.reportCriteriaSearchSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]({
            fieldMatchTerms: [],
            fieldMatchConjunction: 'and',
            filterTerms: this.defaultFilterTerms,
            filterConjunction: 'and',
            excludeMatchedRecords: false,
            sortTerms: this.defaultSortTerms,
            skip: 0,
            take: 0
        });
        this.reportCriteriaSearch$ = this.reportCriteriaSearchSource.asObservable();
        this.reportRequestSource = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]({
            field: '',
            textReplaceValue: null,
            filterTerms: this.defaultFilterTerms,
            filterConjunction: 'and',
            sortTerms: this.defaultSortTerms
        });
        this.reportRequest$ = this.reportRequestSource.asObservable();
    }
    getReportOptions(isPowerBi) {
        return this.reportsApiService.getAvailableReportsByGroupId(this.groupId, isPowerBi);
    }
    getReportDeliverables() {
        return this.reportsApiService.getRequestedDeliverablesByGroupId(this.groupId);
    }
    getReportOptionsByMetadata(isPowerBi, selectedMetadata) {
        return this.reportsApiService.getAvailableReportsByGroupIdAndMetadata(this.groupId, isPowerBi, selectedMetadata);
    }
    getReportMetadata(groupId) {
        return this.reportsApiService.getReportMetadata(groupId);
    }
    getReportMetadataByGroupId(groupId) {
        return this.reportsApiService.getReportMetadataByGroupId(groupId);
    }
    getGropuMetadataByGroupId(groupId) {
        return this.reportsApiService.getGropuMetadataByGroupId(groupId);
    }
    createGroupMetadata(groupId, metadata) {
        return this.reportsApiService.createGroupMetadata(groupId, metadata);
    }
    deleteGroupMetadata(groupId, metadata) {
        return this.reportsApiService.deleteGroupMetadata(groupId, metadata);
    }
    getReportFilterMetadata(reportId) {
        return this.reportsApiService.getReportFilterMetadata(this.groupId, reportId);
    }
    requestDeliverable(reportId, reportDetail) {
        return this.reportsApiService.requestDeliverable(this.groupId, reportId, reportDetail);
    }
    deleteReport(groupId, reportId) {
        return this.reportsApiService.deleteReport(groupId, reportId);
    }
    addOrUpdateFilter(filterModified) {
        const current = this.reportCriteriaSearchSource.getValue();
        current.filterTerms = this.filterOperationsService.updateFilter(filterModified, current.filterTerms);
        this.reportCriteriaSearchSource.next(current);
    }
    removeFilter(id) {
        const current = this.reportCriteriaSearchSource.getValue();
        current.filterTerms = this.filterOperationsService.removeFilter(id, current.filterTerms);
        this.reportCriteriaSearchSource.next(current);
    }
    clearTermsForFilterCriteria() {
        const current = this.reportCriteriaSearchSource.getValue();
        current.filterTerms = [];
        this.reportCriteriaSearchSource.next(current);
    }
};
ReportsService.ctorParameters = () => [
    { type: _api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_1__["ReportsApiService"] },
    { type: _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"] }
];
ReportsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_reports_api_service__WEBPACK_IMPORTED_MODULE_1__["ReportsApiService"],
        _core_services_filter_operations_service__WEBPACK_IMPORTED_MODULE_2__["FilterOperationsService"]])
], ReportsService);



/***/ }),

/***/ "./client-src/app/support/components/support.component.ts":
/*!****************************************************************!*\
  !*** ./client-src/app/support/components/support.component.ts ***!
  \****************************************************************/
/*! exports provided: SupportComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SupportComponent", function() { return SupportComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _core_user_user_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../_core/user/user.store */ "./client-src/app/_core/user/user.store.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-config/core */ "./node_modules/@ngx-config/core/fesm2015/ngx-config-core.js");
/* harmony import */ var _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_api/_runtime/services/group-api.service */ "./client-src/app/_api/_runtime/services/group-api.service.ts");







let SupportComponent = class SupportComponent {
    constructor(route, userStore, configService, groupApiService) {
        this.route = route;
        this.userStore = userStore;
        this.configService = configService;
        this.groupApiService = groupApiService;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_4__["TranslationBaseKeys"];
        this.emailHref = '';
        this.contactName = '';
        this.contactEmail = '';
        this.contactSubject = '';
        this.contactMessage = '';
        this.supportEmailAddress = this.configService.getSettings('famisSupportEmailAddress');
    }
    ngOnInit() {
        this.groupId = this.route.parent.snapshot.paramMap.get('groupId');
        this.route.queryParams.subscribe((params) => this.contactSubject = params.subject);
        this.userStore.user.subscribe((user) => {
            this.contactName = `${user.profile.FirstName} ${user.profile.LastName}`;
            this.contactEmail = user.profile.Email;
        });
        this.groupApiService.getContractGroup(this.groupId, false).subscribe(result => {
            if (result) {
                this.groupId = result.groupId;
                this.groupName = result.groupName;
            }
        });
    }
    updateEmail() {
        const message = this.contactMessage + '\n\n' + `Group Id: ${this.groupId}` + '\n' + `Group Name: ${this.groupName}` + '\n' + `Sent by ${this.contactName}` + '\n' + `${this.contactEmail}`;
        const body = encodeURI(message);
        this.emailHref = `mailto:${this.supportEmailAddress}?subject=${this.contactSubject}&body=${body}`;
    }
};
SupportComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] },
    { type: _core_user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"] },
    { type: _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"] },
    { type: _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_6__["GroupApiService"] }
];
SupportComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'support',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./support.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/support/components/support.component.html")).default,
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
        _core_user_user_store__WEBPACK_IMPORTED_MODULE_3__["UserStore"],
        _ngx_config_core__WEBPACK_IMPORTED_MODULE_5__["ConfigService"],
        _api_runtime_services_group_api_service__WEBPACK_IMPORTED_MODULE_6__["GroupApiService"]])
], SupportComponent);



/***/ }),

/***/ "./client-src/app/support/support.module.ts":
/*!**************************************************!*\
  !*** ./client-src/app/support/support.module.ts ***!
  \**************************************************/
/*! exports provided: SupportModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SupportModule", function() { return SupportModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _components_support_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/support.component */ "./client-src/app/support/components/support.component.ts");
/* harmony import */ var _api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../_api/_runtime/services/client-files-api.service */ "./client-src/app/_api/_runtime/services/client-files-api.service.ts");







let SupportModule = class SupportModule {
};
SupportModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            // ng.GridModule,
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_3__["CoreModule"],
        ],
        declarations: [
            _components_support_component__WEBPACK_IMPORTED_MODULE_5__["SupportComponent"]
        ],
        providers: [
            _api_runtime_services_client_files_api_service__WEBPACK_IMPORTED_MODULE_6__["ClientFileApiService"]
        ]
    })
], SupportModule);



/***/ }),

/***/ "./client-src/app/transactions/components/transactions-grid.component.ts":
/*!*******************************************************************************!*\
  !*** ./client-src/app/transactions/components/transactions-grid.component.ts ***!
  \*******************************************************************************/
/*! exports provided: TransactionsGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsGridComponent", function() { return TransactionsGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_shared/components/famis-grid.component */ "./client-src/app/_shared/components/famis-grid.component.ts");
/* harmony import */ var _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../_core/services/famis-grid.service */ "./client-src/app/_core/services/famis-grid.service.ts");
/* harmony import */ var _project_profile_services_administration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../project-profile/services/administration.service */ "./client-src/app/project-profile/services/administration.service.ts");
/* harmony import */ var _services_transactions_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/transactions.service */ "./client-src/app/transactions/services/transactions.service.ts");
/* harmony import */ var _core_services_transactions_info_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../_core/services/transactions-info-service */ "./client-src/app/_core/services/transactions-info-service.ts");
/* harmony import */ var _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../_core/services/helper.service */ "./client-src/app/_core/services/helper.service.ts");
/* harmony import */ var _shared_components_grid_actions_revert_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../_shared/components/grid-actions/revert.component */ "./client-src/app/_shared/components/grid-actions/revert.component.ts");
/* harmony import */ var _processing_default_values_default_transaction_headers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../processing/default-values/default-transaction-headers */ "./client-src/app/processing/default-values/default-transaction-headers.ts");
/* harmony import */ var _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../_core/i18n/translation-base-keys */ "./client-src/app/_core/i18n/translation-base-keys.ts");
/* harmony import */ var _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../_core/services/window-manager.service */ "./client-src/app/_core/services/window-manager.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../_models/shared/famis-grid-state.model */ "./client-src/app/_models/shared/famis-grid-state.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");















let TransactionsGridComponent = class TransactionsGridComponent {
    constructor(famisGridService, transactionsService, administrationService, transactionsInfoService, helperService, windowManager) {
        this.famisGridService = famisGridService;
        this.transactionsService = transactionsService;
        this.administrationService = administrationService;
        this.transactionsInfoService = transactionsInfoService;
        this.helperService = helperService;
        this.windowManager = windowManager;
        this.i18n = _core_i18n_translation_base_keys__WEBPACK_IMPORTED_MODULE_9__["TranslationBaseKeys"];
        this.selectedAssets = new Array();
        this.gridSelections = new _angular_core__WEBPACK_IMPORTED_MODULE_12__["EventEmitter"]();
        this.windowSize = 500;
        this.destroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_14__["Subject"]();
        this.breadCrumbs = [
            { name: 'Administration', routerLink: '../' },
            { name: 'Transactions', routerLink: 'Transactions', isDisabled: true }
        ];
    }
    ngOnInit() {
        this.administrationService.groupIdContext$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$))
            .subscribe(context => {
            this.groupId = context.groupId;
        });
        this.transactionsGrid = {
            height: 600,
            gridId: this.famisGridService.createGrid(),
            windowSize: this.windowSize,
            totalRecordCount: 0,
            name: '',
            dataSource: null,
            supportedOperators: [_models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].ColumnSelection, _models_shared_famis_grid_state_model__WEBPACK_IMPORTED_MODULE_13__["FamisGridFeature"].Sort],
            actions: ['Revert'],
            translationBaseKey: this.i18n.transactions
        };
        this.transactionsGrid.loading = this.transactionsService
            .getSearchTransactionsByGroupId(this.groupId, this.transactionsService.defaultSearchRequest)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["takeUntil"])(this.destroyed$))
            .subscribe(() => {
            this.transactionsGrid.columnHeaders = _processing_default_values_default_transaction_headers__WEBPACK_IMPORTED_MODULE_8__["transactionHeaders"];
            this.transactionsGrid.selectedHeaders = this.transactionsInfoService.GetDefaultColumns();
            this.transactionsGrid.loading = this.processCacheUpdate();
        });
    }
    ngOnDestroy() {
        this.destroyed$.next();
    }
    handleActionEvent(event) {
        switch (event.action) {
            case 'Revert':
                const windowRef = this.windowManager.open(_shared_components_grid_actions_revert_component__WEBPACK_IMPORTED_MODULE_7__["RevertComponent"], 'Revert', {
                    isModal: true,
                    width: 1500,
                });
                windowRef.content.instance.transactionId = event.item.transactionId;
                windowRef.content.instance.activity = event.item.activity;
                windowRef.content.instance.assetTagNumber = event.item.assetTagNumber;
                windowRef.content.instance.submitSuccess.subscribe(() => {
                    this.updateCache();
                });
                break;
            default:
                break;
        }
    }
    updateCache(request) {
        this.transactionsGrid.cacheLoading = this.processCacheUpdate(request);
    }
    handleSelectionChanged(event) {
        event.itemsAdded.forEach(item => {
            const index = this.selectedAssets.indexOf(item.dataItem);
            if (index === -1) {
                this.selectedAssets.push(item.dataItem);
            }
        });
        event.itemsRemoved.forEach(item => {
            const index = this.selectedAssets.indexOf(item.dataItem);
            if (index !== -1) {
                this.selectedAssets.splice(index, 1);
            }
        });
        this.gridSelections.emit(this.selectedAssets);
    }
    processCacheUpdate(cacheUpdateRequest) {
        const s = this;
        return this.transactionsService
            .updateTransactionsData(this.groupId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.take : s.famisGridService.defaultTake, cacheUpdateRequest ? cacheUpdateRequest.sortTerms : null, cacheUpdateRequest ? cacheUpdateRequest.filters : null)
            .subscribe(dto => {
            this.transactionsGrid.totalRecordCount = dto.totalInRecordSet;
            s.famisGridService.setCacheRecords(dto.transactions, s.transactionsGrid.gridId, cacheUpdateRequest ? cacheUpdateRequest.cacheWindow.skip : s.famisGridService.defaultSkip, dto.numberInThisPayload, this.transactionsGrid.windowSize);
        });
    }
};
TransactionsGridComponent.ctorParameters = () => [
    { type: _core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"] },
    { type: _services_transactions_service__WEBPACK_IMPORTED_MODULE_4__["TransactionsService"] },
    { type: _project_profile_services_administration_service__WEBPACK_IMPORTED_MODULE_3__["AdministrationService"] },
    { type: _core_services_transactions_info_service__WEBPACK_IMPORTED_MODULE_5__["TransactionsInfoService"] },
    { type: _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__["HelperService"] },
    { type: _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_10__["WindowManager"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Output"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TransactionsGridComponent.prototype, "gridSelections", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ViewChild"])(_shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_1__["FamisGridComponent"], { static: false }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_famis_grid_component__WEBPACK_IMPORTED_MODULE_1__["FamisGridComponent"])
], TransactionsGridComponent.prototype, "famisGrid", void 0);
TransactionsGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_12__["Component"])({
        selector: 'transactions-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./transactions-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/transactions/components/transactions-grid.component.html")).default
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_famis_grid_service__WEBPACK_IMPORTED_MODULE_2__["FamisGridService"],
        _services_transactions_service__WEBPACK_IMPORTED_MODULE_4__["TransactionsService"],
        _project_profile_services_administration_service__WEBPACK_IMPORTED_MODULE_3__["AdministrationService"],
        _core_services_transactions_info_service__WEBPACK_IMPORTED_MODULE_5__["TransactionsInfoService"],
        _core_services_helper_service__WEBPACK_IMPORTED_MODULE_6__["HelperService"],
        _core_services_window_manager_service__WEBPACK_IMPORTED_MODULE_10__["WindowManager"]])
], TransactionsGridComponent);



/***/ }),

/***/ "./client-src/app/transactions/services/transactions.service.ts":
/*!**********************************************************************!*\
  !*** ./client-src/app/transactions/services/transactions.service.ts ***!
  \**********************************************************************/
/*! exports provided: TransactionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsService", function() { return TransactionsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../_api/_runtime/services/insurance-api.service */ "./client-src/app/_api/_runtime/services/insurance-api.service.ts");
/* harmony import */ var _project_profile_services_administration_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../project-profile/services/administration.service */ "./client-src/app/project-profile/services/administration.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




let TransactionsService = class TransactionsService {
    constructor(insuranceApiService, administrationService) {
        this.insuranceApiService = insuranceApiService;
        this.administrationService = administrationService;
        this.groupId = this.administrationService.groupId;
        this.defaultSortTerms = [{ termOrder: 0, sortDirection: 1, field: 'transactionDate' }];
        this.defaultTransactionFilterTerms = [{
                'term': {
                    'field': 'PostingType',
                    'value': '0'
                },
                'operation': 'eq'
            },
            {
                'term': {
                    'field': 'PostingType',
                    'value': '1'
                },
                'operation': 'eq'
            },
            {
                'term': {
                    'field': 'PostingType',
                    'value': '3'
                },
                'operation': 'eq'
            },
            {
                'term': {
                    'field': 'PostingType',
                    'value': '4'
                },
                'operation': 'eq'
            },
            {
                'term': {
                    'field': 'PostingType',
                    'value': '5'
                },
                'operation': 'eq'
            }];
        this.defaultSearchRequest = {
            filterTerms: this.defaultTransactionFilterTerms,
            filterConjunction: 'or',
            sortTerms: [],
            skip: 0,
            take: 0
        };
    }
    updateTransactionsData(groupdId, skip, take, sortTerms = new Array(), filterTerms = new Array()) {
        const searchRequest = {
            filterTerms: !!filterTerms && filterTerms.length > 0 ? filterTerms : this.defaultTransactionFilterTerms,
            filterConjunction: 'or',
            sortTerms: !!sortTerms && sortTerms.length > 0 ? sortTerms : this.defaultSortTerms,
            skip: skip,
            take: 0
        };
        return this.getSearchTransactionsByGroupId(groupdId, searchRequest);
    }
    getRevertSummary(transactionId) {
        return this.insuranceApiService.getRevertSummary(transactionId);
    }
    getSearchTransactionsByGroupId(groupdId, searchRequest) {
        return this.insuranceApiService.searchTransactionsByGroupId(groupdId, searchRequest);
    }
    revertTransaction(transactionId) {
        return this.insuranceApiService.revertTransaction(transactionId);
    }
};
TransactionsService.ctorParameters = () => [
    { type: _api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_1__["InsuranceApiService"] },
    { type: _project_profile_services_administration_service__WEBPACK_IMPORTED_MODULE_2__["AdministrationService"] }
];
TransactionsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_api_runtime_services_insurance_api_service__WEBPACK_IMPORTED_MODULE_1__["InsuranceApiService"],
        _project_profile_services_administration_service__WEBPACK_IMPORTED_MODULE_2__["AdministrationService"]])
], TransactionsService);



/***/ }),

/***/ "./client-src/app/transactions/transaction.module.ts":
/*!***********************************************************!*\
  !*** ./client-src/app/transactions/transaction.module.ts ***!
  \***********************************************************/
/*! exports provided: TransactionsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionsModule", function() { return TransactionsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _components_transactions_grid_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/transactions-grid.component */ "./client-src/app/transactions/components/transactions-grid.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../_shared/shared.module */ "./client-src/app/_shared/shared.module.ts");
/* harmony import */ var _services_transactions_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/transactions.service */ "./client-src/app/transactions/services/transactions.service.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_core/core.module */ "./client-src/app/_core/core.module.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var angular2_ladda__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! angular2-ladda */ "./node_modules/angular2-ladda/fesm2015/angular2-ladda.js");
/* harmony import */ var ngx_order_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-order-pipe */ "./node_modules/ngx-order-pipe/ngx-order-pipe.js");
/* harmony import */ var _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @progress/kendo-angular-grid */ "./node_modules/@progress/kendo-angular-grid/dist/fesm2015/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
















let TransactionsModule = class TransactionsModule {
};
TransactionsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_5__["NgModule"])({
        imports: [
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__["NgbModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_8__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_9__["HttpClientModule"],
            angular2_ladda__WEBPACK_IMPORTED_MODULE_10__["LaddaModule"],
            ngx_order_pipe__WEBPACK_IMPORTED_MODULE_11__["OrderModule"],
            _progress_kendo_angular_grid__WEBPACK_IMPORTED_MODULE_12__["GridModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_13__["RouterModule"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_14__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_15__["BrowserAnimationsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_4__["CoreModule"]
        ],
        declarations: [
            _components_transactions_grid_component__WEBPACK_IMPORTED_MODULE_1__["TransactionsGridComponent"]
        ],
        providers: [_services_transactions_service__WEBPACK_IMPORTED_MODULE_3__["TransactionsService"]]
    })
], TransactionsModule);



/***/ }),

/***/ "./client-src/environments/environment.ts":
/*!************************************************!*\
  !*** ./client-src/environments/environment.ts ***!
  \************************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
//   settingsEndpoint:'https://famis-dev.duffandphelps.com/api/settings',

const environment = {
    useAzureAppSettings: false,
    // AAD Settings
    adalTennant: '781802be-916f-42df-a204-78a2b3144934',
    adalClientId: '3c581814-0bb2-4901-887a-fca4f4246ed5',
    adalExpireOffsetSeconds: 1800,
    adalEndpoints: 'https://duffandphelps.onmicrosoft.com/9bb8cde8-5f4e-4c68-a4ab-ee18bbb51703',
    adalExtraQueryParameter: 'domain_hint=duffandphelps.com',
    // B2C Settings
    msalResetPasswordPolicy: '',
    msalScope: '',
    msalClient: '',
    msalTenant: '',
    msalSigninSignupPolicy: '',
    authorizationApiEndpoint: 'https://costofcapital-dev-auth-api.duffandphelps.com',
    // runtimeApiEndpoint: 'https://famis-dev-runtime-api.duffandphelps.com/api',
    runtimeApiEndpoint: 'https://localhost:44331/api',
    configurationApiEndpoint: 'https://famis-dev-config-api.duffandphelps.com/api',
    // configurationApiEndpoint: 'https://localhost:44330/api',
    settingsEndpoint: '/api/settings',
    aiName: 'dev-us-famis-wa-01',
    aiInstrumentationKey: 'df7e9ff6-0fc1-4f5d-925f-0501e911f62f',
    googleMapAPIKey: 'AIzaSyB7qqtzyuD-W-khRwDYTJmVlnCxxnrR4ws',
    bingMapAPIKey: 'AhGM8PKVdNbv97kMHJqodqc540dHqQ26Y0LU0uczb3WFr_ZPknV9GzmeVrwcIhUA',
    acceptedFileTypes: ['.xlsx', '.docx', '.xls', '.doc', '.pdf', '.jpeg', '.jpg', '.tiff', '.gif', '.png', '.csv', '.zip', '.7z'],
    ssrsURL: 'http://ssrsinternet.southcentralus.cloudapp.azure.com/Reports',
    defaultLanguage: 'en-us',
    reportParameterLimit: 5,
    masterTemplateId: '42BC40FB-D8BF-4C3C-AFA2-D9FE17DD93A6',
    /*
      Adding an additional configurable offset time for the session timeout
      The number "n" we add here will get us "n" second closer to the ADAL token renewal(forced)
    */
    additionalExpireOffsetSeconds: 900,
    famisSupportEmailAddress: 'DP.FamisSupport@duffandphelps.com'
};


/***/ }),

/***/ "./client-src/main.ts":
/*!****************************!*\
  !*** ./client-src/main.ts ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./client-src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./client-src/environments/environment.ts");





if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].useAzureAppSettings) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"]);


/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn-bd": "./node_modules/moment/locale/bn-bd.js",
	"./bn-bd.js": "./node_modules/moment/locale/bn-bd.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-mx": "./node_modules/moment/locale/es-mx.js",
	"./es-mx.js": "./node_modules/moment/locale/es-mx.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/add-asset-column-component.html":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/add-asset-column-component.html ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" [disabled]=\"isAddColumn\" (click)=\"showForm()\" class=\"btn btn-action btn-small custom-fields\">\r\n  <i class=\"fa fa-plus\"></i>\r\n</button>\r\n<strong> &nbsp; {{i18n.common + 'Add Custom Column' | dynamicTranslate }}</strong>\r\n\r\n\r\n<div *ngIf=\"isAddColumn\">\r\n    <div class=\"row buffer-row\">\r\n        <div class=\"col-md-5\">\r\n          <label>{{i18n.common + 'Column Name' | dynamicTranslate }} </label>\r\n          <input [(ngModel)]=\"name\" class=\"form-control\">\r\n          <div *ngIf=\"!isNameValid\" class=\"alert alert-danger\">\r\n            {{i18n.common + nameFieldError | dynamicTranslate }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-5\">\r\n          <label>\r\n            {{i18n.common + 'Data Type' | dynamicTranslate }}\r\n          </label>\r\n          <select [(ngModel)]=\"dataType\" class=\"form-control\">\r\n            <option disabled>Select custom field type</option>\r\n            <option *ngFor=\"let fieldType of this.dataTypes\"  [value]=\"fieldType.dataType\">{{i18n.common + fieldType.displayName | dynamicTranslate }}</option>\r\n          </select>\r\n          <div *ngIf=\"!isDataTypeValid\" class=\"alert alert-danger\">\r\n            {{i18n.common + 'Please select a data type' | dynamicTranslate }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n        \r\n          <button type=\"button\" id=\"Add-Button\" class=\"btn btn-small btn-primary form-control\" (click)=\"submit()\"><strong>Add</strong></button>\r\n        </div>\r\n      </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/alert.component.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/alert.component.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/bing-map.component.html":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/bing-map.component.html ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div #bingMap style=\"position: relative; height: 400px;\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/carousel-modal.component.html":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/carousel-modal.component.html ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<modal-form [modalTitle]=\"modalTitle\" [hideSubmit]=\"hideSubmit\" (modalEvent)=\"handleModalEvent($event)\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <ngb-carousel *ngIf=\"imageUrlCollection\" [interval]=\"10000000\">\r\n                <ng-template ngbSlide *ngFor=\"let image of imageUrlCollection\">\r\n                    <img [src]=\"image\" alt=\"Image alt\" class=\"carousel-image\" />\r\n                </ng-template>\r\n            </ngb-carousel>\r\n        </div>\r\n    </div>\r\n</modal-form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/confirm-modal.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/confirm-modal.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\r\n    <div class=\"modal-title\">\r\n      <br />\r\n      <h1 class=\"text-center\">{{options.heading.key}}</h1>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <h4 class=\"text-center\">{{options.body.key}}</h4>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"activeModal.dismiss('false')\" *ngIf=\"!!options.dismissText\">{{options.dismissText.key}}</button>\r\n        <button type=\"button\" class=\"btn btn-action\" (click)=\"activeModal.close('true')\" *ngIf=\"!!options.successText\">{{options.successText.key}}</button>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/confirm.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/confirm.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\r\n    <div class=\"modal-title\">\r\n      <br />\r\n      <h1 class=\"text-center\">{{i18n.common + confirmHeading | dynamicTranslate}}</h1>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <h4 class=\"text-center\">{{i18n.common + confirmationMessage | dynamicTranslate}}</h4>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"onCancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n        <button type=\"button\" class=\"btn btn-action\" (click)=\"onConfirmed()\">{{i18n.common + 'Continue' | dynamicTranslate}}</button>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.html":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/copy-asset-modal/copy-asset-record.component.html ***!
  \***********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button class=\"ml-2 btn btn-primary add-record-button d-inline\" [disabled]=\"disabled\" (click)=\"open(content)\">{{i18n.common + 'Duplicate Record' | dynamicTranslate}}</button>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n\r\n  <div class=\"modal-body\">\r\n    {{i18n.common + 'Create duplicate record from selected asset?' | dynamicTranslate}}\r\n  </div>\r\n\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">{{i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"createCopy()\">{{i18n.common + 'Create' | dynamicTranslate}}</button>\r\n  </div>\r\n\r\n</ng-template>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dashboard-groups.component.html":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dashboard-groups.component.html ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n  <div *ngIf=\"groupsGridBusy\">\r\n    <i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>\r\n  </div>\r\n\r\n  <div class=\"groups-detail\">\r\n    <kendo-grid [resizable]=\"true\" *ngIf=\"!groupsGridBusy\" [data]=\"gridViewData\" [pageSize]=\"state.take\" [sortable]=\"false\" [pageable]=\"true\" [reorderable]=\"true\"\r\n      [pageSize]=\"state.take\" [skip]=\"state.skip\" (dataStateChange)=\"dataStateChange($event)\" [height]=\"height\" >\r\n\r\n      <kendo-grid-column [reorderable]=\"true\" field=\"groupName\" [title]=\"i18n.dashboard + 'Group Name' | dynamicTranslate\">\r\n      </kendo-grid-column>\r\n      <kendo-grid-column [reorderable]=\"true\" field=\"location\" [title]=\" i18n.dashboard + 'Location' | dynamicTranslate\">\r\n      </kendo-grid-column>\r\n      <kendo-grid-column [reorderable]=\"true\" field=\"groupNumber\" [title]=\"i18n.dashboard + 'Group Number' | dynamicTranslate\">\r\n      </kendo-grid-column>\r\n      <kendo-grid-column [reorderable]=\"true\" [title]=\"i18n.dashboard + 'Last Update' | dynamicTranslate\">\r\n        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n          {{dataItem.lastUpdated | localTime }}\r\n        </ng-template>\r\n      </kendo-grid-column>\r\n      <kendo-grid-column [reorderable]=\"true\" field=\"recordCounts\" [title]=\"i18n.dashboard + 'Record Count' | dynamicTranslate\">\r\n        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n          <div *ngFor=\"let recordCount of dataItem.recordCounts\">\r\n            <div class=\"record-count pull-left\">\r\n              <span>{{getTypeName(recordCount.type)}}: {{recordCount.count | localizedNumber}}</span>\r\n            </div>\r\n            <br />\r\n          </div>\r\n        </ng-template>\r\n      </kendo-grid-column>\r\n      <kendo-grid-column [reorderable]=\"false\" [title]=\"i18n.dashboard + 'Actions' | dynamicTranslate\">\r\n        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n          <a class=\"clickable-link\" (click)='navigateToProject(dataItem.id,$event)'>{{i18n.dashboard + 'View Project' | dynamicTranslate}}</a>\r\n        </ng-template>\r\n      </kendo-grid-column>\r\n    </kendo-grid>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/asset-form.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/asset-form.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form [class.isModal]=\"isModal\" [formGroup]=\"formGroup\" #assetForm=\"ngForm\">\r\n\r\n  <div class=\"row form-body\">\r\n    <div class=\"col-md-12\">\r\n\r\n      <div class=\"row\" *ngIf=\"generalFormFields.length > 0\">\r\n        <div class=\"col-md-12\">\r\n          <h4 class=\"modal-title pb-3\">{{i18n.common + 'General Information' | dynamicTranslate }}</h4>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" *ngIf=\"generalFormFields.length > 0\">\r\n\r\n        <ng-container\r\n          *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n          <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n            <dynamic-field [sourceTranslationKey]=\"getTranslationKey(field.translationKey)\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"></dynamic-field>\r\n\r\n          </div>\r\n\r\n          <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n            <dynamic-field [sourceTranslationKey]=\"getTranslationKey(field.translationKey)\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"></dynamic-field>\r\n\r\n          </div>\r\n\r\n        </ng-container>\r\n\r\n        <ng-container\r\n          *ngFor=\"let field of generalFormFields | orderBy: 'displayName'; let i=index; let odd=odd; let even=even;\">\r\n          <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n            <dynamic-field [sourceTranslationKey]=\"getTranslationKey(field.translationKey)\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"></dynamic-field>\r\n\r\n          </div>\r\n\r\n          <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n            <dynamic-field [sourceTranslationKey]=\"getTranslationKey(field.translationKey)\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"></dynamic-field>\r\n\r\n          </div>\r\n\r\n        </ng-container>\r\n\r\n\r\n      </div>\r\n\r\n      <div class=\"row\" *ngIf=\"generalFormFields.length > 0\">\r\n        <div class=\"col-md-12\">\r\n          <h4 class=\"modal-title pb-3\">{{i18n.common + 'Depreciation' | dynamicTranslate }}</h4>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class=\"row\" *ngIf=\"depreciationFields.length > 0\">\r\n        <ng-container\r\n          *ngFor=\"let field of depreciationFields | orderBy: 'displayName'; let i=index; let odd=odd; let even=even;\">\r\n          <div class=\"col-md-6\" *ngIf=\"even\">\r\n            <dynamic-field [sourceTranslationKey]=\"getTranslationKey(field.translationKey)\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"></dynamic-field>\r\n          </div>\r\n          <div class=\"col-md-6\" *ngIf=\"odd\">\r\n            <dynamic-field [sourceTranslationKey]=\"getTranslationKey(field.translationKey)\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"></dynamic-field>\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n\r\n      <div class=\"row\" *ngIf=\"customFormFields.length > 0\">\r\n        <div class=\"col-md-12\">\r\n          <h4 class=\"modal-title pb-3\">{{i18n.common + 'Custom Fields' | dynamicTranslate }}</h4>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div class=\"row\" *ngIf=\"customFormFields.length > 0\">\r\n\r\n        <ng-container\r\n          *ngFor=\"let field of customFormFields | orderBy: 'displayName'; let i=index; let odd=odd; let even=even;\">\r\n          <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n            <dynamic-field [sourceTranslationKey]=\"i18n.customField\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\" \r\n              (customFieldLabelChange)=\"handleCustomFieldLabelChange($event)\"></dynamic-field>\r\n\r\n          </div>\r\n\r\n          <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n            <dynamic-field [sourceTranslationKey]=\"i18n.customField\" [field]=\"field\" [form]=\"formGroup\"\r\n              [key]='field.displayName' [imageEntityType]=\"imageEntityType\" [entityId]=\"assetDto.id\"\r\n              (customFieldLabelChange)=\"handleCustomFieldLabelChange($event)\"></dynamic-field>\r\n\r\n          </div>\r\n\r\n        </ng-container>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"footer\">\r\n    <ng-container *ngIf=\"isReadOnly === false\">\r\n      <button type=\"button\" class=\"btn btn btn-default\"\r\n        (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate }} </button>\r\n      <button *ngIf=\"isModal === false\" type=\"button\" class=\"btn btn-primary\" (click)=\"keepFormOpen()\"\r\n        [ladda]=\"isSaving\">{{i18n.common + 'Save' | dynamicTranslate }} </button>\r\n      <button type=\"submit\" class=\"btn btn-primary\" (click)=\"saveAndClose()\"\r\n        [ladda]=\"isSaving\">{{i18n.common + 'Save And Close' | dynamicTranslate}}</button>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"isReadOnly === true\">\r\n      <button type=\"submit\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Close' | dynamicTranslate }}\r\n      </button>\r\n    </ng-container>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/cascading-combo-box.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/cascading-combo-box.component.html ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngFor=\"let value of valuesToSelect; index as i;\">\r\n\r\n    <ng-container *ngIf=\"i===0\">\r\n\r\n        <kendo-combobox [textField]=\"'displayName'\" [(ngModel)]=\"selectedItems[0]\" [valueField]=\"'key'\" [data]=\"options\" [suggest]=\"true\"\r\n            [placeholder]=\"\" (valueChange)=\"onComboboxChange(i, $event)\" ></kendo-combobox>\r\n        <div class=\"errorMessage\" *ngIf=\"required && !selectedItems[0]\"><b>{{i18n.cascading + 'required' |translate}}</b></div>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"i>0\">\r\n\r\n        <p class=\"mt-2\">{{i18n.cascading + value.displayName | dynamicTranslate}}</p>\r\n\r\n\r\n        <kendo-combobox *ngIf=\"selectedItems[i-1]\" [(ngModel)]=\"selectedItems[i]\" [textField]=\"'displayName'\" [valueField]=\"'key'\"\r\n            [data]=\"selectedItems[i-1].options\" [suggest]=\"true\" [placeholder]=\"\" (valueChange)=\"onComboboxChange(i, $event)\"></kendo-combobox>\r\n        <kendo-combobox [disabled]='true' *ngIf=\"!selectedItems[i-1]\"> </kendo-combobox>\r\n        <div class=\"errorMessage\" *ngIf=\"required && !selectedItems[i]\"><b>{{i18n.cascading + 'required' |translate}}</b></div>\r\n\r\n    </ng-container>\r\n    \r\n</ng-container>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/dynamic-field.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/dynamic-field.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group\" [formGroup]=\"form\">\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-8\">\r\n\r\n\r\n      <label *ngIf=\"sourceTranslationKey !== i18n.customField\" [attr.for]=\"field.id\">{{sourceTranslationKey + field.displayName | dynamicTranslate }}</label>\r\n      <ng-container *ngIf=\"sourceTranslationKey === i18n.customField\">\r\n        <label [attr.for]=\"field.id\" contentEditable=\"true\" style=\"cursor: text;\" (blur)=\"customLabelChange($event, field)\">{{field.displayName}}</label>&nbsp;<i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n      </ng-container>\r\n\r\n      <div [ngSwitch]=\"field.type\">\r\n\r\n        <input type=\"hidden\" class=\"form-control\"  [formControlName]=\"field.id\" *ngSwitchCase=\"fieldTypes.Hidden\">\r\n\r\n\r\n        <div *ngSwitchCase=\"fieldTypes.Boolean\" [attr.disabled]=\"field.isReadOnly\" class=\"checkbox k-form-field\">\r\n          <input type=\"checkbox\" [attr.disabled]=\"field.isReadOnly\" [formControlName]=\"field.id\" [id]=\"field.id\"\r\n            [tabindex]=\"field.order\" [id]=\"field.id\" class=\"k-checkbox\">\r\n          <label class=\"k-checkbox-label\" [for]=\"field.id\"></label>\r\n        </div>\r\n\r\n        <image-upload-field [attr.disabled]=\"field.isReadOnly\" *ngSwitchCase=\"fieldTypes.Image\" [imageEntityType]=\"imageEntityType\"\r\n          [entityId]=\"entityId\"></image-upload-field>\r\n\r\n        <input class=\"form-control\" [attr.disabled]=\"field.isReadOnly\" *ngSwitchCase=\"fieldTypes.ReadOnly\"\r\n          [formControlName]=\"field.id\" [tabindex]=\"field.order\" [type]=\"field.type\" disabled=\"true\">\r\n\r\n        <input class=\"form-control\" [attr.disabled]=\"field.isReadOnly\" *ngSwitchCase=\"fieldTypes.String\"\r\n          [formControlName]=\"field.id\" [tabindex]=\"field.order\" [type]=\"field.type\">\r\n\r\n        <span *ngSwitchCase=\"fieldTypes.Integer\" class=\"hide-increment-controls\">\r\n          <kendo-numerictextbox [attr.disabled]=\"field.isReadOnly\" [formControlName]=\"field.id\"\r\n          [decimals]=\"0\" [format]=\"'G'\" [tabindex]=\"field.order\" [min]=\"field.min\"></kendo-numerictextbox>\r\n        </span>\r\n\r\n        <span *ngSwitchCase=\"fieldTypes.Double\" class=\"hide-increment-controls\">\r\n          <kendo-numerictextbox [attr.disabled]=\"field.isReadOnly\" [formControlName]=\"field.id\"\r\n          [decimals]=\"field.decimalLength\" [format]=\"field.format\" [style.width]=\"'250px'\"\r\n          [tabindex]=\"field.order\" [min]=\"field.min\"></kendo-numerictextbox>\r\n        </span>\r\n\r\n        <span *ngSwitchCase=\"fieldTypes.Percent\" class=\"hide-increment-controls\">\r\n          <kendo-numerictextbox [attr.disabled]=\"field.isReadOnly\" [formControlName]=\"field.id\"\r\n          [decimals]=\"field.decimalLength\" [format]=\"field.format\" [style.width]=\"'250px'\" [step]=\"1\" \r\n          [tabindex]=\"field.order\" [min]=\"field.min\"></kendo-numerictextbox>\r\n        </span>\r\n\r\n       <!--  <kendo-numerictextbox [attr.disabled]=\"field.isReadOnly\" *ngSwitchCase=\"fieldTypes.Percent\" [formControlName]=\"field.id\"\r\n         [decimals]=\"field.decimalLength\" [format]=\"field.format\" [style.width]=\"'250px'\"\r\n         [tabindex]=\"field.order\"></kendo-numerictextbox> -->\r\n\r\n\r\n        <div *ngSwitchCase=\"fieldTypes.DateTime\">\r\n           <kendo-datepicker *ngIf=\"!field.format\" [attr.disabled]=\"field.isReadOnly\" [formControlName]=\"field.id\" [tabindex]=\"field.order\" (valueChange)=\"onChange($event)\" [(ngModel)]=\"dateValue\"></kendo-datepicker>\r\n           <kendo-datepicker *ngIf=\"field.format\" [format]=\"field.format\" [attr.disabled]=\"field.isReadOnly\" [formControlName]=\"field.id\" [tabindex]=\"field.order\" (valueChange)=\"onChange($event)\" [(ngModel)]=\"dateValue\"></kendo-datepicker>\r\n        </div>\r\n\r\n        <cascading-combo-box *ngSwitchCase=\"fieldTypes.CascadingComboBox\" [attr.disabled]=\"field.isReadOnly\"\r\n          [formControlName]=\"field.id\" [valuesToSelect]=\"field.cascadedValues\" [options]=\"field.cascadedValueOptions\" [required]=\"field.required\"></cascading-combo-box>\r\n\r\n        <div *ngSwitchCase=\"fieldTypes.DropDown\">\r\n          <select [attr.disabled]=\"field.isReadOnly\" class=\"form-control\" [formControlName]=\"field.id\">\r\n            <option *ngFor=\"let option of field.options\" [value]=\"option.key\">{{sourceTranslationKey +\r\n              option.displayName | dynamicTranslate}}</option>\r\n          </select>\r\n        </div>\r\n\r\n\r\n        <div *ngSwitchCase=\"fieldTypes.EmptySpace\">\r\n          &nbsp;\r\n       </div>\r\n\r\n      </div>\r\n\r\n\r\n      <div class=\"errorMessage\" *ngIf=\"!isValid && field.required && field.type !== fieldTypes.CascadingComboBox\">{{sourceTranslationKey + field.displayName + '\r\n        is required.' | dynamicTranslate}}</div>\r\n      <div class=\"errorMessage\" *ngIf=\"!isValid && hasMinProperty\">\r\n        {{sourceTranslationKey + 'Field must have a minimum value of ' | dynamicTranslate}}{{field.min + '.'}}\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-2\">\r\n      <button *ngIf=\"canRemove\" (click)=\"remove()\" type=\"button\" class=\"btn btn-action btn-small\">\r\n        <i class=\"fa fa-minus\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/image-upload-field.component.html":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/dynamic-form/controls/image-upload-field.component.html ***!
  \*****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"!disabled\">\r\n  <input type=\"file\" (change)=\"fileChange($event)\" name=\"file\" accept=\".png,.jpeg,.gif,.jpg,.bmp,.svg,.apng\" class=\"form-control-file\"\r\n    id=\"exampleInputFile\" aria-describedby=\"fileHelp\">\r\n  \r\n  <button type=\"button\" class=\"mt-3 mb-3\" (click)=\"upload()\" [disabled]=\"!uploadImageDto.file\"> {{i18n.common + 'Add Image' | dynamicTranslate }} </button>\r\n  <br>\r\n  <div class=\"row edit-image-row\">\r\n    <div class=\"col edit-image-thumbnail\" *ngFor=\"let image of images\">\r\n      <div class=\"edit-image-container\">\r\n        <a>\r\n          <img alt=\"Image alt\" width=\"250\" class=\"mt-3\" [src]='image.url' (click)=\"showImageCarouselOnClick(image.url)\" />\r\n        </a>\r\n      </div>\r\n      <div class=\"form-group edit-image-inputs\">\r\n        <input type=\"number\" value=\"{{image.index}}\" (blur)=\"onInputBlur($event, images.indexOf(image))\">\r\n        <input class=\"delete\" type=\"button\" value=\"Delete\" (click)=\"delete(image)\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n<ng-container *ngIf=\"disabled\">\r\n  <div class=\"tinted-white\">\r\n    <p>{{i18n.common + 'You can add images when the entity has been created' | dynamicTranslate }}.</p>\r\n  </div>\r\n</ng-container>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/famis-grid.component.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/famis-grid.component.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"famis-grid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\">\r\n      <h2 *ngIf=\"!famisGrid.hideTitle && famisGrid.name && famisGrid.name.length > 0\">{{ i18n.common + famisGrid.name | dynamicTranslate }}</h2>\r\n    </div>\r\n    <div class=\"col-md-8\">\r\n\r\n\r\n      <grid-column-selector-modal class=\"pull-right\"\r\n        *ngIf=\"selectedHeaders.length > 0 && canSelectColumns\"\r\n        [sourceTranslationKey]=\"famisGrid.translationBaseKey\"\r\n        [selectedColumns]=\"famisGrid.selectedHeaders\"\r\n        [headersAvailable]=\"famisGrid.columnHeaders\"\r\n        (columnSelectionEvent)=\"onColumnSelection($event)\"\r\n        [showAddCustomColumn]=\"showAddCustomColumn\"\r\n        [groupId]=\"famisGrid.groupId\"\r\n        [assetFileId]=\"famisGrid.fileId\"\r\n        [dataSource]=\"famisGrid.dataSource\">\r\n      </grid-column-selector-modal>\r\n\r\n      \r\n      <button *ngIf=\"canInGridEditCells\" type=\"button\" class=\"btn btn-sm btn-primary mb-2 pull-right save-in-grid-button\" (click)=\"inGridSave()\" [ladda]=\"isSaving\" [disabled]=\"editedRecords.length === 0\">\r\n        {{ i18n.common + 'Save Edits' | dynamicTranslate }}</button>\r\n\r\n        <span *ngIf=\"canInGridEditCells && editedRecordsWithErrors.length > 0\" class=\"edit-record-errors pull-right pr-3 pb-1\" (click)=\"viewInGridSaveErrors()\" >\r\n          {{ i18n.common + 'Edited records with errors: ' | dynamicTranslate }} {{editedRecordsWithErrors.length}}</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div>\r\n        <kendo-grid\r\n          *ngIf=\"gridSettingsLoaded\"\r\n          [data]=\"view | async\"\r\n          [rowHeight]=\"famisGrid.scrollingMode == 'virtual' ? 24 : null\"\r\n          [height]=\"famisGrid.height\"\r\n          [scrollable]=\"famisGrid.scrollingMode\"\r\n          [skip]=\"state.skip\"\r\n          [pageSize]=\"state.take\"\r\n          [reorderable]=\"true\"\r\n          [detailRowHeight]=\"famisGrid.scrollingMode == 'virtual' ? 24 : null\"\r\n          [rowClass]=\"rowCallback\"\r\n          \r\n          [sortable]=\"canSort\"\r\n          [sort]=\"sort\"\r\n          [filter]=\"state.filter\"\r\n          [filterable]=\"canFilter\"\r\n          [resizable]=\"true\"\r\n          (filterChange)=\"filterChange($event)\"\r\n          (sortChange)=\"sortChange($event)\"\r\n          [selectable]=\"canSelect\"\r\n          [kendoGridSelectBy]=\"famisGrid.columnToSelectBy\"\r\n          [selectedKeys]=\"selectedRows\"\r\n          (selectionChange)=\"gridSelectionChange($event)\"\r\n          (cellClick)=\"cellClick($event)\"\r\n          (cellClose)=\"cellClose($event)\"\r\n          (columnReorder)=\"onColumnReorder($event)\"\r\n          (columnResize)=\"onColumnResize($event)\"\r\n          [navigable]=\"true\"\r\n          (pageChange)=\"pageChange($event)\"\r\n          [loading]=\"dataLoading\"\r\n        >\r\n          <kendo-grid-checkbox-column *ngIf=\"canSelect\" [reorderable]=\"false\" [width]=\"25\"></kendo-grid-checkbox-column>\r\n\r\n          <ng-container *ngIf=\"showDashboarGroupSubGrid\">\r\n              <div *kendoGridDetailTemplate=\"let dataItem\"><dashboard-groups [id]=\"dataItem.id\"></dashboard-groups></div>\r\n          </ng-container>\r\n          \r\n          <div *ngIf=\"!showDashboarGroupSubGrid\">\r\n            <kendo-grid-column\r\n              [reorderable]=\"false\"\r\n              [width]=\"225\"\r\n              title=\"{{i18n.common + 'Actions' | dynamicTranslate }}\"\r\n              class=\"grid-actions\"\r\n              *ngIf=\"famisGrid.actions && famisGrid.actions.length > 0\"\r\n            >\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <div style=\"max-height: 19px\">\r\n                  <span class=\"grid-action-item\" *ngFor=\"let action of famisGrid.actions\">\r\n                    <a *ngIf=\"action !== 'Map' && action !== 'Image'\" (click)=\"actionClicked(rowIndex, dataItem, action)\">\r\n                      {{ i18n.common + action | dynamicTranslate }}\r\n                    </a>\r\n                  </span>\r\n\r\n                  <span class=\"grid-action-item\" *ngFor=\"let action of famisGrid.actions\">\r\n                    <a\r\n                      *ngIf=\"action === 'Map' && dataItem.latitude !== null && dataItem.longitude !== null\"\r\n                      (click)=\"actionClicked(rowIndex, dataItem, action)\"\r\n                    >\r\n                      {{ i18n.common + action | dynamicTranslate }}\r\n                    </a>\r\n\r\n                    <a class=\"disabled-action\" *ngIf=\"action === 'Map' && dataItem.latitude == null && dataItem.longitude == null\">\r\n                      {{ i18n.common + action | dynamicTranslate }}\r\n                    </a>\r\n\r\n                    <a *ngIf=\"action === 'Image'\"> <view-image [imageCollection]=\"dataItem.imageCollection\"></view-image> </a>\r\n                  </span>\r\n                </div>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n          </div>\r\n          \r\n          <ng-container *ngFor=\"let column of selectedHeaders\">\r\n            <kendo-grid-column\r\n              [reorderable]=\"true\"\r\n              [width]=\"225\"\r\n              *ngIf=\"column.fieldType === 'count'\"\r\n              field=\"{{column.name}}\"\r\n              format=\"{{column.format}}\"\r\n              title=\"{{getColumnTitle(column)}}\"\r\n              editable=\"{{column.isEditable}}\"\r\n            >\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\" let-filterService=\"filterService\">\r\n                  <kendo-grid-numeric-filter-menu [column]=\"column\" [filter]=\"filter\" [filterService]=\"filterService\">\r\n                    <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                    <kendo-filter-gt-operator></kendo-filter-gt-operator>\r\n                    <kendo-filter-lt-operator></kendo-filter-lt-operator>\r\n                    <kendo-filter-gte-operator></kendo-filter-gte-operator>\r\n                    <kendo-filter-lte-operator></kendo-filter-lte-operator>\r\n                    <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                    <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                    <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                  </kendo-grid-numeric-filter-menu>\r\n                </ng-template>\r\n                \r\n                <div class=\"btn-circle\">{{ dataItem[column.name] }}</div>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n\r\n            <kendo-grid-column\r\n              [editor]=\"column.fieldType\"\r\n              [reorderable]=\"true\"\r\n              *ngIf=\"column.fieldType !== 'template' && column.fieldType !== 'buildingAttribute' && column.fieldType !== 'count'\"\r\n              field=\"{{column.name}}\"\r\n              [width]=\"column.width\"\r\n              format=\"{{column.format}}\"\r\n              title=\"{{getColumnTitle(column)}}\"\r\n              editable=\"{{column.isEditable}}\"\r\n            >\r\n              <ng-template kendoGridFilterMenuTemplate let-filter let-filterService=\"filterService\">\r\n                <grid-filter\r\n                  [fieldType]=\"column.fieldType\"\r\n                  [filter]=\"filter\"\r\n                  [textField]=\"column.name\"\r\n                  [valueField]=\"column.name\"\r\n                  [filterService]=\"filterService\"\r\n                  [enumOptions]=\"column.enumOptions\"\r\n                  [isNullable]=\"column.isNullable\"\r\n                >\r\n                </grid-filter>\r\n              </ng-template>\r\n\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <div style=\"max-height: 19px\">\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.String || column.fieldType === fieldTypes.DropDown\"> {{ dataItem[column.name] }} </ng-container>\r\n                  <div style=\"text-align:center\">\r\n                    <ng-container *ngIf=\"(column.fieldType === fieldTypes.Integer || column.fieldType === fieldTypes.Double) && (column.name==='displayId')\" >\r\n                      {{ dataItem[column.name] | localizedNumber }}\r\n                    </ng-container>\r\n                  </div>\r\n                  <div style=\"text-align:right\">\r\n                    <ng-container *ngIf=\"(column.fieldType === fieldTypes.Integer || column.fieldType === fieldTypes.Double) && (column.name!='displayId')\" >\r\n                      {{ dataItem[column.name] | localizedNumber }}\r\n                    </ng-container>\r\n                  </div>\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.DateTime\"> {{ dataItem[column.name] | localizedDate }} </ng-container>\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.DateWithTimeStamp\"> {{ dataItem[column.name] | localTime }} </ng-container>\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.Percent\"> {{ dataItem[column.name] | localizedPercent }} </ng-container>\r\n                </div>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n\r\n            <!-- TODO: Support passing template to shared grid component -->\r\n            <kendo-grid-column\r\n              [editor]=\"column.fieldType\"\r\n              [reorderable]=\"true\"\r\n              *ngIf=\"column.fieldType === 'template'\"\r\n              field=\"{{column.name}}\"\r\n              format=\"{{column.format}}\"\r\n              title=\"{{getColumnTitle(column)}}\"\r\n              [filter]=\"column.fieldType\"\r\n              editable=\"{{column.isEditable}}\"\r\n            >\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <div style=\"width:100%; margin: auto;  height:100%; white-space:normal;\">\r\n                  <div style=\"padding:20px; float:left; width:25%; height:100%;\">\r\n                    {{ i18n.building + dataItem[column.name].groupDescription | dynamicTranslate }} /\r\n                    {{ i18n.building + dataItem[column.name].categoryDescription | dynamicTranslate }} ({{ dataItem[column.name].categoryCode }})\r\n                    \r\n                  </div>\r\n                  \r\n                  <div style=\"float: left; width:75%; padding:20px;\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                          <h4>Criteria</h4>\r\n                          <span *ngFor=\"let criteria of dataItem[column.name].criteriaSummary\">\r\n                            <span>\r\n                              <strong>{{ i18n.building + criteria.description | dynamicTranslate }}</strong> <span *ngIf=\"criteria.value\">:</span>\r\n                              {{ criteria.value }}</span>\r\n                              <br />\r\n                            </span>\r\n                            <span *ngIf=\"dataItem[column.name].quantity\">\r\n                            <strong>{{i18n.building + 'Quantity' | dynamicTranslate }}</strong>: \r\n                            {{dataItem[column.name].quantity}}\r\n                          </span>\r\n                          </div>\r\n                      <div class=\"col-md-6\">\r\n                        <ng-container *ngIf=\"dataItem[column.name].adjustmentSummary && dataItem[column.name].adjustmentSummary.length > 0\">\r\n                          <h4>Adjustments</h4>\r\n                          <span *ngFor=\"let criteria of dataItem[column.name].adjustmentSummary\">\r\n                            <span *ngIf=\"criteria.value\">\r\n                              <strong>{{ i18n.building + criteria.description | dynamicTranslate }}</strong> \r\n                              <span *ngIf=\"criteria.value\">:</span>\r\n                              {{ criteria.value }}</span> \r\n                              <br />\r\n                            </span>\r\n                                  <span *ngIf=\"dataItem[column.name].adjustmentSummary\">\r\n                                    <strong>{{ i18n.building + 'Total Cost' | dynamicTranslate }}</strong>\r\n                                    <span *ngIf=\"dataItem[column.name].adjustmentSummary\">: </span>{{ dataItem[column.name].totalCost }}\r\n                          </span>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n\r\n            <kendo-grid-column\r\n              [editor]=\"column.fieldType\"\r\n              [reorderable]=\"true\"\r\n              *ngIf=\"column.fieldType === 'buildingAttribute'\"\r\n              field=\"{{column.name}}\"\r\n              format=\"{{column.format}}\"\r\n              title=\"{{getColumnTitle(column)}}\"\r\n              [filter]=\"column.fieldType\"\r\n              editable=\"{{column.isEditable}}\"\r\n            >\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <div class=\"building-attribute-values\">\r\n                  <div class=\"value-item\" *ngFor=\"let item of (dataItem['valueSummary'] | orderBy: 'description')\">\r\n                    <div class=\"value-item\">\r\n                      <span class=\"label\">{{ item.description }}</span> <span class=\"label\">Percent:</span> <span>{{ item.value }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n          </ng-container>\r\n\r\n          <div *ngIf=\"showDashboarGroupSubGrid\">\r\n            <kendo-grid-column\r\n              [reorderable]=\"false\"\r\n              [width]=\"225\"\r\n              title=\"{{i18n.common + 'Actions' | dynamicTranslate }}\"\r\n              class=\"grid-actions\"\r\n              *ngIf=\"famisGrid.actions && famisGrid.actions.length > 0\"\r\n            >\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <span class=\"grid-action-item\" *ngFor=\"let action of famisGrid.actions\">\r\n                  <a *ngIf=\"action === 'View Project' && action !== 'Map' && action !== 'Image'\" (click)=\"actionClicked(rowIndex, dataItem, action)\">\r\n                    {{ i18n.common + action | dynamicTranslate }}\r\n                  </a>\r\n                </span>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n          </div>\r\n          \r\n          <ng-container *ngIf=\"famisGrid.gridSubGridData && famisGrid.gridSubGridData.subGridData.length\">\r\n            <div *kendoGridDetailTemplate=\"let dataItem\">\r\n              <famis-sub-grid\r\n                [translationBaseKey]=\"famisGrid.translationBaseKey\"\r\n                [dataItem]=\"dataItem\"\r\n                [data]=\"famisGrid.gridSubGridData\"\r\n              ></famis-sub-grid>\r\n            </div>\r\n          </ng-container>\r\n\r\n          \r\n          <kendo-grid-translation> </kendo-grid-translation>\r\n        </kendo-grid>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col text-right\" *ngIf=\"!hideTableCounts\">\r\n      {{ i18n.common + 'Total Items' | dynamicTranslate }}: {{ famisGrid.totalRecordCount }}\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/famis-sub-grid.component.html":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/famis-sub-grid.component.html ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n<div class=\"groups-detail sub-grid\">\r\n  <kendo-grid [resizable]=\"true\" [data]=\"gridDataResult\" [pageSize]=\"state.take\" [sortable]=\"false\" [pageable]=\"true\"\r\n    [reorderable]=\"true\" [pageSize]=\"state.take\" [skip]=\"state.skip\" (dataStateChange)=\"dataStateChange($event)\">\r\n\r\n    <ng-container *ngFor=\"let column of columns\">\r\n      \r\n      <kendo-grid-column [reorderable]=\"true\" field=\"{{column.name}}\" [title]=\"getColumnTitle(column)\">\r\n        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n          {{dataItem[column.name]}}\r\n        </ng-template>\r\n      </kendo-grid-column>\r\n\r\n    </ng-container>\r\n\r\n  </kendo-grid>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/file-upload-control/file-upload-control.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/file-upload-control/file-upload-control.component.html ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\r\n  <div class=\"row p-1\" *ngIf=\"isAddingFile\">\r\n      <div class=\"col-md-12\">\r\n          <input type=\"file\" name=\"file\" (change)=\"updateFile($event)\" class=\"file-upload\" id=\"fileInput\">\r\n          <div class=\"row\" *ngIf=\"isInvalidFileType\">\r\n              <div class=\"col-md-6\">\r\n                  <div class=\"alert alert-danger\">\r\n                          {{i18n.common + 'Please select a valid file type' | dynamicTranslate }}.\r\n                          <br />\r\n                          ({{i18n.common + supportedFileTypes | dynamicTranslate }})\r\n                  </div>\r\n              </div>\r\n              \r\n          </div>\r\n      </div>\r\n  </div>\r\n  \r\n  <div class=\"row p-1\" *ngIf=\"isAddingFile\">\r\n      <div class=\"col-md-6\">\r\n          <button [disabled]=\"!isFileSelected\" type=\"button\" (click)=\"RequestFileUpload()\" class=\"btn btn-action btn-small\" id=\"uploadFile\">{{i18n.common + 'Upload' | dynamicTranslate }}</button>\r\n          <button type=\"button\" class=\"btn btn-small\" (click)=\"CancelUpload($event)\">{{i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n      </div>\r\n  </div>\r\n  <div class=\"row p-1\" *ngIf=\"!isAddingFile\">\r\n      <div class=\"col-md-12\">\r\n          <button type=\"button\" (click)=\"AddFileClicked($event)\" class=\"btn btn-action btn-small custom-fields\">\r\n              <i class=\"fa fa-plus\"></i>\r\n          </button>\r\n          <strong> &nbsp;{{i18n.common + fileInputLabel | dynamicTranslate }}</strong>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/filter-criteria-builder.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/filter-criteria-builder.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row pb-3\">\r\n  <div class=\"col-md-4\">\r\n    <label>{{i18n.common + 'Field' | dynamicTranslate }}</label>\r\n    <select class=\"form-control form-control\" id=\"selectMatchCode\" [(ngModel)]=\"selectedField\" (change)=\"initOperationAndValue()\"\r\n      [name]=\"formFieldNames.selectedField\" #selectMatchCode=\"ngModel\" required>\r\n      <option *ngIf=\"!selectedField\" [ngValue]=\"selectedField\" disabled>{{i18n.common + 'Select Field' | dynamicTranslate }} </option>\r\n      <option *ngFor=\"let item of filterMetadata|orderBy:'displayName'\" [ngValue]=\"item\">{{translationKeyBase + item.displayName | dynamicTranslate }}</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"col-md-2\">\r\n    <label>{{i18n.common + 'Filter Type' | dynamicTranslate }} </label>\r\n    <select  class=\"form-control\" *ngIf=\"!selectedField\" disabled></select>\r\n\r\n    <select *ngIf=\"selectedField\" [(ngModel)]=\"filter.operation\" [name]=\"formFieldNames.selectedFilterType\" (change)=\"filterOperationChange()\"\r\n      class=\"form-control\">\r\n      <option *ngIf=\"!filter.operation\" [ngValue]=\"filter.operation\" disabled>{{i18n.common + 'Select Filter' | dynamicTranslate }} </option>\r\n      <option *ngFor=\"let item of operationsForSelectedTerm\" [value]=\"item.name\">{{i18n.asset + item.displayName | dynamicTranslate }}</option>\r\n    </select>\r\n\r\n  </div>\r\n  <div class=\"col-md-4\" *ngIf=\"filter.operation !== 'in' && filter.operation !== 'nin'\">\r\n    <label>{{i18n.common + 'Value' | dynamicTranslate }} </label>\r\n\r\n    <input *ngIf=\"!selectedField\" type=\"text\" disabled=\"true\" [name]=\"formFieldNames.value\" class=\"form-control\">\r\n\r\n    <input type=\"text\" *ngIf=\"selectedField && (selectedField.fieldType===fieldTypes.String || selectedField.fieldType===fieldTypes.DropDown || selectedField.fieldType === fieldTypes.Image)\" [(ngModel)]=\"filter.term.value\" [name]=\"formFieldNames.value\"\r\n      class=\"form-control\" (change)=\"criteriaChange()\">\r\n\r\n    <kendo-datepicker class=\"form-control\" *ngIf=\"selectedField && selectedField.fieldType===fieldTypes.DateTime\" [(ngModel)]=\"filter.term.value\"\r\n      [name]=\"formFieldNames.value\" (change)=\"criteriaChange()\"></kendo-datepicker>\r\n\r\n\r\n    <!-- TODO Hide stepper -->\r\n    <input type=\"number\" *ngIf=\"selectedField && (selectedField.fieldType===fieldTypes.Integer || selectedField.fieldType===fieldTypes.Double)\"\r\n      [(ngModel)]=\"filter.term.value\" [name]=\"formFieldNames.value\" class=\"form-control\" (change)=\"criteriaChange()\">\r\n\r\n  </div>\r\n  <div class=\"col-md-2 mt-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-3 pl-0 pr-0 pt-2\">\r\n        <button (click)=\"remove()\" type=\"button\" class=\"btn btn-action btn-small\">\r\n          <i class=\"fa fa-minus\"></i>\r\n        </button>\r\n      </div>\r\n      <div class=\"col-sm-9\">\r\n        <strong>{{i18n.common + 'Remove Filter' | dynamicTranslate }} </strong>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/google-map.component.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/google-map.component.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container class=\"google-map-action-container\">\r\n\r\n  <agm-map class=\"col-md-12\" [latitude]=\"latitude\" [longitude]=\"longitude\" [zoom]=\"googleMapZoom\" [disableDefaultUI]=\"false\" [zoomControl]=\"true\"\r\n   [mapTypeId]=\"'hybrid'\" [styles]=\"mapStyles\">\r\n\r\n    <agm-marker *ngFor=\"let m of mapMarkers; let i = index\" [latitude]=\"m.lat\" [longitude]=\"m.lng\"\r\n      [title]=\"m.label\" [markerDraggable]=\"m.draggable\" (dragEnd)=\"markerDragEnd(m, $event)\">\r\n\r\n      <agm-info-window>\r\n        <strong>{{m.label}}</strong>\r\n      </agm-info-window>\r\n\r\n    </agm-marker>\r\n\r\n\r\n\r\n  </agm-map>\r\n\r\n</ng-container>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/revert.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/revert.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"transactionType\" class=\"modal-header\">\r\n  <h4 class=\"modal-title\">{{i18n.transactions + 'Revert ' + transactionType + ' for Asset' | dynamicTranslate}} {{assetTagNumber}}</h4>\r\n</div>\r\n\r\n<form (ngSubmit)=\"onSubmit()\">\r\n  <div>\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\" >\r\n\r\n        <h2>{{i18n.transactions + 'Current' | dynamicTranslate}}</h2>\r\n        <kendo-grid  [data]=\"currentTransaction\" >\r\n          <kendo-grid-column [width]=\"minColWidth\" *ngFor=\"let column of headers\" field=\"{{column.source}}\" title=\"{{i18n.transactions + column.name | dynamicTranslate}}\">\r\n          \r\n          </kendo-grid-column>\r\n        </kendo-grid>\r\n\r\n        <!-- <kendo-grid [resizable]=\"true\" *ngIf=\"partialTransaction.length\" [data]=\"partialTransaction\" [height]=\"100\" [scrollable]=\"'none'\">\r\n          <kendo-grid-column *ngFor=\"let column of partialTransaction\" field=\"{{column.name}}\" title=\"{{i18n.transactions + column.name | dynamicTranslate}}\">\r\n            <ng-template kendoGridCellTemplate>\r\n              {{column.value}}\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n        </kendo-grid> -->\r\n        \r\n        <h2>{{i18n.transactions + 'Revert back' | dynamicTranslate}}</h2>\r\n        <kendo-grid  [data]=\"previousTransaction\"  >\r\n          <kendo-grid-column [width]=\"minColWidth\" *ngFor=\"let column of headers\" field=\"{{column.source}}\" title=\"{{i18n.transactions + column.name | dynamicTranslate}}\">\r\n          </kendo-grid-column>\r\n        </kendo-grid>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"closeModalEvent()\">{{i18n.common + 'cancel' |\r\n        translate}}</button>\r\n      <button type=\"submit\" class=\"btn btn-primary\">{{i18n.transactions + 'Revert' | dynamicTranslate}}</button>\r\n    </div>\r\n  </div>\r\n\r\n</form>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/view-image.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/view-image.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<i *ngIf=\"!imageCollection || imageCollection.length === 0\" class=\"fa fa-picture-o disabled-action\" aria-hidden=\"true\"></i>\r\n\r\n<img *ngIf=\"imageCollection && imageCollection.length > 0\" aria-hidden=\"false\" src=\"{{(imageCollection | orderBy : 'index')[0].url}}\" width=\"30\" (click)=\"showImageCarouselOnClick()\" [ngbPopover]=\"firstImage\" triggers=\"mouseenter:mouseleave\" container=\"body\"/>\r\n\r\n<ng-template #firstImage>\r\n  <img src=\"{{imageCollection[0].url}}\" class=\"popover-image\" />\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/view-map.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-actions/view-map.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<bing-map\r\n  [longitude]=\"longitude\"\r\n  [latitude]=\"latitude\"\r\n  [buildingName]=\"buildingName\"\r\n  [mapZoom]=\"15\"\r\n></bing-map>\r\n\r\n<div class=\"modal-footer\">\r\n  <button type=\"button\" class=\"btn btn-default\" (click)=\"closeModalEvent()\">{{i18n.common + 'Close' | dynamicTranslate}}</button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-column-selector/grid-column-selector-modal.component.html":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-column-selector/grid-column-selector-modal.component.html ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-2 pull-right\">\r\n<div class=\"circle-div\" (click)=\"open(content)\"><span class=\"fa fa-ellipsis-h\"></span></div>\r\n</div>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n  \r\n  <div class=\"modal-body\">\r\n    <grid-column-selector [sourceTranslationKey]=\"sourceTranslationKey\" [headersAvailable]='headersAvailable' [selectedColumns]='columnSelection'></grid-column-selector>\r\n    <div *ngFor=\"let column of customColumns\" class=\"row\">\r\n      <div class=\"col-md-8\">{{i18n.common + 'Custom Field' | dynamicTranslate }} - {{column.name}}</div>\r\n      <div class=\"col-md-4\"><b><a (click)=\"removeCustomCol(column)\">{{i18n.common + 'Remove' | dynamicTranslate}}</a></b></div>    \r\n    </div>\r\n    <div *ngIf=\"showAddCustomColumn\">\r\n      <div *ngFor=\"let customColumn of pendingCustomColumns\" class=\"row\">\r\n        <div class=\"col-md-8\">{{i18n.common + 'Custom Field' | dynamicTranslate }} - {{customColumn.columnName}}</div>\r\n        <div class=\"col-md-4\"><b><a (click)=\"removePendingColumn(customColumn)\">{{i18n.common + 'Remove' | dynamicTranslate}}</a></b></div>\r\n      </div>\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-md-10\">\r\n          <add-asset-column-component (onColumnAdded)=\"onColumnAdded($event)\" [knownColumnNames]=\"knownColumns\"></add-asset-column-component>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">{{i18n.common + 'Cancel' | dynamicTranslate }} </button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"saveChanges()\">{{i18n.common + 'Save Changes' | dynamicTranslate }}</button>\r\n  </div>\r\n\r\n\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-column-selector/grid-column-selector.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-column-selector/grid-column-selector.component.html ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<kendo-grid [resizable]=\"true\" [data]=\"gridView\" [height]=\"350\" [selectable]=\"{\r\n  checkboxOnly: true\r\n}\" [kendoGridSelectBy]=\"'name'\"\r\n  [selectedKeys]=\"selectedColumns\" [sortable]=\"true\" [sort]=\"sort\" (sortChange)=\"sortChange($event)\" #grid>\r\n  <kendo-grid-checkbox-column [width]=\"40\">\r\n\r\n  </kendo-grid-checkbox-column>\r\n\r\n  <kendo-grid-column [width]=\"200\" field=\"name\" title=\"{{i18n.common + 'Column Name' | dynamicTranslate }}\">\r\n\r\n\r\n      <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n        <ng-container *ngIf=\"!dataItem.isCustom\">\r\n        {{sourceTranslationKey + dataItem.displayName | dynamicTranslate }}\r\n        </ng-container>  \r\n        <ng-container *ngIf=\"dataItem.isCustom\">\r\n            {{dataItem.name}}\r\n            </ng-container> \r\n        </ng-template>\r\n\r\n  </kendo-grid-column>\r\n\r\n</kendo-grid>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-filter/grid-filter.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/grid-filter/grid-filter.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"filter-list\" #filterList>\r\n  <div class=\"famis-grid-filter\" *ngFor=\"let f of filters; let i = index\" class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <button (click)=\"remove($event, i)\" class=\"remove-filter btn btn-small  pull-right\" *ngIf=\"i >= 1\">\r\n        <i class=\"fa fa-minus filter-element\"></i>\r\n      </button>\r\n\r\n      <select\r\n        [name]=\"formFieldNames.selectedFilterType\"\r\n        [(ngModel)]=\"f.operator\"\r\n        name=\"filterOperation\"\r\n        class=\"form-control\"\r\n        (change)=\"onChange($event)\"\r\n      >\r\n        <option disabled value=\"\">{{ i18n.common + 'Select Filter' | dynamicTranslate }} </option>\r\n        <option *ngFor=\"let item of operationsForSelectedTerm\" [value]=\"item.name\"> {{ i18n.asset + item.displayName | dynamicTranslate }}</option>\r\n      </select>\r\n\r\n      <div *ngIf=\"f.operator !== 'in' && f.operator !== 'nin'\" #filter>\r\n        <div [ngSwitch]=\"fieldType\">\r\n          <ng-template [ngSwitchCase]=\"fieldTypes.String\">\r\n            <input type=\"text\" (change)=\"onChange($event)\" [(ngModel)]=\"f.value\" name=\"filterValue\" class=\"form-control\" />\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"fieldTypes.DateTime\">\r\n            <kendo-datepicker\r\n              class=\"form-control\"\r\n              (valueChange)=\"onChange($event)\"\r\n              [(ngModel)]=\"f.value\"\r\n              name=\"filterValue\"\r\n            ></kendo-datepicker>\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"fieldTypes.Date\">\r\n            <kendo-datepicker\r\n              class=\"form-control\"\r\n              (valueChange)=\"onChange($event)\"\r\n              [(ngModel)]=\"f.value\"\r\n              name=\"filterValue\"\r\n            ></kendo-datepicker>\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"fieldTypes.Double\">\r\n            <input type=\"number\" (change)=\"onChange($event)\" [(ngModel)]=\"f.value\" name=\"filterValue\" class=\"form-control\" />\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"fieldTypes.Integer\">\r\n            <input type=\"number\" (change)=\"onChange($event)\" [(ngModel)]=\"f.value\" name=\"filterValue\" class=\"form-control\" />\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"fieldTypes.DropDown\">\r\n            <select\r\n              *ngIf=\"enumOptions\"\r\n              [(ngModel)]=\"f.value\"\r\n              name=\"filterValue\"\r\n              class=\"form-control\"\r\n              (change)=\"onChange($event)\"              \r\n            >\r\n              <option disabled value=\"\">{{ i18n.common + 'Select Value' | dynamicTranslate }} </option>\r\n              <option *ngFor=\"let item of enumOptions\" [value]=\"item.name\"> {{ i18n.asset + item.displayName | dynamicTranslate }}</option>\r\n            </select>\r\n            <input *ngIf=\"!enumOptions\" type=\"text\" (change)=\"onChange($event)\" [(ngModel)]=\"f.value\" name=\"filterValue\" class=\"form-control\" />\r\n          </ng-template>\r\n          <ng-template *ngSwitchDefault>\r\n            <input\r\n              type=\"text\"\r\n              *ngIf=\"fieldType === fieldTypes.String\"\r\n              (change)=\"onChange($event)\"\r\n              [(ngModel)]=\"f.value\"\r\n              name=\"filterValue\"\r\n              class=\"form-control\"\r\n            />\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <button type=\"button\" (click)=\"addFilter($event)\" class=\"btn btn-action btn-small\"><i class=\"fa fa-plus\"></i></button>\r\n\r\n  <strong>&nbsp;{{ i18n.common + 'Add Filter Criteria' | dynamicTranslate }}</strong>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/group-search.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/group-search.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<type-ahead \r\n  [searching]=\"searching\" \r\n  [model]=\"model\" \r\n  [search]=\"search\" \r\n  (selectItem)=\"onSelectItem($event)\"\r\n  [resultFormatter]=\"getResultFormatter\" \r\n  [inputFormatter]=\"getInputFormatter\"></type-ahead>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/kendo-grid-translation.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/kendo-grid-translation.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<kendo-grid-messages [groupPanelEmpty]=\"i18n.kendo + 'groupPanelEmpty' | dynamicTranslate\" [noRecords]=\"i18n.kendo + 'noRecords' | dynamicTranslate\"\r\n  [pagerFirstPage]=\"i18n.kendo + 'pagerFirstPage' | dynamicTranslate\" [pagerPreviousPage]=\"i18n.kendo + 'pagerPreviousPage' | dynamicTranslate\"\r\n  [pagerNextPage]=\"i18n.kendo + 'pagerNextPage' | dynamicTranslate\" [pagerLastPage]=\"i18n.kendo + 'pagerLastPage' | dynamicTranslate\" [pagerPage]=\"i18n.kendo + 'pagerPage' | dynamicTranslate\"\r\n  [pagerOf]=\"i18n.kendo + 'pagerOf' | dynamicTranslate\" [pagerItems]=\"i18n.kendo + 'pagerItems' | dynamicTranslate\" [pagerItemsPerPage]=\"i18n.kendo + 'pagerItemsPerPage' | dynamicTranslate\"\r\n  [filter]=\"i18n.kendo + 'filter' | dynamicTranslate\" [filterEqOperator]=\"i18n.kendo + 'filterEqOperator' | dynamicTranslate\" [filterNotEqOperator]=\"i18n.kendo + 'filterNotEqOperator' | dynamicTranslate\"\r\n  [filterIsNullOperator]=\"i18n.kendo + 'filterIsNullOperator' | dynamicTranslate\" [filterIsNotNullOperator]=\"i18n.kendo + 'filterIsNotNullOperator' | dynamicTranslate\"\r\n  [filterIsEmptyOperator]=\"i18n.kendo + 'filterIsEmptyOperator' | dynamicTranslate\" [filterIsNotEmptyOperator]=\"i18n.kendo + 'filterIsNotEmptyOperator' | dynamicTranslate\"\r\n  [filterStartsWithOperator]=\"i18n.kendo + 'filterStartsWithOperator' | dynamicTranslate\" [filterContainsOperator]=\"i18n.kendo + 'filterContainsOperator' | dynamicTranslate\"\r\n  [filterNotContainsOperator]=\"i18n.kendo + 'filterNotContainsOperator' | dynamicTranslate\" [filterEndsWithOperator]=\"i18n.kendo + 'filterEndsWithOperator' | dynamicTranslate\"\r\n  [filterGteOperator]=\"i18n.kendo + 'filterGteOperator' | dynamicTranslate\" [filterGtOperator]=\"i18n.kendo + 'filterGtOperator' | dynamicTranslate\"\r\n  [filterLteOperator]=\"i18n.kendo + 'filterLteOperator' | dynamicTranslate\" [filterLtOperator]=\"i18n.kendo + 'filterLtOperator' | dynamicTranslate\"\r\n  [filterIsTrue]=\"i18n.kendo + 'filterIsTrue' | dynamicTranslate\" [filterIsFalse]=\"i18n.kendo + 'filterIsFalse' | dynamicTranslate\" [filterBooleanAll]=\"i18n.kendo + 'filterBooleanAll' | dynamicTranslate\"\r\n  [filterAfterOrEqualOperator]=\"i18n.kendo + 'filterAfterOrEqualOperator' | dynamicTranslate\" [filterAfterOperator]=\"i18n.kendo + 'filterAfterOperator' | dynamicTranslate\"\r\n  [filterBeforeOperator]=\"i18n.kendo + 'filterBeforeOperator' | dynamicTranslate\" [filterBeforeOrEqualOperator]=\"i18n.kendo + 'filterBeforeOrEqualOperator' | dynamicTranslate\"\r\n  [filterFilterButton]=\"i18n.kendo + 'filterFilterButton' | dynamicTranslate\" [filterClearButton]=\"i18n.kendo + 'filterClearButton' | dynamicTranslate\"\r\n  [filterAndLogic]=\"i18n.kendo + 'filterAndLogic' | dynamicTranslate\" [filterOrLogic]=\"i18n.kendo + 'filterOrLogic' | dynamicTranslate\"></kendo-grid-messages>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/modal-form.component.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/modal-form.component.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">{{modalTitle}}</h4>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"dismiss()\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n</div>-->\r\n\r\n<div>\r\n    <div class=\"modal-body\">\r\n\r\n        <ng-content></ng-content>\r\n\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"dismiss()\">Cancel</button>\r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"save()\" *ngIf=\"!hideSubmit\" >{{submitButtonName}}</button>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/power-bi/power-bi.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/power-bi/power-bi.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"reportContainer\"></div>\r\n<div class=\"text-center\" *ngIf=\"isLoading\">\r\n    <h2>Loading \r\n        <span>\r\n            <i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>\r\n        </span>\r\n    </h2>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/replace-field.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/replace-field.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <h3>{{i18n.common + 'Replace' | dynamicTranslate}}</h3>\r\n    </div>\r\n</div>\r\n<div *ngIf=\"supportsAdvancedReplace\" class=\"row actions pt-2\">\r\n    <div class=\"col-md-3 btn-group\">\r\n        <button type=\"button\" [class.btn-default]=\"mode != replaceFieldModes.Text\" [class.btn-primary]=\"mode === replaceFieldModes.Text\" class=\"btn btn-primary\"\r\n            (click)=\"toggleAdvancedMode(replaceFieldModes.Text)\">{{i18n.common + 'Text' | dynamicTranslate}}</button>\r\n        <button type=\"button\" [class.btn-default]=\"mode != replaceFieldModes.Advanced\" [class.btn-primary]=\"mode === replaceFieldModes.Advanced\" class=\"btn btn-primary\"\r\n            (click)=\"toggleAdvancedMode(replaceFieldModes.Advanced)\">{{i18n.common + 'Advanced' | dynamicTranslate}}</button>\r\n    </div>\r\n</div>\r\n<div class=\"row pt-2\">\r\n    <div class=\"col-md-4\">\r\n        <label>{{i18n.common + 'Field' | dynamicTranslate}}</label>\r\n        <select class=\"form-control\" [(ngModel)]=\"state.replacementField\" name=\"replaceFieldSelect\" id=\"replaceFieldSelect\" #replaceSourceField=\"ngModel\" (change)=\"updateModel()\" required>\r\n            <option value=\"\" disabled>\r\n                <span>{{i18n.common + 'Select a Field' | dynamicTranslate}}</span>\r\n            </option>\r\n            <option *ngFor=\"let field of state.collection\" [value]=\"field.name\">{{ translatedBaseKey + field.displayName | dynamicTranslate}}</option>\r\n        </select>\r\n        <div *ngIf=\"replaceSourceField.errors && form.submitted\" class=\"alert alert-danger\">\r\n            <div>\r\n                 {{i18n.common + 'Please select a replacement field.' | dynamicTranslate}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <label>{{i18n.common + 'New Value' | dynamicTranslate}}</label>\r\n\r\n      <input *ngIf=\"mode === replaceFieldModes.Text && !state.replacementField\" type=\"text\" disabled=\"true\" [name]=\"replacementValue\" class=\"form-control\">\r\n\r\n      <input type=\"text\" *ngIf=\"mode === replaceFieldModes.Text && state.replacementField && !checkFieldIsDate(state.replacementField)\" [(ngModel)]=\"state.replacementValue\" [name]=\"replacementValue\"\r\n             class=\"form-control\" (change)=\"updateModel()\" (blur)=\"updateModel()\">\r\n\r\n      <kendo-datepicker class=\"form-control\" *ngIf=\"mode === replaceFieldModes.Text && state.replacementField && checkFieldIsDate(state.replacementField) && !checkFieldIsSelection(state.replacementField)\" [(ngModel)]=\"state.replacementValue\"\r\n                        [name]=\"replacementValue\" (change)=\"updateModel()\"></kendo-datepicker>\r\n      \r\n      <select class=\"form-control\" *ngIf=\"mode === replaceFieldModes.Text && state.replacementField && checkFieldIsSelection(state.replacementField)\" \r\n        [(ngModel)]=\"state.replacementValue\" (change)=\"updateModel()\">\r\n        <option value=\"\">\r\n            <span></span>\r\n        </option>\r\n        <option *ngFor=\"let opt of currentSelectionOptions\" [value]=\"opt.value\">{{opt.name}}</option>\r\n      </select>\r\n\r\n      <div #replaceValue contenteditable=\"true\" class=\"form-control\" style=\"overflow-x: hidden\" (input)=\"state.replacementValue=$event.target.textContent\" *ngIf=\"mode === replaceFieldModes.Advanced\"\r\n           (blur)=\"updateModel()\" (keydown)=\"validateAdvancedReplacement($event)\" name=\"replaceValue\"></div>\r\n    </div>\r\n    <div class=\"col-md-4 actions\" *ngIf=\"mode === replaceFieldModes.Advanced\">\r\n        <label>&nbsp;</label><br/>\r\n        <div ngbDropdown class=\"d-inline-block\">\r\n            <button type=\"button\"  class=\"btn btn-primary\" id=\"Advanced\" ngbDropdownToggle>{{i18n.common + 'Insert Field' | dynamicTranslate}}</button>\r\n            <div class=\"dropdown-menu bottom-right\" ngbDropdownMenu aria-labelledby=\"SelectField\">\r\n                <ng-container *ngFor=\"let field of state.collection\">\r\n                    <button type=\"button\" class=\"dropdown-item\"  *ngIf=\"field.fieldType === fieldTypes.Integer || field.fieldType === fieldTypes.Double\" \r\n                        (click)=\"insertAdvancedField(field.name)\">{{translatedBaseKey + field.displayName | dynamicTranslate}}</button>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/typeahead.component.html":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/typeahead.component.html ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"input-group\">\r\n    <div class=\"input-group-addon\">\r\n        <span *ngIf=\"!searching\"><i class=\"fa fa-search\" aria-hidden=\"true\"></i></span>\r\n        <span *ngIf=\"searching\"><i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i></span>\r\n    </div>\r\n\r\n    <input id=\"groupSearchInput\"\r\n        type=\"text\" class=\"form-control\"\r\n        [(ngModel)]=\"model\"\r\n        [ngbTypeahead]=\"search\"\r\n        (selectItem)=\"onSelectItem($event)\"\r\n        [resultFormatter]=\"resultFormatter\"\r\n        [inputFormatter]=\"inputFormatter\"/>\r\n\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/window/default-title-bar.component.html":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/window/default-title-bar.component.html ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #windowTitleBar let-win>\r\n  <div class=\"k-window-title modal-window\">{{translationkey + title | dynamicTranslate}}</div>\r\n  <button kendoWindowCloseAction [window]=\"win\"></button>\r\n</ng-template>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/window/modal-backdrop.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/_shared/components/window/modal-backdrop.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"backdrop\"></div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/admin-home.component.html":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/admin-home.component.html ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container pull-left\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-2\">\r\n      <div class=\"sidebar\">\r\n        <ul class=\"menu list-unstyled\">\r\n          <li>\r\n            <a class=\"nav-link\" href=\"#\" routerLink=\"users\" routerLinkActive=\"menu-active\" i18n=\"Admin menu Users@@sidenavUsers\">Users</a>\r\n          </li>\r\n          <li>\r\n            <a class=\"nav-link\" href=\"#\" routerLink=\"teams\" routerLinkActive=\"menu-active\" i18n=\"Admin menu Teams@@sidenavTeams\">Teams</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-10\">\r\n      <div class=\"form-layout\">\r\n\r\n        <router-outlet></router-outlet>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/group-saves/group-save.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/group-saves/group-save.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngOnSubmit)=\"onSubmit(groupSaveForm)\" #groupSaveForm=\"ngForm\">\r\n  <div class=\"form-group row\">\r\n    <div class=\"row col-md-6\">\r\n        <table>\r\n          <label for=\"savePointNameText\">{{i18n.common + 'Name' | dynamicTranslate}}</label>\r\n          <tr>\r\n            <td>\r\n                <input type=\"text\" class=\"form-control\" id=\"savePointNameText\" name=\"savePointNameText\" required [(ngModel)]=\"savePointName\">\r\n            </td>\r\n            <td>\r\n                <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit(groupSaveForm)\"  style=\"padding: 0.5rem 0.75rem;\"> {{i18n.groupSave + 'Save' | dynamicTranslate}} </button>\r\n            </td>\r\n           \r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div *ngIf=\"isDuplicateName\" class=\"alert alert-danger\">\r\n                <div>\r\n                   {{i18n.admin + 'Save point name already exists under this group. Please enter a unique name.' | dynamicTranslate}}\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"saveClicked && !savePointName\" class=\"alert alert-danger\">\r\n                <div>\r\n                   {{i18n.admin + 'A valid unique name is required to create a save point. Please enter a unique name.' | dynamicTranslate}}\r\n                </div>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n    </div>\r\n  </div>\r\n \r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-12\">\r\n      <famis-grid *ngIf=\"true\" [famisGrid]=\"savePointGrid\" (actionEvent)=\"handleActionEvent($event)\" (updateCacheEvent)=\"updateCache($event)\"></famis-grid>\r\n    </div>\r\n  </div>\r\n  <restore-milestone (onAddOrUpdate)=\"handleAddOrUpdate($event)\" (onAction)=\"handleAction($event)\" ></restore-milestone>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/group-saves/restore-modal.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/group-saves/restore-modal.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n  <form #restoreModal=\"ngForm\">\r\n    <div>\r\n      <div class=\"modal-body\">\r\n          <strong  *ngIf=\"!restoreInitiated\">{{i18n.admin + 'Restore To Savepoint' | dynamicTranslate}}</strong> <br/>\r\n        <div class=\"ml-3\" *ngIf=\"!restoreInitiated\">\r\n          <div>\r\n             {{i18n.admin + 'You are about to restore to the previous saved point' | dynamicTranslate}} <b> <i> {{restoreGroupSave.description}} </i>. </b>\r\n          </div>\r\n          <br/>\r\n          <div>\r\n             {{i18n.admin + 'This may take some time and cannot be cancelled once it has started' | dynamicTranslate}}\r\n          </div>\r\n        </div>\r\n        <div *ngIf=\"!restoreComplete && restoreInitiated\">\r\n          <div style=\"text-align: center;\">\r\n              <strong>{{i18n.admin + 'Restoring...' | dynamicTranslate}}</strong> <br/> <br/> \r\n          </div>\r\n          <div style=\"text-align: center;\">\r\n            <b> <i> {{i18n.admin + 'Please refrain accessing this group until the restoration is complete' | dynamicTranslate}} </i> </b>\r\n          </div>\r\n          <div>\r\n            <span style=\"margin-left: 45%;\"><i class=\"fa fa-spinner fa-spin\" style=\"font-size: 5em;\" aria-hidden=\"true\"></i></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\" *ngIf=\"!restoreInitiated\">\r\n        <button type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\" style=\"padding: 0.5rem 0.75rem;\" >{{i18n.common + 'Cancel' | dynamicTranslate}}</button>                    \r\n        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"restore()\" style=\"padding: 0.5rem 0.75rem;\" >{{i18n.common + 'Restore' | dynamicTranslate}}</button>                    \r\n      </div>\r\n    </div>\r\n  </form>\r\n\r\n  \r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/remove-deactivated/remove-deactivated.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\">\r\n    <a [class.disabled]=\"breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\">{{i18n.common + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n<form (ngSubmit)=\"onSubmit(removeDeactivatedForm)\" #removeDeactivatedForm=\"ngForm\">\r\n\r\n  <h1>{{ i18n.admin + 'Remove Deactivated  Assets & Buildings' | dynamicTranslate}}</h1>\r\n  <br/>\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-6\">\r\n      <label for=\"typeSelect\">{{ i18n.admin + 'Select Type' | dynamicTranslate}}</label>\r\n      <select class=\"form-control\" [(ngModel)]=\"selectedType\" name=\"costFieldSelect\" id=\"typeSelect\" #typeSelectOptions=\"ngModel\" required >\r\n        <option value=\"0\">{{ i18n.admin + 'Both' | dynamicTranslate}}</option>\r\n        <option value=\"1\">{{ i18n.admin + 'Assets' | dynamicTranslate}}</option>\r\n        <option value=\"2\">{{ i18n.admin + 'Buildings' | dynamicTranslate}}</option>\r\n      </select>\r\n      <div *ngIf=\"typeSelectOptions.errors && removeDeactivatedForm.submitted\"\r\n      class=\"alert alert-danger\">\r\n       {{ i18n.common + 'Please select the type.' | dynamicTranslate}}\r\n    </div>\r\n      <label for=\"Datatarget\">{{ i18n.admin + 'Select data target' | dynamicTranslate}}</label>\r\n      <select [(ngModel)]=\"selectedDatatarget\" class=\"form-control\" #DatatargetSelectOptions=\"ngModel\" name=\"SelectDatatarget\" id=\"selectDatatarget\">\r\n        <option value=\"\" selected=\"true\">{{ i18n.admin + 'All' | dynamicTranslate}}</option>\r\n        <option value=\"0\">{{ i18n.admin + 'Client' | dynamicTranslate}}</option>\r\n        <option value=\"1\">{{ i18n.admin + 'Inventory' | dynamicTranslate}}</option>\r\n        <option value=\"2\">{{ i18n.admin + 'Consolidated' | dynamicTranslate}}</option>\r\n       </select>\r\n\r\n    </div>\r\n  </div>\r\n\r\n \r\n  <div class=\"form-group\">\r\n<button class=\"btn btn-primary\">{{ i18n.common + 'Apply' | dynamicTranslate}}</button>\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-edit.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-edit.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container\">\r\n  <div class=\"col-md-12\">\r\n    <p><span><strong><ng-container i18n=\"Name@@teameditName\">Name</ng-container>:</strong></span>&nbsp;{{team.Name}}</p>\r\n    <p><span><strong><ng-container i18n=\"Active@@teameditActive\">Active</ng-container>:</strong></span>&nbsp;{{team.Active}}</p>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-home.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-home.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col col-lg-6\">\r\n      <team-list></team-list>\r\n    </div>\r\n    <div class=\"col col-lg-6\">\r\n      <team-edit></team-edit>\r\n    </div>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-list.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/team/team-list.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<kendo-grid [resizable]=\"true\" [data]=\"teams\" [selectable]=\"true\" [rowSelected]=\"isRowSelected\" (selectionChange)=\"selectRow($event)\">\r\n  <kendo-grid-column field=\"Name\" i18n-title=\"Grid-Name col@@teamgridNameCol\" title=\"Name\" [width]=\"150\"></kendo-grid-column>\r\n  <kendo-grid-column field=\"Active\" i18n-title=\"Grid-Active col@@teamgridActiveCol\" title=\"Active\" [width]=\"40\">\r\n    <ng-template kendoGridCellTemplate let-user>\r\n\r\n      <div class=\"checkbox k-form-field\">\r\n        <input type=\"checkbox\" class=\"k-checkbox\" id=\"userActive\" [checked]=\"user.Active\" disabled>\r\n        <label class=\"k-checkbox-label\" for=\"userActive\"></label>\r\n      </div>\r\n\r\n    </ng-template>\r\n  </kendo-grid-column>\r\n</kendo-grid>\r\n<div *ngIf=\"selectedTeam\">\r\n  <h2>{{selectedTeam.Name}} </h2>\r\n  <div>\r\n    <label>\r\n      <ng-container i18n=\"Name label@@teamlistName\">Name</ng-container>: </label>\r\n    <input [(ngModel)]=\"selectedTeam.Name\" i18n-placeholder=\"Name placeholder for team name@@teamlistNamePlaceholder\" placeholder=\"name\"\r\n    />\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/template-management.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/template-management.component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container\">\r\n\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-10\">\r\n        <h1>{{i18n.templateManagement + 'Template Management' | dynamicTranslate }}</h1>\r\n      </div>\r\n      <div class=\"col-md-2 text-right\">\r\n        <button type=\"button\" routerLink=\"/admin/templates/builder\" class=\"btn btn-primary\">{{i18n.templateManagement + 'Create New' | dynamicTranslate }}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <br />\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div>\r\n        <kendo-grid [resizable]=\"true\" [data]=\"gridData\" [pageSize]=\"state.take\" [skip]=\"state.skip\" [sort]=\"state.sort\" [filter]=\"state.filter\" [sortable]=\"true\"\r\n                    [pageable]=\"true\" [filterable]=\"true\" (dataStateChange)=\"dataStateChange($event)\" [rowClass]=\"isDisabled\" (filterChange)=\"handleFilterChange($event)\">\r\n          <kendo-grid-column field=\"name\" title=\"{{i18n.templateManagement + 'Template Name' | dynamicTranslate }}\" width=\"20%\">\r\n              <ng-template kendoGridFilterCellTemplate let-filter let-column=\"column\">\r\n                  <kendo-grid-string-filter-cell\r\n                    [column]=\"column\"\r\n                    [filter]=\"filter\">\r\n                      <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                      <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                      <kendo-filter-startswith-operator></kendo-filter-startswith-operator>\r\n                      <kendo-filter-contains-operator></kendo-filter-contains-operator>\r\n                      <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>\r\n                      <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                      <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                  </kendo-grid-string-filter-cell>\r\n              </ng-template>\r\n          </kendo-grid-column>\r\n          <!--Todo: Get CountryName, DateCreate and LastUsed added to GetTemplateDTO -->\r\n          <kendo-grid-column field=\"officeName\" title=\"{{i18n.templateManagement + 'Office' | dynamicTranslate }}\" width=\"20%\">\r\n              <ng-template kendoGridFilterCellTemplate let-filter let-column=\"column\">\r\n                  <kendo-grid-string-filter-cell\r\n                    [column]=\"column\"\r\n                    [filter]=\"filter\">\r\n                      <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                      <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                      <kendo-filter-startswith-operator></kendo-filter-startswith-operator>\r\n                      <kendo-filter-contains-operator></kendo-filter-contains-operator>\r\n                      <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>\r\n                      <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                      <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                  </kendo-grid-string-filter-cell>\r\n              </ng-template>\r\n          </kendo-grid-column>\r\n          <kendo-grid-column field=\"lastUsed\" [filterable]=\"false\" title=\"{{i18n.templateManagement + 'Last Used' | dynamicTranslate }}\" width=\"20%\">\r\n            <ng-template kendoGridCellTemplate let-dataItem>\r\n              <div *ngIf=\"dataItem.lastUsed != null\">{{ dataItem.lastUsed | localTime }}</div>\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n          <kendo-grid-column field=\"isRetired\" title=\"{{i18n.templateManagement + 'Status' | dynamicTranslate }}\" [filterable]=\"false\" width=\"20%\">\r\n            <ng-template kendoGridCellTemplate let-dataItem>\r\n              <div>{{i18n.common + (dataItem.isRetired ? 'Enable' : 'Disable') | dynamicTranslate }}</div>\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n          <kendo-grid-column field=\"Actions\" [filterable]=\"false\" title=\"{{i18n.templateManagement + 'Actions' | dynamicTranslate }}\" width=\"20%\">\r\n            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n              <a href=\"#\" routerLink=\"/admin/templates/builder/{{dataItem.id}}\">{{i18n.common + 'Edit' | dynamicTranslate }}</a>\r\n              <a href=\"#\" (click)=\"handleCopy(dataItem.id, $event)\">{{i18n.common + 'Copy' | dynamicTranslate }}</a>\r\n              <a (click)=\"toggleIsRetired(dataItem.id, $event)\" href=\"#\">{{i18n.common + (dataItem.isRetired ? 'Enable' : 'Disable') | dynamicTranslate }}</a>\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n\r\n        </kendo-grid>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/custom-field/custom-field.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/custom-field/custom-field.component.html ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"custom-field-form\">\r\n    <h4 class=\"page-header\">{{i18n.common + 'Custom Field.' | dynamicTranslate }}</h4>\r\n  \r\n    <form [formGroup]=\"form\">\r\n      <div formArrayName=\"customFields\">\r\n  \r\n        <div *ngFor=\"let itemrow of this.formArray.controls; let i=index;\">\r\n          <div formGroupName=\"{{i}}\">\r\n            <div class=\"form-group row\">\r\n              <div class=\"col-md-4\">\r\n                <input formControlName=\"name\" class=\"form-control\">\r\n                <div *ngIf=\"isNameFieldDirty(itemrow)\" class=\"alert alert-danger\">\r\n                   {{i18n.projectProfile + GetNameFieldErrors(itemrow) | dynamicTranslate }}\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <select formControlName=\"fieldType\" class=\"form-control\" required >\r\n                  <option disabled>{{i18n.templateManagement + 'Select custom field type' | dynamicTranslate }}</option>\r\n                  <option>{{i18n.common + 'String' | dynamicTranslate }}</option>\r\n                  <option>{{i18n.common + 'Integer' | dynamicTranslate }}</option>\r\n                  <option>{{i18n.common + 'Double' | dynamicTranslate }}</option>\r\n                  <option>{{i18n.common + 'Date' | dynamicTranslate }}</option>\r\n                  <option>{{i18n.common + 'Boolean' | dynamicTranslate }}</option>\r\n                </select>\r\n                <div *ngIf=\"isSelectFieldDirty(itemrow)\" class=\"alert alert-danger\">\r\n                  {{i18n.templateManagement + 'Please select a custom field type.' | dynamicTranslate }}\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-4\" *ngIf=\"!isEditTemplate\">\r\n                <button (click)=\"deleteRow(itemrow)\" type=\"button\" class=\"btn btn-action btn-small\"><i class=\"fa fa-minus\"></i></button> &nbsp; {{i18n.templateManagement + 'Remove Field' | dynamicTranslate }}\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n  \r\n      </div>\r\n  \r\n    </form>\r\n  \r\n    <button type=\"button\" (click)=\"addNewRow()\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-plus\"></i>\r\n    </button> &nbsp; {{i18n.templateManagement + 'Add New Custom Field' | dynamicTranslate }}\r\n  </div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step1/template-builder-step1.component.html":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step1/template-builder-step1.component.html ***!
  \************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(dataImportForm)\" #dataImportForm=\"ngForm\" (keydown)=\"handleKeyDown($event)\">\r\n\r\n  <div class=\"form-group row\">\r\n    <div *ngIf=\"!templateWizard.isEditingForGroup\" class=\"col-6\">\r\n      <label for=\"inputTemplateName\">{{i18n.templateManagement + 'Template Name' | dynamicTranslate }}</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"inputTemplateName\" aria-describedby=\"inputTemplateName\" [(ngModel)]=\"template.name\"\r\n        name=\"Name\" required #inputTemplateName=\"ngModel\" (input)=\"onInputChange($event.target.value)\">\r\n\r\n      <div *ngIf=\"isDuplicate\" class=\"alert alert-danger\">\r\n         {{i18n.templateManagement + 'This name is already in use.' | dynamicTranslate }}\r\n      </div>\r\n\r\n      <div *ngIf=\"inputTemplateName.errors && (inputTemplateName.dirty || inputTemplateName.touched || dataImportForm.submitted)\"\r\n        class=\"alert alert-danger\">\r\n        <div [hidden]=\"!inputTemplateName.errors.required\">\r\n           {{i18n.templateManagement + 'Please create a template name.' | dynamicTranslate }}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div *ngIf=\"templateWizard.isEditingForGroup\" class=\"col-6\">\r\n      <label for=\"inputTemplateName\">{{i18n.templateManagement + 'Template Name' | dynamicTranslate }}</label>\r\n      <input readonly type=\"text\" class=\"form-control\" id=\"inputTemplateName\" aria-describedby=\"inputTemplateName\" [(ngModel)]=\"template.name\"\r\n        name=\"Name\" #inputTemplateName=\"ngModel\">\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-6\">\r\n      <label for=\"selectOffice\">{{i18n.projectProfile + 'Office' | dynamicTranslate }}</label>\r\n      <select class=\"form-control\" [(ngModel)]=\"template.officeId\" name=\"Office\" id=\"selectOffice\" required #selectOffice=\"ngModel\">\r\n        <option disabled>{{i18n.templateManagement + 'Select an office' | dynamicTranslate }}</option>\r\n        <option *ngFor=\"let opt of offices | orderBy: 'name'\" [value]=\"opt.id\">{{i18n.projectProfile + 'Office_' + opt.name | dynamicTranslate }}</option>\r\n      </select>\r\n\r\n      <div *ngIf=\"selectOffice.errors && (selectOffice.dirty || selectOffice.touched || dataImportForm.submitted)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!selectOffice.errors.required\">\r\n           {{i18n.templateManagement + 'Please select an office.' | dynamicTranslate }}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-6\">\r\n\r\n      <label for=\"multiSelectModule\">{{i18n.templateManagement + 'Module Selection' | dynamicTranslate }}</label>\r\n      <select multiple class=\"form-control\" id=\"multiSelectModule\" [(ngModel)]=\"selectedModuleIds\" name=\"Module\" required #multiSelectModule=\"ngModel\">\r\n        <option selected [disabled]=\"opt.isRequired\" *ngFor=\"let opt of modules | orderBy: 'order'\" [value]=\"opt.id\">{{i18n.common + opt.name | dynamicTranslate }}</option>\r\n\r\n      </select>\r\n      <small class=\"text-muted\">\r\n        {{i18n.templateManagement + 'Ctrl + click to select all fields that apply' | dynamicTranslate }}\r\n      </small>\r\n\r\n      <div *ngIf=\"multiSelectModule.errors && (multiSelectModule.dirty || multiSelectModule.touched || dataImportForm.submitted)\"\r\n        class=\"alert alert-danger\">\r\n        <div [hidden]=\"!multiSelectModule.errors.required\">\r\n           {{i18n.templateManagement + 'Please select at least one module.' | dynamicTranslate }}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"!templateWizard.isEditingForGroup\" class=\"form-check\">\r\n\r\n\r\n    <input type=\"checkbox\" class=\"k-checkbox\" id=\"isMasterTemplate\" [(ngModel)]=\"template.isMasterTemplate\" name=\"isMasterTemplate\">\r\n    <label class=\"k-checkbox-label\" for=\"isMasterTemplate\">{{i18n.templateManagement + 'Save as Master Template' | dynamicTranslate }}</label>\r\n\r\n\r\n\r\n  </div>\r\n\r\n  <div class=\"wizard-actions\">\r\n\r\n\r\n    <button class=\"btn btn-default\" (click)='onCancel($event)'>{{i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n\r\n\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step2/template-builder-step2.component.html":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step2/template-builder-step2.component.html ***!
  \************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(dataImportForm)\" #dataImportForm=\"ngForm\" (keydown)=\"handleKeyDown($event)\">\r\n\r\n  <div class=\"form-group row\" *ngFor=\"let module of selectedModules | orderBy: 'order'\">\r\n\r\n    <ng-container *ngIf=\"!isModuleOnly(module)\">\r\n      <div class=\"col-8\">\r\n\r\n        <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n        <label for=\"multiSelectModule\">{{i18n.templateManagement + 'Available Fields for Template' | dynamicTranslate }}</label>\r\n        <select multiple class=\"form-control\" [(ngModel)]=\"selectedModuleFieldIds[module.id]\" name=\"selectedModuleFieldIds{{module.id}}\">\r\n          <option *ngFor=\"let item of module.moduleFields | orderBy: 'order'\" [value]=\"item.id\">\r\n             {{i18n.projectProfile + item.name | dynamicTranslate }}\r\n          </option>\r\n        </select>\r\n        <small class=\"text-muted\">\r\n          {{i18n.templateManagement + 'Ctrl + click to select all fields that apply' | dynamicTranslate }}\r\n        </small>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"col-12\">\r\n        <app-custom-field [moduleId]=\"module.id\" (customFieldAdded)='addCustomField($event)' (customFieldRemoved)='removeCustomField($event)'\r\n          [customFields]='customFields' [invalidFieldTypeIndexes]='invalidCustomFieldDataTypes' [invalidFieldNameIndexes]='invalidCustomFieldNames'\r\n          [isEditTemplate]=\"isEdit\">\r\n        </app-custom-field>\r\n      </div>\r\n\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"isModuleOnly(module)\">\r\n\r\n        <div class=\"col-8\">\r\n\r\n          <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n          <label for=\"multiSelectModule\">{{i18n.templateManagement + 'Enabled for Template' | dynamicTranslate }}</label>\r\n        </div>\r\n    </ng-container>\r\n\r\n  </div>\r\n\r\n\r\n\r\n  <div class=\"wizard-actions\">\r\n\r\n    <button class=\"btn btn-default\" (click)=\"navigateBack($event)\">{{i18n.common + 'Back' | dynamicTranslate }}</button>\r\n\r\n    <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n\r\n  </div>\r\n\r\n\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.html":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step3/template-builder-step3.component.html ***!
  \************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"formBuilderDropArea\">\r\n  <form (ngSubmit)=\"onSubmit(dataImportForm)\" #dataImportForm=\"ngForm\" (keydown)=\"handleKeyDown($event)\">\r\n\r\n\r\n    <ng-container *ngFor=\"let module of selectedModules\">\r\n\r\n      <div class=\"py-2\" *ngIf=\"isModuleOnly(module)\">\r\n        <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n\r\n        <div class='drag-drop-container'>\r\n        \r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-md-12\">\r\n               <h4>{{i18n.templateManagement + 'Enabled for Template' | dynamicTranslate }}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      <div class=\"py-2\" *ngIf=\"!isModuleOnly(module)\">\r\n\r\n\r\n        <ng-container *ngIf=\"formLayouts[module.id].hasSelectedFields\">\r\n\r\n          <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n\r\n\r\n\r\n          <div class='parent'>\r\n            <div class='drag-drop-container field-bank' *ngIf=\"formLayouts[module.id].customFieldsAvailable.length > 0\">\r\n              <h4>\r\n                <em>{{i18n.templateManagement + 'Drag Custom Field(s) to Form Layout in Desired Order' | dynamicTranslate }}</em>\r\n              </h4>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6\" [dragula]='module.id' [dragulaModel]='formLayouts[module.id].customFieldsAvailable'>\r\n                  <div class='template-field' *ngFor=\"let field of formLayouts[module.id].customFieldsAvailable\">\r\n                     {{field.name}}\r\n                    <div class=\"pull-right draggable-arrow\">\r\n                      <i class=\"fa fa-arrows\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n            <div class='drag-drop-container'>\r\n              <h3>{{i18n.templateManagement + 'Form Layout' | dynamicTranslate }}</h3>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6\" attr.data-moduleid=\"{{module.id}}\" [dragula]='module.id' [dragulaModel]='formLayouts[module.id].oddOrderedFields'>\r\n                  <div class='template-field' *ngFor=\"let field of formLayouts[module.id].oddOrderedFields\">\r\n                    <ng-container *ngIf=\"!field.isCustomField\">\r\n                    {{i18n.projectProfile + field.name | dynamicTranslate }}\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"field.isCustomField\">\r\n                      {{field.name}}\r\n                    </ng-container>\r\n                    <div class=\"pull-right draggable-arrow\">\r\n                      <i class=\"fa fa-arrows\"></i>\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n\r\n\r\n                <div class=\"col-md-6\" attr.data-moduleid=\"{{module.id}}\" [dragula]='module.id' [dragulaModel]='formLayouts[module.id].evenOrderedFields'>\r\n                  <div class='template-field' *ngFor=\"let field of formLayouts[module.id].evenOrderedFields\">\r\n                      <ng-container *ngIf=\"!field.isCustomField\">\r\n                          {{i18n.projectProfile + field.name | dynamicTranslate }}\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"field.isCustomField\">\r\n                            {{field.name}}\r\n                          </ng-container>                    <div class=\"pull-right draggable-arrow\">\r\n                      <i class=\"fa fa-arrows\"></i>\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n\r\n\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n        </ng-container>\r\n      </div>\r\n    </ng-container>\r\n\r\n\r\n\r\n\r\n    <div class=\"wizard-actions\">\r\n\r\n      <button class=\"btn btn-default\" (click)=\"navigateBack($event)\">{{i18n.common + 'Back' | dynamicTranslate }}</button>\r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n\r\n    </div>\r\n\r\n\r\n  </form>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step4/template-builder-step4.component.html":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-step4/template-builder-step4.component.html ***!
  \************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit()\" #dataImportForm=\"ngForm\" (keydown)=\"handleKeyDown($event)\">\r\n\r\n  <div class=\"module-layout-preview\" *ngFor=\"let module of selectedModules\">\r\n\r\n    <ng-container *ngIf=\"module.moduleFields.length === 0\">\r\n      <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n\r\n      <h4>Enabled for Template</h4>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"isModuleOnly(module)\">\r\n        <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n        <p>Enabled for Template</p>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"!isModuleOnly(module) && module.moduleFields.length > 0\">\r\n      <h2>{{i18n.common + module.name | dynamicTranslate }}</h2>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <div class=\"form-group\" *ngFor=\"let field of formLayouts[module.id].oddOrderedFields\">\r\n\r\n            <label for=\"input[field.Id]\">{{field.name}}</label>\r\n            <input disabled type=\"text\" class=\"form-control\" id=\"input[field.Id]\" aria-describedby=\"input[field.Id]\" placeholder=\"\">\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n          <div class=\"form-group\" *ngFor=\"let field of formLayouts[module.id].evenOrderedFields\">\r\n\r\n\r\n            <label for=\"input[field.Id]\">{{field.name}}</label>\r\n            <input disabled type=\"text\" class=\"form-control\" id=\"input[field.id]\" aria-describedby=\"input[field.id]\" placeholder=\"\">\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n    </ng-container>\r\n\r\n  </div>\r\n\r\n  <div class=\"wizard-actions\">\r\n\r\n    <button class=\"btn btn-default\" (click)=\"navigateBack($event)\">{{i18n.common + 'Back' | dynamicTranslate }}</button>\r\n\r\n    <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-wizard.component.html":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/template/wizard/template-builder-wizard.component.html ***!
  \**************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n<div [class.container]=\"!isEditingForGroup\">\r\n\r\n  <h1 appTooltip=\"test\">{{i18n.templateManagement + name | dynamicTranslate }}</h1>\r\n\r\n  <ngb-tabset (tabChange)=\"beforeChange($event)\" type=\"pills\" #tabs>\r\n    <ngb-tab id=\"step-1\">\r\n      <ng-template ngbTabTitle><span>{{i18n.templateManagement + 'Step 1' | dynamicTranslate }}</span><em>{{i18n.templateManagement + 'Setup & Choose Modules' | dynamicTranslate }}</em></ng-template>\r\n      <ng-template ngbTabContent>\r\n        \r\n        <app-template-builder-step1 [template]='template' [templates]='templates' [modules]='modules' [offices]='offices' [selectedModules]='selectedModules' (templateUpdated)='onTemplateUpdated($event)' ></app-template-builder-step1>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n    <ngb-tab id=\"step-2\" [disabled]=\"isActive('step-2')\">\r\n      <ng-template ngbTabTitle ><span>{{i18n.templateManagement + 'Step 2' | dynamicTranslate }}</span><em>{{i18n.templateManagement + 'Choose Fields Per Module' | dynamicTranslate }}</em></ng-template>\r\n      <ng-template ngbTabContent>\r\n      \r\n        <app-template-builder-step2   [template]='template' [modules]='modules' [selectedModules]='selectedModules' (templateUpdated)='onTemplateUpdated($event)'></app-template-builder-step2>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n\r\n    <ngb-tab id=\"step-3\" [disabled]=\"isActive('step-3')\">\r\n      <ng-template ngbTabTitle><span>{{i18n.templateManagement + 'Step 3' | dynamicTranslate }}</span><em>{{i18n.templateManagement + 'Create Form Layout' | dynamicTranslate }}</em></ng-template>\r\n      <ng-template ngbTabContent>\r\n        \r\n        <app-template-builder-step3 [template]='template' [modules]='modules' [selectedModules]='selectedModules'></app-template-builder-step3>\r\n\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n    <ngb-tab id=\"step-4\" [disabled]=\"isActive('step-4')\">\r\n      <ng-template ngbTabTitle><span>{{i18n.templateManagement + 'Step 4' | dynamicTranslate }}</span><em>{{i18n.templateManagement + 'Review & Finish' | dynamicTranslate }}</em></ng-template>\r\n      <ng-template ngbTabContent>\r\n        \r\n        <app-template-builder-step4 [template]='template' [modules]='modules' [selectedModules]='selectedModules'></app-template-builder-step4>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n \r\n\r\n  </ngb-tabset>\r\n  \r\n\r\n\r\n\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-edit.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-edit.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container\">\r\n  <div class=\"col-md-12\">\r\n      <p><span><strong><ng-container i18n=\"Username@@usereditUsername\">Username</ng-container>:</strong></span>&nbsp;{{user.Username}}</p>\r\n    <p><span><strong><ng-container i18n=\"Name@@usereditName\">Name</ng-container>:</strong></span>&nbsp;{{user.Name}}</p>\r\n    <p><span><strong><ng-container i18n=\"Active@@usereditActive\">Active</ng-container>:</strong></span>&nbsp;{{user.Active}}</p>\r\n    <p><span><strong><ng-container i18n=\"Date Added@@usereditDateAdded\">Date Added</ng-container>: </strong>&nbsp;{{user.DateAdded | kendoDate }}</span></p>\r\n    <p><span><strong><ng-container i18n=\"Donation amount@@usereditDonation\">Donation Amount</ng-container>: </strong>&nbsp;{{user.DonationAmount | kendoNumber:'c' }}</span></p>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-home.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-home.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col col-lg-6\">\r\n    <user-list></user-list>\r\n  </div>\r\n  <div class=\"col col-lg-6\">\r\n    <user-edit></user-edit>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-list.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/admin/components/user/user-list.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col col-lg-6\">\r\n    <kendo-grid [resizable]=\"true\" [data]=\"users\" [selectable]=\"true\" [rowSelected]=\"isRowSelected\" (selectionChange)=\"selectRow($event)\">\r\n      <kendo-grid-column field=\"Username\" i18n-title=\"User list Username col@@userlistUsernameCol\" title=\"Username\" [width]=\"100\"></kendo-grid-column>\r\n      <kendo-grid-column field=\"Name\" i18n-title=\"User list Name col@@userlistNameCol\" title=\"Name\" [width]=\"150\"></kendo-grid-column>\r\n      <kendo-grid-column field=\"Active\" i18n-title=\"User list Active col@@userlistActiveCol\" title=\"Active\" [width]=\"40\">\r\n        <ng-template kendoGridCellTemplate let-user>\r\n\r\n          <div class=\"checkbox k-form-field\">\r\n            <input type=\"checkbox\" class=\"k-checkbox\" id=\"userActive\" [checked]=\"user.Active\" disabled>\r\n            <label class=\"k-checkbox-label\" for=\"userActive\"></label>\r\n          </div>\r\n    \r\n\r\n        </ng-template>\r\n      </kendo-grid-column>\r\n    </kendo-grid>\r\n    <div *ngIf=\"selectedUser\">\r\n      <h2>{{selectedUser.Name}} </h2>\r\n      <div><label><ng-container i18n=\"User list username label@@userlistUsername\"></ng-container>{{i18n.common + 'Username:' | dynamicTranslate}}&nbsp; </label>{{selectedUser.Username}}</div>\r\n      <div>\r\n        <label><ng-container i18n=\"User list name label@@userlistName\">{{i18n.common + 'Name' | dynamicTranslate}}</ng-container>: </label>\r\n        <input [(ngModel)]=\"selectedUser.Name\" i18n-placeholder=\"User list name placeholder@@userlistinputNamePlaceholder\" placeholder=\"name\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col col-lg-6\">\r\n    <user-edit [user]=\"selectedUser\"></user-edit>\r\n  </div>\r\n  <button (click)=\"delete()\" i18n=\"User list delete all users button text@@userlistDeleteAllButton\">{{i18n.admin + 'Delete All Users' | dynamicTranslate}}</button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/app.component.html":
/*!*********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/app.component.html ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div [class.isBusy]=\"isBusy\" class=\"wrapper\">\r\n\r\n    <div class=\"spinner\">\r\n        <div class=\"dot1\"></div>\r\n        <div class=\"dot2\"></div>\r\n      </div>\r\n\r\n  <router-outlet></router-outlet>\r\n</div>\r\n\r\n<ng-container *ngIf=\"!isBusy && userIsActive == false && isAuthError != true\">\r\n\r\n  <div class=\"container error-pages\">\r\n    <!-- Jumbotron -->\r\n    <div class=\"jumbotron\">\r\n      <h1>You Are Logged Out</h1>\r\n      <p class=\"lead\">Your session has expired and you have been logged out.</p>\r\n      <!-- <p>Detail: {{errorMessage}}</p> -->\r\n      <p>\r\n        <a i18n=\"\" class=\"\" href=\"#\" [routerLink]=\"['/dashboard']\">Take me to the Dashboard</a>\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n</ng-container>\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/dashboard/components/dashboard-home.component.html":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/dashboard/components/dashboard-home.component.html ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"ProjectProfile\" class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <nav class=\"col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar\" *ngIf=\"!isCollapsed\" [@inOutFromLeftSideAnimation]>\r\n            <ul class=\"menu list-unstyled\">\r\n                <li>\r\n                    <a class=\"nav-link\" href=\"#\" [routerLink]=\"['/dashboard/all-projects']\" routerLinkActive=\"active\">{{'dashboard.home.leftnav.All Projects' | dynamicTranslate}}</a>\r\n                </li>\r\n            </ul>\r\n            \r\n        </nav>\r\n\r\n        <main [ngClass]=\"{'col-sm-9 offset-sm-3 col-md-10 offset-md-2 menu-expanded' : isCollapsed === false, 'col-sm-12 ml-2 pt-3 mr-2' : isCollapsed === true}\">\r\n            <router-outlet></router-outlet>\r\n        </main>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/dashboard/components/dashboard.component.html":
/*!************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/dashboard/components/dashboard.component.html ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"DashboardModule\">\r\n  <div class=\"row\">\r\n    <br />\r\n    <div class=\"col-md-10 pull-left\">\r\n      <h1>{{ i18n.common + 'All Projects' | dynamicTranslate }}</h1>\r\n    </div>\r\n  </div>\r\n  <br />\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12 actions pb-2\">\r\n      <button *ngIf=\"headers.length > 0 && !defaultFilterSet\" class=\"btn btn-sm btn-secondary float-right\" type=\"button\" (click)=\"saveDefaultFilter()\">{{i18n.common + 'Save Default Filter' | dynamicTranslate}}</button>\r\n      <button *ngIf=\"headers.length > 0 && defaultFilterSet\" class=\"btn btn-sm btn-primary float-right\" type=\"button\" (click)=\"clearDefaultFilter()\">{{i18n.common + 'Clear Default Filter' | dynamicTranslate}}</button>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div>\r\n        <kendo-grid\r\n          *ngIf=\"headers.length > 0\"\r\n          [selectable]=\"true\"\r\n          [data]=\"gridViewData\"\r\n          [filter]=\"state.filter\"\r\n          [filterable]=\"true\"\r\n          [pageSize]=\"state.take\"\r\n          [reorderable]=\"true\"\r\n          [sortable]=\"true\"\r\n          [sort]=\"state.sort\"\r\n          [pageable]=\"true\"\r\n          [pageSize]=\"state.take\"\r\n          [skip]=\"state.skip\"\r\n          (sortChange)=\"sortChange($event)\"\r\n          (filterChange)=\"filterChange($event)\"\r\n          (dataStateChange)=\"dataStateChange($event)\" (columnReorder)=\"onColumnReorder($event)\"\r\n        >\r\n          <ng-container *ngFor=\"let column of headers | orderBy: 'order'\">\r\n            <kendo-grid-column #grid\r\n              [reorderable]=\"true\"\r\n              field=\"{{column.name}}\"\r\n              format=\"{{column.format}}\"\r\n              title=\"{{getColumnTitle(column)}}\"\r\n              editable=\"{{column.isEditable}}\"\r\n            >\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\" let-filterService=\"filterService\">\r\n                  <kendo-grid-string-filter-cell [column]=\"column\" [filter]=\"filter\">\r\n                    <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                    <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                    <kendo-filter-startswith-operator></kendo-filter-startswith-operator>\r\n                    <kendo-filter-contains-operator></kendo-filter-contains-operator>\r\n                    <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>\r\n                    <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                    <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                  </kendo-grid-string-filter-cell>\r\n                </ng-template>\r\n\r\n                <div class=\"btn-circle\">{{ dataItem[column.name] }}</div>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n          </ng-container>\r\n\r\n        \r\n\r\n          <kendo-grid-column [reorderable]=\"false\" [title]=\"i18n.common + 'Actions' | dynamicTranslate\" width=\"100\">\r\n            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n              <a class=\"clickable-link\" (click)=\"navigateToProject(dataItem.primaryGroupId, $event)\">{{\r\n                i18n.dashboard + 'View Project' | dynamicTranslate\r\n              }}</a>\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n\r\n          <div *kendoGridDetailTemplate=\"let dataItem\"><dashboard-groups [id]=\"dataItem.id\"></dashboard-groups></div>\r\n\r\n        </kendo-grid>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/create-custom-column.component.html":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/create-custom-column.component.html ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open($event)\" class=\"btn btn-action btn-small custom-fields\">\r\n    <i class=\"fa fa-plus\"></i>\r\n</button>\r\n<strong> &nbsp; {{ i18n.common + 'Add Custom Column' | dynamicTranslate }}</strong>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n\r\n    <form (ngSubmit)=\"onSubmit(createCustomColumnForm)\" #createCustomColumnForm=\"ngForm\">\r\n\r\n        <div class=\"modal-body\">\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"columnNameInput\">{{i18n.common + 'Name' | dynamicTranslate}}\r\n                    <span class=\"required-indicator\">*</span>\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" name=\"columnName\" id=\"columnNameInput\" required #columnNameInput=\"ngModel\" [(ngModel)]=\"name\"\r\n                    pattern=\"^[a-zA-Z_$][a-zA-Z_$0-9]*$\">\r\n\r\n                <div *ngIf=\"columnNameInput.errors && (columnNameInput.dirty || columnNameInput.touched || columnNameInput.submitted)\" class=\"alert alert-danger\">\r\n                    <div [hidden]=\"!columnNameInput.errors.required\">\r\n                        {{i18n.common + 'Field name is required.' | dynamicTranslate }}.\r\n                    </div>\r\n                    <div [hidden]=\"!columnNameInput.errors?.pattern\">{{i18n.common + 'customcolumnscannotcontainspacesorspecialcharacters.' | dynamicTranslate }}.</div>\r\n                </div>\r\n                <div *ngIf=\"!isNameValid\" class=\"alert alert-danger\">\r\n                    {{i18n.common + 'Field name must be unique.' | dynamicTranslate }}.      \r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"customColumnDataTypeSelect\">{{i18n.common + 'Data Type' | dynamicTranslate}}</label>\r\n                <select class=\"form-control\" [(ngModel)]=\"dataType\" name=\"customColumnDataType\" id=\"customColumnDataTypeSelect\" required\r\n                    #customColumnDataTypeSelect=\"ngModel\">\r\n                    <option value=\"\" disabled selected>{{i18n.common + 'Select Data Type' | dynamicTranslate }}</option>\r\n                    <option *ngFor=\"let opt of customColumnDataTypes\" [value]=\"opt.dataType\">{{i18n.common + opt.displayName | dynamicTranslate }}</option>\r\n                </select>\r\n\r\n                <div *ngIf=\"customColumnDataTypeSelect.errors && (customColumnDataTypeSelect.dirty || customColumnDataTypeSelect.touched || customColumnDataTypeSelect.submitted)\"\r\n                    class=\"alert alert-danger\">\r\n                    <div [hidden]=\"!customColumnDataTypeSelect.errors.required\">\r\n                        {{i18n.common + 'Please select a data type' | dynamicTranslate }}.\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"close()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + action | dynamicTranslate}}</button>\r\n        </div>\r\n\r\n    </form>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-finish.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-finish.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"!isError\">\r\n    <ngb-alert type=\"success\" [dismissible]=\"false\">\r\n      <b>{{i18n.dataImport + 'Copy Successful' | dynamicTranslate }}</b>\r\n      <br> {{rowsCopied}} {{  i18n.dataImport + 'records were successfully copied to the' | dynamicTranslate }} {{dataTargetName}} {{  i18n.dataImport + 'Asset File' | dynamicTranslate}}\r\n    </ngb-alert>\r\n</div>\r\n<div *ngIf=\"isError\">\r\n    <ngb-alert type=\"danger\" [dismissible]=\"false\">\r\n        <b>{{i18n.dataImport + 'Copy Failed' | dynamicTranslate }}</b>\r\n        <br />\r\n        <br />\r\n        <div *ngIf=\"errorMessage?.length\">\r\n            {{i18n.dataImport + 'Details' | dynamicTranslate }}:\r\n            <br />\r\n            {{errorMessage}}\r\n        </div>\r\n        <div *ngIf=\"!errorMessage?.length\">\r\n            {{i18n.dataImport + 'Details' | dynamicTranslate }}:\r\n            <br />\r\n            {{i18n.dataImport + 'An unknown error has occurred during the Data Copy proccess' | dynamicTranslate }}.\r\n        </div>\r\n    </ngb-alert>\r\n</div>\r\n\r\n<div class=\"wizard-actions\">\r\n    <button class=\"btn btn-primary\" (click)=\"finish($event)\">{{ i18n.dataImport + 'Finish' | dynamicTranslate }}</button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-groups.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-groups.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group row\">\r\n    <div class=\"col-6\">\r\n        <label for=\"AvailableDataTargets\">{{i18n.dataImport + 'Destination Data Options' | dynamicTranslate}}</label>\r\n        <select class=\"form-control\" id=\"AvailableDataTargets\" [(ngModel)]=\"dataTargetName\" name=\"selectedDataTarget\"\r\n        #inputAvailableDataTargets=\"ngModel\" (ngModelChange)=\"dataTargetChanged($event)\" required>\r\n            <option value=\"\" disabled>{{ i18n.dataImport + 'Select a Data Option' | dynamicTranslate }}</option>\r\n            <option *ngFor=\"let opt of availableDataTargets\" [value]=\"opt.name\">{{i18n.dataImport + opt.name | dynamicTranslate }}</option>\r\n        </select>\r\n\r\n        <div *ngIf=\"inputAvailableDataTargets.errors && (inputAvailableDataTargets.dirty || inputAvailableDataTargets.touched)\"\r\n            class=\"alert alert-danger\">\r\n            <div [hidden]=\"!inputAvailableDataTargets.errors.required\">\r\n                {{ i18n.dataImport + 'Please select a data option' | dynamicTranslate }}\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"dataTargetName?.length && dataAlreadyExists\" class=\"alert alert-warning\">\r\n            {{i18n.dataImport + 'Warning: The' | dynamicTranslate }} {{i18n.dataImport + dataTargetName | dynamicTranslate}} {{i18n.dataImport + 'Asset File already contains data' | dynamicTranslate }}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row pt-3\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"form-group\">\r\n                <label class=\"radio-inline pr-2\">\r\n                    <input type=\"radio\" [(ngModel)]=\"model.copyType\"  (click)=\"updateCopyType($event)\" name=\"copyType\" value='replace' [checked]=\"model.copyType==='replace'\">\r\n                        {{i18n.dataImport + 'Replace' | dynamicTranslate}}\r\n                </label>\r\n                <label class=\"radio-inline pl-2\">\r\n                    <input type=\"radio\" (click)=\"updateCopyType($event)\" [(ngModel)]=\"model.copyType\"  name=\"copyType\" value='append' [checked]=\"model.copyType==='append'\">\r\n                        {{i18n.dataImport + 'Append' | dynamicTranslate }}\r\n                </label>\r\n            </div>\r\n            <div #selections></div>\r\n            <button type=\"button\" (click)=\"addSelection()\" class=\"btn btn-action btn-small\">\r\n                <i class=\"fa fa-plus\"></i>\r\n            </button>\r\n            <strong>&nbsp;{{i18n.dataImport + 'Add Selection' | dynamicTranslate}}</strong>\r\n        </div>\r\n    </div>\r\n    \r\n    <div *ngIf=\"selectionErrors\" class=\"row pt-3 pl-3\">\r\n        <div class=\"alert alert-danger\">\r\n            <div>\r\n                {{ i18n.dataImport + 'Please be sure to choose a Destination as well as a Contract and Group for each selection' | dynamicTranslate }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"form-group pt-4\">\r\n        <button [disabled]=\"!hasSelections()\" class=\"btn btn-primary\" (click)=\"copyData()\">{{ i18n.dataImport + 'Copy Data to Group' | dynamicTranslate }}</button>\r\n    </div>\r\n   ");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-wizard.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-copy-wizard.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"DataImport\">\r\n    <ngb-tabset type=\"pills\" #copytabs>\r\n      <ngb-tab id=\"step-1-copy\">\r\n        <ng-template ngbTabTitle>\r\n          <span>{{i18n.dataImport + 'Step 1' | dynamicTranslate }}</span>\r\n          <em>{{i18n.dataImport + 'Copy Data' | dynamicTranslate }}</em>\r\n        </ng-template>\r\n        <ng-template ngbTabContent>\r\n  \r\n          <app-data-copy-groups></app-data-copy-groups>\r\n  \r\n        </ng-template>\r\n      </ngb-tab>\r\n      <ngb-tab id=\"step-2-copy\" [disabled]=\"isActive('step-2-copy')\">\r\n        <ng-template ngbTabTitle>\r\n          <span>{{i18n.dataImport + 'Step 2' | dynamicTranslate }}</span>\r\n          <em>{{i18n.dataImport + 'Finish Copy' | dynamicTranslate }}</em>\r\n        </ng-template>\r\n        <ng-template ngbTabContent>\r\n\r\n          <app-data-copy-finish></app-data-copy-finish>\r\n\r\n        </ng-template>\r\n      </ngb-tab>\r\n  \r\n    </ngb-tabset>\r\n  </div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-finish.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-finish.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"!isError\">\r\n  <ngb-alert type=\"success\" [dismissible]=\"false\">\r\n    <b>{{i18n.dataImport + 'Upload Successful' | dynamicTranslate}}</b>\r\n    <br>{{importResult.rowsAdded}} {{i18n.dataImport + dataImport.spreadsheetUpload.dataTargetName | dynamicTranslate}} records were successfully added.\r\n    <span><br>{{importResult.rowsUpdated}} {{i18n.dataImport + dataImport.spreadsheetUpload.dataTargetName | dynamicTranslate}} records were successfully updated.</span>\r\n  </ngb-alert>\r\n    \r\n</div>\r\n<div *ngIf=\"isError\">\r\n  <ngb-alert type=\"danger\" [dismissible]=\"false\">\r\n    <b>{{i18n.dataImport + 'Upload Failed' | dynamicTranslate }}</b>\r\n    <br /> \r\n    {{i18n.dataImport + 'The selected spreadsheet was not able to be imported.  Please verify column mapping and/or spreadsheet data format' | dynamicTranslate }}\r\n    <br />\r\n    <br />\r\n    {{i18n.dataImport + 'Details' | dynamicTranslate}}:\r\n    <br />\r\n    <span *ngFor=\"let error of importResult.errors\">\r\n      {{error}}\r\n      <br />\r\n    </span>\r\n  </ngb-alert>\r\n</div>\r\n\r\n<div class=\"wizard-actions\">\r\n  <button *ngIf=\"isError\" (click)=\"back($event)\" class=\"btn btn\">{{ i18n.common + 'Back' | dynamicTranslate }}</button>\r\n\r\n  <button class=\"btn btn-primary\" (click)=\"onSave($event)\">{{ i18n.dataImport + 'Finish' | dynamicTranslate}}</button>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-mapping.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-mapping.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\" style=\"margin-bottom:20px;\">\r\n  <div class=\"col-md-8 d-inline\">\r\n    <button type=\"button\" class=\"btn btn-small btn-primary\" data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\" (click)=\"toggleAutoMapped()\">\r\n      {{i18n.dataImport + showHideAutoMappedText | dynamicTranslate }}\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-small btn-primary\" data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\" (click)=\"toggleCategories()\">\r\n      {{i18n.dataImport + showHideCategoriesText | dynamicTranslate }}\r\n    </button>\r\n    <select *ngIf=\"!activeReplace && !isBuilding\" class=\"float-right form-control-sm\" (change)=\"onKeyFieldSelect()\" [(ngModel)]=\"keyFieldId\">\r\n      <option value=\"\" disabled>Select Key Field</option>\r\n      <ng-container *ngFor=\"let option of keyFields | orderBy: 'name'\">\r\n        <option [value]=\"option.id\">{{option.name}}</option>\r\n      </ng-container>\r\n    </select>\r\n    <label *ngIf=\"isBuilding\"class=\"float-right\">Using Display ID as key field</label>\r\n  </div>\r\n  <div class=\"col-md-4\">\r\n    <h4><span>{{i18n.dataImport + 'mappedColumns' | dynamicTranslate}}</span><span> {{mappedSpreadsheetColumns}}</span></h4>\r\n    <h4><span>{{i18n.dataImport + 'unmappedColumns' | dynamicTranslate}}</span><span> {{unmappedSpreadsheetColumns}}</span></h4>\r\n  </div>\r\n</div>\r\n\r\n<form (ngSubmit)=\"onSubmit(dataMappingForm)\" #dataMappingForm=\"ngForm\" (change)=\"updateMappedTotals()\">\r\n  <div class=\"form-group data-map-table\">\r\n    <table class=\"table table-striped table-bordered\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">\r\n            {{ i18n.common + 'Destination' | dynamicTranslate }}: {{i18n.dataImport + dataTargetName | dynamicTranslate }}\r\n          </th>\r\n          <th scope=\"col\">\r\n            {{ i18n.common + 'Source' | dynamicTranslate }}: {{sourceSpreadsheetName}}\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <ng-container *ngIf=\"hideCategories\">\r\n          <tr *ngFor=\"let map of (mapping | showAutoMapped:hideAutoMapped)\" [ngClass]=\"{'is-mapped':map.spreadsheetColumn.name}\">\r\n            <td> {{i18n.dataImport + map.dataTargetField | dynamicTranslate }} ( {{map.columnDataType }}{{map.colLength==0 ? '': ', ' + map.colLength  }} )</td>\r\n            <td>\r\n              <select class=\"form-control form-control-sm data-mapping\" id=\"DataMapping\" name=\"{{map.importTemplateColumnId}}\" (change)=\"updateAvailableOptions($event)\"\r\n                [(ngModel)]=\"map.spreadsheetColumn.name\">\r\n                <option value=\"\"></option>\r\n                <ng-container *ngFor=\"let option of spreadsheetColumnsAvail\">\r\n                  <option *ngIf=\"option.column.name === map.spreadsheetColumn.name\" [value]=\"option.column.name\">{{option.column.title}}</option>\r\n                  <option *ngIf=\"!option.isMapped\" [value]=\"option.column.name\">{{option.column.title}}</option>\r\n                </ng-container>\r\n              </select>\r\n            </td>\r\n          </tr>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!hideCategories\">\r\n          <ng-container *ngFor=\"let columnCategory of columnCategories\">\r\n            <tr *ngIf=\"(columnCategory.columnMap | showAutoMapped:hideAutoMapped)?.length > 0\">\r\n              <td colspan=\"2\" style=\"background-color: #465661; font-size: 1.2rem; text-align: center; color: #ffffff;\">\r\n                {{ i18n.dataImport + columnCategory.categoryName | dynamicTranslate }}\r\n              </td>\r\n            </tr>\r\n            <tr *ngFor=\"let map of (columnCategory.columnMap | showAutoMapped:hideAutoMapped)\" [ngClass]=\"{'is-mapped':map.spreadsheetColumn.name}\">\r\n              <td> {{i18n.dataImport + map.dataTargetField | dynamicTranslate }} ( {{map.columnDataType }}{{map.colLength==0 ? '': ', ' + map.colLength  }} )</td>\r\n              <td>\r\n                <select class=\"form-control form-control-sm data-mapping\" id=\"DataMapping\" name=\"{{map.importTemplateColumnId}}\" (change)=\"updateAvailableOptions($event)\"\r\n                  [(ngModel)]=\"map.spreadsheetColumn.name\">\r\n                  <option value=\"\"></option>\r\n                  <ng-container *ngFor=\"let option of spreadsheetColumnsAvail\">\r\n                    <option *ngIf=\"option.column.name === map.spreadsheetColumn.name\" [value]=\"option.column.name\">{{option.column.title}}</option>\r\n                    <option *ngIf=\"!option.isMapped\" [value]=\"option.column.name\">{{option.column.title}}</option>\r\n                  </ng-container>\r\n                </select>\r\n              </td>\r\n            </tr>\r\n          </ng-container>          \r\n        </ng-container>\r\n      </tbody>\r\n    </table>\r\n    <create-custom-column  [columnNames]=\"columnNames\" (onAddCustomColumn)=\"handleCreatedCustomColumn($event)\"></create-custom-column>\r\n  </div>\r\n  <ngb-alert type=\"danger\" (close)=\"closeAlert()\" *ngIf=\"showMappingAlert\">\r\n    {{ i18n.dataImport + 'Please map data fields before continuing' | dynamicTranslate}} </ngb-alert>\r\n  <ngb-alert type=\"danger\" (close)=\"closeAlert()\" *ngIf=\"showKeyFieldMappingAlert\">\r\n    {{ i18n.dataImport + 'Please select a key field to update' | dynamicTranslate}}</ngb-alert>\r\n  <ngb-alert type=\"danger\" (close)=\"closeAlert()\" *ngIf=\"!hasDisplayIdColumn && isBuilding\">\r\n    {{ i18n.dataImport + 'Spreadsheet does not contain Display Id column' | dynamicTranslate}}</ngb-alert>\r\n  <div class=\"form-group\">\r\n    <button (click)=\"back($event)\" class=\"btn btn\">{{ i18n.common + 'Back' | dynamicTranslate}}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" [ladda]=\"isLoading\">{{ i18n.common + 'Continue' | dynamicTranslate}}</button>\r\n  </div>\r\n</form>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-parent.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-parent.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1 appTooltip=\"test\">{{i18n.dataImport + 'Import Data' | dynamicTranslate}}</h1>\r\n\r\n<ngb-tabset type=\"pills\" id=\"parent-tabs\">\r\n  <ngb-tab id=\"option-1\">\r\n    <ng-template ngbTabTitle>\r\n      <span>{{i18n.dataImport + 'Upload Data' | dynamicTranslate}}</span>\r\n    </ng-template>\r\n    <ng-template ngbTabContent>\r\n\r\n      <app-data-import></app-data-import>\r\n\r\n    </ng-template>\r\n  </ngb-tab>\r\n  <ngb-tab id=\"option-2\" [disabled]=\"dataImportService.importResult.success\">\r\n    <ng-template ngbTabTitle>\r\n      <span>{{i18n.dataImport + 'Copy Data' | dynamicTranslate}}</span>\r\n    </ng-template>\r\n    <ng-template ngbTabContent>\r\n\r\n      <app-data-copy></app-data-copy>\r\n\r\n    </ng-template>\r\n  </ngb-tab>\r\n  <ngb-tab id=\"option-3\">\r\n    <ng-template ngbTabTitle>\r\n      <span>{{i18n.dataImport + 'PROS Renewal' | dynamicTranslate}}</span>\r\n    </ng-template>\r\n    <ng-template ngbTabContent>\r\n\r\n      <pros-renewal-wizard></pros-renewal-wizard>\r\n\r\n    </ng-template>\r\n  </ngb-tab>\r\n</ngb-tabset>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-review.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-review.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ngb-alert type=\"danger\" [dismissible]=\"false\" *ngIf=\"spreadsheetHasErrors\">\r\n    <b>{{ i18n.dataImport + 'Upload Failed: ' + APIError | dynamicTranslate}}</b>\r\n    <br> {{ i18n.dataImport + 'Please validate spreadsheet data' | dynamicTranslate}}</ngb-alert>\r\n\r\n<form (ngSubmit)=\"onSubmit(dataImportForm)\" #dataImportForm=\"ngForm\">\r\n\r\n  <kendo-grid [resizable]=\"true\" [data]=\"sampleData\" [reorderable]=\"true\">\r\n\r\n    <ng-container *ngFor=\"let column of headers\">\r\n      <kendo-grid-column [width]=\"200\" field=\"{{column.key}}\" title=\"{{i18n.dataImport + column.key | dynamicTranslate }}\"\r\n        *ngIf=\"column.key != 'Id'\"></kendo-grid-column>\r\n    </ng-container>\r\n\r\n  </kendo-grid>\r\n\r\n  <div class=\"form-group\">\r\n    <button (click)=\"back($event)\" class=\"btn btn\">{{ i18n.common + 'Back' | dynamicTranslate }}</button>\r\n\r\n    <button type=\"submit\" [disabled]=\"spreadsheetHasErrors\" [ngStyle]=\"{'cursor': spreadsheetHasErrors ? 'not-allowed' : 'pointer'}\" [ladda]=\"isLoading\" class=\"btn btn-primary\">{{i18n.common + 'Import Records' | dynamicTranslate }}</button>\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-upload.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-upload.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ngb-alert type=\"danger\" [dismissible]=\"false\" *ngIf=\"showMissingFileAlert\">\r\n  <b>{{ i18n.dataImport + 'Upload Failed: ' + APIError | dynamicTranslate}}</b>\r\n  <br> {{ i18n.dataImport + 'Please upload a valid Excel file (.xlsx)' | dynamicTranslate}}</ngb-alert>\r\n\r\n<form (ngSubmit)=\"onSubmit(dataImportForm)\" #dataImportForm=\"ngForm\">\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-6\">\r\n      <label for=\"AvailableDataOptions\">{{i18n.dataImport + 'Available Data Options' | dynamicTranslate}}</label>\r\n      <select class=\"form-control\" id=\"AvailableDataOptions\" [(ngModel)]=\"dto.dataTargetId\" name=\"selectedDataOption\" required\r\n        #inputAvailableDataOptions=\"ngModel\">\r\n        <option value=\"\" disabled>{{i18n.dataImport + 'Select a Data Option' | dynamicTranslate}}</option>\r\n        <option *ngFor=\"let opt of availableDataTargets\" [value]=\"opt.id\">{{ i18n.dataImport + opt.name | dynamicTranslate}}</option>\r\n\r\n      </select>\r\n\r\n      <div *ngIf=\"inputAvailableDataOptions.errors && (inputAvailableDataOptions.dirty || inputAvailableDataOptions.touched || dataImportForm.submitted)\"\r\n        class=\"alert alert-danger\">\r\n        <div [hidden]=\"!inputAvailableDataOptions.errors.required\">\r\n          {{i18n.dataImport + 'Please select a data option' | dynamicTranslate}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n<div *ngIf=\"dataImportService.dataImportHistory\">\r\n  <div class=\"form-group\">\r\n    <label *ngIf=\"!dataImportService.reconciliationStarted && !isConsolidatedSelected()\" class=\"radio-inline pr-2\">\r\n      <input type=\"radio\" name=\"replace\" (change)=\"buttonChange('replace')\" [checked]=\"replace && isButtonSelected\">\r\n      {{i18n.dataImport + 'Replace' | dynamicTranslate}}\r\n    </label>\r\n    <label class=\"radio-inline pl-2\">\r\n      <input type=\"radio\" name=\"append\" (change)=\"buttonChange('append')\" [checked]=\"!replace && isButtonSelected\">\r\n      {{i18n.dataImport + 'Append' | dynamicTranslate}}</label>\r\n    <div *ngIf=\"!isButtonSelected && dataImportForm.submitted\" class=\"alert alert-danger\">\r\n      <div [hidden]=\"isButtonSelected\">\r\n        {{i18n.dataImport + 'Please select an import option' | dynamicTranslate}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-6\">\r\n      <label for=\"exampleInputFile\" id=\"label\">{{i18n.dataImport + 'Upload Spreadsheet' | dynamicTranslate}}</label>\r\n\r\n      <input *ngIf=\"!dataImport.spreadsheetUpload\" type=\"file\" (change)=\"fileChange($event)\" name=\"file\" accept=\".xlsx\" class=\"form-control-file\" id=\"exampleInputFile\"\r\n        aria-describedby=\"fileHelp\">\r\n\r\n        <div *ngIf=\"dataImport.spreadsheetUpload\">\r\n            <button type=\"button\" (click)=\"clear()\">{{i18n.common + 'Clear File' | dynamicTranslate}}</button>\r\n            {{ dto.fileName }}\r\n        </div>\r\n      \r\n      <small id=\"fileHelp\" class=\"form-text text-muted\">{{i18n.dataImport + 'Upload a valid .xlsx file' | dynamicTranslate}}</small>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <button [disabled]=\"!dto.file\" [ladda]=\"isLoading\" type=\"submit\" (click)=\"importAfterReconciliation && !isConsolidatedSelected() ? displayPostReconcilModal($event, dataImportForm) : true\"\r\n      class=\"btn btn-primary\">{{i18n.dataImport + 'Upload &amp; Continue' | dynamicTranslate}}</button>\r\n\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-wizard.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-import-wizard.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"DataImport-Module\">\r\n\r\n  <ngb-tabset type=\"pills\" #tabs *ngIf=\"canDataImport && !isLoading\">\r\n    <ngb-tab id=\"step-1\" [disabled]=\"isActive('') || !!dataImportService.importResult.success\">\r\n      <ng-template ngbTabTitle>\r\n        <span>{{i18n.dataImport + 'Step 1' | dynamicTranslate}}</span>\r\n        <em>{{i18n.dataImport + 'Import Spreadsheet Data' | dynamicTranslate }}</em>\r\n      </ng-template>\r\n      <ng-template ngbTabContent>\r\n\r\n        <app-data-import-upload></app-data-import-upload>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n    <ngb-tab id=\"step-2\" [disabled]=\"isActive('step-2') || !!dataImportService.importResult.success\">\r\n      <ng-template ngbTabTitle>\r\n        <span>{{i18n.dataImport + 'Step 2' | dynamicTranslate }}</span>\r\n        <em>{{i18n.dataImport + 'Map Source to Destination' | dynamicTranslate }}</em>\r\n      </ng-template>\r\n      <ng-template ngbTabContent>\r\n\r\n        <app-data-import-mapping></app-data-import-mapping>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n    <ngb-tab id=\"step-3\" [disabled]=\"isActive('step-3') || !!dataImportService.importResult.success\">\r\n      <ng-template ngbTabTitle>\r\n        <span>{{i18n.dataImport + 'Step 3' | dynamicTranslate}}</span>\r\n        <em>{{i18n.dataImport + 'Review Data' | dynamicTranslate }}</em>\r\n      </ng-template>\r\n      <ng-template ngbTabContent>\r\n        <app-data-import-review></app-data-import-review>\r\n      </ng-template>\r\n    </ngb-tab>\r\n    <!--TODO: Determine why a ExpressionChangedAfterItHasBeenCheckedError is thrown when we get to step-4 -->\r\n        <ngb-tab id=\"step-4\">\r\n      <ng-template ngbTabTitle>\r\n        <span>{{i18n.dataImport + 'Step 4' | dynamicTranslate}}</span>\r\n        <em>{{i18n.dataImport + 'Finish Import' | dynamicTranslate}}</em>\r\n      </ng-template>\r\n      <ng-template ngbTabContent>\r\n        <app-data-import-finish></app-data-import-finish>\r\n      </ng-template>\r\n    </ngb-tab>\r\n\r\n  </ngb-tabset>\r\n\r\n  \r\n  <div class=\"row buffer-row\" *ngIf=\"!canDataImport  && !isLoading\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"alert alert-danger\">\r\n        {{errorMessage || i18n.dataImport + 'Data import is not allowed as consolidated file exists' | dynamicTranslate}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-pros-renewal.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/data-pros-renewal.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group row\">\r\n  <div class=\"col-6\">\r\n      <label for=\"AvailableDataTargets\">{{i18n.dataImport + 'Destination Data Options' | dynamicTranslate}}</label>\r\n      <select class=\"form-control\" id=\"AvailableDataTargets\" [(ngModel)]=\"dataTargetName\" name=\"selectedDataTarget\"\r\n      #inputAvailableDataTargets=\"ngModel\" (ngModelChange)=\"dataTargetChanged($event)\" required>\r\n          <option value=\"\" disabled>{{ i18n.dataImport + 'Select a Data Option' | dynamicTranslate }}</option>\r\n          <option *ngFor=\"let opt of availableDataTargets\" [value]=\"opt.name\">{{i18n.dataImport + opt.name | dynamicTranslate }}</option>\r\n      </select>\r\n\r\n      <div *ngIf=\"inputAvailableDataTargets.errors && (inputAvailableDataTargets.dirty || inputAvailableDataTargets.touched)\"\r\n          class=\"alert alert-danger\">\r\n          <div [hidden]=\"!inputAvailableDataTargets.errors.required\">\r\n              {{ i18n.dataImport + 'Please select a data option' | dynamicTranslate }}\r\n          </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"dataTargetName?.length && dataAlreadyExists\" class=\"alert alert-warning\">\r\n          {{i18n.dataImport + 'Warning: The' | dynamicTranslate }} {{i18n.dataImport + dataTargetName | dynamicTranslate}} {{i18n.dataImport + 'Asset File already contains data' | dynamicTranslate }}\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row pt-3\">\r\n      <div class=\"col-md-12\">\r\n          <div class=\"form-group\">\r\n              <label class=\"radio-inline pr-2\">\r\n                  <input type=\"radio\" [(ngModel)]=\"model.copyType\"  (click)=\"updateCopyType($event)\" name=\"copyType\" value='replace' [checked]=\"model.copyType==='replace'\">\r\n                      {{i18n.dataImport + 'Replace' | dynamicTranslate}}\r\n              </label>\r\n              <label class=\"radio-inline pl-2\">\r\n                  <input type=\"radio\" (click)=\"updateCopyType($event)\" [(ngModel)]=\"model.copyType\"  name=\"copyType\" value='append' [checked]=\"model.copyType==='append'\">\r\n                      {{i18n.dataImport + 'Append' | dynamicTranslate }}\r\n              </label>\r\n          </div>\r\n          <div #selections></div>\r\n          <button type=\"button\" (click)=\"addSelection()\" class=\"btn btn-action btn-small\">\r\n              <i class=\"fa fa-plus\"></i>\r\n          </button>\r\n          <strong>&nbsp;{{i18n.dataImport + 'Add Selection' | dynamicTranslate}}</strong>\r\n      </div>\r\n  </div>\r\n  \r\n  <div *ngIf=\"selectionErrors\" class=\"row pt-3 pl-3\">\r\n      <div class=\"alert alert-danger\">\r\n          <div>\r\n              {{ i18n.dataImport + 'Please be sure to choose a Destination as well as a Contract and Group for each selection' | dynamicTranslate }}\r\n          </div>\r\n      </div>\r\n  </div>\r\n  \r\n  <div class=\"form-group pt-4\">\r\n      <button [disabled]=\"!hasSelections()\" class=\"btn btn-primary\" (click)=\"prosRenewal()\" >{{ i18n.dataImport + 'PROS Renewal' | dynamicTranslate }}</button>\r\n  </div>\r\n ");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/pros-renewal-wizard.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/data-import/components/pros-renewal-wizard.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"DataImport\">\r\n  <ngb-tabset type=\"pills\" #prostabs>\r\n    <ngb-tab id=\"step-1-copy\">\r\n      <ng-template ngbTabTitle>\r\n        <span>{{i18n.dataImport + 'Step 1' | dynamicTranslate }}</span>\r\n        <em>{{i18n.dataImport + 'Copy Data' | dynamicTranslate }}</em>\r\n      </ng-template>\r\n      <ng-template ngbTabContent>\r\n\r\n        <app-data-pros-renewal></app-data-pros-renewal>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n    <ngb-tab id=\"step-2-copy\" [disabled]=\"isActive('step-2-copy')\">\r\n      <ng-template ngbTabTitle>\r\n        <span>{{i18n.dataImport + 'Step 2' | dynamicTranslate }}</span>\r\n        <em>{{i18n.dataImport + 'Finish Renewal' | dynamicTranslate }}</em>\r\n      </ng-template>\r\n      <ng-template ngbTabContent>\r\n\r\n        <app-data-copy-finish></app-data-copy-finish>\r\n\r\n      </ng-template>\r\n    </ngb-tab>\r\n\r\n  </ngb-tabset>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/access-denied.component.html":
/*!*************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/access-denied.component.html ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container error-pages\">\r\n  <!-- Jumbotron -->\r\n  <div class=\"jumbotron\">\r\n    <h1>Access Denied</h1>\r\n    <p class=\"lead\">You do not have permissions to access the requested resource.</p>\r\n    <p>\r\n      <a i18n=\"\" class=\"\" href=\"/dashboard\" >Take me to the Dashboard</a>\r\n    </p>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/conflict-transaction-error.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/conflict-transaction-error.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container error-pages\">\r\n  <div class=\"jumbotron\">\r\n    <h1>\r\n      <span class=\"glyphicon glyphicon-fire \"></span> {{i18n.common + 'Conflict' | dynamicTranslate}}\r\n    </h1>\r\n    <p class=\"lead\">{{i18n.common + 'The web server is returning a 409 conflict.' | dynamicTranslate}}</p>\r\n    <p class=\"lead\">{{i18n.common + 'To Resolve: Revert the latest transaction with identical displayId.' | dynamicTranslate}}</p>\r\n    <p>\r\n      <a (click)=\"backToPrevious()\">\r\n        <u>{{i18n.common + 'Go back to previous page.' | dynamicTranslate}}</u>\r\n      </a>\r\n    </p>\r\n    <p>\r\n      <a [routerLink]=\"['/dashboard']\">\r\n        <u>{{i18n.common + 'Take me to the Dashboard' | dynamicTranslate}}</u>\r\n      </a>\r\n    </p>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/internal-server-error.component.html":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/internal-server-error.component.html ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container error-pages\">\r\n  <!-- Jumbotron -->\r\n  <div class=\"jumbotron\">\r\n    <h1><span class=\"glyphicon glyphicon-fire \"></span>Internal Server Error</h1>\r\n    <p class=\"lead\">The web server is returning an internal error.</p>\r\n    <a i18n=\"\" href=\"#\" (click)=\"reload($event)\">Take me to the Dashboard</a>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/not-found.component.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/not-found.component.html ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container error-pages\">\r\n  <!-- Jumbotron -->\r\n  <div class=\"jumbotron\">\r\n    <h1>Not Found </h1>\r\n    <p class=\"lead\">We couldn't find what you're looking for.</p>\r\n    <p>\r\n      <a i18n=\"\" class=\"\" href=\"#\" [routerLink]=\"['/dashboard']\">Take me to the Dashboard</a>\r\n    </p>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/unauthorized.component.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/error/unauthorized.component.html ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container error-pages\">\r\n  <!-- Jumbotron -->\r\n  <div class=\"jumbotron\">\r\n    <h1>Access Denied</h1>\r\n    <p class=\"lead\">You do not have permissions to login</p>\r\n    <p>\r\n      <a i18n=\"\" class=\"\" href=\"#\" [routerLink]=\"['/dashboard']\">Take me to the Dashboard</a>\r\n    </p>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/file-upload/components/file-upload/file-upload.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/file-upload/components/file-upload/file-upload.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"pb-4\">\r\n  <h1>{{ i18n.fileUpload + 'File Upload' | dynamicTranslate }}</h1>\r\n</div>\r\n<div>\r\n  <famis-grid *ngIf=\"!!finalizedDocumentsGrid.loading && !!finalizedDocumentsGrid.selectedHeaders\"\r\n    [famisGrid]=\"finalizedDocumentsGrid\" (sortChanged)=\"handleSortChanged($event)\" (actionEvent)=\"handleFinalizedFilesActionEvent($event)\">\r\n  </famis-grid>\r\n  <div *ngIf=\"!isUploading\">\r\n    <div class=\"checkbox k-form-field ml-1\">\r\n      <input [id]=\"'isInternal'\" [(ngModel)]=\"isInternalDocument\" class=\"k-checkbox\" type=\"checkbox\" value=\"\">\r\n      <label class=\"k-checkbox-label\" [for]=\"'isInternal'\">{{ i18n.fileUpload + 'Do not publish to portal' | dynamicTranslate }}</label>\r\n    </div>\r\n    <file-upload-control [supportedFileTypes]=\"acceptedFileTypes\" (onFileUploadRequested)=\"uploadFile($event)\"></file-upload-control>\r\n  </div>\r\n  <div *ngIf=\"isUploading\">\r\n     <h3>{{ i18n.fileUpload + 'Uploading' | dynamicTranslate }} <i class=\"fa fa-circle-o-notch fa-spin\"></i></h3> \r\n  </div>\r\n</div>\r\n\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/edit-group-template.component.html":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/edit-group-template.component.html ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<app-template-builder-wizard *ngIf=\"templateId\" [editingTemplateForGroupId]=\"templateId\" [groupId]=\"groupId\"></app-template-builder-wizard>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management-form.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management-form.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<router-outlet></router-outlet>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management-modal.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management-modal.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open()\" class=\"btn btn-action btn-small\"><i class=\"fa fa-plus\"></i></button>\r\n<strong> &nbsp; {{i18n.common + 'Add Group' | dynamicTranslate}}</strong>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n    \r\n    <form (ngSubmit)=\"onSubmit(manageGroupForm)\" #manageGroupForm=\"ngForm\">\r\n    <div>\r\n        <div class=\"modal-body\">\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"nameInput\">{{i18n.common + 'Name' | dynamicTranslate}}</label>\r\n                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.groupName\" name=\"nameInput\" #nameInput=\"ngModel\" required />\r\n\r\n                <div *ngIf=\"nameInput.errors && manageGroupForm.submitted\" class=\"alert alert-danger\">\r\n                    <div>\r\n                         {{i18n.common + 'Please enter a name.' | dynamicTranslate}}\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"uniqueNameError && manageGroupForm.submitted\" class=\"alert alert-danger\">\r\n                    <div>\r\n                       {{selectedGroupName}} {{i18n.common + 'already exists. Please enter a unique name.' | dynamicTranslate}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label for=\"\">{{i18n.common + 'Select Template' | dynamicTranslate}}</label>\r\n                <type-ahead \r\n                    [searching]=\"searching\" \r\n                    [model]=\"model\" \r\n                    [search]=\"search\" \r\n                    (selectItem)=\"onSelectItem($event)\"\r\n                    [resultFormatter]=\"getResultFormatter\" \r\n                    [inputFormatter]=\"getInputFormatter\"></type-ahead>\r\n\r\n                <div *ngIf=\"!request.templateId && manageGroupForm.submitted\" class=\"alert alert-danger\">\r\n                    <div>\r\n                        {{i18n.common + 'Please select a template.' | dynamicTranslate}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" (click)=\"windowManager.close()\" class=\"btn btn-default\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    </form>\r\n\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/groups/components/group-management.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1>{{i18n.common + 'Group Management' | dynamicTranslate}}</h1>\r\n\r\n<div class=\"row buffer-row\">\r\n    <div class=\"col-md-12\">\r\n        <!-- Add loading indicator -->\r\n        <div id=\"group-management-grid\">\r\n            <kendo-grid [data]=\"gridData\" [pageSize]=\"state.take\" [skip]=\"state.skip\" [sort]=\"state.sort\"\r\n                [filter]=\"state.filter\" [sortable]=\"true\" [pageable]=\"true\" [filterable]=\"true\" (filterChange)=\"handleFilterChange($event)\"\r\n                (dataStateChange)=\"dataStateChange($event)\" filterable=\"menu\">\r\n                <kendo-grid-column class=\"grid-actions\" field=\"Actions\" [filterable]=\"false\"\r\n                    title=\"{{i18n.dashboard + 'actions' | dynamicTranslate}}\" width=\"20%\">\r\n                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                        <a (click)=\"handleActionEvent(dataItem, 'Edit')\">{{i18n.common + 'Edit' | dynamicTranslate}}</a>\r\n                        <a (click)=\"handleActionEvent(dataItem, 'Delete')\">{{i18n.common + 'Delete' | dynamicTranslate}}</a>\r\n                    </ng-template>\r\n                </kendo-grid-column>\r\n\r\n                <kendo-grid-column field=\"groupName\" title=\"{{i18n.dashboard + 'groupname' |dynamicTranslate}}\" width=\"40%\">\r\n                    <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\">\r\n                        <kendo-grid-string-filter-menu [column]=\"column\" [filter]=\"filter\">\r\n                            <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                            <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                            <kendo-filter-startswith-operator></kendo-filter-startswith-operator>\r\n                            <kendo-filter-contains-operator></kendo-filter-contains-operator>\r\n                            <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>\r\n                            <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                            <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                        </kendo-grid-string-filter-menu>\r\n                    </ng-template>\r\n                </kendo-grid-column>\r\n\r\n                <kendo-grid-column field=\"templateName\" title=\"{{i18n.dashboard+'templatename' | dynamicTranslate}}\" width=\"40%\">\r\n                    <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\">\r\n                        <kendo-grid-string-filter-menu [column]=\"column\" [filter]=\"filter\">\r\n                            <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                            <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                            <kendo-filter-startswith-operator></kendo-filter-startswith-operator>\r\n                            <kendo-filter-contains-operator></kendo-filter-contains-operator>\r\n                            <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>\r\n                            <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                            <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                        </kendo-grid-string-filter-menu>\r\n                    </ng-template>\r\n                </kendo-grid-column>\r\n            </kendo-grid>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <group-management-modal [contractId]=\"contractId\" [groupNames]=\"groupNames\"\r\n            (onAddorUpdateGroup)=\"handleCreateorModifiedGroup($event)\" (onAction)=\"handleAction($event)\">\r\n        </group-management-modal>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row pt-5\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"wizard-actions\">\r\n            <button class=\"btn btn-default\" type=\"button\"\r\n                (click)=\"back()\">{{i18n.common + 'Back to Main Profile' | dynamicTranslate}}</button>\r\n        </div>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/account-upsert.component.html":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/account-upsert.component.html ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open()\" class=\"btn btn-action btn-small\">\r\n        <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong> &nbsp; {{i18n.headerManagement + 'Add Account' | dynamicTranslate}}</strong>\r\n    \r\n    <ng-template #content>\r\n        <form (ngSubmit)=\"onSubmit(accountUpsertForm)\" #accountUpsertForm=\"ngForm\">\r\n            <div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.projectProfile + 'Account Description' | dynamicTranslate}}</label>\r\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.accountDescription\" name=\"description\" #description=\"ngModel\" required />\r\n    \r\n                                <div *ngIf=\"description.errors && accountUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a account description.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.projectProfile + 'Account Number' | dynamicTranslate}}</label>\r\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.accountNumber\" name=\"accountNumber\" #accountNumber=\"ngModel\" required />\r\n    \r\n                                <div *ngIf=\"accountNumber.errors && accountUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a account number.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-default\" (click)=\"windowManager.close()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n                </div>\r\n            </div>\r\n    \r\n        </form>\r\n    </ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/department-upsert.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/department-upsert.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open()\" class=\"btn btn-action btn-small\">\r\n        <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong> &nbsp; {{i18n.headerManagement + 'Add Department' | dynamicTranslate}}</strong>\r\n    \r\n    <ng-template #content>\r\n    \r\n        <form (ngSubmit)=\"onSubmit(departmentUpsertForm)\" #departmentUpsertForm=\"ngForm\">\r\n            <div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.dataImport + 'Department Name' | dynamicTranslate}}</label>\r\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.description\" name=\"description\" #description=\"ngModel\" required />\r\n    \r\n                                <div *ngIf=\"description.errors && departmentUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a member name.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.dataImport + 'Department Number' | dynamicTranslate}}</label>\r\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.departmentNumber\" name=\"departmentNumber\" #departmentNumber=\"ngModel\" required />\r\n    \r\n                                <div *ngIf=\"departmentNumber.errors && departmentUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a member number.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-default\" (click)=\"windowManager.close()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n                </div>\r\n            </div>\r\n    \r\n        </form>\r\n    </ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/member-upsert.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/member-upsert.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open()\" class=\"btn btn-action btn-small\">\r\n    <i class=\"fa fa-plus\"></i>\r\n</button>\r\n<strong> &nbsp; {{i18n.headerManagement + 'Add Member' | dynamicTranslate}}</strong>\r\n\r\n<ng-template #content>\r\n    <form (ngSubmit)=\"onSubmit(memberUpsertForm)\" #memberUpsertForm=\"ngForm\">\r\n        <div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"nameInput\">{{i18n.dataImport + 'Member Name' | dynamicTranslate}}</label>\r\n                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.memberName\" name=\"memberName\" #memberName=\"ngModel\" required />\r\n\r\n                            <div *ngIf=\"memberName.errors && memberUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                <div>\r\n                                    {{i18n.headerManagement + 'Please enter a member name.' | dynamicTranslate}}\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf=\"isNameTaken\" class=\"alert alert-danger\">\r\n                                <div>\r\n                                    {{i18n.headerManagement + 'Member name already exists for this group. Please enter a unique value.' | dynamicTranslate}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"nameInput\">{{i18n.dataImport + 'Member Number' | dynamicTranslate}}</label>\r\n                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.memberNumber\" name=\"memberNumber\" #memberNumber=\"ngModel\" />\r\n\r\n                            <div *ngIf=\"memberNumber.errors && memberUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                <div>\r\n                                    {{i18n.headerManagement + 'Please enter a member number.' | dynamicTranslate}}\r\n                                </div>\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-default\" (click)=\"windowManager.close()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n            </div>\r\n        </div>\r\n\r\n    </form>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/site-upsert.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/actions/site-upsert.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open()\" class=\"btn btn-action btn-small\">\r\n        <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong> &nbsp; {{i18n.headerManagement + 'Add Site' | dynamicTranslate}}</strong>\r\n    \r\n    <ng-template #content>\r\n        <form (ngSubmit)=\"onSubmit(siteUpsertForm)\" #siteUpsertForm=\"ngForm\">\r\n            <div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.projectProfile + 'Site Name' | dynamicTranslate}}</label>\r\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.siteName\" name=\"siteName\" #siteName=\"ngModel\" required />\r\n    \r\n                                <div *ngIf=\"siteName.errors && siteUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a site name.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                                <div *ngIf=\"isNameTaken\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Site name already exists under this member. Please enter a unique value for this member.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.dataImport + 'Site Number' | dynamicTranslate}}</label>\r\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"request.siteNumber\" name=\"siteNumber\" #siteNumber=\"ngModel\" required />\r\n    \r\n                                <div *ngIf=\"siteNumber.errors && siteUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a site number' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                                <div *ngIf=\"isNumberTaken\" class=\"alert alert-danger\">\r\n                                  <div>\r\n                                      {{i18n.headerManagement + 'Site number already exists under this member. Please enter a unique value for this member.' | dynamicTranslate}}\r\n                                  </div>\r\n                              </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"nameInput\">{{i18n.dataImport + 'Member Associated' | dynamicTranslate}}</label>\r\n                                <select class=\"form-control\" [(ngModel)]=\"request.memberId\" name=\"memberId\" #memberId=\"ngModel\" required>\r\n                                    <option value=\"\" disabled>{{i18n.headerManagement + 'Select a Member' | dynamicTranslate}}</option>\r\n                                    <option *ngFor=\"let member of members\" [value]=\"member.id\">{{member.memberName}}</option>\r\n                                </select>\r\n    \r\n                                <div *ngIf=\"memberId.errors && siteUpsertForm.submitted\" class=\"alert alert-danger\">\r\n                                    <div>\r\n                                        {{i18n.headerManagement + 'Please enter a member number.' | dynamicTranslate}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-default\" (click)=\"windowManager.close()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n                </div>\r\n            </div>\r\n    \r\n        </form>\r\n    </ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-account.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-account.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <famis-grid style=\"font-weight:normal;\" *ngIf=\"!!dataGrid.selectedHeaders\" [famisGrid]=\"dataGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\"></famis-grid>\r\n    </div>\r\n</div>\r\n<account-upsert (onAddorUpdate)=\"handleCreateorModified($event)\" (onAction)=\"handleAction($event)\"></account-upsert>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-department.component.html":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-department.component.html ***!
  \***************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <famis-grid style=\"font-weight:normal;\" *ngIf=\"!!dataGrid.selectedHeaders\" [famisGrid]=\"dataGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\"></famis-grid>\r\n    </div>\r\n</div>\r\n<department-upsert (onAddorUpdate)=\"handleCreateorModified($event)\" (onAction)=\"handleAction($event)\"></department-upsert>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-member.component.html":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-member.component.html ***!
  \***********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <famis-grid style=\"font-weight:normal;\" *ngIf=\"!!dataGrid.selectedHeaders\" [famisGrid]=\"dataGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\"></famis-grid>\r\n    </div>\r\n</div>\r\n<member-upsert (onAddorUpdate)=\"handleCreateorModified($event)\" (onAction)=\"handleAction($event)\"></member-upsert>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-site.component.html":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management-site.component.html ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <famis-grid style=\"font-weight:normal;\" *ngIf=\"!!dataGrid.selectedHeaders\" [famisGrid]=\"dataGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\"></famis-grid>\r\n    </div>\r\n</div>\r\n<site-upsert (onAddorUpdate)=\"handleCreateorModified($event)\" (onAction)=\"handleAction($event)\"></site-upsert>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/header-management/components/header-management.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"HeaderManagement\">\r\n    <h1>{{ i18n.common + 'Header Management' | dynamicTranslate}}</h1>\r\n\r\n    <ngb-tabset type=\"pills\" #tabs *ngIf=\"!isLoading\" class=\"ribbon\">\r\n        <ngb-tab id=\"member\">\r\n            <ng-template ngbTabTitle>\r\n                <span>{{i18n.common + 'Member' | dynamicTranslate}}</span>\r\n            </ng-template>\r\n            <ng-template ngbTabContent>\r\n\r\n                <header-management-member></header-management-member>\r\n\r\n            </ng-template>\r\n        </ngb-tab>\r\n        <ngb-tab id=\"site\">\r\n            <ng-template ngbTabTitle>\r\n                <span>{{i18n.common + 'Site' | dynamicTranslate}}</span>\r\n            </ng-template>\r\n            <ng-template ngbTabContent>\r\n\r\n                <header-management-site></header-management-site>\r\n\r\n            </ng-template>\r\n        </ngb-tab>\r\n        <ngb-tab id=\"account\">\r\n            <ng-template ngbTabTitle>\r\n                <span>{{i18n.common + 'Account' | dynamicTranslate}}</span>\r\n            </ng-template>\r\n            <ng-template ngbTabContent>\r\n\r\n                <header-management-account></header-management-account>\r\n\r\n            </ng-template>\r\n        </ngb-tab>\r\n        <ngb-tab id=\"department\">\r\n            <ng-template ngbTabTitle>\r\n                <span>{{i18n.common + 'Department' | dynamicTranslate}}</span>\r\n            </ng-template>\r\n            <ng-template ngbTabContent>\r\n\r\n                <header-management-department></header-management-department>\r\n\r\n            </ng-template>\r\n        </ngb-tab>\r\n\r\n    </ngb-tabset>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/home.component.html":
/*!**********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/home.component.html ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n\r\n<ng-container *ngIf=\"userHasPermissions\">\r\n\r\n\r\n\r\n  <nav id=\"accountNav\" class=\"navbar navbar-expand-md fixed-top\">\r\n    <button\r\n      class=\"navbar-toggler\"\r\n      type=\"button\"\r\n      data-toggle=\"collapse\"\r\n      data-target=\"#navbarsExampleDefault\"\r\n      aria-controls=\"navbarsExampleDefault\"\r\n      aria-expanded=\"false\"\r\n      aria-label=\"Toggle navigation\"\r\n    >\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <a class=\"navbar-brand navbar-expand-lg\" href=\"#\" [routerLink]=\"['/dashboard/all-projects']\">\r\n      <img src=\"/client-src/assets/images/DP_logo_4c.png\" width=\"200\" alt=\"Duff & Phelps\" />\r\n    </a>\r\n\r\n    <div class=\"collapse navbar-collapse justify-content-end navbar-expand-lg\" id=\"navbarsExampleDefault\">\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\">\r\n          <a *ngIf=\"!!userName && userName !== 'Unknown'\" class=\"nav-link\" href=\"#\">{{ userName }}</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n  <nav id=\"mainNav\" class=\"navbar navbar-expand-md fixed-top navbar-inverse\">\r\n    <button\r\n      class=\"navbar-toggler\"\r\n      type=\"button\"\r\n      data-toggle=\"collapse\"\r\n      data-target=\"#navbarsExampleDefault\"\r\n      aria-controls=\"navbarsExampleDefault\"\r\n      aria-expanded=\"false\"\r\n      aria-label=\"Toggle Navigation\"\r\n    >\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\r\n      <ul class=\"navbar-nav mr-auto\">\r\n        <li class=\"nav-item\">\r\n          <div (click)=\"toggleNavClicked()\" class=\"nav-link  nav-menu-toggle\" style=\"cursor:pointer\">\r\n            <span class=\"fa fa-bars\"></span>\r\n          </div>\r\n        </li>\r\n\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"#\" [routerLink]=\"['/dashboard/all-projects']\">{{ i18n.home + 'Dashboard' | dynamicTranslate }}</a>\r\n        </li>\r\n\r\n        <li [showIfCanAccess]=\"permissions.canManageTemplates\" class=\"nav-item\">\r\n          <a class=\"nav-link\" routerLink=\"/admin/templates\" routerLinkActive=\"menu-active\">{{\r\n            i18n.home + 'Template Management' | dynamicTranslate\r\n          }}</a>\r\n        </li>\r\n\r\n        <li [showIfCanAccess]=\"permissions.canManagePortal\" class=\"nav-item\">\r\n          <a class=\"nav-link\" routerLink=\"/portal-management\" routerLinkActive=\"menu-active\">{{\r\n            i18n.home + 'Portal Management' | dynamicTranslate\r\n          }}</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n\r\n  <div class=\"wrapper\">\r\n    <!-- Restore once loading indicator styles are complete -->\r\n    <!--<div class=\"linear-activity\" *ngIf=\"isBusy\">\r\n      <div class=\"indeterminate\"></div>\r\n    </div>-->\r\n\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</ng-container>\r\n\r\n\r\n\r\n<alert></alert>\r\n\r\n<div class=\"spinner\">\r\n    <div class=\"dot1\"></div>\r\n    <div class=\"dot2\"></div>\r\n  </div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/Actions/add-portal-access-modal.component.html ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<modal-form [modalTitle]=\"modalTitle\" (modalEvent)=\"handleModalEvent($event)\">\r\n  <form (ngSubmit)=\"addPortalGroup(portalGroupForm)\" #portalGroupForm=\"ngForm\">\r\n    <div class=\"form-group\">\r\n        <label>{{i18n.common + 'Select Contract' | dynamicTranslate}}</label>\r\n        <type-ahead \r\n                    [searching]=\"searching\" \r\n                    [model]=\"model\" \r\n                    [search]=\"search\" \r\n                    (selectItem)=\"onSelectItem($event)\"\r\n                    [resultFormatter]=\"getResultFormatter\" \r\n                    [inputFormatter]=\"getInputFormatter\"></type-ahead>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"accountNameInput\">{{i18n.common + 'Account Description' | dynamicTranslate}}</label>\r\n      <select class=\"form-control\" [(ngModel)]=\"selectedAccountId\" id=\"accountNameInput\" name=\"account\" required>\r\n        <option value=\"\">\r\n          <span>Select Account</span>\r\n        </option>\r\n        <option *ngFor=\"let account of accounts\" [value]=\"account.id\">{{account.groupName}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"alert alert-danger\" *ngIf=\"displayErrors\">\r\n      {{i18n.common + 'Select a contract and assign portal account description.' | dynamicTranslate}}\r\n    </div>\r\n    <div class=\"alert alert-danger\" *ngIf=\"contractExists\">\r\n      {{i18n.common + apiError | dynamicTranslate}}\r\n    </div>\r\n  </form>\r\n</modal-form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/contract-search.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/contract-search.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<type-ahead \r\n  [searching]=\"searching\" \r\n  [model]=\"model\" \r\n  [search]=\"search\" \r\n  (selectItem)=\"onSelectItem($event)\"\r\n  [resultFormatter]=\"getResultFormatter\" \r\n  [inputFormatter]=\"getInputFormatter\"></type-ahead>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/copy-group.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/copy-group.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group row pb-1\">\r\n\r\n    <div class=\"col-md-3\">\r\n        <label>{{i18n.common + 'Contract' | dynamicTranslate}}</label>\r\n        <contract-search (selectContract)=\"contractChanged($event)\" [model]=\"selectedContract\"></contract-search>\r\n    </div>\r\n    \r\n    <div class=\"col-md-3\">\r\n        <label>{{i18n.common + 'Group' | dynamicTranslate}}</label>\r\n        <select class=\"form-control form-control\" id=\"selectGroup\" [(ngModel)]=\"selectedGroup\" (ngModelChange)=\"groupChanged($event)\" required>\r\n          <option *ngIf=\"!selectedGroup || selectedGroup == null\" [ngValue]=\"selectedGroup\" disabled>{{i18n.common + 'Select Group' | dynamicTranslate}}</option>\r\n          <option *ngFor=\"let group of groups|orderBy:'groupName'\" [ngValue]=\"group\">{{group.groupName}}</option>\r\n        </select>\r\n    </div>\r\n    \r\n    <div class=\"col-md-2\" *ngIf=\"selectedGroup\">\r\n        <label>{{i18n.common + 'Member' | dynamicTranslate}}</label>\r\n        <select class=\"form-control form-control\" id=\"selectMember\" [(ngModel)]=\"selectedMember\" (ngModelChange)=\"memberChanged($event)\">\r\n          <option *ngIf=\"!selectedMember || selectedMember == null\" [ngValue]=\"selectedMember\" disabled>{{i18n.common + 'Select Member' | dynamicTranslate}}</option>\r\n          <option *ngFor=\"let member of members|orderBy:'name'\" [ngValue]=\"member\">{{member.name}}</option>\r\n        </select>\r\n    </div>\r\n    \r\n    <div class=\"col-md-2\" *ngIf=\"selectedMember\">\r\n        <label>{{i18n.common + 'Site' | dynamicTranslate}}</label>\r\n        <select class=\"form-control form-control\" id=\"selectSite\" [(ngModel)]=\"selectedSite\">\r\n          <option *ngIf=\"!selectedSite || selectedSite == null\" [ngValue]=\"selectedSite\" disabled>{{i18n.common + 'Select Site' | dynamicTranslate}}</option>\r\n          <option *ngFor=\"let site of sites|orderBy:'name'\" [ngValue]=\"site\">{{site.name}}</option>\r\n        </select>\r\n    </div>\r\n\r\n    <div class=\"col-md-2 mt-4\">\r\n        <button (click)=\"remove()\" type=\"button\" class=\"btn btn-action btn-small\">\r\n            <i class=\"fa fa-minus\"></i>\r\n        </button>\r\n        <strong>{{i18n.common + 'Remove' | dynamicTranslate}}</strong>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/portal-management.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/portal-management.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-2\">\r\n  </div>\r\n  <div class=\"col-md-8\">\r\n    <div class=\"row pt-5 pb-3\">\r\n        <h1>{{i18n.common + 'Portal Management' | dynamicTranslate}}</h1>\r\n    </div>\r\n    \r\n    <div class=\"form-group row\">\r\n      <div class=\"col-md-4\">\r\n          <label for=\"portalGroupPicker\">{{i18n.common + 'Select Existing Account/Portal' | dynamicTranslate}}</label>\r\n          <select  name=\"portalGroupPicker\" class=\"form-control\" id=\"portalGroupPicker\" [(ngModel)]=\"selectedContractId\" (change)=\"setSelectedGroup()\">\r\n            <option *ngFor=\"let opt of portalContracts\" [value]=\"opt.id\">{{opt.client}}</option>\r\n          </select>\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <button class=\"btn btn-primary mt-2 pt-3 pb-3\" (click)=\"launchAddPortalModal()\">{{i18n.common + 'Add Account/Portal Access' | dynamicTranslate}}</button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"col-md-2\">\r\n    \r\n  </div>\r\n</div>\r\n\r\n<div class=\"row pt-5\" *ngIf=\"selectedGroup\">\r\n    <div class=\"col-md-2\"></div>\r\n    <div class=\"col-md-8\"><setup-portal [group]=\"selectedGroup\"></setup-portal></div>\r\n    \r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-access.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-access.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row pt-5\">\r\n  <div class=\"col-md-12\">\r\n      <h3>{{i18n.common + 'Account Portal Access' | dynamicTranslate}}</h3>\r\n  </div>\r\n   \r\n</div>\r\n<div class=\"row pt-2 pl-3\">\r\n  <div class=\"col-md-2\">\r\n      <div class=\"form-check form-check-inline\">\r\n          <input class=\"form-check-input\" (change)=\"toggleStatus()\" [checked]=\"!group.isDisabled\" type=\"radio\" name=\"enabledOption\" id=\"enabledOption\" value=\"enabled\">\r\n          <label class=\"form-check-label\" for=\"enabledOption\">{{i18n.common + 'Enabled' | dynamicTranslate}}</label>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-2\">\r\n        <div class=\"form-check form-check-inline\">\r\n            <input class=\"form-check-input\" (change)=\"toggleStatus()\" [checked]=\"group.isDisabled\" type=\"radio\" name=\"disabledOption\" id=\"disabledOption\" value=\"disabled\">\r\n            <label class=\"form-check-label\" for=\"disabledOption\">{{i18n.common + 'Disabled' | dynamicTranslate}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\" *ngIf=\"group.isDisabled\">\r\n  <div class=\"col-md-8\">\r\n      <h5>{{i18n.common + 'Portal Access for this contract has been disabled.' | dynamicTranslate}}</h5>\r\n  </div>\r\n</div>\r\n\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-data.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-data.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row pt-3\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"form-group\">\r\n            <label class=\"radio-inline pr-2\"><input type=\"radio\" name=\"replace\" [(ngModel)]=\"replace\" [value]=\"true\">{{i18n.common + 'Replace' | dynamicTranslate}}</label>\r\n            <label class=\"radio-inline pl-2\"><input type=\"radio\" name=\"append\" [(ngModel)]=\"replace\" [value]=\"false\">{{i18n.common + 'Append' | dynamicTranslate}}</label>\r\n        </div>\r\n        <div #selections></div>\r\n        <button type=\"button\" (click)=\"addSelection()\" class=\"btn btn-action btn-small\">\r\n            <i class=\"fa fa-plus\"></i>\r\n        </button>\r\n        <strong>&nbsp;{{i18n.common + 'Add Selection' | dynamicTranslate}}</strong>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"selectionErrors\" class=\"row pt-3 pl-3\">\r\n    <div class=\"alert alert-danger\">\r\n        <div>\r\n            {{i18n.common + 'Please be sure to choose at least a Contract and Group for each selection.' | dynamicTranslate}}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"form-group pt-4\">\r\n    <button [disabled]=\"!hasSelections()\" class=\"btn btn-primary\" (click)=\"copyGroups()\">{{i18n.common + 'Copy' | dynamicTranslate}}</button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-image.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-image.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row pt-3\">\r\n  <img [src]=\"imageUrl\" style=\"max-height:45px\"/>\r\n</div>\r\n<div class=\"row pt-3\">\r\n  <div class= \"col-md-5\">\r\n      <div *ngIf=\"!isUploading\" class=\"pt-4\">\r\n          <file-upload-control   [supportedFileTypes]=\"acceptedFileTypes\" (onFileUploadRequested)=\"uploadFile($event)\" [fileInputLabel]=\"'Replace Image'\"></file-upload-control>\r\n        </div>\r\n        <div *ngIf=\"isUploading\" class=\"pt-4\">\r\n          <h3>{{ i18n.fileUpload + 'Uploading' | dynamicTranslate }} <i class=\"fa fa-circle-o-notch fa-spin\"></i></h3> \r\n        </div>\r\n  </div>\r\n  <div class=\"col-md-7\">\r\n    <button [disabled]=\"!canRemove\" class=\"btn btn-primary mt-3 mb-3\" (click)=\"removeImage()\">{{i18n.common + 'Remove' | dynamicTranslate}}</button>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-metadata.component.html":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-metadata.component.html ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <div>\r\n      <div id=\"high-density\">\r\n        <kendo-grid  [data]=\"gridData\" [sortable]=\"true\" [height]=\"200\"  [selectable]=\"selectableSettings\"\r\n           [reorderable]=\"false\" [kendoGridSelectBy]=\"'id'\" [selectedKeys]=\"selectedMetadataIds\"\r\n          (selectionChange)=\"onSelectionChanged($event)\"   (dataStateChange)=\"dataStateChange($event)\"\r\n          >\r\n          <kendo-grid-checkbox-column [reorderable]=\"false\" width=\"5%\">\r\n            <ng-template kendoGridHeaderTemplate let-dataItem>\r\n              <div style=\"width: 10%; cursor: pointer;\" >\r\n                <a class=\"clickable-link\">{{Selected}}</a>\r\n               </div>\r\n            </ng-template>\r\n          </kendo-grid-checkbox-column>\r\n          <kendo-grid-column [reorderable]=\"false\" field=\"tagName\" [title]=\"'common_Category' | dynamicTranslate\" width=\"95%\">\r\n          </kendo-grid-column>\r\n        </kendo-grid>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-portal.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/portal-management/components/setup-portal.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h2>{{portalLabel}}</h2>\r\n<div class=\"row pt-4 pl-2 btn-group\">\r\n  <button (click)=\"toggleSetupMode(setupModes.SetupAccess)\" type=\"button\" \r\n    [class.btn-default]=\"this.setupMode!==setupModes.SetupAccess\" [class.btn-primary]=\"this.setupMode===setupModes.SetupAccess\" \r\n    class=\"btn btn-primary\">{{i18n.common + 'Portal Access' | dynamicTranslate}}</button>\r\n  \r\n   <button (click)=\"toggleSetupMode(setupModes.SetupData)\" type=\"button\"\r\n   [class.btn-default]=\"this.setupMode !== setupModes.SetupData\" [class.btn-primary]=\"this.setupMode === setupModes.SetupData\"\r\n   class=\"btn btn-default\">{{i18n.common + 'Portal Data' | dynamicTranslate}}</button>\r\n\r\n   <button (click)=\"toggleSetupMode(setupModes.SetupImage)\" type=\"button\"\r\n   [class.btn-default]=\"this.setupMode !== setupModes.SetupImage\" [class.btn-primary]=\"this.setupMode === setupModes.SetupImage\"\r\n   class=\"btn btn-default\">{{i18n.common + 'Portal Image' | dynamicTranslate}}</button>\r\n\r\n   <button (click)=\"toggleSetupMode(setupModes.SetupMetadata)\" type=\"button\"\r\n   [class.btn-default]=\"this.setupMode !== setupModes.SetupMetadata\" [class.btn-primary]=\"this.setupMode === setupModes.SetupMetadata\"\r\n   class=\"btn btn-default\">{{i18n.common + 'Portal Report Filters' | dynamicTranslate}}</button>\r\n\r\n</div>\r\n<div class=\"row\" *ngIf=\"this.setupMode===setupModes.SetupAccess\">\r\n  <div class=\"col-md-12\">\r\n      <setup-access [group]=\"group\"></setup-access>\r\n  </div>\r\n  \r\n</div>\r\n<div class=\"row\" *ngIf=\"this.setupMode===setupModes.SetupData\">\r\n  <div class=\"col-md-12\">\r\n    <setup-data [group]=\"group\"></setup-data>\r\n  </div>\r\n</div>\r\n<div class=\"row\" *ngIf=\"this.setupMode===setupModes.SetupImage\">\r\n  <div class=\"col-md-12\">\r\n    <setup-image [group]=\"group\"></setup-image>\r\n  </div>\r\n</div>\r\n<div class=\"row\" *ngIf=\"this.setupMode===setupModes.SetupMetadata\">\r\n  <div class=\"col-md-12\">\r\n    <setup-metadata [group]=\"group\"></setup-metadata>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/components/processing-summary.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/components/processing-summary.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group row\">\r\n        <div class=\"col-md-12 py-2 processing-summary\">\r\n                <div class=\"success pull-left\">\r\n                        {{i18n.common + 'Assets' | dynamicTranslate }} {{i18n.common + processingSummary.processingVerb | dynamicTranslate}}: {{processingSummary.successCount}}\r\n                </div>\r\n                <div class=\"mx-2 error pull-left\">{{i18n.common + 'Errors' | dynamicTranslate }}: {{processingSummary.errorCount}}\r\n                </div>\r\n        </div>\r\n</div>\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-form.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-form.component.html ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1>{{i18n.common + 'Depreciation' | dynamicTranslate }}</h1>\r\n\r\n\r\n<div class=\"row buffer-row\" *ngIf=\"!isReadyForProcessing  && !isLoading\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"action-link \">\r\n        {{ i18n.common + 'No data loaded - ' | dynamicTranslate }}&nbsp;\r\n        <a href=\"\" (click)=\"navigateToImportData($event)\">{{ i18n.common + 'Import Data' | dynamicTranslate }}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n<ng-container *ngIf=\"isReadyForProcessing  && !isLoading\">\r\n\r\n<ol class=\"breadcrumb\">\r\n    <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\">\r\n      <a [class.disabled]=\"breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\" >{{i18n.common + breadCrumb.name | dynamicTranslate}}</a>\r\n    </li>\r\n  </ol>\r\n\r\n  <router-outlet></router-outlet>\r\n\r\n</ng-container>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-setup.component.html":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-setup.component.html ***!
  \***********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(depreciationSetupForm)\" #depreciationSetupForm=\"ngForm\">\r\n  <div class=\"form-row\">\r\n    <div class=\"form-group col-md-4\">\r\n      <label>{{i18n.depreciation + 'As of Date'| dynamicTranslate}} </label>\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('As of Date') | localizedDate\" readonly>\r\n    </div>\r\n    <div class=\"form-group col-md-4\">\r\n      <label>{{i18n.depreciation + 'Fiscal End Date'| dynamicTranslate}}</label>\r\n\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('Fiscal Year End') | localizedDate\" readonly>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <h2>{{i18n.depreciation + 'Capitalization Policies'| dynamicTranslate}}</h2>\r\n  <div class=\"form-row\">\r\n    <div class=\"form-group col-md-2\">\r\n      <label>{{i18n.depreciation + 'Land'| dynamicTranslate}}</label>\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('Capitalization Policy - Land') | localizedNumber\" readonly>\r\n    </div>\r\n    <div class=\"form-group col-md-2\">\r\n      <label>{{i18n.depreciation + 'LI'| dynamicTranslate}}</label>\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('Capitalization Policy - LI') | localizedNumber\" readonly>\r\n    </div>\r\n    <div class=\"form-group col-md-2\">\r\n      <label>{{i18n.depreciation + 'Bldgs'| dynamicTranslate}}</label>\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('Capitalization Policy - Bldgs') | localizedNumber\" readonly>\r\n    </div>\r\n    <div class=\"form-group col-md-2\">\r\n      <label>{{i18n.depreciation + 'M&E'| dynamicTranslate}}</label>\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('Capitalization Policy - M&E') | localizedNumber\" readonly>\r\n    </div>\r\n    <div class=\"form-group col-md-2\">\r\n      <label>{{i18n.depreciation + 'Infrastructure'| dynamicTranslate}} </label>\r\n      <input class=\"form-control\" type=\"text\" [value]=\"getSubProfileFieldValue('Capitalization Policy - Infrastructure') | localizedNumber\" readonly>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"form-row\">\r\n    <div class=\"form-group col-md-4\">\r\n      <label>{{i18n.depreciation + 'Depreciation Method'| dynamicTranslate}}</label>\r\n      <select class=\"form-control\" [(ngModel)]=\"depreciationRequest.method\" name=\"method\" #selectDepreciationMethod=\"ngModel\" required>\r\n        <option disabled>\r\n          <span>{{i18n.depreciation + 'Select a Depreciation Method'| dynamicTranslate}}</span>\r\n        </option>\r\n        <ng-container *ngFor=\"let method of depreciationMethods\">\r\n          <option *ngIf=\"!method.isResultsOnly\" [value]=\"method.value\">{{i18n.depreciation + method.displayName | dynamicTranslate }}</option>\r\n        </ng-container>\r\n\r\n      </select>\r\n\r\n      <div *ngIf=\"selectDepreciationMethod.errors && depreciationSetupForm.submitted\" class=\"alert alert-danger\">\r\n        <div>\r\n          {{i18n.depreciation + 'Please select a depreciation method'| dynamicTranslate}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group col-md-4\">\r\n      <label> {{i18n.depreciation + 'Starting Convention'| dynamicTranslate}}</label>\r\n      <select class=\"form-control\" [(ngModel)]=\"depreciationRequest.convention\" name=\"convention\" #convention=\"ngModel\" required>\r\n        <option disabled>\r\n          <span>{{i18n.depreciation + 'Select an Starting Convention'| dynamicTranslate}}</span>\r\n        </option>\r\n        <option *ngFor=\"let method of conventions\" [value]=\"method.value\">{{i18n.depreciation + method.displayName | dynamicTranslate }}</option>\r\n\r\n      </select>\r\n      <div *ngIf=\"convention.errors && depreciationSetupForm.submitted\" class=\"alert alert-danger\">\r\n        <div>\r\n          {{i18n.depreciation + 'Please select a starting convention' | dynamicTranslate }} \r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <h2> {{i18n.depreciation + 'Filter Criteria' | dynamicTranslate }} </h2>\r\n      </div>\r\n      <div class=\"col-md-4\"></div>\r\n    </div>\r\n    <div #filterCriteria></div>\r\n\r\n    <button type=\"button\" (click)=\"addFilter()\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong>&nbsp;{{i18n.depreciation + 'Add Filter Criteria' | dynamicTranslate }}</strong>\r\n  </div>\r\n\r\n  <div class=\"form-row\">\r\n    <div class=\"form-group col-md-2\">\r\n\r\n      <p>{{i18n.depreciation + 'Day 1 Calc' | dynamicTranslate }}</p>\r\n\r\n      <input type=\"checkbox\" class=\"k-checkbox\" id=\"isDayOneCalc\" [(ngModel)]=\"depreciationRequest.dayOneCalc\" name=\"dayOneCalc\">\r\n      <label class=\"k-checkbox-label\" for=\"isDayOneCalc\"></label>\r\n      \r\n    </div>\r\n    <div class=\"form-group col-md-2\">\r\n      <label>{{i18n.depreciation + 'Advanced Depreciation Years' | dynamicTranslate }}</label>\r\n      <input type=\"number\" min=\"1\" class=\"form-control\" [(ngModel)]=\"depreciationRequest.futureYears\" name=\"futureYears\" #futureYears=\"ngModel\">\r\n\r\n      <div *ngIf=\"futureYears.errors?.min && depreciationSetupForm.submitted\" class=\"alert alert-danger\">\r\n        <div>\r\n          {{i18n.depreciation + 'Please enter a value greater than zero' | dynamicTranslate }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n  <button [ladda]=\"isProcessing\" type=\"submit\" class=\"btn btn-primary\">{{i18n.depreciation + 'Run' | dynamicTranslate }}</button>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-summary.component.html":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/depreciation/components/depreciation-summary.component.html ***!
  \*************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<processing-summary [processingSummary]=\"processingSummary\"></processing-summary>\r\n\r\n\r\n\r\n<div class=\"form-group row\">\r\n        <div class=\"col-md-12\">\r\n\r\n                <famis-grid [isPersistentGrid]=\"false\" *ngIf=\"!!successGrid.loading\" [famisGrid]=\"successGrid\" (updateCacheEvent)=\"updateCache($event)\"></famis-grid>\r\n        </div>\r\n</div>\r\n\r\n<div class=\"form-group row\">\r\n        <div class=\"col-md-12\">\r\n                <famis-grid [isPersistentGrid]=\"false\" class=\"errors-grid\" *ngIf=\"!!errorGrid.loading\" [famisGrid]=\"errorGrid\" (updateCacheEvent)=\"updateCache($event)\"></famis-grid>\r\n        </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n                <div class=\"wizard-actions\">\r\n                        <button class=\"btn btn-default\" (click)=\"back()\">{{i18n.common + 'Back' | dynamicTranslate }}</button>\r\n                        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"commit()\">{{i18n.common + 'Commit' | dynamicTranslate }}</button>\r\n                </div>\r\n        </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-form.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-form.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1>{{i18n.common + 'Trending' | dynamicTranslate }}</h1>\r\n\r\n<div class=\"row buffer-row\" *ngIf=\"!isReadyForProcessing && !isLoading\">\r\n  <div class=\"col-md-8\">\r\n    <div class=\"action-link \">\r\n      {{ i18n.common + 'No data loaded - ' | dynamicTranslate }}&nbsp;\r\n      <a href=\"\" (click)=\"navigateToImportData($event)\">{{ i18n.common + 'Import Data' | dynamicTranslate }}</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<ng-container *ngIf=\"isReadyForProcessing && !isLoading\">\r\n  <ol class=\"breadcrumb\">\r\n    <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\">\r\n      <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\" >{{i18n.common + breadCrumb.name | dynamicTranslate }}</a>\r\n    </li>\r\n  </ol>\r\n\r\n  <router-outlet></router-outlet>\r\n</ng-container>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-setup.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-setup.component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(trendingSetupForm)\" #trendingSetupForm=\"ngForm\">\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-4\">\r\n      <!-- Type ahead component here -->\r\n      <h4>{{ i18n.trending + 'Trend Table' | dynamicTranslate }}</h4>\r\n      <type-ahead \r\n      [searching]=\"searching\" \r\n      [model]=\"model\" \r\n      [search]=\"search\" \r\n      (selectItem)=\"onSelectItem($event)\"\r\n      [resultFormatter]=\"getResultFormatter\" \r\n      [inputFormatter]=\"getInputFormatter\"></type-ahead>\r\n\r\n      <div *ngIf=\"!trendingRequest.trendingTableId && trendingSetupForm.submitted\" class=\"alert alert-danger\">\r\n        <div>\r\n          {{ i18n.trending + 'Please select a trend table' | dynamicTranslate }} .\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-4\">\r\n        <h4>{{ i18n.trending + 'Starting Value' | dynamicTranslate }} </h4>\r\n        <select class=\"form-control\" [(ngModel)]=\"trendingRequest.sourceField\" name=\"sourceFieldSelect\" id=\"sourceFieldSelect\" #selectSourceField=\"ngModel\" required>\r\n          <option disabled>\r\n            <span>{{ i18n.trending + 'Select a Starting Value' | dynamicTranslate }}</span>\r\n          </option>\r\n          <option *ngFor=\"let field of startingValueOptions | orderBy: 'displayName'\" [value]=\"field.name\">{{i18n.asset + field.displayName | dynamicTranslate }}</option>\r\n        </select>\r\n\r\n        <div *ngIf=\"selectSourceField.errors && trendingSetupForm.submitted\" class=\"alert alert-danger\">\r\n          <div>\r\n            {{ i18n.trending + 'Please select a starting value' | dynamicTranslate }}.\r\n          </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n        <h4>{{ i18n.trending + 'Ending Value' | dynamicTranslate }} </h4>\r\n        <select class=\"form-control\" [(ngModel)]=\"trendingRequest.destinationField\" name=\"destinationFieldSelect\" id=\"destinationFieldSelect\" #selectDestinationField=\"ngModel\" required>\r\n          <option disabled>\r\n            <span>{{ i18n.trending + 'Select an Ending Value' | dynamicTranslate }} </span>\r\n          </option>\r\n          <option *ngFor=\"let field of endingValueOptions | orderBy: 'displayName'\" [value]=\"field.name\">{{ i18n.asset + field.displayName | dynamicTranslate }}</option>\r\n        </select>\r\n\r\n        <div *ngIf=\"selectDestinationField.errors && trendingSetupForm.submitted\" class=\"alert alert-danger\">\r\n          <div>\r\n            {{ i18n.asset + 'Please select an ending value' | dynamicTranslate }}.\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <h2>{{ i18n.common + 'Filter Criteria' | dynamicTranslate }} </h2>\r\n      </div>\r\n      <div class=\"col-md-4\"></div>\r\n    </div>\r\n    <div #filterCriteria></div>\r\n\r\n    <button type=\"button\" (click)=\"addFilter()\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-plus\"></i>\r\n    </button><strong>&nbsp; {{ i18n.common + 'Add Filter Criteria' | dynamicTranslate }}</strong>\r\n  </div>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-4\">\r\n        <h4>{{ i18n.common + 'Types of Rounding' | dynamicTranslate }}</h4>\r\n        <select class=\"form-control\" [(ngModel)]=\"trendingRequest.rounding\" name=\"roundingSelect\" id=\"roundingSelect\" #selectRounding=\"ngModel\" required>\r\n          <option disabled>\r\n            <span>{{ i18n.common + 'Select a Rounding Type' | dynamicTranslate }} </span>\r\n          </option>\r\n          <option *ngFor=\"let type of roundingTypeOptions\" [value]=\"type.value\">{{i18n.trending + type.displayName | dynamicTranslate }}</option>\r\n        </select>\r\n\r\n        <div *ngIf=\"selectRounding.errors && trendingSetupForm.submitted\" class=\"alert alert-danger\">\r\n          <div>\r\n            {{ i18n.common + 'Please select a rounding type' | dynamicTranslate }}.\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n\r\n  <button [ladda]=\"isProcessing\" class=\"btn btn-primary\" type=\"submit\"> {{ i18n.common + 'Run' | dynamicTranslate }} </button>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-summary.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/processing/trending/components/trending-summary.component.html ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<processing-summary [processingSummary]=\"processingSummary\"></processing-summary>\r\n\r\n<div class=\"form-group row\">\r\n        <div class=\"col-md-12\">\r\n\r\n                <famis-grid *ngIf=\"!!successGrid.loading\" [famisGrid]=\"successGrid\" (updateCacheEvent)=\"updateCache($event)\"></famis-grid>\r\n        </div>\r\n</div>\r\n\r\n<div class=\"form-group row\">\r\n        <div class=\"col-md-12\">\r\n                <famis-grid [isPersistentGrid]=\"false\" class=\"errors-grid\" *ngIf=\"!!errorGrid.loading\" [famisGrid]=\"errorGrid\" (updateCacheEvent)=\"updateCache($event)\"></famis-grid>\r\n        </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n<div class=\"col-sm-12\">\r\n        <div class=\"wizard-actions\">\r\n                <button class=\"btn btn-default\" (click)=\"back()\">{{i18n.common + 'Back' | dynamicTranslate }}</button>\r\n                <button class=\"btn btn-primary\" (click)=\"commit()\">{{i18n.common + 'Commit' | dynamicTranslate }}</button>\r\n        </div>\r\n</div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/administration/administration-form.component.html":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/administration/administration-form.component.html ***!
  \*******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<router-outlet></router-outlet>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/administration/administration.component.html":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/administration/administration.component.html ***!
  \**************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(administrationForm)\" #administrationForm=\"ngForm\">\r\n\r\n  <h1>{{ i18n.admin + 'Administration' | dynamicTranslate}}</h1>\r\n  <br/>\r\n\r\n  <div class=\"form-group row\">\r\n    <div class=\"col-md-6\">\r\n      <label for=\"costFieldSelect\">{{ i18n.admin + 'Select Action' | dynamicTranslate}}</label>\r\n      <select class=\"form-control\" [(ngModel)]=\"selectedAction\" name=\"costFieldSelect\" id=\"costFieldSelect\" required\r\n      #inputAvailableDataOptions=\"ngModel\">\r\n        <option disabled>\r\n          <span i18n=\"Select for administration: select an action@@hintSelectAnAction\">{{ i18n.admin + 'Select an Action' | dynamicTranslate}}</span>\r\n        </option>\r\n        <option value=\"DeleteReconciledData\">{{ i18n.admin + 'Delete Reconciled Data' | dynamicTranslate}}</option>\r\n        <option value=\"RollbackConsolidatedFile\">{{ i18n.admin + 'Rollback Consolidated File' | dynamicTranslate}}</option>\r\n        <option value=\"RollbackTransactionData\">{{ i18n.admin + 'Rollback Transaction Data' | dynamicTranslate}}</option>\r\n        <option value=\"GroupSave\">{{ i18n.admin + 'Group Save & Restore' | dynamicTranslate}}</option>\r\n        <option value=\"DeactivateItems\">{{ i18n.admin + 'Remove Deactivated  Assets & Buildings' | dynamicTranslate}}</option>\r\n      </select>\r\n\r\n      <div *ngIf=\"inputAvailableDataOptions.errors && (inputAvailableDataOptions.dirty || inputAvailableDataOptions.touched || administrationForm.submitted)\"\r\n        class=\"alert alert-danger\">\r\n        <div [hidden]=\"!inputAvailableDataOptions.errors.required\">\r\n          {{ i18n.common + 'Please select an action.' | dynamicTranslate}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n<button class=\"btn btn-primary\" i18n=\"Continue button text@@reconContinue\">{{ i18n.common + 'Continue' | dynamicTranslate}}</button>\r\n  </div>\r\n\r\n</form>\r\n\r\n \r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/dynamic-field.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/dynamic-field.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group\" [formGroup]=\"form\">\r\n  <label *ngIf=\"!field.isCustomField\" [attr.for]=\"field.key\">{{i18n.projectProfile + field.label | dynamicTranslate }}</label>\r\n  <label *ngIf=\"field.isCustomField\" [attr.for]=\"field.key\">{{field.label }}</label>\r\n\r\n  \r\n\r\n   <div [ngSwitch]=\"field.controlType\">\r\n    <div *ngSwitchCase=\"'boolean'\" class=\"checkbox k-form-field\">\r\n      <input type=\"checkbox\" [formControlName]=\"field.key\" [id]=\"field.key\" [tabindex]=\"field.order\"  class=\"k-checkbox\">\r\n      <label class=\"k-checkbox-label\" [for]=\"field.key\"></label>\r\n    </div>\r\n\r\n    <textarea [id]=\"field.key\" class=\"form-control\" *ngSwitchCase=\"'textarea'\" [formControlName]=\"field.key\" [tabindex]=\"field.order\" rows=\"6\"></textarea>\r\n    <input [id]=\"field.key\" class=\"form-control\" *ngSwitchCase=\"'text'\" [formControlName]=\"field.key\" [tabindex]=\"field.order\" [type]=\"field.controlType\">\r\n    <input [id]=\"field.key\" class=\"form-control\" *ngSwitchCase=\"'wholenumber'\" [formControlName]=\"field.key\" [tabindex]=\"field.order\" type=\"number\"\r\n      step=\"1\">\r\n    <input [id]=\"field.key\" class=\"form-control\" *ngSwitchCase=\"'decimalnumber'\" [formControlName]=\"field.key\" [tabindex]=\"field.order\" type=\"number\"\r\n      step=\"0.01\">\r\n    <div *ngSwitchCase=\"'date'\">\r\n      <kendo-datepicker *ngIf=\"field.fieldName !== 'Created from Salesforce'\" [id]=\"field.key\" [formControlName]=\"field.key\" [tabindex]=\"field.order\"></kendo-datepicker>\r\n      <kendo-datepicker *ngIf=\"field.fieldName === 'Created from Salesforce'\" [format]=\"'MM/dd/yyyy HH:mm'\" [id]=\"field.key\" [formControlName]=\"field.key\" [tabindex]=\"field.order\"></kendo-datepicker>\r\n    </div>\r\n\r\n    <div *ngSwitchCase=\"'peoplePicker'\">\r\n      <input [id]=\"field.key\" type=\"text\" class=\"form-control\" name=\"field.fieldName\" [(ngModel)]=\"selectedEmployee\" [value]=\"fieldValueString\"\r\n        [ngbTypeahead]=\"search\" placeholder=\"Employee Search\" (selectItem)=\"onSelectItem($event)\" [inputFormatter]=\"getImputFormatter\"\r\n        [resultFormatter]=\"getResultFormatter\" [tabindex]=\"field.order\" [formControlName]=\"field.key\"/>\r\n        <span *ngIf=\"searching\">searching...</span>\r\n        <div class=\"invalid-feedback\" *ngIf=\"searchFailed\">Sorry, suggestions could not be loaded.</div>\r\n    </div>\r\n\r\n    <select class=\"form-control\" [id]=\"field.key\" *ngSwitchCase=\"'dropdown'\" [tabindex]=\"field.order\" [formControlName]=\"field.key\"\r\n      [(ngModel)]=\"field.value\">\r\n      <option value=\"\" disabled selected>{{i18n.common + '-- Select Option --' | dynamicTranslate }}</option>\r\n      <option *ngFor=\"let opt of field.dropDownOptions\" [value]=\"opt.key\">{{i18n.projectProfile+ field.label + '_' + opt.value | dynamicTranslate }}</option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class=\"errorMessage\" *ngIf=\"!isValid\">{{i18n.projectProfile+ field.label | dynamicTranslate }} is required.</div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/project-profile.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/project-profile.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"ProjectProfile\" class=\"container-fluid\">\r\n  <div class=\"row\" style=\"margin-left: auto; margin-right: auto;\">\r\n    <nav *ngIf=\"!isCollapsed\" [@inOutFromLeftSideAnimation]\r\n    class=\"col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar\">\r\n\r\n      <div class=\"sidebar-project\">\r\n        <h3>{{accountName}}</h3>\r\n        <h2>{{groupName}}</h2>\r\n\r\n        <select *ngIf=\"groups.length > 1\" name=\"GroupSelector\" class=\"mx-1 form-control\" id=\"GroupSelector\" (change)=\"onGroupSelected($event.target.value)\">\r\n          <option selected=\"true\" disabled>\r\n            <span>{{i18n.common + 'Switch Group' | dynamicTranslate }}</span>\r\n          </option>\r\n          <option *ngFor=\"let group of groups | orderBy:'groupName'\" [value]=\"group.id\">{{group.groupName}}</option>\r\n        </select>\r\n\r\n      </div>\r\n      <ul class=\"menu list-unstyled\">\r\n        <li>\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'MainProfile']\">{{i18n.common + 'Main Profile' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li *ngIf=\"isEnabled('Sub-Profile')\">\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'SubProfile']\">{{i18n.common + 'Sub Profile' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li [showIfCanAccess]='permissions.canWriteData'>\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'DataImport']\">{{i18n.common + 'Data Import' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li [showIfCanAccess]='permissions.canWriteData' *ngIf=\"isEnabled('Reconciliation')\">\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'Reconciliation']\">{{i18n.common + 'Reconciliation' | dynamicTranslate }} </a>\r\n        </li>\r\n        <li [showIfCanAccess]='permissions.canWriteData' *ngIf=\"isEnabled('Trending')\">\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'Trending']\">{{i18n.common + 'Trending' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li [showIfCanAccess]='permissions.canWriteData' *ngIf=\"isEnabled('Depreciation')\">\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'Depreciation']\">{{i18n.common + 'Depreciation' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li>\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'QualityControl']\">{{i18n.common + 'Quality Control' | dynamicTranslate }}</a>\r\n        </li>\r\n\r\n        <li [showIfCanAccess]='permissions.canAdminProjects'>\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'Administration']\">{{i18n.common + 'Administration' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li [showIfCanAccess]='permissions.canAdminProjects'>\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'HeaderManagement']\">{{i18n.common + 'Header Management' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li *ngIf=\"isEnabled('Recipients')\">\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId,'Recipients']\">{{i18n.common + 'Recipients' | dynamicTranslate }}</a>\r\n        </li>\r\n        <li *ngIf=\"isEnabled('Reporting')\">\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId, 'Reports']\">{{i18n.common + 'Reports' | dynamicTranslate}}</a>\r\n        </li>\r\n        <li *ngIf=\"isEnabled('File Upload')\">\r\n          \r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId, 'FileUpload']\">{{i18n.common + 'File Upload' | dynamicTranslate}}</a>\r\n        </li>\r\n        <li >\r\n          <a class=\"nav-link\" routerLinkActive=\"active\" [routerLink]=\"['/project-profile', currentGroupId, 'Support']\">{{i18n.common + 'Support' | dynamicTranslate}}</a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <main [ngClass]=\"{'col-sm-9 offset-sm-3 col-md-10 offset-md-2 menu-expanded' : isCollapsed === false, 'col-sm-12 ml-2 pt-3 mr-2' : isCollapsed === true}\">\r\n    <router-outlet></router-outlet>\r\n    </main>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/tasks/edit-task.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/tasks/edit-task.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #modalContent let-c=\"close\" let-d=\"dismiss\">\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">Edit Task</h4>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <form #editTaskFormForm=\"ngForm\">\r\n\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"selectAssignedTo\">Assigned To</label>\r\n        <select class=\"form-control\" id=\"selectAssignedTo\" [(ngModel)]=\"dto.assignedUserId\" name=\"assignedUserId\" required #selectAssignedTo=\"ngModel\">\r\n          <option></option>\r\n          <option *ngFor=\"let opt of users\" [value]=\"opt.id\">{{opt.name}}</option>\r\n        </select>\r\n\r\n\r\n        <div *ngIf=\"selectAssignedTo.invalid && (selectAssignedTo.dirty || selectAssignedTo.touched)\" class=\"alert alert-danger\">\r\n\r\n          <div *ngIf=\"selectAssignedTo.errors.required\">\r\n            Assigned to is required\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"selectEscalationUser\">Escalation User</label>\r\n        <select class=\"form-control\" id=\"selectEscalationUser\" [(ngModel)]=\"dto.escalationUserId\" name=\"selectEscalationUser\" #selectEscalationUser=\"ngModel\">\r\n          <option></option>\r\n          <option *ngFor=\"let opt of users\" [value]=\"opt.id\">{{opt.name}}</option>\r\n        </select>\r\n\r\n      </div>\r\n\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"selectEscalationTeam\">Escalation Team</label>\r\n        <select class=\"form-control\" [(ngModel)]=\"dto.escalationTeamId\" name=\"escalationTeam\" id=\"selectEscalationTeam\">\r\n          <option></option>\r\n          <option value=\"FAA\">FAA</option>\r\n          <option value=\"ProjectManagement\">Project Management</option>\r\n          <option value=\"Admin\">Admin</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"form-group\" *ngIf=\"dto.escalationUserId || dto.escalationTeamId\">\r\n\r\n        <label for=\"selectEscalationDays\">Escalation Days</label>\r\n        <select class=\"form-control\" [(ngModel)]=\"dto.escalationDays\" name=\"escalationDays\" id=\"selectEscalationDays\" [required]=\"dto.escalationUserId || dto.escalationTeamId\"\r\n          #selectEscalationDays=\"ngModel\">\r\n          <option></option>\r\n          <option value=\"10\">10 Days</option>\r\n          <option value=\"20\">20 Days</option>\r\n          <option value=\"30\">30 Days</option>\r\n        </select>\r\n\r\n        <div *ngIf=\"selectEscalationDays.invalid && (selectEscalationDays.dirty || selectEscalationDays.touched)\" class=\"alert alert-danger\">\r\n\r\n          <div *ngIf=\"selectEscalationDays.errors.required\">\r\n            Escalation days is required\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"c('Close click')\">Cancel</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"onSubmit(editTaskFormForm)\">Save</button>\r\n  </div>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/tasks/task-management.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/tasks/task-management.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1>Task Management</h1>\r\n\r\n  <br />\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <div>\r\n      <kendo-grid [resizable]=\"true\" [data]=\"tasks\" [sortable]=\"false\" [rowClass]=\"isDisabled\">\r\n        <kendo-grid-column field=\"taskType\" title=\"Type\" width=\"9.5%\">\r\n        </kendo-grid-column>\r\n        <kendo-grid-column field=\"description\" title=\"Task Title\" width=\"14.66%\">\r\n        </kendo-grid-column>\r\n        <kendo-grid-column field=\"assignedToName\" title=\"Assigned To\" width=\"12.66%\">\r\n        </kendo-grid-column>\r\n        <kendo-grid-column field=\"status\" title=\"Status\" width=\"9.5%\">\r\n        </kendo-grid-column>\r\n        <kendo-grid-column field=\"escalationDays\" title=\"Escalation Days\" width=\"10.76%\">\r\n        </kendo-grid-column>\r\n        <kendo-grid-column field=\"escalationToName\" title=\"Escalation User\" width=\"16.66%\">\r\n        </kendo-grid-column>\r\n        <kendo-grid-column field=\"Actions\" title=\"Actions\" width=\"9.5%\">\r\n          <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n            <div *ngIf=\"dataItem.isActive\">\r\n              <a (click)=\"editModal.open(dataItem,$event)\" href=\"#\">Edit</a>\r\n            </div>\r\n            <div *ngIf=\"canBeDisabled(dataItem.type) && dataItem.isActive\">\r\n              <a (click)=\"toggle(dataItem.id,$event)\" href=\"#\">Disable</a>\r\n            </div>\r\n            <div class=\"enable-link-button\" *ngIf=\"!dataItem.isActive\">\r\n              <a (click)=\"toggle(dataItem.id, $event)\" href=\"#\">Enable</a>\r\n            </div>\r\n          </ng-template>\r\n        </kendo-grid-column>\r\n\r\n      </kendo-grid>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<edit-task #editModel (onTaskModified)=\"handleTaskModified($event)\"></edit-task>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/template-form.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/project-profile/components/template-form.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1>{{i18n.projectProfile + moduleName| dynamicTranslate }}</h1>\r\n\r\n<div  class=\"row\">\r\n  <div class=\"col-md-6 pb-4 pt-4 actions\">\r\n    <button class=\"btn btn-primary\" type=\"button\" (click)=\"groupManagement()\">{{i18n.projectProfile + 'Group Management' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"canManageTemplates\" class=\"btn btn-primary\" type=\"button\" (click)=\"editForms()\">{{i18n.projectProfile + 'Edit Forms' | dynamicTranslate}}</button>\r\n  </div>\r\n</div>\r\n\r\n<div *ngFor=\"let item of forms\">\r\n  <form *ngIf=\"item.id === view.id\" (ngSubmit)=\"onSubmit(item.id)\" [formGroup]=\"item.form\" #currentForm=\"ngForm\">\r\n\r\n    <div class=\"row\">\r\n      \r\n      \r\n      <div class=\"col-md-6\">\r\n        <div *ngFor=\"let field of view.evenFields | evenodd:'even'\">\r\n          <profile-dynamic-field [field]=\"field\" [form]=\"item.form\"></profile-dynamic-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-6\">\r\n        <div *ngFor=\"let field of view.oddFields | evenodd:'odd'\">\r\n          <profile-dynamic-field [field]=\"field\" [form]=\"item.form\"></profile-dynamic-field>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n\r\n    <div>\r\n      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!item.form.valid\">{{ i18n.common + 'Save' | dynamicTranslate }}</button>\r\n    </div>\r\n  </form>\r\n\r\n\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/asset-retirement.component.html":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/asset-retirement.component.html ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<modal-form [modalTitle]=\"i18n.asset + modalTitle | dynamicTranslate\" (modalEvent)=\"handleModalEvent($event)\">\r\n    <form (ngSubmit)=\"retireAssets(assetRetirementForm)\" #assetRetirementForm=\"ngForm\">\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.common + 'Type' | dynamicTranslate}}</label>\r\n                    <select class=\"form-control\" [(ngModel)]=\"assetRetirement.transactionApplicability\" name=\"transactionApplicability\" id=\"transactionApplicability\" #replaceSourceField=\"ngModel\" required>\r\n                        <option value=\"\" disabled>\r\n                            <span>{{i18n.common + 'Select a Type' | dynamicTranslate}}</span>\r\n                        </option>\r\n                        <option [value]=\"applicability.Partial\" [disabled]=\"disablePartial\">{{i18n.asset + 'Partial' | dynamicTranslate}}</option>\r\n                        <option [value]=\"applicability.Full\">{{i18n.asset + 'Full' | dynamicTranslate}}</option>\r\n                    </select>\r\n                    <div *ngIf=\"checkForTypeUndefined(assetRetirement.transactionApplicability) && !assetRetirementForm.valid && submitted\" class=\"alert alert-danger\">\r\n                        <div>\r\n                             {{i18n.common + 'Please enter a type.' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group\" *ngIf=\"assetRetirement.transactionApplicability != applicability.Full\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Cost' | dynamicTranslate}}</label>\r\n                    <input type=\"number\" min=\"0\" class=\"form-control\" [(ngModel)]=\"assetRetirement.costChange\" name=\"costChange\" #costChange=\"ngModel\" \r\n                        [disabled]=\"assetRetirement.quantityChange || assetRetirement.quantityChange === 0\" (change)=\"formHasErrors = false\"/>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Quantity' | dynamicTranslate}}</label>\r\n                    <input type=\"number\" min=\"0\" class=\"form-control\" [(ngModel)]=\"assetRetirement.quantityChange\" name=\"quantityChange\" #quantityChange=\"ngModel\" \r\n                        [disabled]=\"assetRetirement.costChange || assetRetirement.costChange === 0\" (change)=\"formHasErrors = false\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" *ngIf=\"((!assetRetirement.costChange && assetRetirement.quantityChange !== 0) && (!assetRetirement.quantityChange && assetRetirement.costChange !== 0)) && submitted\">\r\n                <div class=\"col-md-12\">\r\n                    <div  class=\"alert alert-danger\">\r\n                        <div>\r\n                             {{i18n.qualityControl + 'Please enter cost or quantity, one must be entered' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Disposal Code' | dynamicTranslate}}</label>\r\n                    <select class=\"form-control\" [(ngModel)]=\"assetRetirement.disposalCode\" name=\"disposalCode\" id=\"disposalCode\" required>\r\n                        <option value=\"\" disabled>\r\n                            <span>{{i18n.qualityControl + 'Select a Display Code' | dynamicTranslate}}</span>\r\n                        </option>\r\n                        <option [value]=\"disposalCodes.Scrapped\">{{i18n.asset + 'Scrapped' | dynamicTranslate}}</option>\r\n                        <option [value]=\"disposalCodes.Sold\">{{i18n.asset + 'Sold' | dynamicTranslate}}</option>\r\n                        <option [value]=\"disposalCodes.TradedIn\">{{i18n.asset + 'Traded In' | dynamicTranslate}}</option>\r\n                        <option [value]=\"disposalCodes.PostAudit\">{{i18n.asset + 'Post Audit' | dynamicTranslate}}</option>\r\n                    </select>\r\n                    <div *ngIf=\"!assetRetirement.disposalCode && !assetRetirementForm.valid && submitted\" class=\"alert alert-danger\">\r\n                        <div>\r\n                            {{i18n.qualityControl + 'Please enter a disposal code.' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Disposal Date' | dynamicTranslate}}</label>\r\n                    <kendo-datepicker [(value)]=\"assetRetirement.asOf\" required></kendo-datepicker>\r\n                    <div *ngIf=\"!assetRetirement.asOf && submitted\" class=\"alert alert-danger\">\r\n                        <div>\r\n                             {{i18n.qualityControl + 'Please enter a disposal date.' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" *ngIf=\"equalityCheck(assetRetirement.costChange, assetsCollection[0].historicalCost)\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"alert alert-warning\">\r\n                        <div>\r\n                             {{i18n.qualityControl + 'Retirement cost entered equals historial cost, this will be processed as a full retirement.' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group\" *ngIf=\"equalityCheck(assetRetirement.quantityChange, this.assetsCollection[0]['quantity'])\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"alert alert-warning\">\r\n                        <div>\r\n                             {{i18n.qualityControl + 'Retirement quantity entered equals original quantity, this will be processed as a full retirement.' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group\" *ngIf=\"formHasErrors\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"alert alert-danger\">\r\n                        <div>\r\n                             {{i18n.qualityControl + formErrorText | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</modal-form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/asset-transfer.component.html":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/asset-transfer.component.html ***!
  \*******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<modal-form [modalTitle]=\"i18n.asset + modalTitle | dynamicTranslate\" (modalEvent)=\"handleModalEvent($event)\">\r\n    <form (ngSubmit)=\"transferAssets(assetTransferForm)\" #assetTransferForm=\"ngForm\">\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.common + 'Type' | dynamicTranslate}}</label>\r\n                    <select class=\"form-control\" name=\"type\" required (change)=\"checkDisablePartial($event)\" [(ngModel)]=\"assetTransfer.transactionApplicability\" id=\"type\">\r\n                        <option value=\"\" disabled>\r\n                            <span>{{i18n.common + 'Select a Type' | dynamicTranslate}}</span>\r\n                        </option>\r\n                        <option [ngValue]=\"applicability.Full\">{{i18n.asset + 'Full' | dynamicTranslate}}</option>\r\n                        <option [ngValue]=\"applicability.Partial\" [disabled]=\"disablePartial\">{{i18n.asset + 'Partial' | dynamicTranslate}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div clas=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <label>{{i18n.asset + 'Member' | dynamicTranslate}}</label>\r\n                    <br />\r\n                    <cascading-combo-box [(ngModel)]=\"memberSiteBuilding\" name=\"memberSiteBuilding\"\r\n                    [valuesToSelect]=\"groupHierarchySelectValues\"\r\n                    [options]=\"groupHierarchy\"></cascading-combo-box>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" >\r\n            <div class=\"row\" *ngIf=\"!hidePartialFields\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Cost' | dynamicTranslate}}</label>\r\n                    <input type=\"number\" class=\"form-control\" name=\"cost\" [(ngModel)]=\"assetTransfer.costChange\" />\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Quantity' | dynamicTranslate}}</label>\r\n                    <input type=\"number\" class=\"form-control\" name=\"quantity\" [(ngModel)]=\"assetTransfer.quantityChange\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Floor' | dynamicTranslate}}</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"floor\" [(ngModel)]=\"floorValue\" />\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Room' | dynamicTranslate}}</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"room\" [(ngModel)]=\"roomValue\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Department Name' | dynamicTranslate}}</label>\r\n                    <select class=\"form-control\" id=\"DepartmentSelection\" [(ngModel)]=\"selectedDepartmentId\" name=\"accountSelection\">\r\n                        <option *ngFor=\"let opt of departmentOptions\" [value]=\"opt.id\">{{opt.departmentNumber}}</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label>{{i18n.asset + 'Account Description' | dynamicTranslate}}</label>\r\n                    <select class=\"form-control\" id=\"AccountSelection\" [(ngModel)]=\"selectedAccountId\" name=\"accountSelection\">\r\n                        <option *ngFor=\"let opt of accountOptions\" [value]=\"opt.id\">{{opt.accountDescription}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" *ngIf=\"hasErrors() && submitted\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"alert alert-danger\">\r\n                    <div>\r\n                        {{i18n.qualityControl + errorMessage | dynamicTranslate}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</modal-form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/cost-adjustment.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/actions/cost-adjustment.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<modal-form [modalTitle]=\"i18n.asset + modalTitle | dynamicTranslate\" (modalEvent)=\"handleModalEvent($event)\">\r\n    <form (ngSubmit)=\"costAdjustment(costAdjustmentForm)\" #costAdjustmentForm=\"ngForm\">\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <input type=\"checkbox\" class=\"k-checkbox\" [checked]=\"costAdjustmentDto.prorateValues\" (change)=\"costAdjustmentDto.prorateValues = !costAdjustmentDto.prorateValues\" id=\"prorate\" name=\"prorate\">\r\n                    <label class=\"k-checkbox-label\" for=\"prorate\">{{i18n.asset + 'Prorate Values' | dynamicTranslate}}</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group border p-3\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-3\"></div>\r\n                <div class=\"col-md-4 text-center pt-2\">{{i18n.asset + 'Cost' | dynamicTranslate}}</div>\r\n                <div class=\"col-md-4 text-center\">{{i18n.asset + 'Accumulated Depr.' | dynamicTranslate}}</div>\r\n            </div>\r\n            <div class=\"row pt-1\">\r\n                <div class=\"col-md-3 text-right\">{{i18n.common + 'Old' | dynamicTranslate}}</div>\r\n                <div class=\"col-md-4\">\r\n                    <input type=\"number\" class=\"form-control\" [(ngModel)]=\"selectedAsset.historicalCost\" name=\"currentHistorialCost\" readonly\r\n                    />\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <input type=\"number\" class=\"form-control\" [(ngModel)]=\"selectedAsset.accumulatedDepreciation\" name=\"currentAccumulatedDepreciation\"\r\n                        readonly />\r\n                </div>\r\n            </div>\r\n            <div class=\"row pt-1\">\r\n                <div class=\"col-md-3 text-right\">{{i18n.asset + 'Adjustment' | dynamicTranslate}}</div>\r\n                <div class=\"col-md-4\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"costAdjustmentDto.costChange\" name=\"costChange\" (change)=\"calcHistoricalCost()\"\r\n                    />\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"costAdjustmentDto.accumChange\" name=\"accumChange\" name=\"adjustmentAccumulatedDepreciation\"\r\n                        (change)=\"calcNewAccumulatedDepreciation()\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"row pt-1\">\r\n                <div class=\"col-md-3 text-right\">{{i18n.common + 'New' | dynamicTranslate}}</div>\r\n                <div class=\"col-md-4\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"newHistorialCost\" name=\"newHistorialCost\" (change)=\"calcCostChange()\"\r\n                    />\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"newAccumulatedDepreciation\" name=\"newAccumulatedDepreciation\" (change)=\"calcAccumChange()\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\" *ngIf=\"hasErrors() && submitted\">\r\n                <div class=\"col-md-12\">\r\n                    <div  class=\"alert alert-danger\" *ngIf=\"missingRequiredField\">\r\n                        <div>\r\n                            {{i18n.qualityControl + 'Please enter a value in one of the fields for the cost adjustment to be completed' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"alert alert-danger\" *ngIf=\"!isFiscalYearEndValid\">\r\n                        <div>\r\n                             {{i18n.qualityControl + 'Cannot complete cost adjustment. Fiscal Year End is not set.' | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" *ngIf=\"apiErrorMessage\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"alert alert-danger\" *ngIf=\"apiErrorMessage\">\r\n                        <div>\r\n                            {{i18n.qualityControl + '' + apiErrorMessage | dynamicTranslate}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</modal-form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/building-valuation.component.html":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/building-valuation.component.html ***!
  \********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n\r\n  <form #buildingValuationForm=\"ngForm\">\r\n    <div class=\"modal-body\">\r\n      <div *ngIf=\"!valuationRequestSubmitted\">\r\n        {{i18n.qualityControl + 'You are about to submit' | dynamicTranslate}}\r\n        <b> {{selectedBuildings.length}} </b> \r\n        {{i18n.qualityControl + 'buildings to CoreLogic for valuation. Please confirm to proceed.' | dynamicTranslate}}\r\n      </div>\r\n      <div *ngIf=\"valuationRequestSubmitted && !responseArrived\">\r\n          {{i18n.qualityControl + 'Processing Submission' | dynamicTranslate}}\r\n        <br><br>\r\n      </div>\r\n      <div *ngIf=\"valuationRequestSubmitted && responseArrived && !hasValuationErrors\">\r\n          {{i18n.qualityControl + 'All records sent successfully for valuation' | dynamicTranslate}}\r\n          <br><br>\r\n      </div>\r\n      <div *ngIf=\"valuationRequestSubmitted && responseArrived && hasValuationErrors\">\r\n        <b> {{i18n.qualityControl + 'Please resolve the following errors and resubmit' | dynamicTranslate}} </b>\r\n      <br>\r\n      <br>\r\n      </div>\r\n      <div class=\"row\" *ngIf=\"!valuationRequestSubmitted && !responseArrived\">\r\n        <div class=\"col-md-12\">\r\n          <div style=\"position: relative;\">\r\n            <kendo-grid [resizable]=\"true\"  [data]=\"selectedBuildings\">\r\n              <kendo-grid-column field=\"buildingName\" title=\"{{i18n.building + 'Building Name' | dynamicTranslate}}\" width=\"25%\">  </kendo-grid-column>\r\n              <kendo-grid-column field=\"siteName\" title=\"{{i18n.building + 'Site Name' | dynamicTranslate}}\" width=\"25%\"></kendo-grid-column>\r\n              <kendo-grid-column field=\"memberName\" title=\"{{i18n.building + 'Member Name' | dynamicTranslate}}\" width=\"25%\"></kendo-grid-column>\r\n            </kendo-grid>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" *ngIf=\"responseArrived && hasValuationErrors\" style=\"position: relative;padding:3rem;padding-top:0.5rem; padding-bottom:0.5rem\">\r\n          <div style=\"overflow-y:scroll;height:25rem;width:80%;padding-left: 20px;border: 1px solid black;\">\r\n            <table style=\"height: 70%; width:100%;\">\r\n              <tr *ngFor=\"let building of apiErrorResponse;\" > <b> {{building.buildingName}} </b>\r\n                  <table>\r\n                      <tr *ngFor=\"let buildingError of building.errorsAssociated\">\r\n                        <td></td><td>{{i18n.qualityControl + getEnumDisplayName(buildingError) | dynamicTranslate}}</td>\r\n                      </tr>\r\n                  </table>\r\n                  <br>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\" style=\"padding:2rem;padding-top:0.5rem\">\r\n      <button *ngIf=\"!valuationRequestSubmitted\" type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\"> {{i18n.common + 'Cancel' | dynamicTranslate}} </button>  \r\n      <button *ngIf=\"valuationRequestSubmitted\" type=\"submit\" class=\"btn btn-primary\" (click)=\"cancel()\" > {{i18n.common + 'Close' | dynamicTranslate}} </button>                     \r\n      <button *ngIf=\"!valuationRequestSubmitted\" type=\"submit\" class=\"btn btn-primary\" (click)=\"confirm()\" >{{i18n.common + 'Confirm' | dynamicTranslate}}</button>                    \r\n    </div>\r\n  </form>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.html":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/floodplain-valuation.component.html ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n\r\n  <form #floodplainValuationForm=\"ngForm\">\r\n    <div class=\"modal-body\">\r\n      <div *ngIf=\"!valuationRequestSubmitted\">\r\n         {{i18n.qualityControl + 'You are about to submit' | dynamicTranslate}}\r\n          <b> {{selectedBuildings.length}} </b> \r\n         {{i18n.qualityControl + 'buildings to CoreLogic for Flood Plain valuation. Please confirm to proceed.' | dynamicTranslate}}\r\n        </div>\r\n        <div *ngIf=\"valuationRequestSubmitted && !responseArrived\">\r\n          {{i18n.qualityControl + 'Processing Submission' | dynamicTranslate}}\r\n          <br><br>\r\n        </div>\r\n        <div *ngIf=\"valuationRequestSubmitted && responseArrived && !hasValuationErrors\">\r\n          {{i18n.qualityControl + 'All records sent successfully for valuation' | dynamicTranslate}}\r\n          <br><br>\r\n        </div>\r\n        <div *ngIf=\"valuationRequestSubmitted && responseArrived && hasValuationErrors\">\r\n          <b>\r\n            {{i18n.qualityControl + 'Please resolve the following errors and resubmit' | dynamicTranslate}}\r\n          </b>\r\n          <br>\r\n        </div>\r\n        <div class=\"row\" *ngIf=\"!valuationRequestSubmitted && !responseArrived\">\r\n          <div class=\"col-md-12\">\r\n            <div style=\"position: relative;\">\r\n                <kendo-grid [resizable]=\"true\"  [data]=\"selectedBuildings\">\r\n                    <kendo-grid-column field=\"buildingName\" title=\"{{ i18n.building + 'Building Name' | dynamicTranslate}}\" width=\"25%\">  </kendo-grid-column>\r\n                    <kendo-grid-column field=\"siteName\" title=\"{{ i18n.building + 'Site Name' | dynamicTranslate}}\" width=\"25%\"></kendo-grid-column>\r\n                    <kendo-grid-column field=\"memberName\" title=\"{{ i18n.building + 'Member Name' | dynamicTranslate}}\" width=\"25%\"></kendo-grid-column>\r\n                  </kendo-grid>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\" *ngIf=\"responseArrived && hasValuationErrors\" style=\"position: relative;padding:3rem;padding-top:0.5rem; padding-bottom:0.5rem\">\r\n          <div style=\"overflow-y:scroll;height:25rem;width:80%;padding-left: 20px;border: 1px solid black;\">\r\n            <table style=\"height: 70%; width:100%;\">\r\n                <tr *ngFor=\"let building of apiErrorResponse\"> <b> {{building.buildingName}} </b>\r\n                    <table>\r\n                        <tr *ngFor=\"let buildingError of building.errorsAssociated\">\r\n                          <td>{{ i18n.qualityControl + getEnumDisplayName(buildingError) | dynamicTranslate }}</td>\r\n                        </tr>\r\n                    </table>\r\n                    <br>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" style=\"padding:2rem;padding-top:0.5rem\">\r\n        <button *ngIf=\"!valuationRequestSubmitted\" type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>  \r\n        <button *ngIf=\"valuationRequestSubmitted\" type=\"submit\" class=\"btn btn-primary\" (click)=\"cancel()\" > {{i18n.common + 'Close' | dynamicTranslate}}</button>                     \r\n        <button *ngIf=\"!valuationRequestSubmitted\" type=\"submit\" class=\"btn btn-primary\" (click)=\"confirm()\" >{{i18n.common + 'Confirm' | dynamicTranslate}}</button>                    \r\n    </div>\r\n  </form>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/mass-update-building.component.html":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/actions/mass-update-building.component.html ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:true}\">\r\n    <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\" [queryParams]=\"breadCrumb.queryParams\">{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n\r\n<mass-update-criteria \r\n  *ngIf=\"filterMetaData\" \r\n  [defaultFilterTerm]=\"defaultFilterTerm\" \r\n  [filterMetaData]=\"filterMetaData\"\r\n  [translatedBaseKey]=\"i18n.building\"\r\n  [replaceMetaData]=\"replaceMetaData\"\r\n>\r\n</mass-update-criteria>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/building-form-group.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/building-form-group.component.html ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!--<div class=\"row\">\r\n<ng-container *ngFor=\"let field of formControls | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n\r\n  <ng-container *ngIf=\"field.type !== fieldTypes.Hidden\">\r\n      <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n          <dynamic-field [sourceTranslationKey]=\"i18n.building\" [field]=\"field\" [form]=\"formGroup\" [key]='field.displayName'\r\n             [imageEntityType]=\"imageEntityTypes.Building\" [entityId]=\"buildingId\"></dynamic-field> \r\n       \r\n         </div>\r\n       \r\n         <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n           <dynamic-field [sourceTranslationKey]=\"i18n.building\" [field]=\"field\" [form]=\"formGroup\" [key]='field.displayName'\r\n           [imageEntityType]=\"imageEntityTypes.Building\" [entityId]=\"buildingId\"></dynamic-field> \r\n       \r\n         </div>\r\n  </ng-container>\r\n\r\n\r\n</ng-container>\r\n</div>-->\r\n\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-6\">\r\n\r\n    <div *ngFor=\"let field of fieldsLeft\">\r\n      <dynamic-field *ngIf=\"!field.fieldCategory || field.fieldCategory === 0\" [sourceTranslationKey]=\"i18n.building\" [field]=\"field\" [form]=\"formGroup\" [key]='field.displayName'\r\n        [imageEntityType]=\"imageEntityTypes.Building\" [entityId]=\"buildingId\">\r\n      </dynamic-field>\r\n      <dynamic-field *ngIf=\"field.fieldCategory && field.fieldCategory === 1\" [sourceTranslationKey]=\"i18n.customField\" [field]=\"field\" [form]=\"formGroup\" [key]='field.displayName'\r\n        [imageEntityType]=\"imageEntityTypes.Building\" [entityId]=\"buildingId\" (customFieldLabelChange)=\"handleCustomFieldLabelChange($event)\">\r\n      </dynamic-field>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"col-md-6\">\r\n\r\n    <div *ngFor=\"let field of fieldsRight\">\r\n      <dynamic-field *ngIf=\"!field.fieldCategory || field.fieldCategory === 0\" [sourceTranslationKey]=\"i18n.building\" [field]=\"field\" [form]=\"formGroup\" [key]='field.displayName'\r\n        [imageEntityType]=\"imageEntityTypes.Building\" [entityId]=\"buildingId\">\r\n      </dynamic-field>\r\n      <dynamic-field *ngIf=\"field.fieldCategory && field.fieldCategory === 1\" [sourceTranslationKey]=\"i18n.customField\" [field]=\"field\" [form]=\"formGroup\" [key]='field.displayName'\r\n        [imageEntityType]=\"imageEntityTypes.Building\" [entityId]=\"buildingId\" (customFieldLabelChange)=\"handleCustomFieldLabelChange($event)\">\r\n      </dynamic-field>\r\n    </div>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/building-form.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/building-form.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{ exact: true }\">\r\n    <a\r\n      [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\"\r\n      [queryParams]=\"{ mode: '1' }\"\r\n      [routerLink]=\"breadCrumb.routerLink\"\r\n      >{{ i18n.qualityControl + breadCrumb.name | dynamicTranslate }}</a\r\n    >\r\n  </li>\r\n</ol>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-3\">\r\n    <span class=\"building-header-label\">{{ i18n.building + 'Member Number' | dynamicTranslate }}:</span> {{ buildingDto.memberNumber }}\r\n    <br />\r\n    <span class=\"building-header-label\">{{ i18n.building + 'Member Name' | dynamicTranslate }}:</span> {{ buildingDto.memberName }}\r\n  </div>\r\n  <div class=\"col-md-3\">\r\n    <span class=\"building-header-label\">{{ i18n.building + 'Site Number' | dynamicTranslate }}:</span> {{ buildingDto.siteNumber }} <br />\r\n    <span class=\"building-header-label\">{{ i18n.building + 'Site Name' | dynamicTranslate }}:</span> {{ buildingDto.siteName }}\r\n  </div>\r\n  <div class=\"col-md-3\">\r\n    <span class=\"building-header-label\">{{ i18n.building + 'Building Number' | dynamicTranslate }}:</span> {{ buildingDto.buildingNumber }}\r\n    <br />\r\n    <span class=\"building-header-label\">{{ i18n.building + 'Building Name' | dynamicTranslate }}:</span> {{ buildingDto.buildingName }}\r\n  </div>\r\n  <div class=\"col-md-3\"></div>\r\n</div>\r\n\r\n<form\r\n  id=\"building-form\"\r\n  class=\"fixed-menu-form\"\r\n  *ngIf=\"formGroup\"\r\n  [formGroup]=\"formGroup\"\r\n  (ngSubmit)=\"onSubmit(buildingForm)\"\r\n  #buildingForm=\"ngForm\"\r\n>\r\n  <div>\r\n    <ngb-tabset [destroyOnHide]=\"false\" type=\"pills\" #tabs>\r\n      <ngb-tab>\r\n        <ng-template ngbTabTitle>\r\n          <h3>{{ i18n.building + 'Primary Info' | dynamicTranslate }}</h3>\r\n        </ng-template>\r\n        <ng-template ngbTabContent>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-10\">\r\n              <h2 id=\"PrimaryInfo\" #primaryInfoHeading>{{ i18n.building + 'Primary Info' | dynamicTranslate }}</h2>\r\n\r\n              <!--<div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                  <dynamic-field\r\n                    [sourceTranslationKey]=\"i18n.building\"\r\n                    [field]=\"formModels[formModelEnum.PrimaryInfoFields][0]\"\r\n                    [form]=\"formGroup\"\r\n                    [key]=\"formModels[formModelEnum.PrimaryInfoFields][0].displayName\"\r\n                    [imageEntityType]=\"imageEntityTypes.Building\"\r\n                    [entityId]=\"buildingId\"\r\n                  ></dynamic-field>\r\n                </div>\r\n\r\n                <div class=\"col-md-6\">\r\n                  <dynamic-field\r\n                    [sourceTranslationKey]=\"i18n.building\"\r\n                    [field]=\"formModels[formModelEnum.PrimaryInfoFields][1]\"\r\n                    [form]=\"formGroup\"\r\n                    [key]=\"formModels[formModelEnum.PrimaryInfoFields][1].displayName\"\r\n                    [imageEntityType]=\"imageEntityTypes.Building\"\r\n                    [entityId]=\"buildingId\"\r\n                  ></dynamic-field>\r\n\r\n                  <dynamic-field\r\n                    [sourceTranslationKey]=\"i18n.building\"\r\n                    [field]=\"formModels[formModelEnum.PrimaryInfoFields][2]\"\r\n                    [form]=\"formGroup\"\r\n                    [key]=\"formModels[formModelEnum.PrimaryInfoFields][2].displayName\"\r\n                    [imageEntityType]=\"imageEntityTypes.Building\"\r\n                    [entityId]=\"buildingId\"\r\n                  ></dynamic-field>\r\n                </div>\r\n              </div>-->\r\n\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.PrimaryInfoFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.PrimaryInfoFields]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingImages]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"Location\">{{ i18n.building + 'Location' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingLocationFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.BuildingLocationFields]\"\r\n\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"Map\">{{ i18n.building + 'Map' | dynamicTranslate }}</label>\r\n\r\n                <div id=\"Map\" class=\"heading-item\">\r\n                  <div *ngIf=\"!buildingDto.latitude && !buildingDto.longitude\" class=\"empty-item-action\">\r\n                    <a [ngx-scroll-to-duration]=\"200\" [ngx-scroll-to]=\"'#Location'\">Set Lat/Long</a>\r\n                  </div>\r\n\r\n                  <bing-map\r\n                    *ngIf=\"buildingDto.latitude && buildingDto.longitude\"\r\n                    [longitude]=\"buildingDto.longitude\"\r\n                    [latitude]=\"buildingDto.latitude\"\r\n                    [buildingName]=\"buildingDto.buildingName\"\r\n                    [mapZoom]=\"15\"\r\n                  ></bing-map>\r\n                </div>\r\n              </div>\r\n\r\n              <h2 id=\"Valuation\">{{ i18n.building + 'Valuation' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingValuationFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.BuildingValuationFields]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"Superstructure\">{{ i18n.building + 'Superstructure' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingSuperstructureFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.BuildingSuperstructureFields]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"Substructure\">{{ i18n.building + 'Substructure' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingSubstructureFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.BuildingSubstructureFields]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"Occupancy\">{{ i18n.building + 'Occupancy' | dynamicTranslate }}</h2>\r\n              <occupancy-codes-grid\r\n                *ngIf=\"buildingDto && occupancyCodeOptions\"\r\n                [occupancyCodeOptions]=\"occupancyCodeOptions\"\r\n              ></occupancy-codes-grid>\r\n\r\n              <h2 id=\"Construction\">{{ i18n.building + 'Construction' | dynamicTranslate }}</h2>\r\n              <building-attributes-grid *ngIf=\"buildingDto\" [buildingAttributes]=\"buildingAttributes\"></building-attributes-grid>\r\n\r\n              <h2 id=\"Systems\">{{ i18n.building + 'Systems' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingSystemsFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.BuildingSystemsFields]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"SiteAttributes\">{{ i18n.building + 'Site Attributes' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.BuildingSiteAttributeFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.BuildingSiteAttributeFields]\"\r\n\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"AdditionalData\">{{ i18n.building + 'Additional Data' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.AdditionalDataFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.AdditionalDataFields]\"\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n                (customFieldLabelChange)=\"handleCustomFieldLabelChange($event)\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"CoreLogic\">{{ i18n.building + 'CoreLogic' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.CoreLogicFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.CoreLogicFields]\"\r\n\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n            </div>\r\n\r\n            <div class=\"col-md-2\">\r\n              <div class=\"form-navigation\">\r\n                <ul class=\"nav flex-column\" #formNavigation>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link current-item\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#PrimaryInfo\"\r\n                      [ngx-scroll-to]=\"'#PrimaryInfo'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Primary Info' | dynamicTranslate }}</a\r\n                    >\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      href=\"#Location\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      [ngx-scroll-to]=\"'#Location'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Location' | dynamicTranslate }}</a\r\n                    >\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      href=\"#Valuation\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      [ngx-scroll-to]=\"'#Valuation'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Valuation' | dynamicTranslate }}</a\r\n                    >\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#Superstructure\"\r\n                      [ngx-scroll-to]=\"'#Superstructure'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Superstructure' | dynamicTranslate }}</a\r\n                    >\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#Substructure\"\r\n                      [ngx-scroll-to]=\"'#Substructure'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Substructure' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      href=\"#Occupancy\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      [ngx-scroll-to]=\"'#Occupancy'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Occupancy' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#Construction\"\r\n                      [ngx-scroll-to]=\"'#Construction'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Construction' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#Systems\"\r\n                      [ngx-scroll-to]=\"'#Systems'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Systems' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#SiteAttributes\"\r\n                      [ngx-scroll-to]=\"'#SiteAttributes'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Site Attributes' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#AdditionalData\"\r\n                      [ngx-scroll-to]=\"'#AdditionalData'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'Additional Data' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <a\r\n                      class=\"nav-link\"\r\n                      [ngx-scroll-to-duration]=\"200\"\r\n                      href=\"#CoreLogic\"\r\n                      [ngx-scroll-to]=\"'#CoreLogic'\"\r\n                      (click)=\"preventDefault($event)\"\r\n                      >{{ i18n.building + 'CoreLogic' | dynamicTranslate }}\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <br />\r\n        </ng-template>\r\n      </ngb-tab>\r\n\r\n      <ngb-tab>\r\n        <ng-template ngbTabTitle>\r\n          <h3>{{ i18n.building + 'Additional Data' | dynamicTranslate }}</h3>\r\n        </ng-template>\r\n        <ng-template ngbTabContent>\r\n          <div class=\"row\">\r\n            <div class=\"additional-data-grid  col-md-12\">\r\n              <h2 id=\"additionalBuildingEquipmentAndFeatures\">\r\n                {{ i18n.building + 'Additional Building Equipment and Features' | dynamicTranslate }}\r\n              </h2>\r\n\r\n              <additional-building-equipment-grid [buildingDto]=\"buildingDto\"></additional-building-equipment-grid>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"additional-data-grid additional-data-grid col-md-12\">\r\n              <h2 id=\"customAdditions\">{{ i18n.building + 'Custom Additions' | dynamicTranslate }}</h2>\r\n\r\n              <custom-additions-grid [buildingDto]=\"buildingDto\"></custom-additions-grid>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"additional-data-grid col-md-12\">\r\n              <h2 id=\"userFactors\">{{ i18n.building + 'User Factors' | dynamicTranslate }}</h2>\r\n\r\n              <user-factor-grid [buildingDto]=\"buildingDto\"></user-factor-grid>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </ngb-tab>\r\n\r\n      <ngb-tab>\r\n        <ng-template ngbTabTitle>\r\n          <h3>{{ i18n.building + 'Secondary COPE' | dynamicTranslate }}</h3>\r\n        </ng-template>\r\n        <ng-template ngbTabContent>\r\n          <building-form-group *ngIf=\"!buildingDto\" [formControls]=\"formModels[2]\" [formGroup]=\"formGroup\"></building-form-group>\r\n\r\n          <!-- FormModelEnum.CopedataWindFields -->\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <h2 id=\"wind\">{{ i18n.building + 'Wind' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.CopedataWindFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.CopedataWindFields]\"\r\n\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n\r\n              <h2 id=\"earthquake\">{{ i18n.building + 'Earthquake' | dynamicTranslate }}</h2>\r\n              <building-form-group\r\n                [formControls]=\"formModels[formModelEnum.CopeDataEarthquakeFields]\"\r\n                [formLayout]=\"formLayouts[formModelEnum.CopeDataEarthquakeFields]\"\r\n\r\n                [formGroup]=\"formGroup\"\r\n                [buildingId]=\"buildingDto.id\"\r\n              ></building-form-group>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </ngb-tab>\r\n\r\n      <ngb-tab>\r\n        <ng-template ngbTabTitle>\r\n          <h3>{{ i18n.building + 'Flood Zone' | dynamicTranslate }}</h3>\r\n        </ng-template>\r\n        <ng-template ngbTabContent>\r\n  \r\n          <building-form-group\r\n            *ngIf=\"buildingDto\"\r\n            [formControls]=\"formModels[formModelEnum.InitialFloodPlainFields]\"\r\n            [formLayout]=\"formLayouts[formModelEnum.InitialFloodPlainFields]\"\r\n\r\n            [formGroup]=\"formGroup\"\r\n            [buildingId]=\"buildingDto.id\"\r\n          ></building-form-group>\r\n\r\n          <building-form-group\r\n          *ngIf=\"buildingDto\"\r\n          [formControls]=\"formModels[formModelEnum.BuildingFloodPlainModelFields]\"\r\n          [formLayout]=\"formLayouts[formModelEnum.BuildingFloodPlainModelFields]\"\r\n\r\n          [formGroup]=\"formGroup\"\r\n          [buildingId]=\"buildingDto.id\"\r\n        ></building-form-group>\r\n        </ng-template>\r\n      </ngb-tab>\r\n     \r\n    </ngb-tabset>\r\n  </div>\r\n\r\n  <div id=\"bottom-form-action-bar\">\r\n    <ng-container *ngIf=\"isReadOnly === false\">\r\n      <button type=\"button\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{ i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n      <button type=\"button\" class=\"btn btn-primary\" (click)=\"save(buildingForm)\" [ladda]=\"isSaving\">\r\n        {{ i18n.common + 'Save' | dynamicTranslate }}\r\n      </button>\r\n      <button type=\"submit\" class=\"btn btn-primary\" (click)=\"closeForm = true\" [ladda]=\"isSaving\">\r\n        {{ i18n.common + 'Save And Close' | dynamicTranslate }}\r\n      </button>\r\n      <button type=\"button\" class=\"btn btn-primary\" *ngIf=\"isEditBuilding\" (click)=\"valuateBuilding()\">\r\n        {{ i18n.common + 'Building Valuation' | dynamicTranslate }}\r\n      </button>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"isReadOnly === true\">\r\n      <button type=\"button\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{ i18n.common + 'Close' | dynamicTranslate }}</button>\r\n    </ng-container>\r\n  </div>\r\n</form>\r\n<div>\r\n  <building-valuation (onAction)=\"handleAction($event)\"></building-valuation>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component.html":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/additional-building-equipment-grid.component.html ***!
  \********************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n\r\n        <famis-grid [famisGrid]=\"additionalEquipmentGrid\"\r\n            (actionEvent)=\"handleActionEvent($event)\">\r\n        </famis-grid>\r\n\r\n\r\n        <div class=\"pull-left\">\r\n            <button type=\"button\" (click)=\"addAddition()\" class=\"btn btn-action btn-small\">\r\n                <i class=\"fa fa-plus\"></i>\r\n            </button> &nbsp; {{i18n.building + ' Add Additional Building Equipment and Feature' | dynamicTranslate }}\r\n        </div>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.html":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/additional-data/upsert-building-addition.component.html ***!
  \**********************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"save(buildingForm)\" #buildingForm=\"ngForm\">\r\n  <div>\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <div class=\"form-group\">\r\n            <h2>{{ i18n.building + 'Group and Category' | dynamicTranslate }}</h2>\r\n            <hr />\r\n\r\n            <select class=\"form-control\" [(ngModel)]=\"selectedGroupId\" name=\"group\" id=\"disposalCode\" (change)=\"changeGroup()\" required>\r\n              <option [value]=\"undefined\" disabled>\r\n                <span>{{ i18n.building + 'Select Group' | dynamicTranslate }}</span>\r\n              </option>\r\n              <option *ngFor=\"let group of (groups | orderBy: 'description')\" [value]=\"group.id\">{{\r\n                i18n.building + group.description | dynamicTranslate\r\n              }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <select\r\n              [disabled]=\"selectedGroupId === undefined\"\r\n              class=\"form-control\"\r\n              [(ngModel)]=\"selectedCategoryId\"\r\n              name=\"category\"\r\n              id=\"disposalCode\"\r\n              (change)=\"setCriteriaAndAdjustments()\"\r\n              required\r\n            >\r\n              <option [value]=\"undefined\" disabled>\r\n                <span>{{ i18n.building + 'Select Category' | dynamicTranslate }}</span>\r\n              </option>\r\n              <option *ngFor=\"let category of (categories | orderBy: 'description')\" [value]=\"category.id\"\r\n                >{{ i18n.building + category.description | dynamicTranslate }} ({{ category.code }})</option\r\n              >\r\n            </select>\r\n          </div>\r\n        </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <div class=\"form-group pl-3\">\r\n                <span style=\"color: red;\">*</span> {{ i18n.building + 'Quantity' | dynamicTranslate }}\r\n                <kendo-numerictextbox [disabled]=\"selectedGroupId === undefined\" name=\"quantity\" [required]=\"true\" [(ngModel)]=\"selectedQuantity\"\r\n                  class=\"form-control\"></kendo-numerictextbox>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class=\"col-md-6\">\r\n            \r\n          <ng-container *ngIf=\"selectedCategoryId !== undefined && selectedCriteria.length > 0\">\r\n            <h2>{{ i18n.building + 'Criteria' | dynamicTranslate }}</h2>\r\n            <hr />\r\n\r\n            <ng-container *ngFor=\"let criteria of criteriaForCategory\">\r\n              <div *ngIf=\"criteria.length === 1 && criteria[0].hasValueEntry\" class=\"form-group\">\r\n                <label [attr.for]=\"criteria[0].quantity\"></label>\r\n                  \r\n                \r\n\r\n                <label [attr.for]=\"criteria[0].description\">\r\n                  <span style=\"color:red;\">*</span> {{ i18n.building + criteria[0].description | dynamicTranslate }}</label\r\n                >\r\n\r\n                <kendo-numerictextbox\r\n                  [name]=\"criteria[0].index\"\r\n                  [required]=\"true\"\r\n                  [(ngModel)]=\"selectedCriteria[criteria[0].index].criterionValue\"\r\n                  class=\"form-control\"\r\n                ></kendo-numerictextbox>\r\n              </div>\r\n\r\n              <div *ngIf=\"criteria.length > 1 && !criteria[0].hasValueEntry\" class=\"form-group\">\r\n                <span style=\"color:red;\">*</span>\r\n                <select\r\n                  [required]=\"true\"\r\n                  [name]=\"criteria[0].index\"\r\n                  [(ngModel)]=\"selectedCriteria[criteria[0].index].referenceBuildingAdditionCriterionId\"\r\n                  class=\"form-control\"\r\n                >\r\n                  <option></option>\r\n                  <option *ngFor=\"let option of (criteria | orderBy: 'code')\" [value]=\"option.id\">{{\r\n                    i18n.building + option.description | dynamicTranslate\r\n                  }}</option>\r\n                </select>\r\n              </div>\r\n            </ng-container>\r\n          </ng-container>\r\n        </div>\r\n\r\n        <div class=\"row p-3\">\r\n          <div class=\"col-md-12\">\r\n            <ng-container *ngIf=\"adjustmentsForCategory.length > 0\">\r\n              <h2>{{ i18n.building + 'Adjustments' | dynamicTranslate }}</h2>\r\n              <hr />\r\n\r\n              <div class=\"form-row\">\r\n                <div class=\"col-md-6\" *ngFor=\"let adjustment of adjustmentsForCategory; let i = index\">\r\n                  <label [attr.for]=\"adjustment.description\">{{ i18n.building + adjustment.description | dynamicTranslate }}</label>\r\n                  <kendo-numerictextbox\r\n                    [name]=\"adjustment.id\"\r\n                    [(ngModel)]=\"selectedAdjustments[i].value\"\r\n                    class=\"form-control\"\r\n                  ></kendo-numerictextbox>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"showValidationError\" style=\"color:red; text-align: center; padding:20px;\">\r\n      Please complete all required (*) Criteria fields\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"dismiss()\">{{ i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n      <button type=\"submit\" class=\"btn btn-primary\">{{ i18n.common + 'Save' | dynamicTranslate }}</button>\r\n    </div>\r\n  </div>\r\n</form>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component.html":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/building-attributes-grid.component.html ***!
  \**************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("  <famis-grid *ngIf=\"!additionalEquipmentGrid.loading\" [famisGrid]=\"additionalEquipmentGrid\" (sortChanged)=\"updateGrid($event)\"\r\n    (actionEvent)=\"handleActionEvent($event)\">\r\n  </famis-grid>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.html":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/building-attributes/upsert-building-attribute.component.html ***!
  \***************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"save(buildingForm)\" #buildingForm=\"ngForm\">\r\n\r\n  <div>\r\n    <div class=\"modal-body building-attribute-selector\">\r\n\r\n      <h2>{{i18n.building + attribute.attributeTypeName | dynamicTranslate }}</h2>\r\n\r\n\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th> {{i18n.common + 'Value' | dynamicTranslate}}\r\n              </th>\r\n              <th> {{i18n.common + 'Percent' | dynamicTranslate}} </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let attributeValue of selectedValues; let i=index;\">\r\n              <td>\r\n                <span class=\"grid-action-item\">\r\n                  <a (click)=\"remove(i)\">\r\n                    {{i18n.common + 'Remove' | dynamicTranslate}}\r\n                  </a>\r\n\r\n                </span>\r\n\r\n              </td>\r\n              <td>\r\n\r\n                <select class=\"form-control\" name=\"{{'attribute' + i}}\" [(ngModel)]=\"selectedValues[i].buildingAttributeCodeId\"\r\n                  required=\"true\">\r\n                  <option value=\"\" disabled>{{i18n.building + 'Select Attribute Value' | dynamicTranslate}} </option>\r\n                  <option *ngFor=\"let attribute of attribute.attributeValueOptions | orderBy: 'description'\" [value]=\"attribute.buildingAttributeCodeId\">{{i18n.building\r\n                    + attribute.description | dynamicTranslate }}</option>\r\n                </select>\r\n\r\n              </td>\r\n              <td><input type=\"text\" class=\"form-control\" [value]=\"attributeValue.value\" name=\"{{'attributeValue' + i}}\"\r\n                  [(ngModel)]=\"selectedValues[i].value\" aria-describedby=\"percent\" placeholder=\"Enter percent\" required=\"true\"></td>\r\n            </tr>\r\n\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <button type=\"button\" (click)=\"add()\" class=\"btn btn-action btn-small\">\r\n                <i class=\"fa fa-plus\"></i>\r\n              </button>\r\n              <strong>&nbsp;{{i18n.userFactors + 'Add' | dynamicTranslate}}</strong>\r\n            </div>\r\n          </div>\r\n      \r\n\r\n\r\n    </div>\r\n\r\n    <div *ngIf=\"showValidationError\" style=\"color:red; text-align: center; padding:20px;\">{{i18n.common + 'Please\r\n      complete all required (*) fields' | dynamicTranslate}} </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"dismiss()\">{{i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n      <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate }}</button>\r\n    </div>\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.html":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/remove-customaddition.component.html ***!
  \****************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n<form [formGroup]=\"form\">\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"row\">\r\n\r\n          <ng-container *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n            <div class=\"col-md-6\" *ngIf=\"even\">\r\n              <div class=\"form-group\">\r\n                <label [attr.for]=\"field.name\">{{i18n.customAdditions + field.displayName | dynamicTranslate}}</label>\r\n                <input class=\"form-control\" type=\"text\" disabled value=\"{{field.value}}\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\" *ngIf=\"odd\">\r\n              <div class=\"form-group\">\r\n                <label [attr.for]=\"field.name\">{{i18n.customAdditions + field.displayName | dynamicTranslate}}</label>\r\n                <input class=\"form-control\" type=\"text\" disabled value=\"{{field.value}}\">\r\n              </div>\r\n            </div>\r\n          </ng-container>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"submit\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"remove()\" [ladda]=\"isSaving\">{{i18n.common + 'Remove' | dynamicTranslate}}</button>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.html":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/actions/upsert-customaddition.component.html ***!
  \****************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form [formGroup]=\"form\">\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"row\">\r\n\r\n          <ng-container *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n            <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n              <dynamic-field [sourceTranslationKey]=\"i18n.customAdditions\" [field]=\"field\" [key]='field.displayName' [form]=\"form\"></dynamic-field>\r\n\r\n            </div>\r\n\r\n            <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n              <dynamic-field [sourceTranslationKey]=\"i18n.customAdditions\" [field]=\"field\" [form]=\"form\" [key]='field.displayName'></dynamic-field>\r\n\r\n            </div>\r\n\r\n          </ng-container>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"formAction === 0\" type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\" (click)=\"save()\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"formAction === 1\" type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\" (click)=\"save()\">{{i18n.common + 'Edit' | dynamicTranslate}}</button>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component.html":
/*!********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/custom-additions/custom-additions-grid.component.html ***!
  \********************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<famis-grid [famisGrid]=\"customAdditionsGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\">\r\n</famis-grid>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <button type=\"button\" (click)=\"addCustomAddition()\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong>&nbsp;{{i18n.customAdditions + 'Add Custom Addition' | dynamicTranslate}}</strong>\r\n  </div>\r\n\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component.html":
/*!******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/occupancy-codes-grid.component.html ***!
  \******************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n<famis-grid *ngIf=\"!additionalEquipmentGrid.loading\" [famisGrid]=\"additionalEquipmentGrid\"\r\n  (actionEvent)=\"handleActionEvent($event)\" (sortChanged)=\"updateGrid($event)\">\r\n</famis-grid>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"pull-left\">\r\n            <button type=\"button\" (click)=\"addOccupancyCode()\" class=\"btn btn-action btn-small\">\r\n                <i class=\"fa fa-plus\"></i>\r\n            </button> &nbsp; {{i18n.building + ' Add Occupancy Code' | dynamicTranslate }}\r\n        </div>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.html":
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/occupancy-codes/upsert-occupancy-code.component.html ***!
  \*******************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"save(buildingForm)\" #buildingForm=\"ngForm\">\r\n\r\n\r\n\r\n  <div>\r\n    <div class=\"modal-body\">\r\n\r\n      <div class=\"form-group\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <label>{{i18n.building + 'Occupancy Code' | dynamicTranslate}}</label>\r\n            <select class=\"form-control\" name=\"selectOccupancyCode\" [(ngModel)]=\"occupancyCode.buildingAttributeCodeId\"\r\n              required=\"true\">\r\n              <option value=\"\" disabled>Select Occupancy Code</option>\r\n              <option *ngFor=\"let option of options | orderBy: 'description'\" [value]=\"option.buildingAttributeCodeId\">{{i18n.building + option.description | dynamicTranslate }}</option>\r\n            </select> </div>\r\n          <div class=\"col-md-6\">\r\n            <label>{{i18n.building + 'Story Height' | dynamicTranslate}}</label>\r\n            <input type=\"text\" class=\"form-control\" name=\"storyHeight\" [(ngModel)]=\"occupancyCode.storyHeight\"\r\n              aria-describedby=\"storyHeight\" placeholder=\"Enter story height\" required=\"true\"> </div>\r\n\r\n          <div class=\"col-md-6\">\r\n            <label>{{i18n.building + 'Percent' | dynamicTranslate}}</label>\r\n            <input type=\"text\" class=\"form-control\" name=\"percent\" [(ngModel)]=\"occupancyCode.percent\"\r\n              aria-describedby=\"percent\" placeholder=\"Enter percent\" required=\"true\"> </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div *ngIf=\"showValidationError\" style=\"color:red; text-align: center; padding:20px;\">{{i18n.common + 'Please\r\n        complete all required (*) fields' | dynamicTranslate}} </div>\r\n        \r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"dismiss()\">{{i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n      <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Save' | dynamicTranslate }}</button>\r\n    </div>\r\n  </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component.html":
/*!************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/remove-userfactor.component.html ***!
  \************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n<form [formGroup]=\"form\">\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"row\">\r\n\r\n          <ng-container *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n            <div class=\"col-md-6\" *ngIf=\"even\">\r\n              <div class=\"form-group\">\r\n                <label [attr.for]=\"field.name\">{{i18n.userFactors + field.displayName | dynamicTranslate}}</label>\r\n                <input class=\"form-control\" type=\"text\" disabled value=\"{{field.value}}\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\" *ngIf=\"odd\">\r\n              <div class=\"form-group\">\r\n                <label [attr.for]=\"field.name\">{{i18n.userFactors + field.displayName | dynamicTranslate}}</label>\r\n                <input class=\"form-control\" type=\"text\" disabled value=\"{{field.value}}\">\r\n              </div>\r\n            </div>\r\n          </ng-container>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"submit\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"remove()\" [ladda]=\"isSaving\">{{i18n.common + 'Remove' |\r\n      translate}}</button>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.html":
/*!************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/actions/upsert-userfactor.component.html ***!
  \************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n<form [formGroup]=\"form\">\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"row\">\r\n\r\n          <ng-container *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n            <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n              <dynamic-field [sourceTranslationKey]=\"i18n.userFactors\" [field]=\"field\" [key]='field.displayName' [form]=\"form\"></dynamic-field>\r\n\r\n            </div>\r\n\r\n            <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n              <dynamic-field [sourceTranslationKey]=\"i18n.userFactors\" [field]=\"field\" [form]=\"form\" [key]='field.displayName'></dynamic-field>\r\n\r\n            </div>\r\n\r\n          </ng-container>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"formAction === 0\" type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\" (click)=\"save()\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"formAction === 1\" type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\" (click)=\"save()\">{{i18n.common + 'Edit' | dynamicTranslate}}</button>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component.html":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/form/dynamic-data-grids/user-factor-grid/user-factor-grid.component.html ***!
  \***************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n<div class=\"row\" *ngIf=\"buildingDto && buildingDto.costReproductionNewWithUserFactors\">\r\n  <div class=\"col-md-12\">\r\n\r\n\r\n    <label class=\"pull-left\" for=\"costreproductionnew\">\r\n      Cost of Reproduction New With User Factors\r\n      <br>\r\n      <input class=\"form-control\" id=\"costreproductionnew\" name=\"costreproductionnew\" type=\"number\" disabled [value]=\"buildingDto.costReproductionNewWithUserFactors\">\r\n    </label>\r\n  </div>\r\n</div>\r\n\r\n<famis-grid [famisGrid]=\"userFactorsGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\">\r\n</famis-grid>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <button type=\"button\" (click)=\"addUserFactor()\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong>&nbsp;{{i18n.userFactors + 'Add User Factor' | dynamicTranslate}}</strong>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/quality-control-building-grid.component.html":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/building/quality-control-building-grid.component.html ***!
  \***********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<famis-grid *ngIf=\"!!buildingGrid.loading && !!buildingGrid.selectedHeaders\" \r\n    [famisGrid]=\"buildingGrid\"\r\n    [InGridEditableNonNegativeColumns]=\"nonNegativeFields\"\r\n    (selectionChanged)=\"handleSelectionChanged($event)\"\r\n    (actionEvent)=\"handleActionEvent($event)\"\r\n    (updateCacheEvent)=\"updateCache($event)\"\r\n    (sortChanged)=\"handleSortChanged($event)\"\r\n    (cellValueChanged)=\"handleCellValueChanged($event)\"\r\n    [showAddCustomColumn]=\"true\">\r\n</famis-grid>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/add-content.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/add-content.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:\r\n    true}\">\r\n    <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\">{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n\r\n<!-- TODO: Map to UI Form Field-->\r\n<asset-form *ngIf=\"fields.length > 0\" [imageEntityType]=\"imageEntityType\" [fieldMetaData]=\"fields\" [savingForm]=\"savingForm\" (formActionEvent)=\"onFormActionEvent($event)\"></asset-form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/edit-content.component.html":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/edit-content.component.html ***!
  \*************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:\r\n    true}\">\r\n    <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\">{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n\r\n\r\n<asset-form *ngIf=\"assetDto && fields.length > 0\" [imageEntityType]=\"imageEntityType\" [savingForm]=\"savingForm\" [depreciationFieldMetadata]=\"depreciationFields\" [fieldMetaData]=\"fields\" [assetDto]=\"assetDto\" (formActionEvent)=\"onFormActionEvent($event)\"></asset-form>\r\n\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/mass-update-content.component.html":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/mass-update-content.component.html ***!
  \********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:true}\">\r\n    <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\" [queryParams]=\"breadCrumb.queryParams\">{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n\r\n<mass-update-criteria *ngIf=\"filterMetaData\"\r\n  [defaultFilterTerm]=\"defaultFilterTerm\"\r\n  [filterMetaData]=\"filterMetaData\"\r\n  [replaceMetaData]=\"replaceMetaData\"\r\n  [translatedBaseKey]=\"i18n.asset\"\r\n></mass-update-criteria>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/view-content.component.html":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/actions/view-content.component.html ***!
  \*************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:\r\n    true}\">\r\n    <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\">{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n\r\n<asset-form *ngIf=\"assetDto && fields.length > 0\" [isReadOnly]=\"true\" [imageEntityType]=\"imageEntityType\" [savingForm]=\"savingForm\" [fieldMetaData]=\"fields\" [assetDto]=\"assetDto\" (formActionEvent)=\"onFormActionEvent($event)\"></asset-form>\r\n\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/quality-control-content-grid.component.html":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/content/quality-control-content-grid.component.html ***!
  \*********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<famis-grid *ngIf=\"!!dataGrid.loading && !!dataGrid.selectedHeaders\" \r\n    [famisGrid]=\"dataGrid\"\r\n    (updateCacheEvent)=\"updateCache($event)\"\r\n    (actionEvent)=\"handleActionEvent($event)\"\r\n    (sortChanged)=\"handleSortChanged($event)\"\r\n    (selectionChanged)=\"handleSelectionChanged($event)\"\r\n    (cellValueChanged)=\"handleCellValueChanged($event)\"\r\n    [showAddCustomColumn]=\"true\">\r\n</famis-grid>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/duplicate-check/duplicate-check.component.html ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ol class=\"breadcrumb\">\r\n    <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:\r\n          true}\">\r\n        <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\">{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n    </li>\r\n</ol>\r\n\r\n<form (ngSubmit)=\"onSubmit(duplicateCheckForm)\" #duplicateCheckForm=\"ngForm\">\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n            <label>{{i18n.common + 'Field' | dynamicTranslate}}</label>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\" id=\"SelectField\">\r\n            <select class=\"form-control col-9 d-inline\" [(ngModel)]=\"selectedField\" name=\"duplicateFieldSelect\" id=\"duplicateFieldSelect\"\r\n                #duplicateSourceField=\"ngModel\" required>\r\n                <option value=\"\" disabled>\r\n                    <span>{{i18n.common + 'Select a Field' | dynamicTranslate}}</span>\r\n                </option>\r\n                <option *ngFor=\"let field of inventoryMetadata\" [value]=\"field.name\">{{i18n.asset + field.displayName | dynamicTranslate}}</option>\r\n            </select>\r\n            \r\n            <button (click)=\"runDuplicateCheck()\" class=\"btn btn-primary btn-sm d-inline\" type=\"button\">{{i18n.common + 'Run' | dynamicTranslate}}</button>\r\n\r\n            <div *ngIf=\"duplicateSourceField.errors && duplicateCheckForm.submitted\" class=\"alert alert-danger pt-1\">\r\n                <div>\r\n                     {{i18n.qualityControl + 'Please select a duplicate field.' | dynamicTranslate}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"form-group pt-4\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n                <famis-grid id=\"DuplicatesGrid\" [famisGrid]=\"duplicateGrid\" (selectionChanged)=\"handleDuplicateSelectionChanged($event)\"></famis-grid>\r\n                <div class=\"alert alert-danger\" *ngIf=\"request.filterTerms.length === 0 && duplicateCheckForm.submitted\">\r\n                     {{i18n.qualityControl + 'Please select a duplicate value.' | dynamicTranslate}}\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n                <famis-grid id=\"SummaryGrid\" *ngIf=\"!!summaryGrid.selectedHeaders\" [famisGrid]=\"summaryGrid\" ></famis-grid>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <replace-field [translatedBaseKey]=\"i18n.asset\" [form]=\"duplicateCheckForm\" [state]=\"replaceFieldState\"></replace-field>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"form-group pt-4\">\r\n        <button [ladda]=\"isProcessing\" class=\"btn btn-default\" type=\"button\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n        <button [ladda]=\"isProcessing\" class=\"btn btn-primary\" type=\"button\" type=\"submit\">{{i18n.common + 'Apply' | dynamicTranslate}}</button>\r\n    </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.html":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-criteria.component.html ***!
  \*****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(massUpdateForm)\" #massUpdateForm=\"ngForm\">\r\n    \r\n    <div class=\"form-group\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <h3>{{i18n.common + 'Filter Criteria' | dynamicTranslate}}</h3>\r\n                <div #filterCriteria></div>\r\n\r\n                <button type=\"button\" (click)=\"addFilter()\" class=\"btn btn-action btn-small\">\r\n                    <i class=\"fa fa-plus\"></i>\r\n                </button><strong>&nbsp;{{i18n.common + 'Add Filter Criteria' | dynamicTranslate}}</strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"form-group pt-4\">\r\n        <replace-field [translatedBaseKey]=\"translatedBaseKey\" [form]=\"massUpdateForm\" [supportsAdvancedReplace]=\"true\" [isAdvanced]='isAdvanced'></replace-field>\r\n    </div>\r\n\r\n    <div class=\"form-group pt-4\">\r\n        <button [ladda]=\"isProcessing\" class=\"btn btn-default\" type=\"button\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n        <button [ladda]=\"isProcessing\" class=\"btn btn-primary\" type=\"submit\">{{i18n.common + 'Continue' | dynamicTranslate}}</button>\r\n    </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-form.component.html":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-form.component.html ***!
  \*************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"!isLoading\">\r\n    <ol class=\"breadcrumb\">\r\n        <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact:true}\">\r\n        <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\" >{{i18n.qualityControl + breadCrumb.name | dynamicTranslate}}</a>\r\n        </li>\r\n    </ol>\r\n    \r\n    <router-outlet></router-outlet>\r\n</ng-container>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-results.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/mass-update/mass-update-results.component.html ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(massUpdateFormResults)\" #massUpdateFormResults=\"ngForm\">\r\n\r\n    <div class=\"form-group\">\r\n        <h3>{{recordsFoundCount}} {{i18n.qualityControl + 'Records Found' | dynamicTranslate}}</h3>\r\n        <famis-grid [isPersistentGrid]=\"false\" *ngIf=\"filterMetaData && resultsGrid.loading\" [famisGrid]=\"resultsGrid\" (updateCacheEvent)=\"updateCache($event)\" (actionEvent)=\"handleActionEvent($event)\" (sortChanged)=\"handleSortChanged($event)\"></famis-grid>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n        <replace-field [translatedBaseKey]=\"translatedBaseKey\" [form]=\"massUpdateFormResults\" [supportsAdvancedReplace]=\"true\" [isAdvanced]='isAdvanced'></replace-field>\r\n    </div>\r\n\r\n    <div class=\"form-group pt-4\">\r\n        <button class=\"btn btn-default\" type=\"button\" (click)=\"back()\">{{i18n.common + 'Back' | dynamicTranslate}}</button>\r\n        <button class=\"btn btn-primary\" type=\"submit\">{{i18n.common + 'Commit' | dynamicTranslate}}</button>\r\n    </div>\r\n\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/quality-control-form.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/quality-control-form.component.html ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row pt-3 pb-3 actions\">\r\n  <div class=\"col-md-3 btn-group\">\r\n    <button\r\n      (click)=\"toggleQualityControlMode(qualityControlModes.Content)\"\r\n      type=\"button\"\r\n      [class.btn-default]=\"mode !== qualityControlModes.Content\"\r\n      [class.btn-primary]=\"mode === qualityControlModes.Content\"\r\n      class=\"btn btn-primary\"\r\n    >\r\n      {{ i18n.qualityControl + 'Content' | dynamicTranslate }}\r\n    </button>\r\n    <button\r\n      (click)=\"toggleQualityControlMode(qualityControlModes.Buildings)\"\r\n      type=\"button\"\r\n      [class.btn-default]=\"mode !== qualityControlModes.Buildings\"\r\n      [class.btn-primary]=\"mode === qualityControlModes.Buildings\"\r\n      class=\"btn btn-default\"\r\n    >\r\n      {{ i18n.qualityControl + 'Buildings' | dynamicTranslate }}\r\n    </button>\r\n    <button\r\n      (click)=\"openModal()\"\r\n      type=\"button\"\r\n      *ngIf=\"mode === qualityControlModes.Buildings && showValuationErrorsButton\"\r\n      class=\"btn btn-action\"\r\n    >\r\n      {{ i18n.qualityControl + 'Valuation Errors' | dynamicTranslate }}\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"col-md-4\">\r\n    <button\r\n      [showIfCanAccess]=\"permissions.canWriteData\"\r\n      *ngIf=\"buildingReferenceDataLoaded()\"\r\n      type=\"button\"\r\n      class=\"btn btn-primary\"\r\n      [disabled]=\"!contentReferenceDataLoaded()\"\r\n      (click)=\"massUpdate()\"\r\n    >\r\n      {{ i18n.qualityControl + 'Mass Update' | dynamicTranslate }}\r\n    </button>\r\n    <button\r\n      [showIfCanAccess]=\"permissions.canWriteData\"\r\n      [disabled]=\"!contentReferenceDataLoaded() || mode === qualityControlModes.Buildings\"\r\n      type=\"button\"\r\n      class=\"btn btn-primary\"\r\n      (click)=\"duplicateCheck()\"\r\n    >\r\n      {{ i18n.qualityControl + 'Duplicate Check' | dynamicTranslate }}\r\n    </button>\r\n  </div>\r\n  <div class=\"col-md-2\"></div>\r\n  <div [showIfCanAccess]=\"permissions.canWriteData\" class=\"col-md-3 text-right\">\r\n    <button\r\n      *ngIf=\"mode === qualityControlModes.Content\"\r\n      type=\"button\"\r\n      class=\"btn btn-primary\"\r\n      (click)=\"duplicate()\"\r\n      [disabled]=\"selectedAssets.length !== 1\"\r\n    >\r\n      {{ i18n.common + 'Duplicate Record' | dynamicTranslate }}\r\n    </button>\r\n\r\n    <div ngbDropdown class=\"d-inline-block\">\r\n      <button\r\n        class=\"btn btn-primary\"\r\n        *ngIf=\"mode === qualityControlModes.Content\"\r\n        [disabled]=\"!contentReferenceDataLoaded()\"\r\n        id=\"Action\"\r\n        ngbDropdownToggle\r\n      >\r\n        {{ i18n.qualityControl + 'Actions' | dynamicTranslate }}\r\n      </button>\r\n      <button\r\n        class=\"btn btn-primary\"\r\n        *ngIf=\"mode === qualityControlModes.Buildings\"\r\n        [disabled]=\"!buildingReferenceDataLoaded()\"\r\n        id=\"Action\"\r\n        ngbDropdownToggle\r\n      >\r\n        {{ i18n.qualityControl + 'Actions' | dynamicTranslate }}\r\n      </button>\r\n\r\n      <div class=\"dropdown-menu bottom-right\" ngbDropdownMenu aria-labelledby=\"SelectAction\">\r\n        <ng-container *ngIf=\"mode === qualityControlModes.Content\">\r\n          <button class=\"dropdown-item\" (click)=\"selectAction(modalActions.RetireAsset)\" [disabled]=\"selectedAssets.length === 0\">\r\n            {{ i18n.qualityControl + 'Retire Asset(s)' | dynamicTranslate }}\r\n          </button>\r\n          <button class=\"dropdown-item\" (click)=\"selectAction(modalActions.TransferAsset)\" [disabled]=\"selectedAssets.length === 0\">\r\n            {{ i18n.qualityControl + 'Transfer Asset(s)' | dynamicTranslate }}\r\n          </button>\r\n          <button class=\"dropdown-item\" (click)=\"selectAction(modalActions.CostAdjustment)\" [disabled]=\"selectedAssets.length !== 1\">\r\n            {{ i18n.qualityControl + 'Cost Adjustment' | dynamicTranslate }}\r\n          </button>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"mode === qualityControlModes.Buildings\">\r\n          <button class=\"dropdown-item\" (click)=\"selectAction(modalActions.BuildingValuation)\">\r\n            {{ i18n.qualityControl + 'Building Valuation' | dynamicTranslate }}\r\n          </button>\r\n          <button class=\"dropdown-item\" (click)=\"selectAction(modalActions.FloodPlanValuation)\">\r\n            {{ i18n.qualityControl + 'Flood Zone Request' | dynamicTranslate }}\r\n          </button>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-primary\"\r\n      *ngIf=\"mode === qualityControlModes.Buildings\"\r\n      [disabled]=\"!buildingReferenceDataLoaded()\"\r\n      (click)=\"add()\"\r\n    >\r\n      {{ i18n.common + 'Add' | dynamicTranslate }}\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-primary\"\r\n      *ngIf=\"mode === qualityControlModes.Content\"\r\n      [disabled]=\"!contentReferenceDataLoaded()\"\r\n      (click)=\"add()\"\r\n    >\r\n      {{ i18n.common + 'Add' | dynamicTranslate }}\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <quality-control-content-grid\r\n      [isReadOnly]=\"!userCanWriteData()\"\r\n      (gridSelections)=\"selectedAssets = $event\"\r\n      *ngIf=\"mode === qualityControlModes.Content && contentReferenceDataLoaded()\"\r\n    ></quality-control-content-grid>\r\n\r\n    <quality-control-building-grid\r\n      [isReadOnly]=\"!userCanWriteData()\"\r\n      (gridSelections)=\"selectedBuildings = $event\"\r\n      *ngIf=\"mode === qualityControlModes.Buildings && buildingReferenceDataLoaded()\"\r\n    ></quality-control-building-grid>\r\n\r\n    <div\r\n      *ngIf=\"(mode === qualityControlModes.Content && !statusExists) || (mode === qualityControlModes.Buildings && !buildingReferenceDataLoaded())\"\r\n      class=\"empty-grid text-center\"\r\n    >\r\n      <div class=\"action-link \">\r\n        {{ i18n.common + 'No data loaded - ' | dynamicTranslate }}&nbsp;\r\n        <a href=\"\" (click)=\"navigateToImportData($event)\">{{ i18n.common + 'Import Data' | dynamicTranslate }}</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <building-valuation (onAction)=\"handleAction($event)\"></building-valuation>\r\n    <floodplain-valuation (onAction)=\"handleAction($event)\"></floodplain-valuation>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/quality-control.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/quality-control/components/quality-control.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"QualityControl\">\r\n  <h1>{{ i18n.qualityControl + 'Quality Control' | dynamicTranslate }}</h1>\r\n\r\n  <ng-container *ngIf=\"dataTarget === 0\">\r\n    <div class=\"alert alert-danger\">\r\n      {{ i18n.qualityControl + 'Unable to complete QC' | dynamicTranslate }}\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-container>\r\n    <router-outlet *ngIf=\"hasRequiredData()\"></router-outlet>\r\n  </ng-container>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/actions/remove-recipient.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/actions/remove-recipient.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form [formGroup]=\"form\">\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"row\">\r\n\r\n          <ng-container *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n            <div class=\"col-md-6\" *ngIf=\"even\">\r\n              <div class=\"form-group\">\r\n                <label [attr.for]=\"field.id\">{{i18n.recipients + field.displayName | dynamicTranslate}}</label>\r\n                <input class=\"form-control\" type=\"text\" disabled value=\"{{field.value}}\">\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"col-md-6\" *ngIf=\"odd\">\r\n              <div class=\"form-group\">\r\n                <label [attr.for]=\"field.id\">{{i18n.recipients + field.displayName | dynamicTranslate}}</label>\r\n                <input class=\"form-control\" type=\"text\" disabled value=\"{{field.value}}\">\r\n              </div>\r\n            </div>\r\n          </ng-container>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"submit\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"remove()\" [ladda]=\"isSaving\">{{i18n.common + 'Remove' | dynamicTranslate}}</button>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/actions/upsert-recipient.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/actions/upsert-recipient.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form [formGroup]=\"form\">\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"row\">\r\n\r\n            <ng-container *ngFor=\"let field of defaultFormFields | orderBy: 'order'; let i=index; let odd=odd; let even=even;\">\r\n              <div class=\"col-md-6\" *ngIf=\"even\">\r\n\r\n                <dynamic-field [sourceTranslationKey]=\"i18n.recipients\" [field]=\"field\" [key]='field.displayName' [form]=\"form\"></dynamic-field>\r\n\r\n              </div>\r\n\r\n              <div class=\"col-md-6\" *ngIf=\"odd\">\r\n\r\n\r\n                <dynamic-field [sourceTranslationKey]=\"i18n.recipients\" [field]=\"field\" [form]=\"form\" [key]='field.displayName'></dynamic-field>\r\n\r\n              </div>\r\n              \r\n            </ng-container>\r\n            \r\n          </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"submit\" class=\"btn btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"formAction === 0\" type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\" (click)=\"save()\" [ladda]=\"isSaving\">{{i18n.common + 'Save' | dynamicTranslate}}</button>\r\n    <button *ngIf=\"formAction === 1\" type=\"submit\" class=\"btn btn-primary\" [disabled]=\"form.invalid\" (click)=\"save()\" [ladda]=\"isSaving\">{{i18n.common + 'Edit' | dynamicTranslate}}</button>\r\n  </div>\r\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/recipients-grid.component.html":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/recipients-grid.component.html ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<famis-grid *ngIf=\"!!recipientsGrid.loading && !!recipientsGrid.selectedHeaders\" \r\n  [famisGrid]=\"recipientsGrid\" \r\n  (updateCacheEvent)=\"updateCache($event)\" \r\n  (actionEvent)=\"handleActionEvent($event)\">\r\n</famis-grid>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <button type=\"button\" (click)=\"addRecipient()\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-plus\"></i>\r\n    </button>\r\n    <strong>&nbsp;{{i18n.recipients + 'Add Recipient' | dynamicTranslate}}</strong>\r\n  </div>\r\n\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/recipients.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/recipients/components/recipients.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"Recipients\">\r\n  <h1>{{i18n.recipients + 'Add/Remove Recipients' | dynamicTranslate}}</h1>\r\n\r\n    <ng-container *ngIf=\"referenceDataLoaded()\">\r\n      <router-outlet></router-outlet>\r\n    </ng-container>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/asset-column-select.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/asset-column-select.component.html ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"asset-column-select\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div>\r\n        <div>\r\n          <h3>{{i18n.reconciliation + title | dynamicTranslate }}</h3>\r\n          <kendo-grid [resizable]=\"true\" [data]=\"assetFileFields | orderBy: 'displayName'\" [height]=\"200\" \r\n            [selectable]=\"selectableSettings\" (selectionChange)=\"onSelectionChange($event)\" [kendoGridSelectBy]=\"'sourceColumn'\" [selectedKeys]=\"selectedItems\" >\r\n            <kendo-grid-checkbox-column width=\"8%\">\r\n                <ng-template kendoGridHeaderTemplate let-column let-columnIndex=\"columnIndex\">\r\n                    <input [id]=\"'k-grid-selectall-'+assetFileType\" class=\"k-checkbox header-checkbox\" kendoGridSelectAllCheckbox type=\"checkbox\">\r\n                    <label kendoGridSelectAllCheckbox  class=\"k-checkbox-label\" [for]=\"'k-grid-selectall-'+assetFileType\"></label>\r\n                  </ng-template>\r\n            </kendo-grid-checkbox-column>\r\n            <kendo-grid-column [width]=\"150\" field=\"displayName\" title=\"{{i18n.common + 'Column Name' | dynamicTranslate }} \">\r\n\r\n\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                    <ng-container *ngIf=\"!dataItem.isCustom\">\r\n                    {{i18n.asset + dataItem.displayName | dynamicTranslate }}\r\n                    </ng-container>  \r\n                    <ng-container *ngIf=\"dataItem.isCustom\">\r\n                        {{dataItem.displayName}}\r\n                        </ng-container> \r\n                    </ng-template>\r\n\r\n            </kendo-grid-column>\r\n\r\n           \r\n          </kendo-grid>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/asset-selected-columns.component.html":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/asset-selected-columns.component.html ***!
  \*******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"asset-selected-columns\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <h3>{{i18n.reconciliation + 'Final Output Column Order' | dynamicTranslate }}</h3>\r\n      <button style=\"margin-bottom: 10px;\" class=\"btn btn-primary btn-small\" (click)=\"autoMapFields($event)\"\r\n              [disabled]=\"selectedColumns.length === 0\">\r\n              {{i18n.reconciliation + 'Auto Map Fields' | dynamicTranslate }} \r\n      </button>\r\n      <div>\r\n        <table class=\"table table-striped table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th width=\"150\">\r\n                  {{i18n.reconciliation + 'Source' | dynamicTranslate }}  \r\n              </th>\r\n              <th width=\"300\">\r\n                    {{i18n.reconciliation + 'Column' | dynamicTranslate }}  \r\n              </th>\r\n              <th scope=\"col\">\r\n                    {{i18n.reconciliation + 'Destination' | dynamicTranslate }}  \r\n              </th>\r\n              <th width=\"150\">\r\n                    {{i18n.reconciliation + 'Actions' | dynamicTranslate }}  \r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <ng-container *ngFor=\"let column of selectedColumns\">\r\n              <tr [ngClass]=\"{'is-mapped':column.destinationColumnName}\">\r\n                  <td>\r\n                    <ng-container *ngIf=\"column.sourceTarget === 0\">\r\n                        {{i18n.reconciliation + 'Client File' | dynamicTranslate }}  \r\n                    </ng-container>\r\n\r\n                    <ng-container *ngIf=\"column.sourceTarget !== 0\">\r\n                        {{i18n.reconciliation + 'Actual Inventory' | dynamicTranslate }}  \r\n                    </ng-container>\r\n\r\n                  </td>\r\n                  <td>{{column.displayName}}</td>\r\n                  <td>\r\n                    <destination-column-selector [column]=\"column\" [value]=\"column.destinationColumnName\"></destination-column-selector>\r\n                  </td>\r\n                  <td><strong><a (click)=\"remove(column)\">{{i18n.common + 'Remove' | dynamicTranslate}}</a></strong></td>\r\n                </tr>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/consolidation-match-code-assignment.component.html":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/consolidation-match-code-assignment.component.html ***!
  \********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"consolidation-match-code-assignment\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div>\r\n        <div *ngIf=\"!emptyMatchCodesIndicator\">\r\n          <table class=\"table table-striped table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th *ngFor=\"let match of selectedMatchCodes\">{{match.matchCodeName}}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let column of models; let odd=odd; let even=even;\" [ngClass]=\"{ odd: odd, even: even }\">\r\n                <td>{{column.displayName }}</td>\r\n\r\n                <td *ngFor=\"let match of selectedMatchCodes\">\r\n                  <dynamic-assignment-field *ngIf=\"column[match.matchCodeId]\" [columnId]=\"column.id\" [matchCodeId]=\"match.matchCodeId\" [selectedValue]=\"column[match.matchCodeId]\"></dynamic-assignment-field>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div *ngIf=\"emptyMatchCodesIndicator\">\r\n           {{ i18n.asset + 'translate No data to display.  Ensure that reconciliation is complete and you have properly defined the layout.' | dynamicTranslate }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/destination-column-selector.component.html":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/destination-column-selector.component.html ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-6\">\r\n    <select class=\"form-control form-control-sm\" required \r\n            name=\"{{'selectedValue_' + column.sourceTarget + '_' + column.sourceColumn}}\" \r\n            [(ngModel)]=\"selectedValue\" \r\n            (change)=\"onSelectionChanged()\">\r\n      <option value=\"\"></option>\r\n      <option *ngFor=\"let item of availableColumns | orderBy: 'label'\" value=\"{{item.value}}\">{{i18n.asset + item.label | dynamicTranslate }}</option>\r\n      <option value=\"-1\">{{ i18n.common + 'Custom Field' | dynamicTranslate }}</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n    <input class=\"form-control form-control-sm\" \r\n           *ngIf=\"selectedValue === '-1'\" \r\n           type=\"text\" \r\n           name=\"{{'customValue_' + column.sourceTarget + '_' + column.sourceColumn}}\"\r\n           [(ngModel)]=\"customValue\" \r\n           (change)=\"onTextChanged()\">\r\n  </div>\r\n</div>\r\n<div *ngIf=\"validationMessage.length > 0\" class=\"row justify-content-end\">\r\n  <div class=\"col-md-6 alert alert-danger\">{{validationMessage}}</div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/dynamic-assignment-select.component.html":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/consolidated/dynamic-assignment-select.component.html ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\r\n  <select [id]=\"formKey\" [(ngModel)]=\"selectedValue\" class=\"form-control custom-select-sm\" (change)=\"onChange()\">\r\n    <option *ngFor=\"let opt of selectOptions | orderBy: 'label'\" [value]=\"opt.value\">\r\n      <ng-container *ngIf=\"!opt.isCustom\">\r\n          {{i18n.reconciliation + opt.label | dynamicTranslate}}\r\n      </ng-container>\r\n      <ng-container *ngIf=\"opt.isCustom\">\r\n          {{opt.label}}\r\n      </ng-container>\r\n     </option>\r\n  </select>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/copy-inventory.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/copy-inventory.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open($event)\" class=\"btn btn-action\">Select File</button>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">{{title}}</h4>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <form (ngSubmit)=\"onSubmit(createCustomColumnForm)\" #createCustomColumnForm=\"ngForm\">\r\n\r\n    <div class=\"modal-body\">\r\n\r\n      <kendo-grid [resizable]=\"true\" [data]=\"availableGroups\"  [selectable]=\"selectableSettings\" [kendoGridSelectBy]=\"'id'\" [selectedKeys]=\"selectedGroup\" [height]=\"300\">\r\n          <kendo-grid-checkbox-column [width]=\"50\"></kendo-grid-checkbox-column>\r\n          \r\n        <kendo-grid-column field=\"groupName\" title=\"Name\"></kendo-grid-column>\r\n        <kendo-grid-column field=\"inventoryAssetCount\" title=\"Inventory Asset Count\"></kendo-grid-column>\r\n\r\n      </kendo-grid>\r\n\r\n\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"c('Close click')\">{{i18n.common + 'Cancel' | dynamicTranslate }} </button>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Copy to Current Group</button>\r\n    </div>\r\n\r\n  </form>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/create-match-code.component.html":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/create-match-code.component.html ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" (click)=\"open($event)\" class=\"btn btn-action btn-small\">\r\n  <i class=\"fa fa-plus\"></i>\r\n</button>\r\n<strong> &nbsp; {{i18n.matchCodes + 'Add Match Code' | dynamicTranslate }}</strong>\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n\r\n  <form (ngSubmit)=\"onSubmit(createMatchCodeForm)\" #createMatchCodeForm=\"ngForm\">\r\n\r\n    <div class=\"modal-body\">\r\n      <div class=\"form-group\">\r\n        <label for=\"matchCodeInput\">Match Code\r\n          <span class=\"required-indicator\">*</span>\r\n        </label>\r\n        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"matchCode.name\" name=\"matchCodeName\" id=\"matchCodeInput\" aria-describedby=\"matchCodeHelp\"\r\n          placeholder=\"\" required #matchCodeInput=\"ngModel\" (input)=\"onNameInputChange($event, $event.target.value)\">\r\n        <div [hidden]=\"!isNameTaken\" class=\"alert alert-danger\">\r\n          {{i18n.matchCodes + 'This name is already asigned to a match code. Please provide a unique name' | dynamicTranslate }}.\r\n        </div>\r\n        <div *ngIf=\"matchCodeInput.errors && (matchCodeInput.dirty || matchCodeInput.touched || matchCodeInput.submitted)\" class=\"alert alert-danger\">\r\n          <div [hidden]=\"!matchCodeInput.errors.required\">\r\n              {{i18n.matchCodes + 'Please provide a match code' | dynamicTranslate }}.\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"descriptionInput\">{{i18n.matchCodes + 'Description' | dynamicTranslate }}\r\n          <span class=\"required-indicator\">*</span>\r\n        </label>\r\n        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"matchCode.description\" name=\"matchCodeDescription\" id=\"descriptionInput\"\r\n          aria-describedby=\"descriptionHelp\" placeholder=\"\" required #descriptionInput=\"ngModel\">\r\n\r\n        <div *ngIf=\"descriptionInput.errors && (descriptionInput.dirty || descriptionInput.touched || descriptionInput.submitted)\"\r\n          class=\"alert alert-danger\">\r\n          <div [hidden]=\"!descriptionInput.errors.required\">\r\n              {{i18n.matchCodes + 'Please provide a description' | dynamicTranslate }}.\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"matchCodeCategorySelect\">{{i18n.matchCodes + 'Match Category' | dynamicTranslate }}</label>\r\n        <select class=\"form-control\" [(ngModel)]=\"matchCode.categoryId\" name=\"matchCodeCategory\" id=\"matchCodeCategorySelect\">\r\n          <option *ngFor=\"let opt of matchCodeCategories\" [value]=\"opt.id\">{{ opt.name }}</option>\r\n        </select>\r\n\r\n\r\n\r\n      </div>\r\n\r\n      <div class=\"checkbox\">\r\n\r\n\r\n        <input type=\"checkbox\" id=\"matchCodeIsEnabled\" class=\"k-checkbox\" [(ngModel)]=\"matchCode.isEnabled\" name=\"matchCodeIsEnabled\">\r\n        <label class=\"k-checkbox-label\" for=\"matchCodeIsEnabled\">{{ i18n.matchCodes + 'Enable' | dynamicTranslate }}</label>\r\n\r\n\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\">{{ i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n      <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + action | dynamicTranslate }}</button>\r\n\r\n    </div>\r\n  </form>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/define-layout.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/define-layout.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"DefineLayout\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <asset-column-select title=\"{{i18n.reconciliation + 'Client File' | dynamicTranslate }}\" [file-type]=\"0\"></asset-column-select>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <asset-column-select title=\"{{i18n.reconciliation + 'Actual Inventory' | dynamicTranslate }}\" [file-type]=\"1\"></asset-column-select>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <asset-selected-columns></asset-selected-columns>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"wizard-actions\">\r\n  <button class=\"btn btn-default\" i18n=\"Back button text@@reconBack\" (click)=onBack($event)>{{i18n.common + 'Back' | dynamicTranslate }} </button>\r\n  <button class=\"btn btn-primary\" i18n=\"Continue button text@@reconContinue\" (click)=onContinue($event) [ladda]=\"isBusy\">{{i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/finalize-data.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/finalize-data.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"FinalizeData\">\r\n\r\n  <div>\r\n    <div class=\"row\" *ngFor=\"let matchItem of responseData\">\r\n      <div class=\"col-sm-12\">\r\n\r\n        <h3>{{matchItem.matchCodeName}} - \r\n          <span *ngIf=\"matchItem.recordCount > 5\">5 {{i18n.reconciliation + 'records of' | dynamicTranslate }} {{matchItem.recordCount}}</span>\r\n          <span *ngIf=\"matchItem.recordCount <= 5\">{{matchItem.recordCount}} {{matchItem.recordCount > 1 ? i18n.reconciliation + 'Records' : i18n.reconciliation + 'Record' | dynamicTranslate}}</span>\r\n        </h3>\r\n\r\n        <kendo-grid [resizable]=\"true\" [data]=\"matchItem.assetRecords\" [rowHeight]=\"22.22\" [height]=\"160\" [scrollable]=\"'virtual'\" [reorderable]=\"true\">\r\n          <kendo-grid-column [width]=\"200\" field=\"historicalCost\" title=\"Historical Cost\">\r\n            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n              {{ dataItem['historicalCost'] | localizedNumber }}\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n            <ng-container *ngFor=\"let column of headers\">\r\n              <kendo-grid-column  *ngIf=\"column.fieldType === 0 || column.fieldType === 'text'\" [width]=\"200\" field=\"{{column.name}}\"  format=\"{{column.format}}\" title=\"{{i18n.asset + upperCasePropertyName(column.displayName) | dynamicTranslate}}\" [filter]=\"column.fieldType\">\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\" let-filterService=\"filterService\">\r\n                  <kendo-grid-string-filter-menu\r\n                    [column]=\"column\"\r\n                    [filter]=\"filter\"\r\n                    [filterService]=\"filterService\">\r\n                      <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                      <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                      <kendo-filter-startswith-operator></kendo-filter-startswith-operator>\r\n                      <kendo-filter-contains-operator></kendo-filter-contains-operator>\r\n                      <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>\r\n                      <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                      <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                  </kendo-grid-string-filter-menu>\r\n                </ng-template>\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                  {{dataItem[column.name]}}\r\n                </ng-template>\r\n              </kendo-grid-column>\r\n\r\n              <kendo-grid-column *ngIf=\"column.fieldType === 1 || column.fieldType === 2 || column.fieldType === 'numeric'\" [width]=\"200\" field=\"{{column.name}}\"  format=\"{0:n}\" title=\"{{i18n.asset + upperCasePropertyName(column.displayName) | dynamicTranslate}}\" [filter]=\"column.fieldType\">\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\" let-filterService=\"filterService\">\r\n                    <kendo-grid-numeric-filter-menu\r\n                      [column]=\"column\"\r\n                      [filter]=\"filter\"\r\n                      [filterService]=\"filterService\">\r\n                      <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                      <kendo-filter-gt-operator></kendo-filter-gt-operator>\r\n                      <kendo-filter-lt-operator></kendo-filter-lt-operator>\r\n                      <kendo-filter-gte-operator></kendo-filter-gte-operator>\r\n                      <kendo-filter-lte-operator></kendo-filter-lte-operator>\r\n                      <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                      <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                      <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                    </kendo-grid-numeric-filter-menu>\r\n                </ng-template>\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                {{ dataItem[column.name] | localizedNumber }}\r\n                </ng-template>\r\n              </kendo-grid-column>\r\n\r\n              <kendo-grid-column *ngIf=\"column.fieldType === 3 || column.fieldType === 'boolean'\" [width]=\"200\" field=\"{{column.name}}\"  format=\"{{column.format}}\" title=\"{{i18n.asset + upperCasePropertyName(column.displayName) | dynamicTranslate}}\" [filter]=\"column.fieldType\">\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\" let-filterService=\"filterService\">\r\n                    <kendo-grid-boolean-filter-menu\r\n                      [column]=\"column\"\r\n                      [filter]=\"filter\"\r\n                      [filterService]=\"filterService\">\r\n                        <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                        <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                        <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                    </kendo-grid-boolean-filter-menu>\r\n                  </ng-template>\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                  {{dataItem[column.name]}}\r\n                </ng-template>\r\n              </kendo-grid-column>\r\n        \r\n              <kendo-grid-column *ngIf=\"column.fieldType === 4 || column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\"  format=\"{0:d}\" title=\"{{i18n.asset + upperCasePropertyName(column.displayName) | dynamicTranslate}}\" [filter]=\"column.fieldType\">\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-column=\"column\" let-filterService=\"filterService\">\r\n                  <kendo-grid-date-filter-menu\r\n                    [column]=\"column\"\r\n                    [filter]=\"filter\"\r\n                    [filterService]=\"filterService\">\r\n                      <kendo-filter-eq-operator></kendo-filter-eq-operator>\r\n                      <kendo-filter-gt-operator></kendo-filter-gt-operator>\r\n                      <kendo-filter-lt-operator></kendo-filter-lt-operator>\r\n                      <kendo-filter-gte-operator></kendo-filter-gte-operator>\r\n                      <kendo-filter-lte-operator></kendo-filter-lte-operator>\r\n                      <kendo-filter-neq-operator></kendo-filter-neq-operator>\r\n                      <kendo-filter-isnull-operator></kendo-filter-isnull-operator>\r\n                      <kendo-filter-isnotnull-operator></kendo-filter-isnotnull-operator>\r\n                  </kendo-grid-date-filter-menu>\r\n                </ng-template>\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                  {{ dataItem[column.name] | localizedDate }}\r\n                </ng-template>\r\n              </kendo-grid-column>\r\n            </ng-container>\r\n\r\n        </kendo-grid>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n</div>\r\n\r\n<reconciliation-validation></reconciliation-validation>\r\n\r\n<div class=\"wizard-actions\">\r\n  <button class=\"btn btn-default\" i18n=\"Back button text@@reconBack\" (click)=\"onBack($event)\">{{i18n.common + 'Back' | dynamicTranslate }}</button>\r\n  <button class=\"btn btn-primary\" i18n=\"Save button text@@reconSave\" (click)=\"onSave($event)\">{{i18n.common + 'Save &amp; Quit' | dynamicTranslate}}</button>\r\n  <button class=\"btn btn-primary\" i18n=\"Commit button text@@reconCommit\" (click)=\"onContinue($event)\" [ladda]=\"isBusy\">{{i18n.common + 'Commit' | dynamicTranslate }}</button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/map-matchcodes.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/map-matchcodes.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"MapMatchcodes\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <h3>{{ i18n.reconciliation + 'Map Match Codes' | dynamicTranslate }}</h3>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <consolidation-match-code-assignment></consolidation-match-code-assignment>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"wizard-actions\">\r\n  <button class=\"btn btn-default\" i18n=\"Back button text@@reconBack\" (click)=onBack($event)>{{ i18n.common + 'Back' | dynamicTranslate }} </button>\r\n  <button class=\"btn btn-primary\" i18n=\"Continue button text@@reconContinue\" (click)=onContinue($event) [ladda]=\"isBusy\">{{ i18n.common + 'Continue' | dynamicTranslate }} </button>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/field-matches.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/field-matches.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row pb-3\">\r\n  <div class=\"col-md-2\">\r\n    <label>Client File Field</label>\r\n\r\n    <select class=\"form-control form-control\" id=\"selectMatchCode\" [(ngModel)]=\"fieldMatch.leftTerm.field\" [name]=\"formFieldNames.leftTerm\"\r\n      (change)=\"fieldMatchChange()\" required>\r\n      <option *ngIf=\"!fieldMatch.leftTerm.field\" [value]=\"fieldMatch.leftTerm.field\" disabled>Select Field</option>\r\n      <option *ngFor=\"let item of inventoryMetadata[dataTargetNames.client]|orderBy:'displayName'\" [value]=\"item.name\">{{item.displayName}}</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"col-md-1\">\r\n    <p class=\"text-center\">\r\n      <span class=\"criteria-operation\" style=\"position:relative; top:40px;\">Equals</span>\r\n    </p>\r\n  </div>\r\n  <div class=\"col-md-2\">\r\n    <label>Actual Inventory Field</label>\r\n\r\n    <select class=\"form-control form-control\" id=\"selectMatchCode\" [(ngModel)]=\"fieldMatch.rightTerm.field\" [name]=\"formFieldNames.rightTerm\"\r\n      (change)=\"fieldMatchChange()\" required>\r\n      <option *ngIf=\"!fieldMatch.rightTerm.field\" [value]=\"fieldMatch.rightTerm.field\" disabled>Select Field</option>\r\n      <option *ngFor=\"let item of inventoryMetadata[dataTargetNames.inventory]|orderBy:'displayName'\" [value]=\"item.name\">{{item.displayName}}</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"col-md-2 align-self-center mt-3\">\r\n\r\n\r\n    <button (click)=\"remove()\" type=\"button\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-minus\"></i>\r\n    </button>\r\n    <strong>&nbsp;Remove Filter</strong>\r\n\r\n\r\n  </div>\r\n  <div class=\"col-md-5\">\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/filter-criteria-builder.component.html ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-2\">\r\n    <label>Source File</label>\r\n    <div class=\"form-group\">\r\n      <input type=\"radio\" [name]=\"formFieldNames.sourceClientFile\" [checked]=\"filter.term.dataTarget === dataTargetNames.client\"\r\n        (change)=\"setSourceFile(dataTargetNames.client, $event)\">\r\n      <label class=\"custom-control-label\" for=\"customRadio1\">Client File</label><br />\r\n      <input type=\"radio\" [name]=\"formFieldNames.sourceInventoryFile\" [checked]=\"filter.term.dataTarget === dataTargetNames.inventory\"\r\n        (change)=\"setSourceFile(dataTargetNames.inventory, $event)\">\r\n      <label class=\"custom-control-label\" for=\"customRadio2\">Actual Inventory</label>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-2\">\r\n    <label>Field</label>\r\n\r\n    <select class=\"form-control form-control\" id=\"selectMatchCode\" [(ngModel)]=\"selectedField\" (change)=\"initOperationAndValue()\"\r\n      [name]=\"formFieldNames.selectedField\" #selectMatchCode=\"ngModel\" required>\r\n      <option *ngIf=\"!selectedField\" [ngValue]=\"selectedField\" disabled>Select Field</option>\r\n      <option *ngFor=\"let item of sourceMetadata|orderBy:'displayName'\" [ngValue]=\"item\">{{item.displayName}}</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"col-md-2\">\r\n    <label>Filter Type</label>\r\n    <select  class=\"form-control\" *ngIf=\"!selectedField\" disabled></select>\r\n\r\n    <select *ngIf=\"selectedField\" [(ngModel)]=\"filter.operation\" [name]=\"formFieldNames.selectedFilterType\" (change)=\"criteriaChange()\"\r\n      class=\"form-control\">\r\n      <option *ngIf=\"!filter.operation\" [ngValue]=\"filter.operation\" disabled>Select Filter</option>\r\n      <option *ngFor=\"let item of operationsForSelectedTerm\" [value]=\"item.name\">{{item.displayName}}</option>\r\n    </select>\r\n\r\n  </div>\r\n  <div class=\"col-md-2\" *ngIf=\"filter.operation !== 'in' && filter.operation !== 'nin'\">\r\n\r\n\r\n    <label>Value</label>\r\n\r\n    <input *ngIf=\"!selectedField\" type=\"text\" disabled=\"true\" [name]=\"formFieldNames.value\" class=\"form-control\">\r\n\r\n    <input type=\"text\" *ngIf=\"selectedField && selectedField.fieldType===fieldTypes.String\" [(ngModel)]=\"filter.term.value\" [name]=\"formFieldNames.value\"\r\n      class=\"form-control\" (change)=\"criteriaChange()\">\r\n\r\n    <kendo-datepicker class=\"form-control\" *ngIf=\"selectedField && selectedField.fieldType===fieldTypes.DateTime\" [(ngModel)]=\"filter.term.value\"\r\n      [name]=\"formFieldNames.value\" (change)=\"criteriaChange()\"></kendo-datepicker>\r\n\r\n\r\n    <!-- TODO Hide stepper -->\r\n    <input type=\"number\" *ngIf=\"selectedField && (selectedField.fieldType===fieldTypes.Integer || selectedField.fieldType===fieldTypes.Double)\"\r\n      [(ngModel)]=\"filter.term.value\" [name]=\"formFieldNames.value\" class=\"form-control\" (change)=\"criteriaChange()\">\r\n\r\n  </div>\r\n  <div class=\"col-md-2 mt-4\">\r\n\r\n\r\n    <button (click)=\"remove()\" type=\"button\" class=\"btn btn-action btn-small\">\r\n      <i class=\"fa fa-minus\"></i>\r\n    </button>\r\n    <strong>Remove Filter</strong>\r\n\r\n\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/many-to-one-match.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/many-to-one-match.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-6\">\r\n    <b>{{matchesCount}} {{i18n.reconciliation + 'Matches' | dynamicTranslate }}</b>\r\n  </div>\r\n  <div class=\"col-md-6\" style=\"text-align: right;\">\r\n    <p> Match Code: {{selectedmatchCode}}</p>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  \r\n  <div class=\"col-md-12 \">\r\n\r\n    <kendo-grid \r\n    [resizable]=\"true\" \r\n    [data]=\"manyMatchRecords\"\r\n    [loading]=\"loading\"\r\n    [selectable]=\"true\" \r\n    [kendoGridSelectBy]=\"'id'\" \r\n    [reorderable]=\"true\"\r\n    [navigable]=\"true\"\r\n    [height]=\"330\" \r\n    [sortable]=\"true\"\r\n    [sort]=\"state.sort\"\r\n    [navigable]=\"true\"\r\n    #grid\r\n    >\r\n<!-- #clientFileMatchesGrid [rowClass]=\"isUnmatched\"  //(detailExpand)=\"detailExpanded($event)\" (dataStateChange)=\"dataStateChange($event)\"  [dataItem]=\"dataItem\"  \r\n-->\r\n\r\n      <ng-container *ngFor=\"let column of selectedInventoryHeaders\">\r\n\r\n        <kendo-grid-column [reorderable]=\"true\"  *ngIf=\"column.fieldType !== 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"CF - {{column.displayName}}\"\r\n          [filter]=\"column.fieldType\">\r\n          <ng-template kendoGridCellTemplate let-dataItem >\r\n            {{dataItem.inventoryRecords[0][column.name]}}\r\n          </ng-template>\r\n        </kendo-grid-column>\r\n\r\n        <kendo-grid-column [reorderable]=\"true\" *ngIf=\"column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"CF -{{column.displayName}}\"\r\n          [filter]=\"column.fieldType\">\r\n          <ng-template kendoGridCellTemplate let-dataItem >\r\n            {{ dataItem.inventoryRecords[0][column.name] | localizedDate }}\r\n          </ng-template>\r\n        </kendo-grid-column>\r\n      </ng-container>\r\n      <kendo-grid-column field=\"detailRecordCount\"  title=\"Potenital Matches\" width=\"100\"></kendo-grid-column>\r\n      <div *kendoGridDetailTemplate=\"let dataItem\">\r\n      \r\n          <kendo-grid \r\n          [resizable]=\"true\" \r\n      \r\n          [data]=\"dataItem.clientFileRecords\" \r\n          [loading]=\"loading\"\r\n          [selectable]=\"true\" \r\n          [kendoGridSelectBy]=\"'id'\" \r\n          [reorderable]=\"true\"\r\n          [navigable]=\"true\"\r\n          [sortable]=\"true\"\r\n          [sort]=\"state.sort\"\r\n          [navigable]=\"true\"\r\n          >\r\n          <kendo-grid-column [reorderable]=\"false\" field=\"Actions\" title=\"Actions\" width=\"100\">\r\n            <ng-template kendoGridCellTemplate let-rowIndex=\"rowIndex\">\r\n              <a (click)=\"onMatch(dataItem,rowIndex)\">{{i18n.reconciliation + 'Match' | dynamicTranslate}} </a>\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n            <ng-container *ngFor=\"let column of selectedClientHeaders \">\r\n\r\n              <kendo-grid-column [reorderable]=\"true\"  *ngIf=\"column.fieldType !== 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"AI-{{column.displayName}}\"\r\n                [filter]=\"column.fieldType\">\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                  {{dataItem[column.name]}}\r\n                </ng-template>\r\n              </kendo-grid-column>\r\n\r\n              <kendo-grid-column [reorderable]=\"true\" *ngIf=\"column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"AI-{{column.displayName}}\"\r\n                [filter]=\"column.fieldType\">\r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                  {{ dataItem[column.name] | localizedDate }}\r\n                </ng-template>\r\n              </kendo-grid-column>\r\n            </ng-container>\r\n          </kendo-grid>\r\n        <!-- ---- details grid ---- end -->\r\n        </div>\r\n    </kendo-grid>\r\n\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/mass-match.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/mass-match.component.html ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ngb-alert type=\"danger\" [dismissible]=\"false\" *ngIf=\"showInvalidFieldMatchesAlert\">\r\n  <b>Field Match Selection is Invalid</b>\r\n  <br> Please select one field match from the Client File and Actual Inventory</ngb-alert>\r\n\r\n<form (ngSubmit)=\"onSubmit(massMatchSearchForm)\" #massMatchSearchForm=\"ngForm\">\r\n\r\n\r\n\r\n<div>\r\n  <div class=\"filter-builder mb-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <h2>Field Matches</h2>\r\n      </div>\r\n      <div class=\"col-md-4\"></div>\r\n    </div>\r\n     <!-- Container for dynamic FieldMatchesComponent -->\r\n     <div #fieldMatch></div>\r\n    <div required class=\"row\">\r\n      <div class=\"col-md-8 px-3 pb-3 align-self-center\">\r\n        <button type=\"button\" (click)=\"addFieldMatch()\" class=\"btn btn-action btn-small\">\r\n          <i class=\"fa fa-plus\"></i>\r\n        </button><strong>&nbsp;Add Field Match</strong></div>\r\n      <div class=\"col-md-4\"></div>\r\n    </div>\r\n  </div>\r\n  <div class=\"filter-builder mb-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <h2>Filter Criteria</h2>\r\n      </div>\r\n      <div class=\"col-md-4\"></div>\r\n    </div>\r\n    <!-- Container for dynamic FilterCriteriaBuilderComponent -->\r\n    <div #filterCriteria></div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8 pb-3\">\r\n        <button type=\"button\" (click)=\"addFilter()\" class=\"btn btn-action btn-small\">\r\n          <i class=\"fa fa-plus\"></i>\r\n        </button><strong>&nbsp;Add Filter Criteria</strong></div>\r\n    </div>\r\n    <div class=\"col-md-4\"></div>\r\n  </div>\r\n</div>\r\n<div class=\"filter-builder mb-3\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-8\">\r\n      <h2>Match Code</h2>\r\n    </div>\r\n    <div class=\"col-md-4\"></div>\r\n  </div>\r\n  <div class=\"row pb-3\">\r\n    <div class=\"col-md-4\">\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"selectMatchCode\">Match Code</label>\r\n        <select class=\"form-control\" id=\"selectMatchCode\" [(ngModel)]=\"selectedMatchCodeId\" name=\"selectedMatchCodeId\"\r\n          #selectMatchCode=\"ngModel\" required>\r\n          <option value=\"\" disabled>Select Match Code</option>\r\n          <option *ngFor=\"let item of matchCodes\" [value]=\"item.matchCodeId\">{{item.matchCodeName}}</option>\r\n          <option *ngFor=\"let disabledItem of disabledMatchCodes\" [value]=\"disabledItem.matchCodeId\" disabled>{{disabledItem.matchCodeName}}</option>\r\n        </select>\r\n\r\n        <div *ngIf=\"selectMatchCode.errors && massMatchSearchForm.submitted\"\r\n          class=\"alert alert-danger\">\r\n          <div [hidden]=\"!selectMatchCode.errors.required \">\r\n            Please select a match code.\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"col-md-8\"></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-8 p-3\">\r\n      <!-- Changed style -->\r\n      <button class=\"btn btn-default\" (click)=\"cancel($event)\">Cancel</button>\r\n\r\n      <button [ladda]=\"isLoading\" class=\"btn btn-primary\">Continue</button>\r\n\r\n    </div>\r\n    <div class=\"col-md-4\"></div>\r\n  </div>\r\n</div>\r\n\r\n</form>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/one-to-many-match.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/one-to-many-match.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- [selectedKeys]=\"selectedClientFileRows\" \r\n   (selectionChange)=\"clientFileSelectionChange($event)\"\r\n   (sortChange)=\"sortChangeClient($event)\" \r\n   [data]=\"OneToManyRecords\" \r\n  -->\r\n  <form (ngSubmit)=\"onSubmit(OneTomanyMatchForm)\" #OneTomanyMatchForm=\"ngForm\">\r\n\r\n <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <b>{{matchesCount}} {{i18n.reconciliation + 'Matches' | dynamicTranslate }}</b>\r\n    </div>\r\n    <div class=\"col-md-6\" style=\"text-align: right;\">\r\n      <p> Match Code: {{selectedmatchCode}}</p>\r\n    </div>\r\n </div>\r\n    <div class=\"row\">\r\n    <div class=\"col-md-12 \">\r\n  \r\n      <kendo-grid \r\n      [resizable]=\"true\" \r\n      [data]=\"manyMatchRecords\"\r\n      [loading]=\"loading\"\r\n      [selectable]=\"true\" \r\n      [kendoGridSelectBy]=\"'id'\" \r\n      [reorderable]=\"true\"\r\n      [navigable]=\"true\"\r\n      [height]=\"330\" \r\n      [sortable]=\"true\"\r\n      [sort]=\"state.sort\"\r\n      (sortChange)=\"sortChangeClient($event)\"\r\n      [navigable]=\"true\"\r\n      #grid\r\n      >\r\n  <!-- #clientFileMatchesGrid [rowClass]=\"isUnmatched\"  //(detailExpand)=\"detailExpanded($event)\" (dataStateChange)=\"dataStateChange($event)\"  [dataItem]=\"dataItem\"  \r\n  -->\r\n\r\n  <!-- <kendo-grid-column field=\"primaryAssetRecordId\" width=\"100\"></kendo-grid-column> -->\r\n\r\n        <ng-container *ngFor=\"let column of selectedClientHeaders\">\r\n\r\n          <kendo-grid-column [reorderable]=\"true\"  *ngIf=\"column.fieldType !== 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"CF - {{column.displayName}}\"\r\n            [filter]=\"column.fieldType\">\r\n            <ng-template kendoGridCellTemplate let-dataItem >\r\n              {{dataItem.clientFileRecords[0][column.name]}}\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n\r\n          <kendo-grid-column [reorderable]=\"true\" *ngIf=\"column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"CF -{{column.displayName}}\"\r\n            [filter]=\"column.fieldType\">\r\n            <ng-template kendoGridCellTemplate let-dataItem >\r\n              {{ dataItem.clientFileRecords[0][column.name] | localizedDate }}\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n        </ng-container>\r\n        <kendo-grid-column field=\"detailRecordCount\"  title=\"Potenital Matches\" width=\"100\"></kendo-grid-column>\r\n        <!-- <ng-template kendoGridCellTemplate let-dataItem >\r\n         \r\n        </ng-template> -->\r\n        \r\n        \r\n        <ng-template kendoGridDetailTemplate let-dataItem>\r\n        \r\n            <kendo-grid \r\n            [resizable]=\"true\" \r\n        \r\n            [data]=\"dataItem.inventoryRecords\" \r\n            [loading]=\"loading\"\r\n            [selectable]=\"true\" \r\n            [kendoGridSelectBy]=\"'id'\" \r\n            [reorderable]=\"true\"\r\n            [navigable]=\"true\"\r\n            [sortable]=\"true\"\r\n            [sort]=\"state.sort\"\r\n            [navigable]=\"true\"\r\n         \r\n            >\r\n            <kendo-grid-column [reorderable]=\"false\" field=\"Actions\" title=\"Actions\" width=\"100\">\r\n              <ng-template kendoGridCellTemplate let-rowIndex=\"rowIndex\">\r\n                <a (click)=\"onMatch(dataItem,rowIndex)\">{{i18n.reconciliation + 'Match' | dynamicTranslate}} </a>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n           \r\n            <!--  -->\r\n              <ng-container *ngFor=\"let column of selectedInventoryHeaders\">\r\n\r\n                <kendo-grid-column [reorderable]=\"true\"  *ngIf=\"column.fieldType !== 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"AI-{{column.displayName}}\"\r\n                  [filter]=\"column.fieldType\">\r\n                  <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                   {{dataItem[column.name]}}\r\n                  </ng-template>\r\n                </kendo-grid-column>\r\n\r\n                <kendo-grid-column [reorderable]=\"true\" *ngIf=\"column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"AI-{{column.displayName}}\"\r\n                  [filter]=\"column.fieldType\">\r\n                  <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                    {{ dataItem[column.name] | localizedDate }}\r\n                  </ng-template>\r\n                </kendo-grid-column>\r\n              </ng-container>\r\n             \r\n            </kendo-grid>\r\n          <!-- ---- details grid ---- end -->\r\n          </ng-template>\r\n      </kendo-grid>\r\n\r\n    </div>\r\n  </div>\r\n  </form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/view-matches.component.html":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/mass-match/view-matches.component.html ***!
  \*******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n<div class=\"row\">\r\n  <kendo-tabstrip>\r\n    <kendo-tabstrip-tab [title]=\"'1:1 Match '\" [selected]=\"true\" >\r\n      <ng-template kendoTabContent>\r\n        <form (ngSubmit)=\"onSubmit()\" #massMatchSearchForm=\"ngForm\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <b>{{matchesCount}} {{i18n.reconciliation + 'Matches' | dynamicTranslate }}</b>\r\n              <!-- <b *ngIf=\"searchResponse.manyToManyMatches > 0\" class=\"text-danger\"> ({{searchResponse.manyToManyMatches}} {{i18n.reconciliation + 'recordswithmanytomanymatchesexists' | dynamicTranslate}})</b>       -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\" style=\"padding-right: 0;\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">{{i18n.reconciliation + 'Client File' | dynamicTranslate}}</div>\r\n                <div class=\"col-md-9\">\r\n                  <grid-column-selector-modal style=\"visibility: hidden\" [sourceTranslationKey]=\"i18n.asset\" [selectedColumns]=\"selectedClientHeaderNames\" [headersAvailable]=\"allClientHeaders\" (columnSelectionEvent)=\"onColumnSelection($event)\"></grid-column-selector-modal>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12 hide-grid-scroll\">\r\n                  <kendo-grid \r\n                  [resizable]=\"true\" \r\n                  [data]=\"clientFileRecords\" \r\n                  [loading]=\"loading\"\r\n                  [selectable]=\"true\" \r\n                  [kendoGridSelectBy]=\"'id'\" \r\n                  [selectedKeys]=\"selectedClientFileRows\" \r\n                  [reorderable]=\"true\"\r\n                  (selectionChange)=\"clientFileSelectionChange($event)\" \r\n                  [height]=\"330\" \r\n                  [rowClass]=\"isUnmatched\" \r\n                  [sortable]=\"true\"\r\n                  [sort]=\"state.sort\"\r\n                  (sortChange)=\"sortChangeClient($event)\"\r\n                  #clientFileMatchesGrid>\r\n        \r\n                    <kendo-grid-column [reorderable]=\"false\" field=\"Actions\" title=\"Actions\" width=\"100\">\r\n                      <ng-template kendoGridCellTemplate let-dataItem>\r\n                        <a (click)=\"unmatch(dataItem.id)\">{{i18n.reconciliation + 'Unmatch' | dynamicTranslate}} </a>\r\n                      </ng-template>\r\n                    </kendo-grid-column>\r\n        \r\n                    <ng-container *ngFor=\"let column of selectedClientHeaders\">\r\n        \r\n                      <kendo-grid-column [reorderable]=\"true\"  *ngIf=\"column.fieldType !== 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"{{column.displayName}}\"\r\n                        [filter]=\"column.fieldType\">\r\n                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                          {{dataItem[column.name]}}\r\n                        </ng-template>\r\n                      </kendo-grid-column>\r\n        \r\n                      <kendo-grid-column [reorderable]=\"true\" *ngIf=\"column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"{{column.displayName}}\"\r\n                        [filter]=\"column.fieldType\">\r\n                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                          {{ dataItem[column.name] | localizedDate }}\r\n                        </ng-template>\r\n                      </kendo-grid-column>\r\n        \r\n        \r\n                    </ng-container>\r\n        \r\n        \r\n                  </kendo-grid>\r\n        \r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-6\" style=\"padding-left: 0;\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">{{i18n.reconciliation + 'Actual Inventory' | dynamicTranslate}}</div>\r\n                <div class=\"col-md-9\">\r\n                  <grid-column-selector-modal [sourceTranslationKey]=\"i18n.asset\" [selectedColumns]=\"selectedInventoryHeaderNames\" [headersAvailable]=\"allInventoryHeaders\" (columnSelectionEvent)=\"onColumnSelection($event)\"></grid-column-selector-modal>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n        \r\n                  <kendo-grid \r\n                  [resizable]=\"true\" \r\n                  [data]=\"inventoryRecords\"\r\n                  (scrollBottom)=\"refreshGridData()\"          \r\n                  [loading]=\"loading\"\r\n                  [selectable]=\"true\" \r\n                  [kendoGridSelectBy]=\"'id'\" \r\n                  [selectedKeys]=\"selectedInventoryFileRows\"\r\n                  (selectionChange)=\"inventoryFileSelectionChange($event)\" \r\n                  [reorderable]=\"true\"\r\n                  [height]=\"330\" \r\n                  [rowClass]=\"isUnmatched\" \r\n                  [sortable]=\"true\"\r\n                  [sort]=\"stateInventory.sort\"\r\n                  (sortChange)=\"sortChangeInventroyRecords($event)\"\r\n                  #inventoryMatchesGrid>\r\n        \r\n                    <ng-container *ngFor=\"let column of selectedInventoryHeaders\">\r\n        \r\n                  \r\n                      <kendo-grid-column *ngIf=\"column.fieldType !== 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"{{column.displayName}}\"\r\n                        [filter]=\"column.fieldType\">\r\n                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                          {{dataItem[column.name]}}\r\n                        </ng-template>\r\n                      </kendo-grid-column>\r\n        \r\n                      <kendo-grid-column *ngIf=\"column.fieldType === 'date'\" [width]=\"200\" field=\"{{column.name}}\" format=\"{{column.format}}\" title=\"{{column.displayName}}\"\r\n                        [filter]=\"column.fieldType\">\r\n                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                          {{ dataItem[column.name] | localizedDate }}\r\n                        </ng-template>\r\n                      </kendo-grid-column>\r\n        \r\n        \r\n                    </ng-container>\r\n        \r\n        \r\n        \r\n                  </kendo-grid>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-8 p-3\">\r\n            \r\n              \r\n              <button [ladda]=\"saveIsLoading\" class=\"btn btn-primary\">Save</button>\r\n              <button [ladda]=\"saveAndNewIsLoading\" (click)=\"saveAndNew($event)\" class=\"btn btn-primary\">{{i18n.common + 'Save &amp; New' | dynamicTranslate}}</button>\r\n        \r\n        \r\n            </div>\r\n            <div class=\"col-md-4\"></div>\r\n          </div>\r\n      </form>\r\n      </ng-template>\r\n    </kendo-tabstrip-tab>\r\n    <kendo-tabstrip-tab [title]=\"'1:M Matches'\">\r\n      <ng-template kendoTabContent>\r\n        <one-to-many-match [selectedInventoryHeaders]=\"selectedInventoryHeaders\" [selectedClientHeaders]=\"selectedClientHeaders\" ></one-to-many-match>\r\n      </ng-template>\r\n    </kendo-tabstrip-tab>\r\n    <kendo-tabstrip-tab [title]=\"'M:1 Matches'\">\r\n      <ng-template kendoTabContent>\r\n        <many-to-one-match [selectedInventoryHeaders]=\"selectedInventoryHeaders\" [selectedClientHeaders]=\"selectedClientHeaders\" ></many-to-one-match>\r\n     \r\n      </ng-template>\r\n    </kendo-tabstrip-tab>\r\n  </kendo-tabstrip>\r\n</div>\r\n<div>\r\n  <button (click)=\"back($event)\" class=\"btn btn-default\">{{i18n.common + 'Back' | dynamicTranslate}}</button>\r\n</div>\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/match-codes.component.html":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/match-codes.component.html ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <div>\r\n      <div id=\"high-density\">\r\n        <kendo-grid [resizable]=\"true\" [data]=\"gridData\" [pageSize]=\"pageSize\" [sort]=\"state.sort\" [sortable]=\"true\" [height]=\"500\" [selectable]=\"selectableSettings\"\r\n          [filter]=\"state.filter\" [filterable]=\"true\" [reorderable]=\"true\" [kendoGridSelectBy]=\"'id'\" [selectedKeys]=\"selectedMatchCodeIds\"\r\n          (selectionChange)=\"onSelectionChanged($event)\" (pageChange)=\"pageChange($event)\" [reorderable]=\"true\" (dataStateChange)=\"dataStateChange($event)\"\r\n          [rowClass]=\"isDisabled\">\r\n          <kendo-grid-checkbox-column [reorderable]=\"false\" width=\"8%\">\r\n            <ng-template kendoGridHeaderTemplate let-dataItem>\r\n              <div style=\"width: 100%; cursor: pointer;\" (click)=\"sortSelected()\">\r\n                <a class=\"clickable-link\">{{Selected}}</a>\r\n                <span *ngIf=\"sortSelectedAsc\">\r\n                  <i class=\"k-icon k-i-sort-asc-sm\"></i>\r\n                </span>\r\n                <span *ngIf=\"sortSelectedDesc\">\r\n                  <i class=\"k-icon k-i-sort-desc-sm\"></i>\r\n                </span>\r\n              </div>\r\n            </ng-template>\r\n          </kendo-grid-checkbox-column>\r\n          <kendo-grid-column [reorderable]=\"true\" field=\"name\" [title]=\"'match-code_Match Code' | dynamicTranslate\" width=\"15%\">\r\n          </kendo-grid-column>\r\n          <kendo-grid-column [reorderable]=\"true\" field=\"description\" [title]=\"'match-code_Description' | dynamicTranslate\" width=\"50%\">\r\n          </kendo-grid-column>\r\n          <kendo-grid-column [reorderable]=\"true\" field=\"categoryName\" [title]=\"'match-code_Category' | dynamicTranslate\" width=\"15%\">\r\n          </kendo-grid-column>\r\n          <kendo-grid-column [reorderable]=\"true\" field=\"isEnabled\" [title]=\"'match-code_Enabled' | dynamicTranslate\" width=\"6%\"\r\n            [filterable]=\"false\">\r\n          </kendo-grid-column>\r\n          <kendo-grid-column [reorderable]=\"true\" field=\"Actions\" [title]=\"'common_Actions' | dynamicTranslate\" width=\"8%\" [filterable]=\"false\">\r\n            <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n              <a class=\"clickable-link\" (click)=\"editMatchCode(dataItem.id,$event)\">{{'common_Edit' | dynamicTranslate}}</a>\r\n            </ng-template>\r\n          </kendo-grid-column>\r\n\r\n        </kendo-grid>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<create-match-code (onAddorUpdateMatchCode)=\"handleCreatedorModifiedMatchCode($event)\"></create-match-code>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/order-asset-columns-component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/order-asset-columns-component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"circle-div\" (click)=\"open()\">\r\n  <span class=\"fa fa-ellipsis-h\"></span>\r\n</div>\r\n\r\n\r\n<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n<div>\r\n  <input type=\"checkbox\" class=\"k-checkbox\" [checked]=\"showAllColumns\" (change)=\"DisplayAllColumnsToggle($event)\" id=\"showAll\" name=\"showAll\">\r\n  <label class=\"k-checkbox-label\" for=\"showAll\">{{i18n.asset + 'show All Columns' | dynamicTranslate}}</label>\r\n\r\n</div>\r\n  <div class=\"modal-body\">\r\n    <grid-column-selector [sourceTranslationKey]=\"i18n.asset\" [selectedColumns]=\"selectedHeaders\" [headersAvailable]=\"headersAvailable\"></grid-column-selector>\r\n    <div *ngFor=\"let customColumn of pendingCustomColumns\" class=\"row\">\r\n      <div class=\"col-md-4\">{{i18n.common + 'Custom Field' | dynamicTranslate }} - {{customColumn.columnName}}</div>\r\n      <div class=\"col-md-4\"><b><a (click)=\"removePendingColumn(customColumn)\">{{i18n.common + 'Remove' | dynamicTranslate}}</a></b></div>\r\n    </div>\r\n    <div class=\"row mt-2\">\r\n      <div class=\"col-md-10\">\r\n        <add-asset-column-component (onColumnAdded)=\"onColumnAdded($event)\" [knownColumnNames]=\"columnNames\"></add-asset-column-component>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n  <div class=\"modal-footer\">\r\n   \r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"cancle()\">{{i18n.common + 'Cancel' | dynamicTranslate }}</button>\r\n    <button type=\"submit\" class=\"btn btn-primary\" (click)=\"saveChanges()\">{{i18n.common + 'Save Changes' | dynamicTranslate }}</button>\r\n  </div>\r\n  <br />\r\n\r\n</ng-template>\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/parent-child-match-detail.component.html":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/parent-child-match-detail.component.html ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n\r\n<kendo-grid [resizable]=\"true\" height=\"60\" [data]=\"children\" [scrollable]=\"true\" [resizable]=\"true\">\r\n    <kendo-grid-column [width]=\"200\" field=\"matchCodeName\" title=\"{{ i18n.reconciliation + 'Match Code' | dynamicTranslate}}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"serialNumber\" title=\"{{ i18n.reconciliation + 'Serial Number' | dynamicTranslate}}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"assetTagNumber\" title=\"{{ i18n.reconciliation + 'Asset Tag Number' | dynamicTranslate}}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"description\" title=\"{{ i18n.reconciliation + 'Description'| dynamicTranslate }}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"modelNumber\" title=\"{{ i18n.reconciliation + 'Model Number' | dynamicTranslate }}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"manufacturer\" title=\"{{ i18n.reconciliation + 'Manufacturer' | dynamicTranslate }}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"buildingName\" title=\"{{ i18n.reconciliation + 'Building Name' | dynamicTranslate }}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"floor\" title=\"{{ i18n.reconciliation + 'Floor' | dynamicTranslate }}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"quantity\" title=\"{{ i18n.reconciliation + 'Quantity' | dynamicTranslate }}\"></kendo-grid-column>\r\n    <kendo-grid-column [width]=\"200\" field=\"historicalCost\" title=\"{{ i18n.reconciliation + 'Historical Cost'| dynamicTranslate }}\"></kendo-grid-column>\r\n    <ng-container *ngFor=\"let column of headers\">\r\n        <kendo-grid-column [width]=\"200\" field=\"{{column.key}}\" title=\"{{column.key}}\" *ngIf=\"!showColumn(column.key)\"></kendo-grid-column>\r\n    </ng-container>\r\n</kendo-grid>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/parent-child-match.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/parent-child-match.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n  <div *ngIf=\"isConfirmOpen\">\r\n      <confirm \r\n      (isConfirmed)=\"onConfirmed($event)\" \r\n      [confirmationMessage]=\"confirmMessage\" \r\n      [confirmHeading]=\"confirmHeader\">\r\n    </confirm>\r\n  </div>\r\n  <div *ngIf=\"!isConfirmOpen\">\r\n\r\n        <form (ngSubmit)=\"onSubmit(parentChildMatch)\" #createMatchCodeForm=\"ngForm\">\r\n      \r\n          <div class=\"modal-body\">\r\n            <div class=\"form-group\">\r\n              <ngb-alert type=\"danger\" [dismissible]=\"false\" *ngIf=\"showSelectParentAlert\"> {{ i18n.reconciliation + 'You must select a parent' | dynamicTranslate}}.</ngb-alert>\r\n              <ngb-alert type=\"danger\" [dismissible]=\"false\" *ngIf=\"showMatchedChildAssigned\">{{ i18n.reconciliation + 'parentchildmatched' | dynamicTranslate }}</ngb-alert>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <div>{{i18n.reconciliation + 'Select parent item' | dynamicTranslate }}:\r\n                <br> </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <kendo-grid [resizable]=\"true\" [data]=\"assetsGridData\" *ngIf=\"assetsGridData.length > 0\" [height]=\"240\" [selectable]=\"true\" [kendoGridSelectBy]=\"'assetId'\"\r\n                [filter]=\"filter\" #grid>\r\n                <kendo-grid-column field=\"assetId\" title=\"Asset\" width=\"50\" [hidden]=\"true\">\r\n                </kendo-grid-column>\r\n                <kendo-grid-column field=\"isParent\" title=\"Parent\" width=\"40\" class=\"parent-child-action-cell\">\r\n                  <ng-template kendoGridCellTemplate let-dataItem let-idx=\"rowIndex\">\r\n                    <input type=\"radio\" name=\"selectedParent\" [checked]=\"dataItem.isParent || parentAssetId === dataItem.assetId\" (change)=\"selectParent(idx)\" />\r\n                  </ng-template>\r\n                </kendo-grid-column>\r\n                <kendo-grid-column field=\"assetTagNumber\" title=\"{{i18n.reconciliation + 'Asset' | dynamicTranslate }}\" width=\"75\">\r\n                </kendo-grid-column>\r\n                <kendo-grid-column field=\"description\" title=\"{{i18n.reconciliation + 'Description' | dynamicTranslate }}\" width=\"200\">\r\n                </kendo-grid-column>\r\n                <kendo-grid-column field=\"oldTagNumber\" title=\"{{i18n.reconciliation + 'Tag' | dynamicTranslate }}\" width=\"75\">\r\n                </kendo-grid-column>\r\n                <kendo-grid-column field=\"historicalCost\" title=\"{{i18n.reconciliation + 'Cost' | dynamicTranslate }}\" width=\"75\">\r\n                </kendo-grid-column>\r\n                <kendo-grid-column width=\"100\" class=\"parent-child-action-cell\">\r\n                  <ng-template kendoGridCellTemplate let-idx=\"rowIndex\">\r\n                    <a class=\"nav-link\" href=\"#\" (click)=\"onUnrelateRow(idx, $event, grid)\">{{ i18n.reconciliation + 'Unrelate' | dynamicTranslate}} </a>\r\n                  </ng-template>\r\n                </kendo-grid-column>\r\n              </kendo-grid>\r\n            </div>\r\n      \r\n            <div class=\"form-group\" *ngIf=\"isEdit\">\r\n              <a class=\"nav-link\" style=\"text-align: center;\" href=\"#\" (click)=\"onUnrelateAllItems($event)\">{{ i18n.reconciliation + 'Unrelate All Items' | dynamicTranslate}} </a>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\">{{ i18n.reconciliation + 'Cancel' | dynamicTranslate}} </button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">{{ i18n.reconciliation + saveText | dynamicTranslate}}</button>\r\n          </div>\r\n        </form>\r\n  </div>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data-allocations.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data-allocations.component.html ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n  <div *ngIf=\"isConfirmOpen\">\r\n    <confirm \r\n      (isConfirmed)=\"onConfirmed($event)\" \r\n      [confirmationMessage]=\"confirmMessage\" \r\n      [confirmHeading]=\"confirmHeader\">\r\n    </confirm>\r\n  </div>\r\n  <div *ngIf=\"!isConfirmOpen\">\r\n    \r\n        <form (ngSubmit)=\"onSubmit(createAllocationForm)\" #createAllocationForm=\"ngForm\">\r\n      \r\n          <div class=\"modal-body\">\r\n            <div class=\"form-group\">\r\n              <ngb-alert type=\"danger\" [dismissible]=\"false\" *ngIf=\"!vm.isValidAllocation\">\r\n                {{i18n.reconciliation + 'Allocations cannot contain negative dollar amounts and the total allocation amount must not exceed the client record value\r\n                of' | dynamicTranslate }} {{allocationCost}}.\r\n              </ngb-alert>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <div class=\"row justify-content-left\">\r\n                <div class=\"col-md-12\">\r\n                  <h4>{{i18n.common + 'Client File' | dynamicTranslate }}</h4>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"allocation-form-group\">\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>{{i18n.common + 'Asset Tag Number' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Old Tag Number' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Description' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Manufacturer' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Cost' | dynamicTranslate }}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>{{vm.allocationClientAsset.assetTagNumber}}</td>\r\n                    <td>{{vm.allocationClientAsset.oldTagNumber}}</td>\r\n                    <td>{{vm.allocationClientAsset.description}}</td>\r\n                    <td>{{vm.allocationClientAsset.manufacturer}}</td>\r\n                    <th>{{allocationCost}}</th>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <div class=\"text-right\">\r\n                    <a class=\"nav-link text-underline\" href=\"#\" (click)=\"allocateEvenly($event)\">{{i18n.common + 'Allocate Evenly' | dynamicTranslate }} </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n      \r\n            <div class=\"form-group\">\r\n              <div class=\"row justify-content-left\">\r\n                <div class=\"col-md-12\">\r\n                  <h4>{{i18n.common + 'Actual Inventory Allocation' | dynamicTranslate }}</h4>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"allocation-form-group\">\r\n              <table class=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>{{i18n.common + 'Quantity' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Description' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Manufacturer' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Model Number' | dynamicTranslate }}</th>\r\n                    <th>{{i18n.common + 'Allocation' | dynamicTranslate }}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <!-- Inventory Asset Data -->\r\n                  <tr *ngFor=\"let record of vm.allocationInventoryAssets;\">\r\n                    <td>{{record.quantity}}</td>\r\n                    <td>{{record.description}}</td>\r\n                    <td>{{record.manufacturer}}</td>\r\n                    <td>{{record.modelNumber}}</td>\r\n                    <td><input currencyMask [options]=\"{prefix:''}\" class=\"form-control\" [name]=\"record.assetId\" [id]=\"record.assetId\" [(ngModel)]=\"record.allocatedValue\" (ngModelChange)=\"updateTotal()\" /></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-md-8\"></div>\r\n              <div class=\"col-md-2 text-right\">\r\n                <h4>\r\n                 <b>{{i18n.common + 'Total $' | translate}}</b>\r\n                </h4>\r\n              </div>\r\n              <div class=\"col-md-2 text-right\" style=\"padding-right: 2.5rem;\">\r\n                <h4>\r\n                  <b>{{vm.allocationTotal.toFixed(2)}}</b>\r\n                </h4>\r\n              </div>\r\n            </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6\"></div>\r\n              <div class=\"col-md-4 text-right\">\r\n                <h4>\r\n                  <b>{{i18n.common + 'Remaining Balance $' | dynamicTranslate }}</b>\r\n                </h4>\r\n              </div>\r\n              <div class=\"col-md-2 text-right\" style=\"padding-right: 2.5rem;\">\r\n                <h4>\r\n                  <b>{{remainingBalance.toFixed(2)}}</b>\r\n                </h4>\r\n              </div>\r\n            </div>\r\n\r\n            <br />\r\n            <div class=\"row justify-content-center\">\r\n              <a class=\"text-underline clickable-link\" href=\"#\" (click)=\"unmatchAll($event)\">{{i18n.common + 'Unmatch All' | dynamicTranslate}}</a>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"cancel()\">{{i18n.common + 'Cancel' | dynamicTranslate}} </button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">{{i18n.common + 'Apply' | dynamicTranslate}} </button>\r\n          </div>\r\n          <br />\r\n        </form>\r\n      \r\n  </div>\r\n  \r\n</ng-template>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data-grid.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data-grid.component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<upsert-asset-record-component\r\n  [fileType]=\"dataSource\"\r\n  [assetFileSummary]=\"assetFileSummary\"\r\n  [groupSiteInfo]=\"groupSiteInfo\"\r\n  [groupAccounts]=\"groupAccounts\"\r\n  [groupDepartments]=\"groupDepartments\"\r\n  (AssetUpsertComplete)=\"onAssetModified($event)\"\r\n>\r\n</upsert-asset-record-component>\r\n\r\n<div>\r\n  <div class=\"row py-1\">\r\n    <div class=\"col-md-8\">\r\n      <h3 class=\"d-inline\">{{ i18n.reconciliation + fileName | dynamicTranslate }}</h3>\r\n      <button *ngIf=\"dataSource === dataTargetName.inventory\" class=\"ml-2 btn btn-primary add-record-button d-inline\" (click)=\"openAddRecord()\">\r\n        {{ i18n.reconciliation + \"Add Record\" | dynamicTranslate }}\r\n      </button>\r\n\r\n      <button class=\"ml-2 btn btn-primary add-record-button d-inline\" *ngIf=\"dataSource === dataTargetName.inventory\" [disabled]=\"selectedRows.length !== 1\" (click)=\"duplicateRecord()\">\r\n        {{ i18n.common + \"Duplicate Record\" | dynamicTranslate }}\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"col-md-4\">\r\n      <order-asset-columns-component\r\n        class=\"d-inline float-right\"\r\n        [dataSource]=\"dataSource\"\r\n        [assetFileId]=\"assetFileSummary.id\"\r\n        (columnAdded)=\"onAssetFileColumnsAdded($event)\"\r\n        [mappedColumns]=\"mappedColumns\"\r\n      ></order-asset-columns-component>\r\n\r\n      <button *ngIf=\"dataSource === 1\" type=\"button\" class=\"btn btn-sm btn-primary mb-2 pull-right save-in-grid-button\" (click)=\"inGridSave()\" [ladda]=\"isSaving\" [disabled]=\"!editedRecords\">\r\n        {{ i18n.common + \"Save Edits\" | dynamicTranslate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"famis-grid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div>\r\n          <div *ngIf=\"dataSource === 0 && noFile\" class=\"empty-grid text-center\">\r\n            <div class=\"action-link \">\r\n              {{ i18n.reconciliation + \"Import Client file via\" | dynamicTranslate }}&nbsp;\r\n              <a href=\"\" (click)=\"navigateToImportData($event)\">{{ i18n.reconciliation + \"Import Data\" | dynamicTranslate }}</a>\r\n            </div>\r\n          </div>\r\n      \r\n          <div *ngIf=\"dataSource === 1 && noFile\" class=\"empty-grid text-center\">\r\n            <copy-inventory (onInventoryCopied)=\"handleInventoryCopied($event)\"></copy-inventory>\r\n          </div>\r\n      \r\n          <div *ngIf=\"allMatched && !noFile\" class=\"empty-grid text-center\">\r\n            <div class=\"action-link\">\r\n              {{ i18n.reconciliation + \"All Records Matched\" | dynamicTranslate }}\r\n            </div>\r\n          </div>\r\n      \r\n          <kendo-grid\r\n            \r\n            *ngIf=\"!!dataLoaded && gridSettingsLoaded !== undefined\"\r\n            [data]=\"view\"\r\n            [height]=\"300\"\r\n            [selectable]=\"selectableSettings\"\r\n            [kendoGridSelectBy]=\"'assetId'\"\r\n            [selectedKeys]=\"selectedRows\"\r\n            (selectionChange)=\"gridSelectionChange($event)\"\r\n            (selectedKeysChange)=\"onSelectedKeysChange($event)\"\r\n            [rowClass]=\"rowCallback\"\r\n            [skip]=\"state.skip\"\r\n            [reorderable]=\"true\"\r\n            (columnReorder)=\"onColumnReorder($event)\"\r\n            [pageSize]=\"100\"\r\n            [scrollable]=\"'virtual'\"\r\n            [rowHeight]=\"24\"\r\n            [detailRowHeight]=\"24\"\r\n            (pageChange)=\"callGridScrollDebouncer($event)\"\r\n            [sortable]=\"{\r\n              allowUnsort: true,\r\n              mode: 'single'\r\n            }\"\r\n            [sort]=\"sort\"\r\n            [filter]=\"state.filter\"\r\n            [resizable]=\"true\"\r\n            filterable=\"menu\"\r\n            (filterChange)=\"filterChange($event)\"\r\n            (sortChange)=\"sortChange($event)\"\r\n            (cellClick)=\"editClick($event)\"\r\n            (cellClose)=\"cellCloseHandler($event)\"\r\n            [loading]=\"loading\"\r\n            #grid\r\n          >\r\n            <kendo-grid-checkbox-column [reorderable]=\"false\" [width]=\"75\">\r\n              <ng-template kendoGridHeaderTemplate>\r\n                <input class=\"k-checkbox\" id=\"selectAllCheckboxId{{dataSource}}\" kendoGridSelectAllCheckbox [state]=\"selectAllState\" (selectAllChange)=\"onSelectAllChange($event)\" />\r\n                <label class=\"k-checkbox-label\" for=\"selectAllCheckboxId{{dataSource}}\"></label>\r\n              </ng-template>\r\n            </kendo-grid-checkbox-column>\r\n      \r\n            <kendo-grid-column [reorderable]=\"false\" [width]=\"75\" title=\"\" class=\"grid-actions\">\r\n              <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                <span class=\"grid-action-item\">\r\n                  <a *ngIf=\"dataItem.isMatched\" (click)=\"showMatchForAsset(dataItem, rowIndex)\">\r\n                    <i class=\"fa fa-link\" aria-hidden=\"true\"></i>\r\n                  </a>\r\n      \r\n                  <a *ngIf=\"dataItem.isParent\" (click)=\"toggleParentChildMatch(dataItem, rowIndex)\" [class.isExpanded]=\"expandedMatchIndex === rowIndex\">\r\n                    <i class=\"fa\" [class.fa-plus-circle]=\"expandedMatchIndex != rowIndex\" [class.fa-minus-circle]=\"expandedMatchIndex === rowIndex\" aria-hidden=\"true\"></i>\r\n                  </a>\r\n                </span>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n    \r\n            <kendo-grid-column [reorderable]=\"false\" [width]=\"200\" title=\"\" class=\"grid-actions\">\r\n              <ng-template kendoGridCellTemplate let-dataItem *ngIf=\"showEditRecord\">\r\n                <span class=\"grid-action-item\" *ngIf=\"hasCustomColumns || dataSource === dataTargetName.inventory\">\r\n                  <a (click)=\"openEditRecordForm(dataItem)\">\r\n                    <i class=\"fa fa-edit\" aria-hidden=\"true\"></i>\r\n                  </a>\r\n                </span>\r\n      \r\n                <span class=\"grid-action-item\">\r\n                  <a *ngIf=\"dataItem.imageCollection && dataItem.imageCollection.length > 0\">\r\n                    <view-image [imageCollection]=\"dataItem.imageCollection\"></view-image>\r\n                  </a>\r\n                </span>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n      \r\n            <kendo-grid-column [reorderable]=\"false\" [filterable]=\"true\" [sortable]=\"true\" [width]=\"200\" field=\"matchCodeName\" title=\"{{ i18n.asset + 'Match Code' | dynamicTranslate }}\">\r\n              <ng-template kendoGridFilterMenuTemplate let-filter let-filterService=\"filterService\">\r\n                <grid-filter [fieldType]=\"fieldTypes.String\" [filter]=\"filter\" [textField]=\"'matchCodeName'\" [valueField]=\"'matchCodeName'\" [filterService]=\"filterService\"> </grid-filter>\r\n              </ng-template>\r\n            </kendo-grid-column>\r\n      \r\n            <ng-container *ngFor=\"let column of headers | orderBy: 'order'; index as i;\">\r\n              <kendo-grid-column\r\n                [editor]=\"column.fieldType\"\r\n                [reorderable]=\"true\"\r\n                field=\"{{ column.name }}\"\r\n                [width]=\"headers[i] ? 200 : 0\"\r\n                format=\"{{ column.format }}\"\r\n                title=\"{{ getColumnTitle(column) }}\"\r\n                editable=\"{{ column.isEditable }}\"\r\n              >\r\n                <ng-template kendoGridFilterMenuTemplate let-filter let-filterService=\"filterService\">\r\n                  <grid-filter [fieldType]=\"column.fieldType\" [filter]=\"filter\" [textField]=\"column.name\" [valueField]=\"column.name\" [filterService]=\"filterService\"> </grid-filter>\r\n                </ng-template>\r\n      \r\n                <ng-template kendoGridCellTemplate let-dataItem let-rowIndex=\"rowIndex\">\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.String  || column.fieldType === fieldTypes.DropDown\"> {{ dataItem[column.name] }} </ng-container>\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.Integer || column.fieldType === fieldTypes.Double\">\r\n                    {{ dataItem[column.name] | localizedNumber }}\r\n                  </ng-container>\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.Date\"> {{ dataItem[column.name] | localizedDate }} </ng-container>\r\n                  <ng-container *ngIf=\"column.fieldType === fieldTypes.DateTime\"> {{ dataItem[column.name] | localTime }} </ng-container>\r\n                   </ng-template>\r\n              </kendo-grid-column>\r\n            </ng-container>\r\n           </kendo-grid>\r\n       <div *kendoGridDetailTemplate=\"let dataItem\" class=\"parent-child-detail-grid\">\r\n        <parent-child-match-detail *ngIf=\"dataItem.isParent\" #parentChildMatchDetail></parent-child-match-detail>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconcile-data.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"DataGrids\">\r\n\r\n  <div class=\"row\">\r\n\r\n      <div class=\"reconciliation-actions col-md-6 float-left\">\r\n\r\n        <!-- Todo: Revisit CSS styles for reconciliation-actions-->\r\n        <button id=\"showMatchesLabel\" class=\"btn-primary\" (click)=\"navigateToMassMatch($event)\" ngbButtonLabel\r\n          [disabled]='!canMassMatch'>\r\n          {{ i18n.reconciliation + 'Mass Match' | dynamicTranslate }}\r\n        </button>\r\n\r\n        <label id=\"showMatchesLabel\" class=\"btn-primary\" ngbButtonLabel>\r\n          <input type=\"checkbox\" ngbButton (click)=\"toggleShowMatchedRecords($event.target.checked)\" autocomplete=\"off\">\r\n          <div class=\"not-checked\">          {{ i18n.reconciliation + 'Show Matches' | dynamicTranslate }}\r\n              </div>\r\n          <div class=\"checked\">{{ i18n.reconciliation + 'Hide Matches' | dynamicTranslate }} </div>\r\n        </label>\r\n        <label id=\"clearSelectionLabel\" class=\"btn-primary\" ngbButtonLabel>\r\n          <input type=\"checkbox\" ngbButton (click)=\"clearAssetRecordSelection()\">\r\n          <div>{{ i18n.reconciliation + 'Clear Selections' | dynamicTranslate }}</div>\r\n        </label>\r\n\r\n        <label *ngIf=\"showValidationErrors\" id=\"validateLabel\" class=\"btn-danger\" ngbButtonLabel>\r\n          <input type=\"checkbox\" ngbButton (click)=\"onValidateReconciliation()\" [disabled]=\"isBusy\">\r\n          <div>{{ i18n.reconciliation + 'Validation Errors' | dynamicTranslate }}</div>\r\n        </label>\r\n      </div>\r\n\r\n      <div class=\"reconciliation-actions col-md-6 float-right\">\r\n      \r\n        <div class=\"row\">\r\n      \r\n          <div class=\"col-md-12\">\r\n            <form (ngSubmit)=\"onSubmit(acceptMatchForm)\" #acceptMatchForm=\"ngForm\">\r\n                <div style=\"max-width: 25rem; min-width: 17rem; display: inline-block;\">\r\n                  <select class=\"form-control form-control-sm\" id=\"selectMatchCode\" [(ngModel)]=\"selectedMatchCodeId\"\r\n                    name=\"selectedMatchCodeId\" #selectMatchCode=\"ngModel\" required>\r\n                    <option value=\"\" disabled>{{ i18n.reconciliation + 'Select Match Code' | dynamicTranslate }}</option>\r\n                    <option *ngFor=\"let item of matchCodes\" [value]=\"item.matchCodeId\">{{item.matchCodeName}}</option>\r\n                    <option *ngFor=\"let disabledItem of disabledMatchCodes\" [value]=\"disabledItem.matchCodeId\" disabled>\r\n                      {{disabledItem.matchCodeName}}</option>\r\n                  </select>\r\n                \r\n                  <div\r\n                    *ngIf=\"selectMatchCode.errors && acceptMatchForm.submitted && selectedMatchType!=matchTypes.parentChildMatch && this.hasSelectedItems\"\r\n                    class=\"alert alert-danger\">\r\n                    <div [hidden]=\"!selectMatchCode.errors.required \">\r\n                      {{ i18n.reconciliation + ' Please select a match code' | dynamicTranslate }}.\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n              <button *ngIf=\"selectedMatchType==null || selectedMatchType === matchTypes.allocationMatch\"\r\n                id=\"allocationMatchLabel\" class=\"btn-primary\" ngbButtonLabel (click)=\"onEditAllocationMatchClick($event)\">\r\n                {{ i18n.reconciliation + 'Allocation' | dynamicTranslate }}\r\n                <reconcile-data-allocations (allocation)=\"onAllocation($event)\" (allocationUnmatchAll)=\"unmatchRecords(true)\">\r\n                </reconcile-data-allocations>\r\n              </button>\r\n      \r\n              <button *ngIf=\"selectedMatchType==null || selectedMatchType === matchTypes.parentChildMatch\"\r\n                id=\"parentChildMatchLabel\" class=\"btn-primary\" ngbButtonLabel\r\n                (click)=\"onParentChildMatchClick($event)\">{{ i18n.reconciliation + 'Parent / Child' | dynamicTranslate }}\r\n                <parent-child-match (parentChildMatch)=\"onParentChildMatch($event)\"\r\n                  (parentChildRemoved)=\"onParentChildMatchRemoved($event)\"></parent-child-match>\r\n              </button>\r\n      \r\n              <button *ngIf=\"selectedMatchType != matchTypes.parentChildMatch\" class=\"btn-primary\" ngbButtonLabel\r\n                (click)=\"unmatchRecords(false)\">{{ i18n.reconciliation + 'Unmatch' | dynamicTranslate }}\r\n              </button>\r\n              <div style=\"display: inline-block;\">\r\n                <!-- Create match -->\r\n                <button class=\"btn btn-action\" *ngIf=\"selectedMatchType==null\"\r\n                  [disabled]=\"((selectedClientFileItems.length > 0 || selectedInventoryItems.length > 0)) ? false : true\">\r\n                  {{ i18n.reconciliation + 'Accept Match' | dynamicTranslate }}</button>\r\n      \r\n                <!-- Disable accept button for Single Match -->\r\n                <button class=\"btn btn-action\"\r\n                  *ngIf=\"selectedMatchType===matchTypes.singleMatch && !(selectedClientFileItems.length === 1 || selectedInventoryItems.length === 1)\"\r\n                  [disabled]=\"true\">{{ i18n.reconciliation + 'Accept Match' | dynamicTranslate }} </button>\r\n      \r\n                <button class=\"btn btn-action\"\r\n                  *ngIf=\"selectedMatchType===matchTypes.singleMatch && (selectedClientFileItems.length === 1 || selectedInventoryItems.length === 1)\">{{ i18n.reconciliation + 'Save Changes' | dynamicTranslate }}\r\n                </button>\r\n                <!-- Edit One to One Match -->\r\n                <button class=\"btn btn-action\"\r\n                  *ngIf=\"selectedMatchType===matchTypes.oneToOneMatch\">{{ i18n.reconciliation + 'Save Changes' | dynamicTranslate }}\r\n                </button>\r\n      \r\n                <!-- Edit Allocation Match -->\r\n                <button class=\"btn btn-action \" *ngIf=\"selectedMatchType===matchTypes.allocationMatch\"\r\n                  (click)=\"onEditAllocationMatchClick($event)\">{{ i18n.reconciliation + 'Edit Match' | dynamicTranslate }}\r\n                </button>\r\n      \r\n                <!-- Edit Parent / Child Match -->\r\n                <button class=\"btn btn-action \" *ngIf=\" selectedMatchType===matchTypes.parentChildMatch\"\r\n                  (click)=\"onParentChildMatchClick($event)\">{{ i18n.reconciliation + 'Edit Match' | dynamicTranslate }}</button>\r\n      \r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n      </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-3 match-form-expanded shadow p-3 mb-5 bg-white rounded\" >\r\n      <div class=\"pl-3 pr-3 pt-3\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-5\">\r\n            <span><strong>{{selectedClientFileItems.length}}: {{i18n.reconciliation + 'Client' | dynamicTranslate}}</strong></span>\r\n          </div>\r\n          <div class=\"col-sm-5\">\r\n            <span><strong>{{selectedInventoryItems.length}}: {{i18n.reconciliation + 'Inventory' | dynamicTranslate}}</strong></span>\r\n          </div>\r\n          <div class=\"col-sm-2\">\r\n            <button class=\"match-form-collapse\" (click)=\"isMatchSummaryExpanded = !isMatchSummaryExpanded;\">\r\n              <span *ngIf=\"isMatchSummaryExpanded\" class=\"fa fa-angle-up\"></span>\r\n              <span *ngIf=\"!isMatchSummaryExpanded\"  class=\"fa fa-angle-down\"></span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n\r\n        <div class=\"form-group pl-3 pr-3 pt-3\" *ngIf=\"isMatchSummaryExpanded\" [@fadeInOutAnimation]>\r\n          <label for=\"exampleFormControlInput1\">{{ i18n.reconciliation + 'Match' | dynamicTranslate }} </label>\r\n          <div >\r\n            <div class=\"selected-matches d-block\">\r\n          \r\n                <div class=\"match-summary\">\r\n                    {{ i18n.reconciliation + 'Total client records selected' | dynamicTranslate }}: {{selectedClientFileItems.length}}\r\n                </div>\r\n\r\n              <div *ngIf=\"selectedClientFileItems.length < 20\">\r\n                  <div class=\"match-col\" *ngFor=\"let match of selectedClientFileItems\">\r\n                      <span class=\"match-col-item\">{{match.assetTagNumber}}</span>\r\n                      <span class=\"match-col-item\">{{match.oldTagNumber}}</span>\r\n                      <span class=\"match-col-item\">{{match.description}}</span>\r\n                    </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"selected-matches bottom d-block\">\r\n\r\n                <div class=\"match-summary\">\r\n                    {{ i18n.reconciliation + 'Total inventory records selected' | dynamicTranslate }}: {{selectedInventoryItems.length}}\r\n                </div>\r\n              <div *ngIf=\"selectedInventoryItems.length < 20\">\r\n                  <div class=\"match-col d-block\" *ngFor=\"let match of selectedInventoryItems\">\r\n                      <span class=\"match-col-item\">{{match.assetTagNumber}}</span>\r\n                      <span class=\"match-col-item\">{{match.oldTagNumber}}</span>\r\n                      <span class=\"match-col-item\">{{match.description}}</span>\r\n                    </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n        \r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col-md-12\">\r\n\r\n      <reconcile-data-grid [fileName]=\"'Client File'\" [dataSource]=\"dataTargetName.client\" [selectedRows]=\"selectedClientFileIds\" \r\n        (selectionChanged)=\"onSelectionChanged($event, true)\" (matchSelected)=\"onMatchSelected($event)\" (parentChildSelected)=\"onParentChildSelected($event)\"\r\n        #clientFileGrid></reconcile-data-grid>\r\n\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col-md-12\">\r\n\r\n      <reconcile-data-grid [fileName]=\"'Actual Inventory'\" [dataSource]=\"dataTargetName.inventory\" [selectedRows]=\"selectedInventoryIds\"\r\n        (selectionChanged)=\"onSelectionChanged($event, false)\" (clearSelection)=\"onClearSelection($event)\" (matchSelected)=\"onMatchSelected($event)\" (parentChildSelected)=\"onParentChildSelected($event)\"\r\n        #inventoryGrid></reconcile-data-grid>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <div class=\"wizard-actions\">\r\n        <button class=\"btn btn-default\" i18n=\"Back button text@@reconBack\" (click)=onBack($event)>{{ i18n.common + 'Back' | dynamicTranslate }}</button>\r\n        <button class=\"btn btn-primary\" i18n=\"Continue button text@@reconContinue\" (click)=onContinue($event) [ladda]=\"isBusy\">{{ i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<reconciliation-validation></reconciliation-validation>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconciliation-form.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconciliation-form.component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"Reconciliation-Module\">\r\n<h1>{{i18n.common + moduleName | dynamicTranslate}}</h1>\r\n\r\n\r\n      <div class=\"module-heading\">\r\n \r\n      <ol class=\"breadcrumb\">\r\n        <li *ngFor=\"let breadCrumb of activeBreadcrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\">\r\n          <a [class.disabled]=\"!!breadCrumb.isDisabled && breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\" >{{i18n.common + breadCrumb.name | dynamicTranslate }}</a>\r\n        </li>\r\n      </ol>\r\n    </div>\r\n\r\n  \r\n    <router-outlet></router-outlet>\r\n    \r\n  \r\n    </div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconciliation-validation.component.html":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/reconciliation-validation.component.html ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">{{i18n.reconciliation + title | dynamicTranslate}}</h4>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\" *ngIf=\"showMissingMatch\">\r\n      <div class=\"col-sm-11\">\r\n        <h3>{{i18n.reconciliation + 'Missing Matches' | dynamicTranslate }}</h3>\r\n        <h5>{{missingMatchIds.length}} {{i18n.reconciliation + 'records have not been reconciled' | dynamicTranslate }}.</h5>\r\n        <br />\r\n      </div>\r\n    </div>\r\n    <div class=\"row\" *ngIf=\"showAllocations\">\r\n      <div class=\"col-sm-12\">\r\n        <h3>{{i18n.reconciliation + 'Unbalanced Allocations' | dynamicTranslate }} </h3>\r\n        <h5>{{i18n.reconciliation + 'The following allocations are unbalanceds' | dynamicTranslate }} :</h5>\r\n\r\n        <kendo-grid [resizable]=\"true\" [data]=\"assetFileRecords\" [height]=\"200\">\r\n          <kendo-grid-column field=\"assetTagNumber\" title=\"{{i18n.reconciliation + 'Asset Tag Number' | dynamicTranslate }}\"></kendo-grid-column>\r\n          <kendo-grid-column field=\"oldTagNumber\" title=\"{{i18n.reconciliation + 'Old Tag Number' | dynamicTranslate }}\"></kendo-grid-column>\r\n          <kendo-grid-column field=\"serialNumber\" title=\"{{i18n.reconciliation + 'Serial Number' | dynamicTranslate }}\"></kendo-grid-column>\r\n          <kendo-grid-column field=\"description\" title=\"{{ i18n.reconciliation + 'Item Description' | dynamicTranslate }}\"></kendo-grid-column>\r\n        </kendo-grid>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"row\" *ngIf=\"resolveErrorsToCommit\">\r\n      <div class=\"col-sm-12\">\r\n        <div class=\"alert alert-danger\">\r\n            {{i18n.reconciliation + 'Please resolve validation errors before committing consolidated file.' | dynamicTranslate }}.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-default\" (click)=\"c('Close click')\">{{i18n.common + 'Close' | dynamicTranslate }} </button>\r\n    <button *ngIf=\"showContinue\" type=\"button\" class=\"btn btn-primary\" (click)=\"continueAnyway()\">{{i18n.common + 'Continue Anyway' | dynamicTranslate }} </button>\r\n  </div>\r\n  <br />\r\n\r\n</ng-template>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/setup.component.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/setup.component.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"onSubmit(dataImportForm)\" #dataImportForm=\"ngForm\">\r\n\r\n  <h4 i18n=\"Reconciliation heading: select match codes@@reconSelectAllocationField\">{{i18n.reconciliation + 'Set Allocation Field' | dynamicTranslate }}</h4>\r\n\r\n\r\n  <div class=\"form-group\">\r\n    <select [disabled]=\"!!selectedCostField === false\" class=\"form-control col-md-6\" [(ngModel)]=\"selectedCostField\" name=\"costFieldSelect\" id=\"costFieldSelect\">\r\n      <option disabled>\r\n        <span i18n=\"Reconciliation select hint: select match codes@@hintSelectAnAllocationField\">{{i18n.reconciliation + 'Select an Allocation Field' | dynamicTranslate }}</span>\r\n      </option>\r\n      <option *ngFor=\"let field of costFields | orderBy: 'name' \" [value]=\"field.value\">{{i18n.reconciliation + field.name | dynamicTranslate}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <h4>{{i18n.reconciliation + 'Select Match Codes from Existing Project' | dynamicTranslate}}</h4>\r\n      <div class=\"form-group\">\r\n        <group-search [includeContractSearch]=\"true\"  (selectGroup)=\"onGroupSelected($event)\"></group-search>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <h4 i18n=\"Reconciliation heading: select match codes@@reconSelectMatchCodes2\">{{ i18n.reconciliation + 'Match Codes' | dynamicTranslate }}</h4>\r\n    </div>\r\n  </div>\r\n\r\n  <match-codes [selectedMatchCodeIds]=\"selectedMatchCodeIds\" (onMatchCodeSelection)=\"handleMatchCodes($event)\" (onMatchCodesLoaded)=\"handleMatchCodesLoaded($event)\"></match-codes>\r\n\r\n  <div class=\"wizard-actions\">\r\n    <button class=\"btn btn-primary\" i18n=\"Continue button text@@reconContinue\" [ladda]=\"isBusy\">{{ i18n.common + 'Continue' | dynamicTranslate }}</button>\r\n  </div>\r\n\r\n\r\n</form>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/upsert-asset-record.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reconciliation/components/upsert-asset-record.component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-template #content let-c=\"close\" let-d=\"dismiss\">\r\n\r\n\r\n  <div class=\"modal-body upsert-asset-record\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <asset-form [imageEntityType]=\"imageEntityType\" [fieldMetaData]=\"getFormFields()\" [isModal]=\"true\" [assetDto]=\"asset\" (formActionEvent)=\"onFormActionEvent($event)\" #assetFormComponent></asset-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/report-name-modal.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/report-name-modal.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<form (ngSubmit)=\"runReport()\" #reportNameForm=\"ngForm\">\r\n    <div class=\"modal-body\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <div *ngIf=\"metadataList?.length > 0\">\r\n                <h4 >{{i18n.reports + 'Select Report Filters' | dynamicTranslate}}</h4>\r\n                <div id=\"high-density\" >\r\n                  <kendo-grid  [data]=\"gridData\"  [sortable]=\"true\" [height]=\"200\"  [selectable]=\"selectableSettings\"\r\n                     [reorderable]=\"false\" [kendoGridSelectBy]=\"'id'\" \r\n                    (selectionChange)=\"onSelectionChanged($event)\"  (dataStateChange)=\"dataStateChange($event)\"\r\n                    >\r\n                    <kendo-grid-checkbox-column [reorderable]=\"false\" width=\"5%\">\r\n                      <ng-template kendoGridHeaderTemplate let-dataItem>\r\n                        <div style=\"width: 50%; cursor: pointer;\" >\r\n                          <a class=\"clickable-link\">{{Selected}}</a>\r\n                         </div>\r\n                      </ng-template>\r\n                    </kendo-grid-checkbox-column>\r\n                    <kendo-grid-column [reorderable]=\"false\" field=\"tagName\" [title]=\"'common_Category' | dynamicTranslate\" width=\"95%\">\r\n                    </kendo-grid-column>\r\n                  </kendo-grid>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <h4>{{i18n.reports + 'Select Report Type' | dynamicTranslate}}</h4>\r\n            <select class=\"form-control\" [(ngModel)]=\"ssrsReportId\" name=\"reportSelect\" id=\"reportselect\" (change)=\"updateExtension(ssrsReportId); canSubmit();\">\r\n                <option disabled>\r\n                <span>{{i18n.reports + 'Select Report Type' | dynamicTranslate}}</span>\r\n                </option>\r\n                <option *ngFor=\"let rpt of availableReports | orderBy: 'name';\" [value]=\"rpt.id\">{{rpt.name}}</option>\r\n            </select>\r\n        </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n                <label>{{i18n.reports + 'File Name' | dynamicTranslate}}</label>\r\n                <input type=\"text\" class=\"form-control\" name=\"fileName\" [(ngModel)]=\"requestedReport.fileName\" #fileName=\"ngModel\" (change)=\"validateName(requestedReport.fileName); canSubmit();\"/>\r\n                <div *ngIf=\"!validName\" class=\"alert alert-danger\">\r\n                    {{ i18n.reports + 'invalidName' | dynamicTranslate }}\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label>{{i18n.reports + 'File Type' | dynamicTranslate}}</label>\r\n                <input type=\"text\" class=\"form-control\" name=\"extension\" [(ngModel)]=\"fileExtension\" readonly=\"true\">\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n                <h3 *ngIf=\"\">{{i18n.kendo + 'loading' | dynamicTranslate }}</h3>\r\n            <div *ngIf=\"ssrsReportId && isFilterEnabled\" class=\"col-md-12\">\r\n                <h3>{{i18n.common + 'Filter Criteria' | dynamicTranslate}}</h3>\r\n                <div *ngFor=\"let fv of reportFilters; index as i;\">\r\n                    <div class=\"row pb-3\">\r\n                        <div class=\"col-md-3\">\r\n                            <label>{{i18n.common + 'Field' | dynamicTranslate }}</label>\r\n                            <select class=\"form-control form-control\" [name]=\"i + '_filter'\" [(ngModel)]=\"fv.filterColumnId\" (change)=\"canSubmit()\" required>\r\n                                <option *ngIf=\"!fv.filterColumnId\" [ngValue]=\"fv.filterColumnId\" disabled>\r\n                                    {{i18n.common + 'Select Field' | dynamicTranslate }} </option>\r\n                                <option *ngFor=\"let item of filterMetaData|orderBy:'name'\" [ngValue]=\"item.id\">\r\n                                    {{i18n.reports + item.columnName | dynamicTranslate }}</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                            <label>{{i18n.common + 'Filter Type' | dynamicTranslate }} </label>\r\n                            <select class=\"form-control\" *ngIf=\"!fv.filterColumnId\" disabled></select>\r\n        \r\n                            <select *ngIf=\"fv.filterColumnId\" [name]=\"i + '_operation'\" [(ngModel)]=\"fv.filterOperationId\" (change)=\"canSubmit()\" class=\"form-control\">\r\n                                <option *ngIf=\"!fv.filterOperationId\" [ngValue]=\"fv.filterOperationId\" disabled>\r\n                                    {{i18n.common + 'Select Filter' | dynamicTranslate }} </option>\r\n                                <option *ngFor=\"let item of filterOperations\" [value]=\"item.id\">\r\n                                    {{i18n.reports + item.operationName | dynamicTranslate }}</option>\r\n                            </select>\r\n        \r\n                        </div>\r\n                        <div class=\"col-md-4\">\r\n                            <label>{{i18n.common + 'Value' | dynamicTranslate }} </label>\r\n                            <input [disabled]=\"!fv.filterColumnId\" type=\"text\" class=\"form-control\" [name]=\"i + '_value'\" [(ngModel)]=\"fv.filterValue\" (change)=\"canSubmit()\">\r\n                        </div>\r\n                        <div class=\"col-md-2 mt-4\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-sm-3 pl-0 pr-0 pt-2\">\r\n                                    <button (click)=\"remove()\" type=\"button\" class=\"btn btn-action btn-small\">\r\n                                        <i class=\"fa fa-minus\"></i>\r\n                                    </button>\r\n                                </div>\r\n                                <div class=\"col-sm-9\">\r\n                                    <strong>{{i18n.common + 'Remove Filter' | dynamicTranslate }} </strong>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n\r\n        </div>\r\n        <div class=\"row mt-3\">\r\n            <div class=\"col-md-6\">\r\n                    <button *ngIf=\"canAddFilter\" [disabled]=\"!ssrsReportId || !isFilterEnabled\" type=\"button\" (click)=\"addFilter()\"\r\n                    class=\"btn btn-action btn-small\">\r\n                    <i class=\"fa fa-plus\"></i>\r\n                </button><strong  *ngIf=\"canAddFilter\">&nbsp;{{i18n.common + 'Add Filter Criteria' | dynamicTranslate}}</strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn btn-default\" (click)=\"dismiss()\">{{i18n.common + 'Cancel' | dynamicTranslate}}</button>\r\n        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!isValid\">{{i18n.common + 'save' | translate}}</button>\r\n    </div>\r\n</form>\r\n\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports-deliverables.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports-deliverables.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group row\">\r\n  <div class=\"col-md-4\">\r\n    <h2>{{i18n.reports + 'Static Reports' | dynamicTranslate}}</h2>\r\n  </div>\r\n  <div class=\"col-md-8 actions text-right\">\r\n    <button [ladda]=\"isProcessing\" type=\"button\" class=\"btn btn-primary\" (click)=\"openNameModal()\">{{i18n.reports +\r\n      'Create New' | dynamicTranslate}}</button>\r\n  </div>\r\n</div>\r\n\r\n<famis-grid *ngIf=\"!!deliverablesGrid.loading && !!deliverablesGrid.selectedHeaders\" [famisGrid]=\"deliverablesGrid\"\r\n  (actionEvent)=\"handleActionEvent($event)\">\r\n</famis-grid>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports-power-bi.component.html":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports-power-bi.component.html ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group row\">\r\n    <div class=\"col-md-4\">\r\n        <h2>{{i18n.reports + 'Interactive Reports' | dynamicTranslate}}</h2>\r\n    </div>\r\n</div>\r\n\r\n<br />\r\n<div class=\"form-group row\">\r\n    <div class=\"col-md-6\">\r\n        <h4>{{i18n.reports + 'Select Interactive Report' | dynamicTranslate}}</h4>\r\n        <select class=\"form-control\" [(ngModel)]=\"reportId\" name=\"biReportSelect\" id=\"biReportSelect\">\r\n            <option disabled>\r\n                <span>{{i18n.reports + 'Select Interactive Report' | dynamicTranslate}}</span>\r\n            </option>\r\n            <option *ngFor=\"let rpt of availableReports | orderBy: 'name';\" [value]=\"rpt.id\">{{rpt.name}}</option>\r\n        </select>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n        <button [ladda]=\"isProcessing\" type=\"button\" class=\"btn btn-primary\" [(disabled)]=\"!reportId\" (click)=\"runReport()\">{{i18n.reports\r\n            + 'Run' | dynamicTranslate}}</button>\r\n    </div>\r\n</div>\r\n\r\n<br />\r\n\r\n<app-power-bi [report]=\"report\" [isDefaultDashboard]=\"false\" [filterPaneEnabled]=\"false\"></app-power-bi>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/reports/components/reports.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"Reports\">\r\n    <h1>{{i18n.reports + 'Reports' | dynamicTranslate}}</h1>\r\n    <div class=\"row pt-3 pb-3 actions\">\r\n        <div class=\"col-md-3 btn-group\">\r\n            <button (click)=\"toggleReportMode(reportModes.Interactive)\" type=\"button\" [class.btn-default]=\"mode!==reportModes.Interactive\"\r\n                [class.btn-primary]=\"mode===reportModes.Interactive\" class=\"btn btn-primary\">{{i18n.reports +\r\n                'Interactive' | dynamicTranslate}}</button>\r\n            <button (click)=\"toggleReportMode(reportModes.Static)\" type=\"button\" [class.btn-default]=\"mode!==reportModes.Static\"\r\n                [class.btn-primary]=\"mode===reportModes.Static\" class=\"btn btn-default\">{{i18n.reports + 'Static' |\r\n                dynamicTranslate}}</button>\r\n        </div>\r\n    </div>\r\n    <br />\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <reports-power-bi [isReadOnly]=\"!userCanWriteData()\" (gridSelections)=\"selectedAssets = $event\" *ngIf=\"mode === reportModes.Interactive\"></reports-power-bi>\r\n\r\n            <reports-deliverables [isReadOnly]=\"!userCanWriteData()\" (gridSelections)=\"selectedBuildings = $event\"\r\n                *ngIf=\"mode === reportModes.Static\"></reports-deliverables>\r\n        </div>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/support/components/support.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/support/components/support.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n<div id=\"support\" class=\"form-group\">\r\n  <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n          <h1>{{i18n.common + 'Support' | dynamicTranslate}}</h1>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n          <!-- <portal-image [groupId]=\"groupId\"></portal-image> -->\r\n      </div>\r\n  </div>\r\n<div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n        \r\n      <label>{{i18n.support + 'Send us a note along with your information and we will get back to you' | dynamicTranslate}} </label>\r\n      \r\n    </div>\r\n</div>\r\n<div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <label>{{i18n.support + 'Name' | dynamicTranslate}}</label>\r\n      <input type=\"text\" class=\"form-control\" [(ngModel)]=\"contactName\" (ngModelChange)=\"updateEmail()\" />\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-6\">\r\n    <label>{{i18n.support + 'Email Address' | dynamicTranslate}}</label>\r\n    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"contactEmail\" (ngModelChange)=\"updateEmail()\" />\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-6\">\r\n    <label>{{i18n.support + 'Subject' | dynamicTranslate}}</label>\r\n    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"contactSubject\" (ngModelChange)=\"updateEmail()\" />\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-md-8\">\r\n    <label>{{i18n.support + 'Message' | dynamicTranslate}}</label>\r\n    <textarea [(ngModel)]=\"contactMessage\" class=\"form-control\" (ngModelChange)=\"updateEmail()\"></textarea>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n<br>\r\n                  <a [href]=\"emailHref\" *ngIf=\"contactSubject\">\r\n                      <button type=\"button\" class=\"btn btn-primary\">{{i18n.support + 'Send' | dynamicTranslate}}</button>\r\n                  </a>\r\n                  <a *ngIf=\"contactSubject==null || contactSubject==''\" >\r\n                      <button type=\"button\" class=\"btn btn-default\">{{i18n.support + 'Send' | dynamicTranslate}}</button>\r\n                  </a>\r\n  </div>\r\n</div>\r\n\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./client-src/app/transactions/components/transactions-grid.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./client-src/app/transactions/components/transactions-grid.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h1>{{i18n.transactions + 'Transactions' | dynamicTranslate}}</h1>\r\n\r\n<ol class=\"breadcrumb\">\r\n  <li *ngFor=\"let breadCrumb of breadCrumbs\" class=\"breadcrumb-item\" routerLinkActive=\"active\">\r\n    <a [class.disabled]=\"breadCrumb.isDisabled\" [routerLink]=\"breadCrumb.routerLink\">{{i18n.common + breadCrumb.name | dynamicTranslate}}</a>\r\n  </li>\r\n</ol>\r\n  <famis-grid *ngIf=\"!!transactionsGrid.loading && !!transactionsGrid.selectedHeaders\"\r\n    [famisGrid]=\"transactionsGrid\" \r\n    (updateCacheEvent)=\"updateCache($event)\"\r\n    (actionEvent)=\"handleActionEvent($event)\"\r\n    (selectionChanged)=\"handleSelectionChanged($event)\">\r\n  </famis-grid>\r\n");

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __createBinding, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__createBinding", function() { return __createBinding; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldGet", function() { return __classPrivateFieldGet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldSet", function() { return __classPrivateFieldSet; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ 0:
/*!**********************************!*\
  !*** multi ./client-src/main.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\Faizan.Shaikh\source\repos\FamisUI\DuffAndPhelps.FAMIS.UI\client-src\main.ts */"./client-src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map